2025-08-12 14:01:16.231 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-12 14:01:16.406 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-12 14:01:16.476 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-12 14:01:16.882 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-12 14:01:16.884 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-12 14:01:16.885 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-12 14:01:16.886 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-12 14:01:17.011 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 14:01:17.012 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 14:01:17.014 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 14:01:17.015 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 14:01:17.112 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 14:01:17.191 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-12 14:01:17.329 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 14:01:17.363 +05:30 [DBG] Creating DbConnection.
2025-08-12 14:01:17.387 +05:30 [DBG] Created DbConnection. (21ms).
2025-08-12 14:01:17.392 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:01:17.801 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:01:17.807 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 14:01:17.813 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-12 14:01:17.823 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-08-12 14:01:17.829 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-12 14:01:17.904 +05:30 [INF] Executed DbCommand (73ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-12 14:01:17.949 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 14:01:17.969 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:01:17.976 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 65ms reading results.
2025-08-12 14:01:17.979 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:01:17.987 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (7ms).
2025-08-12 14:01:17.993 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-12 14:01:18.003 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 2], [Property: UserModel.Email (string) MaxLength(256), 3], [Property: UserModel.EmailConfirmed (bool) Required, 4], [Property: UserModel.IsActive (bool) Required, 5], [Property: UserModel.IsAdmin (bool) Required, 6], [Property: UserModel.LastLoginDate (DateTime) Required, 7], [Property: UserModel.LockoutEnabled (bool) Required, 8], [Property: UserModel.LockoutEnd (DateTimeOffset?), 9], [Property: UserModel.Name (string) Required, 10], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 11], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 12], [Property: UserModel.PasswordHash (string), 13], [Property: UserModel.PhoneNumber (string), 14], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 15], [Property: UserModel.Role (string) Required, 16], [Property: UserModel.SecurityStamp (string), 17], [Property: UserModel.TwoFactorEnabled (bool) Required, 18], [Property: UserModel.UserName (string) MaxLength(256), 19] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 14:01:18.007 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:01:18.009 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:01:18.011 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 14:01:18.012 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 14:01:18.013 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 14:01:18.013 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 14:01:18.027 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 14:01:18.045 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 14:01:18.080 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:01:18.081 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 52ms reading results.
2025-08-12 14:01:18.083 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:01:18.084 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 14:01:18.088 +05:30 [INF] Admin user already exists.
2025-08-12 14:01:18.089 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 14:01:18.092 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:01:18.093 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 14:01:18.098 +05:30 [DBG] Hosting starting
2025-08-12 14:01:18.110 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-12 14:01:18.124 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-12 14:01:18.138 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-12 14:01:18.143 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-12 14:01:18.145 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-12 14:01:18.148 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-12 14:01:18.150 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-12 14:01:18.152 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-12 14:01:18.155 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-12 14:01:18.156 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-12 14:01:18.257 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-12 14:01:18.258 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-12 14:01:18.259 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-12 14:01:18.260 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-12 14:01:18.260 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-12 14:01:18.307 +05:30 [DBG] Connection id "0HNEPFAE0386J" accepted.
2025-08-12 14:01:18.309 +05:30 [DBG] Connection id "0HNEPFAE0386J" started.
2025-08-12 14:01:18.343 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/index.html - null null
2025-08-12 14:01:18.360 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-12 14:01:18.361 +05:30 [INF] Hosting environment: Development
2025-08-12 14:01:18.363 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-12 14:01:18.371 +05:30 [DBG] Hosting started
2025-08-12 14:01:18.393 +05:30 [DBG] Connection id "0HNEPFAE0386K" accepted.
2025-08-12 14:01:18.398 +05:30 [DBG] Connection id "0HNEPFAE0386K" started.
2025-08-12 14:01:18.401 +05:30 [DBG] Connection id "0HNEPFAE0386L" accepted.
2025-08-12 14:01:18.405 +05:30 [DBG] Connection id "0HNEPFAE0386L" started.
2025-08-12 14:01:18.417 +05:30 [DBG] Connection id "0HNEPFAE0386K" received FIN.
2025-08-12 14:01:18.417 +05:30 [DBG] Connection id "0HNEPFAE0386L" received FIN.
2025-08-12 14:01:18.421 +05:30 [DBG] Connection id "0HNEPFAE0386K" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 14:01:18.421 +05:30 [DBG] Connection id "0HNEPFAE0386L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 14:01:18.431 +05:30 [DBG] Connection id "0HNEPFAE0386K" disconnecting.
2025-08-12 14:01:18.432 +05:30 [DBG] Connection id "0HNEPFAE0386L" disconnecting.
2025-08-12 14:01:18.446 +05:30 [DBG] Connection id "0HNEPFAE0386K" stopped.
2025-08-12 14:01:18.447 +05:30 [DBG] Connection id "0HNEPFAE0386L" stopped.
2025-08-12 14:01:18.507 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-12 14:01:18.528 +05:30 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-12 14:01:18.531 +05:30 [DBG] Request did not match any endpoints
2025-08-12 14:01:18.546 +05:30 [DBG] Connection id "0HNEPFAE0386M" accepted.
2025-08-12 14:01:18.548 +05:30 [DBG] Connection id "0HNEPFAE0386M" started.
2025-08-12 14:01:18.548 +05:30 [DBG] Connection id "0HNEPFAE0386N" accepted.
2025-08-12 14:01:18.553 +05:30 [DBG] Connection id "0HNEPFAE0386N" started.
2025-08-12 14:01:18.591 +05:30 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-12 14:01:18.593 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-12 14:01:18.607 +05:30 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-12 14:01:18.609 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-12 14:01:18.610 +05:30 [DBG] Connection id "0HNEPFAE0386J" completed keep alive response.
2025-08-12 14:01:18.610 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_vs/browserLink - null null
2025-08-12 14:01:18.614 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/index.html - 200 null text/html;charset=utf-8 278.6645ms
2025-08-12 14:01:18.661 +05:30 [DBG] Connection id "0HNEPFAE0386M" completed keep alive response.
2025-08-12 14:01:18.662 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.9223ms
2025-08-12 14:01:18.673 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - null null
2025-08-12 14:01:18.678 +05:30 [DBG] Connection id "0HNEPFAE0386M" completed keep alive response.
2025-08-12 14:01:18.679 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - 200 13768 application/javascript; charset=utf-8 6.123ms
2025-08-12 14:01:18.699 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - null null
2025-08-12 14:01:18.702 +05:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-12 14:01:18.705 +05:30 [DBG] Request did not match any endpoints
2025-08-12 14:01:18.727 +05:30 [DBG] Connection id "0HNEPFAE0386M" completed keep alive response.
2025-08-12 14:01:18.728 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.5834ms
2025-08-12 14:01:39.375 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 64
2025-08-12 14:01:39.394 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 14:01:39.398 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-12 14:01:39.404 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 14:01:39.430 +05:30 [DBG] Connection id "0HNEPFAE0386M", Request id "0HNEPFAE0386M:00000004": started reading request body.
2025-08-12 14:01:39.432 +05:30 [DBG] Connection id "0HNEPFAE0386M", Request id "0HNEPFAE0386M:00000004": done reading request body.
2025-08-12 14:01:39.436 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-12 14:01:39.439 +05:30 [DBG] The request has an origin header: 'http://localhost:5276'.
2025-08-12 14:01:39.440 +05:30 [INF] CORS policy execution failed.
2025-08-12 14:01:39.441 +05:30 [INF] Request origin http://localhost:5276 does not have permission to access the resource.
2025-08-12 14:01:39.501 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 14:01:39.505 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 14:01:39.531 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-12 14:01:39.534 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 14:01:39.535 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 14:01:39.536 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 14:01:39.538 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 14:01:39.539 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 14:01:39.541 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 14:01:39.582 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 14:01:39.586 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 14:01:39.591 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 14:01:39.594 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-12 14:01:39.596 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 14:01:39.615 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-12 14:01:39.617 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 14:01:39.619 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 14:01:39.620 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 14:01:39.634 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 14:01:39.642 +05:30 [DBG] Creating DbConnection.
2025-08-12 14:01:39.645 +05:30 [DBG] Created DbConnection. (2ms).
2025-08-12 14:01:39.646 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:01:39.647 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:01:39.647 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 14:01:39.648 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 14:01:39.649 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 14:01:39.651 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 14:01:39.663 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 14:01:39.666 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 14:01:39.668 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:01:39.669 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 14:01:39.670 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:01:39.671 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 14:01:39.745 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-08-12 14:01:39.752 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 2], [Property: UserModel.Email (string) MaxLength(256), 3], [Property: UserModel.EmailConfirmed (bool) Required, 4], [Property: UserModel.IsActive (bool) Required, 5], [Property: UserModel.IsAdmin (bool) Required, 6], [Property: UserModel.LastLoginDate (DateTime) Required, 7], [Property: UserModel.LockoutEnabled (bool) Required, 8], [Property: UserModel.LockoutEnd (DateTimeOffset?), 9], [Property: UserModel.Name (string) Required, 10], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 11], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 12], [Property: UserModel.PasswordHash (string), 13], [Property: UserModel.PhoneNumber (string), 14], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 15], [Property: UserModel.Role (string) Required, 16], [Property: UserModel.SecurityStamp (string), 17], [Property: UserModel.TwoFactorEnabled (bool) Required, 18], [Property: UserModel.UserName (string) MaxLength(256), 19] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 14:01:39.756 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:01:39.757 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:01:39.758 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 14:01:39.759 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 14:01:39.759 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 14:01:39.760 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 14:01:39.766 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 14:01:39.769 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:01:39.770 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 14:01:39.771 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:01:39.772 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 14:01:39.787 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 14:01:39.792 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 14:01:39.795 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 14:01:39.807 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 14:01:39.888 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:01:39.889 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:01:39.893 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 14:01:39.894 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 14:01:39.896 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 14:01:39.898 +05:30 [DBG] Executing DbCommand [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 14:01:39.912 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 14:01:39.923 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:01:39.924 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-08-12 14:01:39.926 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:01:39.927 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 14:01:39.931 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 14:01:39.935 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 14:01:39.975 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 14:01:39.978 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 14:01:39.979 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 14:01:39.979 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 14:01:39.981 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 14:01:39.983 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 14:01:40.000 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 457.6192ms
2025-08-12 14:01:40.002 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 14:01:40.223 +05:30 [INF] Source:[127.0.0.1] Request: POST http localhost:5276/api/v1/Auth/login  {
  "email": "sathvik@gmail.com",
  "password": "Password@123"
} Responded with [200] in 796ms
2025-08-12 14:01:40.226 +05:30 [DBG] Connection id "0HNEPFAE0386M" completed keep alive response.
2025-08-12 14:01:40.228 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 14:01:40.232 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:01:40.235 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 14:01:40.236 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 906 application/json 866.9024ms
2025-08-12 14:02:48.369 +05:30 [DBG] Connection id "0HNEPFAE0386N" received FIN.
2025-08-12 14:02:48.372 +05:30 [DBG] Connection id "0HNEPFAE0386N" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 14:02:48.374 +05:30 [DBG] Connection id "0HNEPFAE0386N" disconnecting.
2025-08-12 14:02:48.375 +05:30 [DBG] Connection id "0HNEPFAE0386N" stopped.
2025-08-12 14:02:49.251 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 696
2025-08-12 14:02:49.267 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-12 14:02:49.269 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-12 14:02:49.271 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-12 14:02:49.273 +05:30 [DBG] Connection id "0HNEPFAE0386M", Request id "0HNEPFAE0386M:00000005": started reading request body.
2025-08-12 14:02:49.274 +05:30 [DBG] Connection id "0HNEPFAE0386M", Request id "0HNEPFAE0386M:00000005": done reading request body.
2025-08-12 14:02:49.276 +05:30 [DBG] The request has an origin header: 'http://localhost:5276'.
2025-08-12 14:02:49.276 +05:30 [INF] CORS policy execution failed.
2025-08-12 14:02:49.277 +05:30 [INF] Request origin http://localhost:5276 does not have permission to access the resource.
2025-08-12 14:02:49.304 +05:30 [DBG] Successfully validated the token.
2025-08-12 14:02:49.306 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 14:02:49.307 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-12 14:02:49.312 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-12 14:02:49.314 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 14:02:49.315 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 14:02:49.315 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 14:02:49.317 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 14:02:49.318 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 14:02:49.320 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 14:02:49.334 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 14:02:49.336 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 14:02:49.337 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-12 14:02:49.338 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-12 14:02:49.340 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 14:02:49.344 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-12 14:02:49.345 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-12 14:02:49.347 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-12 14:02:49.348 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-12 14:02:49.351 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-12 14:02:49.430 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 14:02:49.433 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 14:02:49.434 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 14:02:49.437 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 14:02:49.439 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 14:02:49.441 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 14:02:49.447 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 127.1185ms
2025-08-12 14:02:49.448 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-12 14:02:49.464 +05:30 [INF] Source:[127.0.0.1] Request: POST http localhost:5276/api/v1/Auth/refresh  {
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxMCIsInVuaXF1ZV9uYW1lIjoiU2F0aHZpayIsImVtYWlsIjoic2F0aHZpa0BnbWFpbC5jb20iLCJyb2xlIjoiVXNlciIsIm5iZiI6MTc1NDk4NzQ5OSwiZXhwIjoxNzU0OTg3NjE5LCJpYXQiOjE3NTQ5ODc0OTksImlzcyI6IlRyYXZlbFBsYW5uZXJBUEkiLCJhdWQiOiJUcmF2ZWxQbGFubmVyQ2xpZW50In0.Ir7plKqEV5YlSv3ezRD6ygLtsH2AGtHeDMMP3Z8977Q",
  "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxMCIsImVtYWlsIjoic2F0aHZpa0BnbWFpbC5jb20iLCJuYmYiOjE3NTQ5ODc0OTksImV4cCI6MTc1NTU5MjI5OSwiaWF0IjoxNzU0OTg3NDk5LCJpc3MiOiJUcmF2ZWxQbGFubmVyQVBJIiwiYXVkIjoiVHJhdmVsUGxhbm5lckNsaWVudCJ9.l1ZCIlSFPMYQC1Oo59YHFxpK2NcZFc5FZLXVrcE8cLY",
  "validity": "2025-08-12T08:33:39.9395725Z"
} Responded with [401] in 191ms
2025-08-12 14:02:49.466 +05:30 [DBG] Connection id "0HNEPFAE0386M" completed keep alive response.
2025-08-12 14:02:49.468 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 14:02:49.469 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 401 126 application/json 218.1056ms
2025-08-12 14:03:18.645 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 696
2025-08-12 14:03:18.647 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-12 14:03:18.648 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-12 14:03:18.649 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-12 14:03:18.650 +05:30 [DBG] Connection id "0HNEPFAE0386M", Request id "0HNEPFAE0386M:00000006": started reading request body.
2025-08-12 14:03:18.651 +05:30 [DBG] Connection id "0HNEPFAE0386M", Request id "0HNEPFAE0386M:00000006": done reading request body.
2025-08-12 14:03:18.653 +05:30 [DBG] The request has an origin header: 'http://localhost:5276'.
2025-08-12 14:03:18.654 +05:30 [INF] CORS policy execution failed.
2025-08-12 14:03:18.654 +05:30 [INF] Request origin http://localhost:5276 does not have permission to access the resource.
2025-08-12 14:03:18.658 +05:30 [DBG] Successfully validated the token.
2025-08-12 14:03:18.659 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 14:03:18.662 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-12 14:03:18.663 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-12 14:03:18.665 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 14:03:18.666 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 14:03:18.667 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 14:03:18.668 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 14:03:18.669 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 14:03:18.670 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 14:03:18.679 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 14:03:18.683 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 14:03:18.684 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-12 14:03:18.685 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-12 14:03:18.687 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 14:03:18.689 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-12 14:03:18.690 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-12 14:03:18.692 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-12 14:03:18.694 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-12 14:03:18.696 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-12 14:03:18.715 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 14:03:18.718 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 14:03:18.718 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 14:03:18.719 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 14:03:18.719 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 14:03:18.720 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 14:03:18.722 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 51.3889ms
2025-08-12 14:03:18.724 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-12 14:03:18.725 +05:30 [INF] Source:[127.0.0.1] Request: POST http localhost:5276/api/v1/Auth/refresh  {
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxMCIsInVuaXF1ZV9uYW1lIjoiU2F0aHZpayIsImVtYWlsIjoic2F0aHZpa0BnbWFpbC5jb20iLCJyb2xlIjoiVXNlciIsIm5iZiI6MTc1NDk4NzQ5OSwiZXhwIjoxNzU0OTg3NjE5LCJpYXQiOjE3NTQ5ODc0OTksImlzcyI6IlRyYXZlbFBsYW5uZXJBUEkiLCJhdWQiOiJUcmF2ZWxQbGFubmVyQ2xpZW50In0.Ir7plKqEV5YlSv3ezRD6ygLtsH2AGtHeDMMP3Z8977Q",
  "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxMCIsImVtYWlsIjoic2F0aHZpa0BnbWFpbC5jb20iLCJuYmYiOjE3NTQ5ODc0OTksImV4cCI6MTc1NTU5MjI5OSwiaWF0IjoxNzU0OTg3NDk5LCJpc3MiOiJUcmF2ZWxQbGFubmVyQVBJIiwiYXVkIjoiVHJhdmVsUGxhbm5lckNsaWVudCJ9.l1ZCIlSFPMYQC1Oo59YHFxpK2NcZFc5FZLXVrcE8cLY",
  "validity": "2025-08-12T08:33:39.9395725Z"
} Responded with [401] in 74ms
2025-08-12 14:03:18.730 +05:30 [DBG] Connection id "0HNEPFAE0386M" completed keep alive response.
2025-08-12 14:03:18.733 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 14:03:18.734 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 401 126 application/json 91.5182ms
2025-08-12 14:06:19.046 +05:30 [DBG] Connection id "0HNEPFAE0386J" received FIN.
2025-08-12 14:06:19.056 +05:30 [DBG] Connection id "0HNEPFAE0386J" disconnecting.
2025-08-12 14:06:19.060 +05:30 [DBG] Connection id "0HNEPFAE0386J" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 14:06:19.077 +05:30 [DBG] Connection id "0HNEPFAE0386J" stopped.
2025-08-12 14:08:07.604 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-12 14:08:07.743 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-12 14:08:07.793 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-12 14:08:08.129 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-12 14:08:08.131 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-12 14:08:08.132 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-12 14:08:08.133 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-12 14:08:08.228 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 14:08:08.230 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 14:08:08.231 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 14:08:08.232 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 14:08:08.319 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 14:08:08.374 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-12 14:08:08.491 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 14:08:08.521 +05:30 [DBG] Creating DbConnection.
2025-08-12 14:08:08.539 +05:30 [DBG] Created DbConnection. (16ms).
2025-08-12 14:08:08.543 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:08:08.809 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:08:08.813 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 14:08:08.819 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-12 14:08:08.826 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-08-12 14:08:08.832 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-12 14:08:08.876 +05:30 [INF] Executed DbCommand (44ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-12 14:08:08.906 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 14:08:08.923 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:08:08.930 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 48ms reading results.
2025-08-12 14:08:08.935 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:08:08.941 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (5ms).
2025-08-12 14:08:08.945 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-12 14:08:08.952 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 2], [Property: UserModel.Email (string) MaxLength(256), 3], [Property: UserModel.EmailConfirmed (bool) Required, 4], [Property: UserModel.IsActive (bool) Required, 5], [Property: UserModel.IsAdmin (bool) Required, 6], [Property: UserModel.LastLoginDate (DateTime) Required, 7], [Property: UserModel.LockoutEnabled (bool) Required, 8], [Property: UserModel.LockoutEnd (DateTimeOffset?), 9], [Property: UserModel.Name (string) Required, 10], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 11], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 12], [Property: UserModel.PasswordHash (string), 13], [Property: UserModel.PhoneNumber (string), 14], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 15], [Property: UserModel.Role (string) Required, 16], [Property: UserModel.SecurityStamp (string), 17], [Property: UserModel.TwoFactorEnabled (bool) Required, 18], [Property: UserModel.UserName (string) MaxLength(256), 19] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 14:08:08.957 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:08:08.958 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:08:08.959 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 14:08:08.960 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 14:08:08.960 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 14:08:08.961 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 14:08:08.972 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 14:08:08.988 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 14:08:09.014 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:08:09.016 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 41ms reading results.
2025-08-12 14:08:09.018 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:08:09.019 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 14:08:09.022 +05:30 [INF] Admin user already exists.
2025-08-12 14:08:09.024 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 14:08:09.026 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:08:09.028 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 14:08:09.030 +05:30 [DBG] Hosting starting
2025-08-12 14:08:09.039 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-12 14:08:09.044 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-12 14:08:09.051 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-12 14:08:09.054 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-12 14:08:09.056 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-12 14:08:09.058 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-12 14:08:09.060 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-12 14:08:09.061 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-12 14:08:09.063 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-12 14:08:09.066 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-12 14:08:09.143 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-12 14:08:09.144 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-12 14:08:09.145 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-12 14:08:09.146 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-12 14:08:09.146 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-12 14:08:09.221 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-12 14:08:09.222 +05:30 [INF] Hosting environment: Development
2025-08-12 14:08:09.223 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-12 14:08:09.228 +05:30 [DBG] Hosting started
2025-08-12 14:08:09.512 +05:30 [DBG] Connection id "0HNEPFE8HL6B5" received FIN.
2025-08-12 14:08:09.520 +05:30 [DBG] Connection id "0HNEPFE8HL6B5" accepted.
2025-08-12 14:08:09.522 +05:30 [DBG] Connection id "0HNEPFE8HL6B5" started.
2025-08-12 14:08:09.530 +05:30 [DBG] Connection id "0HNEPFE8HL6B5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 14:08:09.534 +05:30 [DBG] Connection id "0HNEPFE8HL6B5" disconnecting.
2025-08-12 14:08:09.538 +05:30 [DBG] Connection id "0HNEPFE8HL6B5" stopped.
2025-08-12 14:10:16.450 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-12 14:10:16.632 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-12 14:10:16.691 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-12 14:10:17.069 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-12 14:10:17.070 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-12 14:10:17.072 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-12 14:10:17.073 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-12 14:10:17.191 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 14:10:17.192 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 14:10:17.194 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 14:10:17.195 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 14:10:17.305 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 14:10:17.390 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-12 14:10:17.521 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 14:10:17.558 +05:30 [DBG] Creating DbConnection.
2025-08-12 14:10:17.576 +05:30 [DBG] Created DbConnection. (17ms).
2025-08-12 14:10:17.580 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:10:17.805 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:10:17.809 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 14:10:17.817 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-12 14:10:17.823 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-08-12 14:10:17.832 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-12 14:10:17.881 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-12 14:10:17.912 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 14:10:17.925 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:10:17.930 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 44ms reading results.
2025-08-12 14:10:17.933 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:10:17.937 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (3ms).
2025-08-12 14:10:17.941 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-12 14:10:17.947 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 2], [Property: UserModel.Email (string) MaxLength(256), 3], [Property: UserModel.EmailConfirmed (bool) Required, 4], [Property: UserModel.IsActive (bool) Required, 5], [Property: UserModel.IsAdmin (bool) Required, 6], [Property: UserModel.LastLoginDate (DateTime) Required, 7], [Property: UserModel.LockoutEnabled (bool) Required, 8], [Property: UserModel.LockoutEnd (DateTimeOffset?), 9], [Property: UserModel.Name (string) Required, 10], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 11], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 12], [Property: UserModel.PasswordHash (string), 13], [Property: UserModel.PhoneNumber (string), 14], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 15], [Property: UserModel.Role (string) Required, 16], [Property: UserModel.SecurityStamp (string), 17], [Property: UserModel.TwoFactorEnabled (bool) Required, 18], [Property: UserModel.UserName (string) MaxLength(256), 19] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 14:10:17.951 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:10:17.952 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:10:17.953 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 14:10:17.953 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 14:10:17.954 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 14:10:17.955 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 14:10:17.970 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 14:10:17.990 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 14:10:18.024 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:10:18.026 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 51ms reading results.
2025-08-12 14:10:18.027 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:10:18.028 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 14:10:18.031 +05:30 [INF] Admin user already exists.
2025-08-12 14:10:18.034 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 14:10:18.036 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:10:18.038 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 14:10:18.040 +05:30 [DBG] Hosting starting
2025-08-12 14:10:18.051 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-12 14:10:18.057 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-12 14:10:18.064 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-12 14:10:18.067 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-12 14:10:18.069 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-12 14:10:18.071 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-12 14:10:18.073 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-12 14:10:18.074 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-12 14:10:18.076 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-12 14:10:18.077 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-12 14:10:18.153 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-12 14:10:18.154 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-12 14:10:18.155 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-12 14:10:18.155 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-12 14:10:18.156 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-12 14:10:18.235 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-12 14:10:18.236 +05:30 [INF] Hosting environment: Development
2025-08-12 14:10:18.238 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-12 14:10:18.240 +05:30 [DBG] Hosting started
2025-08-12 14:10:18.315 +05:30 [DBG] Connection id "0HNEPFFEU0L1A" accepted.
2025-08-12 14:10:18.315 +05:30 [DBG] Connection id "0HNEPFFEU0L1B" accepted.
2025-08-12 14:10:18.317 +05:30 [DBG] Connection id "0HNEPFFEU0L1A" started.
2025-08-12 14:10:18.317 +05:30 [DBG] Connection id "0HNEPFFEU0L1B" started.
2025-08-12 14:10:18.334 +05:30 [DBG] Connection id "0HNEPFFEU0L1B" received FIN.
2025-08-12 14:10:18.334 +05:30 [DBG] Connection id "0HNEPFFEU0L1A" received FIN.
2025-08-12 14:10:18.337 +05:30 [DBG] Connection id "0HNEPFFEU0L1B" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 14:10:18.337 +05:30 [DBG] Connection id "0HNEPFFEU0L1A" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 14:10:18.347 +05:30 [DBG] Connection id "0HNEPFFEU0L1B" disconnecting.
2025-08-12 14:10:18.347 +05:30 [DBG] Connection id "0HNEPFFEU0L1A" disconnecting.
2025-08-12 14:10:18.350 +05:30 [DBG] Connection id "0HNEPFFEU0L1B" stopped.
2025-08-12 14:10:18.351 +05:30 [DBG] Connection id "0HNEPFFEU0L1A" stopped.
2025-08-12 14:10:20.023 +05:30 [DBG] Connection id "0HNEPFFEU0L1C" accepted.
2025-08-12 14:10:20.024 +05:30 [DBG] Connection id "0HNEPFFEU0L1C" started.
2025-08-12 14:10:20.025 +05:30 [DBG] Connection id "0HNEPFFEU0L1D" accepted.
2025-08-12 14:10:20.026 +05:30 [DBG] Connection id "0HNEPFFEU0L1D" started.
2025-08-12 14:10:20.042 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/index.html - null null
2025-08-12 14:10:20.134 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-12 14:10:20.149 +05:30 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-12 14:10:20.150 +05:30 [DBG] Request did not match any endpoints
2025-08-12 14:10:20.196 +05:30 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-12 14:10:20.198 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-12 14:10:20.208 +05:30 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-12 14:10:20.209 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-12 14:10:20.211 +05:30 [DBG] Connection id "0HNEPFFEU0L1C" completed keep alive response.
2025-08-12 14:10:20.214 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/index.html - 200 null text/html;charset=utf-8 178.6545ms
2025-08-12 14:10:20.216 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - null null
2025-08-12 14:10:20.218 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_vs/browserLink - null null
2025-08-12 14:10:20.221 +05:30 [DBG] Connection id "0HNEPFFEU0L1D" completed keep alive response.
2025-08-12 14:10:20.223 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - 200 13768 application/javascript; charset=utf-8 7.4944ms
2025-08-12 14:10:20.249 +05:30 [DBG] Connection id "0HNEPFFEU0L1C" completed keep alive response.
2025-08-12 14:10:20.250 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.2127ms
2025-08-12 14:10:20.355 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - null null
2025-08-12 14:10:20.358 +05:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-12 14:10:20.359 +05:30 [DBG] Request did not match any endpoints
2025-08-12 14:10:20.383 +05:30 [DBG] Connection id "0HNEPFFEU0L1C" completed keep alive response.
2025-08-12 14:10:20.384 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.0371ms
2025-08-12 14:10:49.450 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 64
2025-08-12 14:10:49.468 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 14:10:49.472 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-12 14:10:49.478 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 14:10:49.501 +05:30 [DBG] Connection id "0HNEPFFEU0L1C", Request id "0HNEPFFEU0L1C:00000004": started reading request body.
2025-08-12 14:10:49.504 +05:30 [DBG] Connection id "0HNEPFFEU0L1C", Request id "0HNEPFFEU0L1C:00000004": done reading request body.
2025-08-12 14:10:49.508 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-12 14:10:49.511 +05:30 [DBG] The request has an origin header: 'http://localhost:5276'.
2025-08-12 14:10:49.512 +05:30 [INF] CORS policy execution failed.
2025-08-12 14:10:49.512 +05:30 [INF] Request origin http://localhost:5276 does not have permission to access the resource.
2025-08-12 14:10:49.562 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 14:10:49.566 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 14:10:49.593 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-12 14:10:49.596 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 14:10:49.597 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 14:10:49.599 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 14:10:49.600 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 14:10:49.601 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 14:10:49.604 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 14:10:49.644 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 14:10:49.648 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 14:10:49.654 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 14:10:49.658 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-12 14:10:49.661 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 14:10:49.681 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-12 14:10:49.682 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 14:10:49.683 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 14:10:49.684 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 14:10:49.694 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 14:10:49.702 +05:30 [DBG] Creating DbConnection.
2025-08-12 14:10:49.703 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 14:10:49.704 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:10:49.707 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:10:49.708 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 14:10:49.709 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 14:10:49.711 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 14:10:49.713 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 14:10:49.731 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 14:10:49.734 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 14:10:49.736 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:10:49.736 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 14:10:49.738 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:10:49.740 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-12 14:10:49.812 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-08-12 14:10:49.821 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 2], [Property: UserModel.Email (string) MaxLength(256), 3], [Property: UserModel.EmailConfirmed (bool) Required, 4], [Property: UserModel.IsActive (bool) Required, 5], [Property: UserModel.IsAdmin (bool) Required, 6], [Property: UserModel.LastLoginDate (DateTime) Required, 7], [Property: UserModel.LockoutEnabled (bool) Required, 8], [Property: UserModel.LockoutEnd (DateTimeOffset?), 9], [Property: UserModel.Name (string) Required, 10], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 11], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 12], [Property: UserModel.PasswordHash (string), 13], [Property: UserModel.PhoneNumber (string), 14], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 15], [Property: UserModel.Role (string) Required, 16], [Property: UserModel.SecurityStamp (string), 17], [Property: UserModel.TwoFactorEnabled (bool) Required, 18], [Property: UserModel.UserName (string) MaxLength(256), 19] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 14:10:49.825 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:10:49.827 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:10:49.828 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 14:10:49.828 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 14:10:49.829 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 14:10:49.830 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 14:10:49.837 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 14:10:49.841 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:10:49.842 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 14:10:49.843 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:10:49.843 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 14:10:49.862 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 14:10:49.867 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 14:10:49.871 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 14:10:49.885 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 14:10:49.960 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:10:49.961 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:10:49.965 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 14:10:49.966 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 14:10:49.968 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 14:10:49.969 +05:30 [DBG] Executing DbCommand [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 14:10:49.981 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 14:10:49.989 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:10:49.992 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-08-12 14:10:49.995 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:10:49.996 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 14:10:49.999 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 14:10:50.002 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 14:10:50.037 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 14:10:50.041 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 14:10:50.042 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 14:10:50.043 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 14:10:50.044 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 14:10:50.045 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 14:10:50.060 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 455.8025ms
2025-08-12 14:10:50.062 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 14:10:50.218 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {
  "email": "sathvik@gmail.com",
  "password": "Password@123"
} Responded with [200] in 720ms
2025-08-12 14:10:50.220 +05:30 [DBG] Connection id "0HNEPFFEU0L1C" completed keep alive response.
2025-08-12 14:10:50.223 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 14:10:50.227 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:10:50.228 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 14:10:50.230 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 906 application/json 780.1683ms
2025-08-12 14:11:11.945 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip - null null
2025-08-12 14:11:11.958 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip'
2025-08-12 14:11:11.961 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip' is valid for the request path '/api/v1/Trip'
2025-08-12 14:11:11.962 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 14:11:11.995 +05:30 [DBG] Successfully validated the token.
2025-08-12 14:11:11.998 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 14:11:12.003 +05:30 [DBG] Authorization was successful.
2025-08-12 14:11:12.004 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 14:11:12.008 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TravelPlannerAPI.Dtos.TripDto]]] GetTrips() on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 14:11:12.010 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 14:11:12.010 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 14:11:12.011 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 14:11:12.012 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 14:11:12.013 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 14:11:12.015 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 14:11:12.024 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 14:11:12.142 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 14:11:12.154 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Where(t => t.UserId == __userId_0)
    .Include(t => t.Reviews)'
2025-08-12 14:11:12.163 +05:30 [DBG] Including navigation: 'TripModel.Reviews'.
2025-08-12 14:11:12.226 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: ReviewModel.Rating (int) Required, 16], [Property: ReviewModel.ReviewText (string) Required, 17], [Property: ReviewModel.TripId (int) Required FK Index, 18], [Property: ReviewModel.UserId (int) Required FK Index, 19] }
            3 -> 15
        SELECT t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId, r.Id, r.Rating, r.review, r.TripId, r.UserId
        FROM Trips AS t
        LEFT JOIN reviews AS r ON t.Id == r.TripId
        WHERE t.UserId == @__userId_0
        ORDER BY t.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 14:11:12.230 +05:30 [DBG] Creating DbConnection.
2025-08-12 14:11:12.231 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 14:11:12.232 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:11:12.233 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:11:12.234 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 14:11:12.234 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 14:11:12.235 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 14:11:12.236 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [Trips] AS [t]
LEFT JOIN [reviews] AS [r] ON [t].[Id] = [r].[TripId]
WHERE [t].[UserId] = @__userId_0
ORDER BY [t].[Id]
2025-08-12 14:11:12.247 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [Trips] AS [t]
LEFT JOIN [reviews] AS [r] ON [t].[Id] = [r].[TripId]
WHERE [t].[UserId] = @__userId_0
ORDER BY [t].[Id]
2025-08-12 14:11:12.261 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 14:11:12.284 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:11:12.285 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 36ms reading results.
2025-08-12 14:11:12.287 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:11:12.289 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 14:11:12.295 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 14:11:12.298 +05:30 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-08-12 14:11:12.299 +05:30 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-08-12 14:11:12.300 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 14:11:12.301 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 14:11:12.301 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 14:11:12.303 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 14:11:12.314 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 299.4496ms
2025-08-12 14:11:12.315 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 14:11:12.331 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip   Responded with [200] in 366ms
2025-08-12 14:11:12.332 +05:30 [DBG] Connection id "0HNEPFFEU0L1C" completed keep alive response.
2025-08-12 14:11:12.333 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 14:11:12.335 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:11:12.336 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 14:11:12.337 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip - 200 804 application/json 391.8609ms
2025-08-12 14:11:47.662 +05:30 [DBG] Connection id "0HNEPFFEU0L1D" received FIN.
2025-08-12 14:11:47.663 +05:30 [DBG] Connection id "0HNEPFFEU0L1C" received FIN.
2025-08-12 14:11:47.665 +05:30 [DBG] Connection id "0HNEPFFEU0L1D" disconnecting.
2025-08-12 14:11:47.669 +05:30 [DBG] Connection id "0HNEPFFEU0L1C" disconnecting.
2025-08-12 14:11:47.672 +05:30 [DBG] Connection id "0HNEPFFEU0L1D" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 14:11:47.675 +05:30 [DBG] Connection id "0HNEPFFEU0L1C" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 14:11:47.686 +05:30 [DBG] Connection id "0HNEPFFEU0L1D" stopped.
2025-08-12 14:11:47.686 +05:30 [DBG] Connection id "0HNEPFFEU0L1C" stopped.
2025-08-12 14:12:01.118 +05:30 [DBG] Connection id "0HNEPFFEU0L1E" accepted.
2025-08-12 14:12:01.119 +05:30 [DBG] Connection id "0HNEPFFEU0L1E" started.
2025-08-12 14:12:01.121 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 696
2025-08-12 14:12:01.127 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-12 14:12:01.131 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-12 14:12:01.137 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-12 14:12:01.139 +05:30 [DBG] Connection id "0HNEPFFEU0L1E", Request id "0HNEPFFEU0L1E:00000001": started reading request body.
2025-08-12 14:12:01.140 +05:30 [DBG] Connection id "0HNEPFFEU0L1E", Request id "0HNEPFFEU0L1E:00000001": done reading request body.
2025-08-12 14:12:01.142 +05:30 [DBG] The request has an origin header: 'http://localhost:5276'.
2025-08-12 14:12:01.143 +05:30 [INF] CORS policy execution failed.
2025-08-12 14:12:01.143 +05:30 [INF] Request origin http://localhost:5276 does not have permission to access the resource.
2025-08-12 14:12:01.147 +05:30 [DBG] Successfully validated the token.
2025-08-12 14:12:01.148 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 14:12:01.150 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-12 14:12:01.156 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-12 14:12:01.157 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 14:12:01.158 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 14:12:01.159 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 14:12:01.161 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 14:12:01.162 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 14:12:01.163 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 14:12:01.171 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 14:12:01.173 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 14:12:01.174 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-12 14:12:01.175 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-12 14:12:01.176 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 14:12:01.181 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-12 14:12:01.182 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-12 14:12:01.183 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-12 14:12:01.184 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-12 14:12:01.188 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-12 14:12:01.263 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 14:12:01.265 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 14:12:01.265 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 14:12:01.266 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 14:12:01.267 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 14:12:01.268 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 14:12:01.271 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 107.734ms
2025-08-12 14:12:01.272 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-12 14:12:01.283 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxMCIsInVuaXF1ZV9uYW1lIjoiU2F0aHZpayIsImVtYWlsIjoic2F0aHZpa0BnbWFpbC5jb20iLCJyb2xlIjoiVXNlciIsIm5iZiI6MTc1NDk4ODA1MCwiZXhwIjoxNzU0OTg4MTcwLCJpYXQiOjE3NTQ5ODgwNTAsImlzcyI6IlRyYXZlbFBsYW5uZXJBUEkiLCJhdWQiOiJUcmF2ZWxQbGFubmVyQ2xpZW50In0.QeoJdI4JtWZjIozJ61CE9vdqJjoe4Jl0JnUh8gbC0_s",
  "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxMCIsImVtYWlsIjoic2F0aHZpa0BnbWFpbC5jb20iLCJuYmYiOjE3NTQ5ODgwNTAsImV4cCI6MTc1NTU5Mjg1MCwiaWF0IjoxNzU0OTg4MDUwLCJpc3MiOiJUcmF2ZWxQbGFubmVyQVBJIiwiYXVkIjoiVHJhdmVsUGxhbm5lckNsaWVudCJ9.Fy9Q0Ca3mMcZC_TAPpmNJJJr0dkg2XYvjXaGxYfQi4s",
  "validity": "2025-08-12T08:42:50.0063074Z"
} Responded with [401] in 144ms
2025-08-12 14:12:01.287 +05:30 [DBG] Connection id "0HNEPFFEU0L1E" completed keep alive response.
2025-08-12 14:12:01.288 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 14:12:01.289 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 401 126 application/json 168.5635ms
2025-08-12 14:12:36.991 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-12 14:12:37.113 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-12 14:12:37.160 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-12 14:12:37.495 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-12 14:12:37.497 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-12 14:12:37.498 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-12 14:12:37.499 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-12 14:12:37.601 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 14:12:37.602 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 14:12:37.603 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 14:12:37.604 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 14:12:37.698 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 14:12:37.758 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-12 14:12:37.881 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 14:12:37.914 +05:30 [DBG] Creating DbConnection.
2025-08-12 14:12:37.929 +05:30 [DBG] Created DbConnection. (14ms).
2025-08-12 14:12:37.932 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:12:38.200 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:12:38.203 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 14:12:38.209 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-12 14:12:38.217 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-08-12 14:12:38.225 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-12 14:12:38.271 +05:30 [INF] Executed DbCommand (48ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-12 14:12:38.306 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 14:12:38.323 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:12:38.331 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 55ms reading results.
2025-08-12 14:12:38.336 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:12:38.344 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (8ms).
2025-08-12 14:12:38.353 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-12 14:12:38.368 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 2], [Property: UserModel.Email (string) MaxLength(256), 3], [Property: UserModel.EmailConfirmed (bool) Required, 4], [Property: UserModel.IsActive (bool) Required, 5], [Property: UserModel.IsAdmin (bool) Required, 6], [Property: UserModel.LastLoginDate (DateTime) Required, 7], [Property: UserModel.LockoutEnabled (bool) Required, 8], [Property: UserModel.LockoutEnd (DateTimeOffset?), 9], [Property: UserModel.Name (string) Required, 10], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 11], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 12], [Property: UserModel.PasswordHash (string), 13], [Property: UserModel.PhoneNumber (string), 14], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 15], [Property: UserModel.Role (string) Required, 16], [Property: UserModel.SecurityStamp (string), 17], [Property: UserModel.TwoFactorEnabled (bool) Required, 18], [Property: UserModel.UserName (string) MaxLength(256), 19] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 14:12:38.375 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:12:38.377 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:12:38.379 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 14:12:38.380 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 14:12:38.381 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 14:12:38.382 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 14:12:38.391 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 14:12:38.411 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 14:12:38.444 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:12:38.445 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 50ms reading results.
2025-08-12 14:12:38.446 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:12:38.447 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 14:12:38.450 +05:30 [INF] Admin user already exists.
2025-08-12 14:12:38.453 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 14:12:38.455 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 14:12:38.456 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 14:12:38.459 +05:30 [DBG] Hosting starting
2025-08-12 14:12:38.469 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-12 14:12:38.474 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-12 14:12:38.480 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-12 14:12:38.484 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-12 14:12:38.486 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-12 14:12:38.488 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-12 14:12:38.490 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-12 14:12:38.491 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-12 14:12:38.493 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-12 14:12:38.494 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-12 14:12:38.571 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-12 14:12:38.572 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-12 14:12:38.573 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-12 14:12:38.573 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-12 14:12:38.574 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-12 14:12:38.656 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-12 14:12:38.657 +05:30 [INF] Hosting environment: Development
2025-08-12 14:12:38.661 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-12 14:12:38.663 +05:30 [DBG] Hosting started
2025-08-12 14:12:38.890 +05:30 [DBG] Connection id "0HNEPFGOQKKHG" accepted.
2025-08-12 14:12:38.891 +05:30 [DBG] Connection id "0HNEPFGOQKKHG" started.
2025-08-12 14:12:38.901 +05:30 [DBG] Connection id "0HNEPFGOQKKHG" received FIN.
2025-08-12 14:12:38.904 +05:30 [DBG] Connection id "0HNEPFGOQKKHG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 14:12:38.907 +05:30 [DBG] Connection id "0HNEPFGOQKKHG" disconnecting.
2025-08-12 14:12:38.909 +05:30 [DBG] Connection id "0HNEPFGOQKKHG" stopped.
2025-08-12 15:17:34.434 +05:30 [DBG] Connection id "0HNEPFGOQKKHH" accepted.
2025-08-12 15:17:34.438 +05:30 [DBG] Connection id "0HNEPFGOQKKHH" started.
2025-08-12 15:17:34.439 +05:30 [DBG] Connection id "0HNEPFGOQKKHI" accepted.
2025-08-12 15:17:34.446 +05:30 [DBG] Connection id "0HNEPFGOQKKHI" started.
2025-08-12 15:17:34.491 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/index.html - null null
2025-08-12 15:17:34.659 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-12 15:17:34.688 +05:30 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-12 15:17:34.689 +05:30 [DBG] Request did not match any endpoints
2025-08-12 15:17:34.760 +05:30 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-12 15:17:34.762 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-12 15:17:34.778 +05:30 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-12 15:17:34.780 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-12 15:17:34.781 +05:30 [DBG] Connection id "0HNEPFGOQKKHH" completed keep alive response.
2025-08-12 15:17:34.786 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/index.html - 200 null text/html;charset=utf-8 312.5216ms
2025-08-12 15:17:34.791 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_vs/browserLink - null null
2025-08-12 15:17:34.791 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - null null
2025-08-12 15:17:34.798 +05:30 [DBG] Connection id "0HNEPFGOQKKHH" completed keep alive response.
2025-08-12 15:17:34.801 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - 200 13768 application/javascript; charset=utf-8 8.3184ms
2025-08-12 15:17:34.873 +05:30 [DBG] Connection id "0HNEPFGOQKKHI" completed keep alive response.
2025-08-12 15:17:34.874 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_vs/browserLink - 200 null text/javascript; charset=UTF-8 82.9932ms
2025-08-12 15:17:34.986 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - null null
2025-08-12 15:17:34.990 +05:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-12 15:17:34.991 +05:30 [DBG] Request did not match any endpoints
2025-08-12 15:17:35.020 +05:30 [DBG] Connection id "0HNEPFGOQKKHI" completed keep alive response.
2025-08-12 15:17:35.021 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 34.8195ms
2025-08-12 15:18:01.432 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 64
2025-08-12 15:18:01.451 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 15:18:01.456 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-12 15:18:01.462 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 15:18:01.490 +05:30 [DBG] Connection id "0HNEPFGOQKKHI", Request id "0HNEPFGOQKKHI:00000003": started reading request body.
2025-08-12 15:18:01.491 +05:30 [DBG] Connection id "0HNEPFGOQKKHI", Request id "0HNEPFGOQKKHI:00000003": done reading request body.
2025-08-12 15:18:01.495 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-12 15:18:01.497 +05:30 [DBG] The request has an origin header: 'http://localhost:5276'.
2025-08-12 15:18:01.501 +05:30 [INF] CORS policy execution failed.
2025-08-12 15:18:01.501 +05:30 [INF] Request origin http://localhost:5276 does not have permission to access the resource.
2025-08-12 15:18:01.567 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 15:18:01.573 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 15:18:01.601 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-12 15:18:01.605 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:18:01.606 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:18:01.607 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:18:01.609 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:18:01.610 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:18:01.613 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 15:18:01.654 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:18:01.660 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 15:18:01.668 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 15:18:01.673 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-12 15:18:01.677 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 15:18:01.698 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-12 15:18:01.700 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 15:18:01.701 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 15:18:01.702 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 15:18:01.713 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 15:18:01.724 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:18:01.725 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 15:18:01.726 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:18:01.741 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:18:01.744 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:18:01.745 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:18:01.746 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:18:01.747 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 15:18:01.760 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 15:18:01.763 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:18:01.765 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:18:01.766 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-12 15:18:01.768 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:18:01.769 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:18:01.845 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-08-12 15:18:01.855 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 2], [Property: UserModel.Email (string) MaxLength(256), 3], [Property: UserModel.EmailConfirmed (bool) Required, 4], [Property: UserModel.IsActive (bool) Required, 5], [Property: UserModel.IsAdmin (bool) Required, 6], [Property: UserModel.LastLoginDate (DateTime) Required, 7], [Property: UserModel.LockoutEnabled (bool) Required, 8], [Property: UserModel.LockoutEnd (DateTimeOffset?), 9], [Property: UserModel.Name (string) Required, 10], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 11], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 12], [Property: UserModel.PasswordHash (string), 13], [Property: UserModel.PhoneNumber (string), 14], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 15], [Property: UserModel.Role (string) Required, 16], [Property: UserModel.SecurityStamp (string), 17], [Property: UserModel.TwoFactorEnabled (bool) Required, 18], [Property: UserModel.UserName (string) MaxLength(256), 19] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 15:18:01.858 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:18:01.859 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:18:01.860 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:18:01.861 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:18:01.863 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:18:01.864 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 15:18:01.871 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 15:18:01.876 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:18:01.877 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 15:18:01.880 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:18:01.881 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:18:01.898 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:18:01.903 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 15:18:01.908 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 15:18:01.924 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 15:18:01.990 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:18:01.992 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:18:01.996 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:18:01.997 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:18:02.000 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-12 15:18:02.002 +05:30 [DBG] Executing DbCommand [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 15:18:02.012 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 15:18:02.027 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:18:02.028 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-08-12 15:18:02.030 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:18:02.032 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:18:02.037 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:18:02.040 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 15:18:02.088 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:18:02.094 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:18:02.095 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:18:02.096 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:18:02.098 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:18:02.100 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:18:02.121 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 505.5395ms
2025-08-12 15:18:02.123 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 15:18:02.356 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {
  "email": "sathvik@gmail.com",
  "password": "Password@123"
} Responded with [200] in 868ms
2025-08-12 15:18:02.358 +05:30 [DBG] Connection id "0HNEPFGOQKKHI" completed keep alive response.
2025-08-12 15:18:02.361 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:18:02.364 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:18:02.368 +05:30 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 15:18:02.369 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 906 application/json 937.5687ms
2025-08-12 15:18:54.962 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 696
2025-08-12 15:18:54.967 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-12 15:18:54.969 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-12 15:18:54.970 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-12 15:18:54.971 +05:30 [DBG] Connection id "0HNEPFGOQKKHI", Request id "0HNEPFGOQKKHI:00000004": started reading request body.
2025-08-12 15:18:54.972 +05:30 [DBG] Connection id "0HNEPFGOQKKHI", Request id "0HNEPFGOQKKHI:00000004": done reading request body.
2025-08-12 15:18:54.974 +05:30 [DBG] The request has an origin header: 'http://localhost:5276'.
2025-08-12 15:18:54.975 +05:30 [INF] CORS policy execution failed.
2025-08-12 15:18:54.975 +05:30 [INF] Request origin http://localhost:5276 does not have permission to access the resource.
2025-08-12 15:18:55.009 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:18:55.011 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:18:55.013 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-12 15:18:55.019 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-12 15:18:55.020 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:18:55.021 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:18:55.022 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:18:55.024 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:18:55.025 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:18:55.028 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 15:18:55.043 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:18:55.046 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 15:18:55.047 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-12 15:18:55.048 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-12 15:18:55.050 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 15:18:55.057 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-12 15:18:55.059 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-12 15:18:55.060 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-12 15:18:55.061 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-12 15:18:55.065 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-12 15:18:55.168 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:18:55.170 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:18:55.171 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:18:55.171 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:18:55.172 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:18:55.173 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 15:18:55.176 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 148.4594ms
2025-08-12 15:18:55.179 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-12 15:18:55.194 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxMCIsInVuaXF1ZV9uYW1lIjoiU2F0aHZpayIsImVtYWlsIjoic2F0aHZpa0BnbWFpbC5jb20iLCJyb2xlIjoiVXNlciIsIm5iZiI6MTc1NDk5MjA4MiwiZXhwIjoxNzU0OTkyMjAyLCJpYXQiOjE3NTQ5OTIwODIsImlzcyI6IlRyYXZlbFBsYW5uZXJBUEkiLCJhdWQiOiJUcmF2ZWxQbGFubmVyQ2xpZW50In0.5pnefePC_Yi1wn12t4JKnLy0Jr6ZciL9S7IdqSQ9eZA",
  "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxMCIsImVtYWlsIjoic2F0aHZpa0BnbWFpbC5jb20iLCJuYmYiOjE3NTQ5OTIwODIsImV4cCI6MTc1NTU5Njg4MiwiaWF0IjoxNzU0OTkyMDgyLCJpc3MiOiJUcmF2ZWxQbGFubmVyQVBJIiwiYXVkIjoiVHJhdmVsUGxhbm5lckNsaWVudCJ9.3BiFQhcJOyq89Jt6N08_JyZj2Wjush-2L8LfliVh_e0",
  "validity": "2025-08-12T09:50:02.0455226Z"
} Responded with [401] in 222ms
2025-08-12 15:18:55.196 +05:30 [DBG] Connection id "0HNEPFGOQKKHI" completed keep alive response.
2025-08-12 15:18:55.197 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:18:55.198 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 401 126 application/json 236.3914ms
2025-08-12 15:37:26.732 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-12 15:37:26.866 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-12 15:37:26.923 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-12 15:37:27.240 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-12 15:37:27.241 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-12 15:37:27.243 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-12 15:37:27.243 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-12 15:37:27.334 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 15:37:27.335 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 15:37:27.337 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 15:37:27.338 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 15:37:27.446 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:37:27.512 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-12 15:37:27.642 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 15:37:27.672 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:37:27.690 +05:30 [DBG] Created DbConnection. (16ms).
2025-08-12 15:37:27.694 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:37:27.939 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:37:27.943 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:37:27.949 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-12 15:37:27.956 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-08-12 15:37:27.962 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-12 15:37:28.030 +05:30 [INF] Executed DbCommand (65ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-12 15:37:28.065 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:37:28.085 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:37:28.092 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 55ms reading results.
2025-08-12 15:37:28.095 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:37:28.100 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (4ms).
2025-08-12 15:37:28.105 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-12 15:37:28.113 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 2], [Property: UserModel.Email (string) MaxLength(256), 3], [Property: UserModel.EmailConfirmed (bool) Required, 4], [Property: UserModel.IsActive (bool) Required, 5], [Property: UserModel.IsAdmin (bool) Required, 6], [Property: UserModel.LastLoginDate (DateTime) Required, 7], [Property: UserModel.LockoutEnabled (bool) Required, 8], [Property: UserModel.LockoutEnd (DateTimeOffset?), 9], [Property: UserModel.Name (string) Required, 10], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 11], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 12], [Property: UserModel.PasswordHash (string), 13], [Property: UserModel.PhoneNumber (string), 14], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 15], [Property: UserModel.Role (string) Required, 16], [Property: UserModel.SecurityStamp (string), 17], [Property: UserModel.TwoFactorEnabled (bool) Required, 18], [Property: UserModel.UserName (string) MaxLength(256), 19] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 15:37:28.117 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:37:28.118 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:37:28.119 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:37:28.119 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:37:28.120 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:37:28.121 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 15:37:28.129 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 15:37:28.146 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:37:28.175 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:37:28.177 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 45ms reading results.
2025-08-12 15:37:28.178 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:37:28.180 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:37:28.186 +05:30 [INF] Admin user already exists.
2025-08-12 15:37:28.188 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:37:28.190 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:37:28.191 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:37:28.193 +05:30 [DBG] Hosting starting
2025-08-12 15:37:28.202 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-12 15:37:28.209 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-12 15:37:28.219 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-12 15:37:28.225 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-12 15:37:28.227 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-12 15:37:28.229 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-12 15:37:28.231 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-12 15:37:28.232 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-12 15:37:28.234 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-12 15:37:28.235 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-12 15:37:28.314 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-12 15:37:28.315 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-12 15:37:28.316 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-12 15:37:28.316 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-12 15:37:28.317 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-12 15:37:28.393 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-12 15:37:28.394 +05:30 [INF] Hosting environment: Development
2025-08-12 15:37:28.395 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-12 15:37:28.397 +05:30 [DBG] Hosting started
2025-08-12 15:37:28.771 +05:30 [DBG] Connection id "0HNEPH05NH38S" accepted.
2025-08-12 15:37:28.772 +05:30 [DBG] Connection id "0HNEPH05NH38S" started.
2025-08-12 15:37:28.779 +05:30 [DBG] Connection id "0HNEPH05NH38T" accepted.
2025-08-12 15:37:28.780 +05:30 [DBG] Connection id "0HNEPH05NH38T" started.
2025-08-12 15:37:28.796 +05:30 [DBG] Connection id "0HNEPH05NH38S" received FIN.
2025-08-12 15:37:28.796 +05:30 [DBG] Connection id "0HNEPH05NH38T" received FIN.
2025-08-12 15:37:28.803 +05:30 [DBG] Connection id "0HNEPH05NH38S" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 15:37:28.805 +05:30 [DBG] Connection id "0HNEPH05NH38T" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 15:37:28.808 +05:30 [DBG] Connection id "0HNEPH05NH38S" disconnecting.
2025-08-12 15:37:28.808 +05:30 [DBG] Connection id "0HNEPH05NH38T" disconnecting.
2025-08-12 15:37:28.823 +05:30 [DBG] Connection id "0HNEPH05NH38T" stopped.
2025-08-12 15:37:28.823 +05:30 [DBG] Connection id "0HNEPH05NH38S" stopped.
2025-08-12 15:38:22.612 +05:30 [DBG] Connection id "0HNEPH05NH38U" accepted.
2025-08-12 15:38:22.622 +05:30 [DBG] Connection id "0HNEPH05NH38U" started.
2025-08-12 15:38:22.623 +05:30 [DBG] Connection id "0HNEPH05NH38V" accepted.
2025-08-12 15:38:22.629 +05:30 [DBG] Connection id "0HNEPH05NH38V" started.
2025-08-12 15:38:22.651 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/index.html - null null
2025-08-12 15:38:22.785 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-12 15:38:22.810 +05:30 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-12 15:38:22.812 +05:30 [DBG] Request did not match any endpoints
2025-08-12 15:38:22.871 +05:30 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-12 15:38:22.873 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-12 15:38:22.885 +05:30 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-12 15:38:22.887 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-12 15:38:22.890 +05:30 [DBG] Connection id "0HNEPH05NH38U" completed keep alive response.
2025-08-12 15:38:22.893 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/index.html - 200 null text/html;charset=utf-8 250.6168ms
2025-08-12 15:38:23.000 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_vs/browserLink - null null
2025-08-12 15:38:23.000 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - null null
2025-08-12 15:38:23.005 +05:30 [DBG] Connection id "0HNEPH05NH38U" completed keep alive response.
2025-08-12 15:38:23.007 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - 200 13768 application/javascript; charset=utf-8 7.0127ms
2025-08-12 15:38:23.041 +05:30 [DBG] Connection id "0HNEPH05NH38V" completed keep alive response.
2025-08-12 15:38:23.042 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.7748ms
2025-08-12 15:38:23.086 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - null null
2025-08-12 15:38:23.089 +05:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-12 15:38:23.089 +05:30 [DBG] Request did not match any endpoints
2025-08-12 15:38:23.110 +05:30 [DBG] Connection id "0HNEPH05NH38V" completed keep alive response.
2025-08-12 15:38:23.111 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.656ms
2025-08-12 15:38:55.776 +05:30 [DBG] Connection id "0HNEPH05NH390" accepted.
2025-08-12 15:38:55.778 +05:30 [DBG] Connection id "0HNEPH05NH390" started.
2025-08-12 15:38:55.787 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-12 15:38:55.802 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 15:38:55.803 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:38:55.818 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-12 15:38:55.819 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:38:55.821 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:38:55.823 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:38:55.832 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 14ms
2025-08-12 15:38:55.833 +05:30 [DBG] Connection id "0HNEPH05NH390" completed keep alive response.
2025-08-12 15:38:55.834 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 46.7813ms
2025-08-12 15:38:55.838 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 55
2025-08-12 15:38:55.842 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 15:38:55.844 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-12 15:38:55.847 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 15:38:55.851 +05:30 [DBG] Connection id "0HNEPH05NH390", Request id "0HNEPH05NH390:00000002": started reading request body.
2025-08-12 15:38:55.853 +05:30 [DBG] Connection id "0HNEPH05NH390", Request id "0HNEPH05NH390:00000002": done reading request body.
2025-08-12 15:38:55.855 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:38:55.856 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:38:55.896 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 15:38:55.898 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 15:38:55.920 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-12 15:38:55.924 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:38:55.926 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:38:55.928 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:38:55.931 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:38:55.934 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:38:55.942 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 15:38:55.981 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:38:55.985 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 15:38:55.990 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 15:38:55.994 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-12 15:38:55.996 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 15:38:56.013 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-12 15:38:56.015 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 15:38:56.016 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 15:38:56.018 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 15:38:56.026 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 15:38:56.033 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:38:56.034 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 15:38:56.035 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:38:56.036 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:38:56.037 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:38:56.037 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:38:56.038 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:38:56.039 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 15:38:56.046 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 15:38:56.051 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:38:56.053 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:38:56.054 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-12 15:38:56.056 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:38:56.057 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:38:56.127 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-08-12 15:38:56.135 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 2], [Property: UserModel.Email (string) MaxLength(256), 3], [Property: UserModel.EmailConfirmed (bool) Required, 4], [Property: UserModel.IsActive (bool) Required, 5], [Property: UserModel.IsAdmin (bool) Required, 6], [Property: UserModel.LastLoginDate (DateTime) Required, 7], [Property: UserModel.LockoutEnabled (bool) Required, 8], [Property: UserModel.LockoutEnd (DateTimeOffset?), 9], [Property: UserModel.Name (string) Required, 10], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 11], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 12], [Property: UserModel.PasswordHash (string), 13], [Property: UserModel.PhoneNumber (string), 14], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 15], [Property: UserModel.Role (string) Required, 16], [Property: UserModel.SecurityStamp (string), 17], [Property: UserModel.TwoFactorEnabled (bool) Required, 18], [Property: UserModel.UserName (string) MaxLength(256), 19] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 15:38:56.142 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:38:56.144 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:38:56.146 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:38:56.147 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:38:56.148 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:38:56.149 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 15:38:56.158 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 15:38:56.161 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:38:56.163 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 15:38:56.164 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:38:56.165 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:38:56.181 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:38:56.187 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 15:38:56.192 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 15:38:56.205 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 15:38:56.275 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:38:56.276 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:38:56.280 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:38:56.281 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:38:56.283 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 15:38:56.285 +05:30 [DBG] Executing DbCommand [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 15:38:56.295 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 15:38:56.303 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:38:56.304 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-08-12 15:38:56.306 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:38:56.308 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:38:56.312 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:38:56.315 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 15:38:56.350 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:38:56.354 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:38:56.355 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:38:56.356 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:38:56.358 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:38:56.359 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:38:56.373 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 431.1167ms
2025-08-12 15:38:56.375 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 15:38:56.524 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"meghana@gmail.com","password":"Password@123"} Responded with [200] in 675ms
2025-08-12 15:38:56.528 +05:30 [DBG] Connection id "0HNEPH05NH390" completed keep alive response.
2025-08-12 15:38:56.531 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:38:56.534 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:38:56.535 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:38:56.536 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 903 application/json 698.686ms
2025-08-12 15:38:56.582 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:38:56.590 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:38:56.592 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:38:56.595 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:38:56.596 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:38:56.597 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:38:56.598 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 3ms
2025-08-12 15:38:56.599 +05:30 [DBG] Connection id "0HNEPH05NH390" completed keep alive response.
2025-08-12 15:38:56.601 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 18.3678ms
2025-08-12 15:38:56.602 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:38:56.607 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:38:56.608 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:38:56.611 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:38:56.615 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:38:56.618 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:38:56.620 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:38:56.669 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:38:56.672 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:38:56.679 +05:30 [DBG] Authorization was successful.
2025-08-12 15:38:56.680 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:38:56.686 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:38:56.688 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:38:56.689 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:38:56.691 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:38:56.693 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:38:56.694 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:38:56.696 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:38:56.706 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:38:56.838 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:38:56.843 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:38:56.845 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:38:56.849 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:38:56.852 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:38:56.854 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:38:56.855 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:38:56.856 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:38:56.857 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:38:56.858 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:38:56.861 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:38:56.883 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .Count()'
2025-08-12 15:38:56.918 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 15:38:56.927 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:38:56.928 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 15:38:56.929 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:38:56.931 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:38:56.932 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:38:56.934 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:38:56.935 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 15:38:56.936 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:38:56.950 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:38:56.953 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:38:56.954 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 15:38:56.955 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:38:56.956 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:38:56.960 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .OrderBy(t => t.Title)
    .Skip(__p_1)
    .Take(__p_2)'
2025-08-12 15:38:56.975 +05:30 [DBG] Including navigation: 'TripModel.BudgetDetails'.
2025-08-12 15:38:56.977 +05:30 [DBG] Including navigation: 'TripModel.Reviews'.
2025-08-12 15:38:57.029 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
            1 -> Dictionary<IProperty, int> { [Property: BudgetDetailsModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: BudgetDetailsModel.Food (decimal) Required, 16], [Property: BudgetDetailsModel.Hotel (decimal) Required, 17], [Property: BudgetDetailsModel.TripId (int) Required FK Index, 18] }
            2 -> 0
            3 -> 15
            4 -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: ReviewModel.Rating (int) Required, 20], [Property: ReviewModel.ReviewText (string) Required, 21], [Property: ReviewModel.TripId (int) Required FK Index, 22], [Property: ReviewModel.UserId (int) Required FK Index, 23] }
            5 -> 19
        SELECT t1.Id, t1.BestTime, t1.Budget, t1.Description, t1.Destination, t1.Duration, t1.EndDate, t1.EssentialsJson, t1.Image, t1.Notes, t1.StartDate, t1.Title, t1.TouristSpotsJson, t1.TravelMode, t1.UserId, b.Id, b.Food, b.Hotel, b.TripId, r.Id, r.Rating, r.review, r.TripId, r.UserId
        FROM 
        (
            SELECT t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))
            ORDER BY t.Title ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS t1
        LEFT JOIN budgetdetails AS b ON t1.Id == b.TripId
        LEFT JOIN reviews AS r ON t1.Id == r.TripId
        ORDER BY t1.Title ASC, t1.Id ASC, b.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 15:38:57.035 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:38:57.036 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:38:57.037 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:38:57.038 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:38:57.039 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:38:57.040 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:38:57.060 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:38:57.073 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:38:57.099 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:38:57.101 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:38:57.114 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:38:57.119 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:38:57.122 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:38:57.123 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:38:57.124 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:38:57.125 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:38:57.126 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:38:57.127 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:38:57.128 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:38:57.129 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:38:57.130 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:38:57.131 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:38:57.132 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:38:57.133 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:38:57.134 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:38:57.135 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:38:57.136 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:38:57.137 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:38:57.138 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 74ms reading results.
2025-08-12 15:38:57.140 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:38:57.141 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:38:57.147 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:38:57.149 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:38:57.150 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:38:57.150 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:38:57.151 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:38:57.153 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:38:57.165 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 468.8932ms
2025-08-12 15:38:57.166 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:38:57.171 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 552ms
2025-08-12 15:38:57.173 +05:30 [DBG] Connection id "0HNEPH05NH38V" completed keep alive response.
2025-08-12 15:38:57.174 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:38:57.175 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:38:57.177 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:38:57.179 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 577.2696ms
2025-08-12 15:40:53.205 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:40:53.218 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:40:53.228 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:40:53.232 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:40:53.234 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:40:53.236 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:40:53.240 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 7ms
2025-08-12 15:40:53.243 +05:30 [DBG] Connection id "0HNEPH05NH390" completed keep alive response.
2025-08-12 15:40:53.245 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 40.3912ms
2025-08-12 15:40:53.250 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:40:53.307 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:40:53.308 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:40:53.310 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:40:53.312 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:40:53.313 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:40:53.313 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:40:53.317 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:40:53.320 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:40:53.322 +05:30 [DBG] Authorization was successful.
2025-08-12 15:40:53.323 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:40:53.327 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:40:53.329 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:40:53.330 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:40:53.331 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:40:53.333 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:40:53.335 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:40:53.338 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:40:53.342 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:40:53.345 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:40:53.347 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:40:53.355 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:40:53.357 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:40:53.359 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:40:53.361 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:40:53.364 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:40:53.365 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:40:53.368 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:40:53.370 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:40:53.372 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:40:53.377 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:40:53.378 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 15:40:53.379 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:40:53.381 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:40:53.382 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:40:53.384 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:40:53.386 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-12 15:40:53.389 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:40:53.404 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:40:53.408 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:40:53.410 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 15:40:53.411 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:40:53.413 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:40:53.416 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:40:53.418 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:40:53.419 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:40:53.420 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:40:53.421 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:40:53.422 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:40:53.441 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:40:53.448 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:40:53.451 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:40:53.453 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:40:53.458 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:40:53.463 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:40:53.465 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:40:53.467 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:40:53.469 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:40:53.471 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:40:53.475 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:40:53.477 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:40:53.479 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:40:53.481 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:40:53.482 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:40:53.484 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:40:53.486 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:40:53.487 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:40:53.489 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:40:53.490 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:40:53.493 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:40:53.495 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:40:53.496 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 48ms reading results.
2025-08-12 15:40:53.498 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:40:53.499 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:40:53.501 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:40:53.504 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:40:53.506 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:40:53.507 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:40:53.508 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:40:53.509 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:40:53.511 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 173.6043ms
2025-08-12 15:40:53.514 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:40:53.517 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 203ms
2025-08-12 15:40:53.518 +05:30 [DBG] Connection id "0HNEPH05NH38V" completed keep alive response.
2025-08-12 15:40:53.519 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:40:53.520 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:40:53.523 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 15:40:53.524 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 274.7925ms
2025-08-12 15:41:37.314 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:41:37.328 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:41:37.329 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:41:37.331 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:41:37.332 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:41:37.334 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:41:37.342 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 11ms
2025-08-12 15:41:37.344 +05:30 [DBG] Connection id "0HNEPH05NH390" completed keep alive response.
2025-08-12 15:41:37.345 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 36.193ms
2025-08-12 15:41:37.347 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:41:37.356 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:41:37.358 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:41:37.361 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:41:37.363 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:41:37.365 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:41:37.368 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:41:37.370 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:41:37.372 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:41:37.376 +05:30 [DBG] Authorization was successful.
2025-08-12 15:41:37.377 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:41:37.378 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:41:37.380 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:41:37.382 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:41:37.384 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:41:37.388 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:41:37.390 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:41:37.392 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:41:37.399 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:41:37.412 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:41:37.414 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:41:37.417 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:41:37.420 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:41:37.423 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:41:37.425 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:41:37.427 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:41:37.429 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:41:37.430 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:41:37.431 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:41:37.433 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:41:37.436 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:41:37.437 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 15:41:37.438 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:41:37.439 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:41:37.440 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:41:37.441 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:41:37.442 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:41:37.443 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:41:37.456 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:41:37.458 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:41:37.459 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:41:37.460 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:41:37.461 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:41:37.465 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:41:37.467 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:41:37.470 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:41:37.473 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:41:37.476 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-08-12 15:41:37.478 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:41:37.497 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:41:37.504 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:41:37.506 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:41:37.507 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:41:37.509 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:41:37.511 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:41:37.513 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:41:37.514 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:41:37.516 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:41:37.518 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:41:37.520 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:41:37.522 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:41:37.523 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:41:37.524 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:41:37.526 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:41:37.527 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:41:37.528 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:41:37.530 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:41:37.531 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:41:37.532 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:41:37.534 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:41:37.536 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:41:37.537 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 34ms reading results.
2025-08-12 15:41:37.539 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:41:37.541 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:41:37.543 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:41:37.545 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:41:37.546 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:41:37.547 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:41:37.547 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:41:37.549 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:41:37.550 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 158.4996ms
2025-08-12 15:41:37.551 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:41:37.556 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 191ms
2025-08-12 15:41:37.558 +05:30 [DBG] Connection id "0HNEPH05NH38V" completed keep alive response.
2025-08-12 15:41:37.562 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:41:37.563 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:41:37.565 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:41:37.567 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 219.1808ms
2025-08-12 15:41:47.368 +05:30 [DBG] Connection id "0HNEPH05NH38V" received FIN.
2025-08-12 15:41:47.369 +05:30 [DBG] Connection id "0HNEPH05NH38U" received FIN.
2025-08-12 15:41:47.374 +05:30 [DBG] Connection id "0HNEPH05NH38V" disconnecting.
2025-08-12 15:41:47.376 +05:30 [DBG] Connection id "0HNEPH05NH38U" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 15:41:47.380 +05:30 [DBG] Connection id "0HNEPH05NH38V" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 15:41:47.383 +05:30 [DBG] Connection id "0HNEPH05NH38U" disconnecting.
2025-08-12 15:41:47.368 +05:30 [DBG] Connection id "0HNEPH05NH390" received FIN.
2025-08-12 15:41:47.391 +05:30 [DBG] Connection id "0HNEPH05NH38U" stopped.
2025-08-12 15:41:47.391 +05:30 [DBG] Connection id "0HNEPH05NH390" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 15:41:47.394 +05:30 [DBG] Connection id "0HNEPH05NH390" disconnecting.
2025-08-12 15:41:47.395 +05:30 [DBG] Connection id "0HNEPH05NH390" stopped.
2025-08-12 15:41:47.401 +05:30 [DBG] Connection id "0HNEPH05NH38V" stopped.
2025-08-12 15:42:02.040 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-12 15:42:02.183 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-12 15:42:02.233 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-12 15:42:02.590 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-12 15:42:02.591 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-12 15:42:02.592 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-12 15:42:02.593 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-12 15:42:02.692 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 15:42:02.693 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 15:42:02.694 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 15:42:02.695 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 15:42:02.781 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:42:02.846 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-12 15:42:02.970 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 15:42:03.000 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:42:03.020 +05:30 [DBG] Created DbConnection. (18ms).
2025-08-12 15:42:03.027 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:42:03.253 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:42:03.257 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:42:03.263 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-12 15:42:03.271 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-08-12 15:42:03.278 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-12 15:42:03.317 +05:30 [INF] Executed DbCommand (39ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-12 15:42:03.348 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:42:03.362 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:42:03.367 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 44ms reading results.
2025-08-12 15:42:03.371 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:42:03.377 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (5ms).
2025-08-12 15:42:03.383 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-12 15:42:03.390 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 2], [Property: UserModel.Email (string) MaxLength(256), 3], [Property: UserModel.EmailConfirmed (bool) Required, 4], [Property: UserModel.IsActive (bool) Required, 5], [Property: UserModel.IsAdmin (bool) Required, 6], [Property: UserModel.LastLoginDate (DateTime) Required, 7], [Property: UserModel.LockoutEnabled (bool) Required, 8], [Property: UserModel.LockoutEnd (DateTimeOffset?), 9], [Property: UserModel.Name (string) Required, 10], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 11], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 12], [Property: UserModel.PasswordHash (string), 13], [Property: UserModel.PhoneNumber (string), 14], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 15], [Property: UserModel.Role (string) Required, 16], [Property: UserModel.SecurityStamp (string), 17], [Property: UserModel.TwoFactorEnabled (bool) Required, 18], [Property: UserModel.UserName (string) MaxLength(256), 19] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 15:42:03.395 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:42:03.396 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:42:03.403 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:42:03.405 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:42:03.406 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 15:42:03.408 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 15:42:03.425 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 15:42:03.458 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:42:03.517 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:42:03.518 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 88ms reading results.
2025-08-12 15:42:03.522 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:42:03.524 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:42:03.529 +05:30 [INF] Admin user already exists.
2025-08-12 15:42:03.532 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:42:03.535 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:42:03.538 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 15:42:03.545 +05:30 [DBG] Hosting starting
2025-08-12 15:42:03.563 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-12 15:42:03.571 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-12 15:42:03.585 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-12 15:42:03.593 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-12 15:42:03.597 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-12 15:42:03.600 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-12 15:42:03.604 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-12 15:42:03.606 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-12 15:42:03.610 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-12 15:42:03.612 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-12 15:42:03.732 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-12 15:42:03.733 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-12 15:42:03.735 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-12 15:42:03.737 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-12 15:42:03.738 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-12 15:42:03.748 +05:30 [DBG] Connection id "0HNEPH2NLTCFH" accepted.
2025-08-12 15:42:03.750 +05:30 [DBG] Connection id "0HNEPH2NLTCFH" started.
2025-08-12 15:42:03.786 +05:30 [DBG] Connection id "0HNEPH2NLTCFH" received FIN.
2025-08-12 15:42:03.797 +05:30 [DBG] Connection id "0HNEPH2NLTCFH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 15:42:03.804 +05:30 [DBG] Connection id "0HNEPH2NLTCFH" disconnecting.
2025-08-12 15:42:03.808 +05:30 [DBG] Connection id "0HNEPH2NLTCFH" stopped.
2025-08-12 15:42:03.895 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-12 15:42:03.896 +05:30 [INF] Hosting environment: Development
2025-08-12 15:42:03.898 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-12 15:42:03.900 +05:30 [DBG] Hosting started
2025-08-12 15:48:27.925 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-12 15:48:28.094 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-12 15:48:28.141 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-12 15:48:28.510 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-12 15:48:28.512 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-12 15:48:28.513 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-12 15:48:28.514 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-12 15:48:28.629 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 15:48:28.630 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 15:48:28.633 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 15:48:28.636 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-12 15:48:28.730 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:48:28.797 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-12 15:48:28.966 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 15:48:29.000 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:48:29.018 +05:30 [DBG] Created DbConnection. (17ms).
2025-08-12 15:48:29.022 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:48:29.255 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:48:29.259 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:48:29.267 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-08-12 15:48:29.274 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-08-12 15:48:29.281 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-12 15:48:29.328 +05:30 [INF] Executed DbCommand (46ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-12 15:48:29.362 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:48:29.381 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:48:29.387 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 54ms reading results.
2025-08-12 15:48:29.391 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:48:29.396 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (4ms).
2025-08-12 15:48:29.400 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-12 15:48:29.408 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 2], [Property: UserModel.Email (string) MaxLength(256), 3], [Property: UserModel.EmailConfirmed (bool) Required, 4], [Property: UserModel.IsActive (bool) Required, 5], [Property: UserModel.IsAdmin (bool) Required, 6], [Property: UserModel.LastLoginDate (DateTime) Required, 7], [Property: UserModel.LockoutEnabled (bool) Required, 8], [Property: UserModel.LockoutEnd (DateTimeOffset?), 9], [Property: UserModel.Name (string) Required, 10], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 11], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 12], [Property: UserModel.PasswordHash (string), 13], [Property: UserModel.PhoneNumber (string), 14], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 15], [Property: UserModel.Role (string) Required, 16], [Property: UserModel.SecurityStamp (string), 17], [Property: UserModel.TwoFactorEnabled (bool) Required, 18], [Property: UserModel.UserName (string) MaxLength(256), 19] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 15:48:29.413 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:48:29.415 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:48:29.416 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:48:29.417 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:48:29.417 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:48:29.418 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 15:48:29.424 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 15:48:29.450 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:48:29.493 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:48:29.496 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 67ms reading results.
2025-08-12 15:48:29.500 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:48:29.502 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-12 15:48:29.508 +05:30 [INF] Admin user already exists.
2025-08-12 15:48:29.511 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:48:29.515 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:48:29.517 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 15:48:29.521 +05:30 [DBG] Hosting starting
2025-08-12 15:48:29.533 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-12 15:48:29.541 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-12 15:48:29.549 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-12 15:48:29.553 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-12 15:48:29.555 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-12 15:48:29.558 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-12 15:48:29.561 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-12 15:48:29.562 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-12 15:48:29.564 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-12 15:48:29.566 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-12 15:48:29.662 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-12 15:48:29.663 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-12 15:48:29.664 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-12 15:48:29.665 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-12 15:48:29.666 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-12 15:48:29.784 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-12 15:48:29.786 +05:30 [INF] Hosting environment: Development
2025-08-12 15:48:29.787 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-12 15:48:29.796 +05:30 [DBG] Hosting started
2025-08-12 15:48:30.020 +05:30 [DBG] Connection id "0HNEPH6APMCVB" accepted.
2025-08-12 15:48:30.022 +05:30 [DBG] Connection id "0HNEPH6APMCVB" started.
2025-08-12 15:48:30.027 +05:30 [DBG] Connection id "0HNEPH6APMCVC" accepted.
2025-08-12 15:48:30.028 +05:30 [DBG] Connection id "0HNEPH6APMCVC" started.
2025-08-12 15:48:30.039 +05:30 [DBG] Connection id "0HNEPH6APMCVB" received FIN.
2025-08-12 15:48:30.039 +05:30 [DBG] Connection id "0HNEPH6APMCVC" received FIN.
2025-08-12 15:48:30.047 +05:30 [DBG] Connection id "0HNEPH6APMCVB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 15:48:30.050 +05:30 [DBG] Connection id "0HNEPH6APMCVC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 15:48:30.057 +05:30 [DBG] Connection id "0HNEPH6APMCVB" disconnecting.
2025-08-12 15:48:30.057 +05:30 [DBG] Connection id "0HNEPH6APMCVC" disconnecting.
2025-08-12 15:48:30.065 +05:30 [DBG] Connection id "0HNEPH6APMCVB" stopped.
2025-08-12 15:48:30.065 +05:30 [DBG] Connection id "0HNEPH6APMCVC" stopped.
2025-08-12 15:48:32.284 +05:30 [DBG] Connection id "0HNEPH6APMCVD" accepted.
2025-08-12 15:48:32.286 +05:30 [DBG] Connection id "0HNEPH6APMCVD" started.
2025-08-12 15:48:32.325 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:48:32.338 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-12 15:48:32.380 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:48:32.386 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:48:32.445 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-12 15:48:32.452 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:48:32.457 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:48:32.461 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:48:32.484 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 38ms
2025-08-12 15:48:32.488 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:48:32.492 +05:30 [DBG] Connection id "0HNEPH6APMCVE" accepted.
2025-08-12 15:48:32.493 +05:30 [DBG] Connection id "0HNEPH6APMCVE" started.
2025-08-12 15:48:32.494 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 180.4995ms
2025-08-12 15:48:32.497 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:48:32.508 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:48:32.511 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:48:32.516 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:48:32.523 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:48:32.528 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:48:32.529 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:48:32.630 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:48:32.632 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:48:32.637 +05:30 [DBG] Authorization was successful.
2025-08-12 15:48:32.638 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:48:32.659 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:48:32.661 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:48:32.662 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:48:32.663 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:48:32.667 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:48:32.668 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:48:32.672 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:48:32.711 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:48:32.815 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:48:32.821 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:48:32.823 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:48:32.828 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:48:32.830 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:48:32.833 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:48:32.834 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:48:32.835 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:48:32.836 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:48:32.837 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:48:32.843 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:48:32.859 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .Count()'
2025-08-12 15:48:32.892 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 15:48:32.902 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:48:32.903 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 15:48:32.904 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:48:32.905 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:48:32.906 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:48:32.906 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:48:32.907 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:48:32.909 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:48:32.915 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:48:32.919 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:48:32.920 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 15:48:32.923 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:48:32.924 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:48:32.929 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .OrderBy(t => t.Title)
    .Skip(__p_1)
    .Take(__p_2)'
2025-08-12 15:48:32.936 +05:30 [DBG] Including navigation: 'TripModel.BudgetDetails'.
2025-08-12 15:48:32.938 +05:30 [DBG] Including navigation: 'TripModel.Reviews'.
2025-08-12 15:48:32.990 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
            1 -> Dictionary<IProperty, int> { [Property: BudgetDetailsModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: BudgetDetailsModel.Food (decimal) Required, 16], [Property: BudgetDetailsModel.Hotel (decimal) Required, 17], [Property: BudgetDetailsModel.TripId (int) Required FK Index, 18] }
            2 -> 0
            3 -> 15
            4 -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: ReviewModel.Rating (int) Required, 20], [Property: ReviewModel.ReviewText (string) Required, 21], [Property: ReviewModel.TripId (int) Required FK Index, 22], [Property: ReviewModel.UserId (int) Required FK Index, 23] }
            5 -> 19
        SELECT t1.Id, t1.BestTime, t1.Budget, t1.Description, t1.Destination, t1.Duration, t1.EndDate, t1.EssentialsJson, t1.Image, t1.Notes, t1.StartDate, t1.Title, t1.TouristSpotsJson, t1.TravelMode, t1.UserId, b.Id, b.Food, b.Hotel, b.TripId, r.Id, r.Rating, r.review, r.TripId, r.UserId
        FROM 
        (
            SELECT t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))
            ORDER BY t.Title ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS t1
        LEFT JOIN budgetdetails AS b ON t1.Id == b.TripId
        LEFT JOIN reviews AS r ON t1.Id == r.TripId
        ORDER BY t1.Title ASC, t1.Id ASC, b.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 15:48:32.995 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:48:32.996 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:48:32.997 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:48:32.998 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:48:33.000 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:48:33.001 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:48:33.017 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:48:33.037 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:48:33.063 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:48:33.065 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:48:33.075 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:48:33.079 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:48:33.083 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:48:33.088 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:48:33.090 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:48:33.091 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:48:33.094 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:48:33.097 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:48:33.098 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:48:33.100 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:48:33.102 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:48:33.105 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:48:33.107 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:48:33.109 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:48:33.111 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:48:33.112 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:48:33.114 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:48:33.115 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:48:33.116 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 95ms reading results.
2025-08-12 15:48:33.118 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:48:33.119 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:48:33.132 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:48:33.136 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:48:33.137 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:48:33.138 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:48:33.139 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:48:33.141 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:48:33.169 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 495.3148ms
2025-08-12 15:48:33.171 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:48:33.385 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 858ms
2025-08-12 15:48:33.389 +05:30 [DBG] Connection id "0HNEPH6APMCVE" completed keep alive response.
2025-08-12 15:48:33.390 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:48:33.394 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:48:33.396 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:48:33.399 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 902.7914ms
2025-08-12 15:48:34.605 +05:30 [DBG] Connection id "0HNEPH6APMCVF" accepted.
2025-08-12 15:48:34.606 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/index.html - null null
2025-08-12 15:48:34.608 +05:30 [DBG] Connection id "0HNEPH6APMCVF" started.
2025-08-12 15:48:34.722 +05:30 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-12 15:48:34.723 +05:30 [DBG] Request did not match any endpoints
2025-08-12 15:48:34.794 +05:30 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-12 15:48:34.796 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-12 15:48:34.809 +05:30 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-12 15:48:34.811 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-12 15:48:34.813 +05:30 [DBG] Connection id "0HNEPH6APMCVE" completed keep alive response.
2025-08-12 15:48:34.815 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/index.html - 200 null text/html;charset=utf-8 208.6438ms
2025-08-12 15:48:34.926 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - null null
2025-08-12 15:48:34.927 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_vs/browserLink - null null
2025-08-12 15:48:34.930 +05:30 [DBG] Connection id "0HNEPH6APMCVE" completed keep alive response.
2025-08-12 15:48:34.932 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - 200 13768 application/javascript; charset=utf-8 5.2154ms
2025-08-12 15:48:34.958 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 15:48:34.959 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.4791ms
2025-08-12 15:48:35.003 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - null null
2025-08-12 15:48:35.007 +05:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-12 15:48:35.008 +05:30 [DBG] Request did not match any endpoints
2025-08-12 15:48:35.037 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 15:48:35.039 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 36.2506ms
2025-08-12 15:51:29.552 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/signup - null null
2025-08-12 15:51:29.555 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/signup'
2025-08-12 15:51:29.562 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:51:29.564 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:51:29.565 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:51:29.566 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:51:29.568 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/signup   Responded with [204] in 4ms
2025-08-12 15:51:29.569 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:51:29.570 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/signup - 204 null null 17.8287ms
2025-08-12 15:51:29.579 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/signup - application/json 73
2025-08-12 15:51:29.582 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/signup'
2025-08-12 15:51:29.583 +05:30 [DBG] Endpoint 'AuthController.Signup (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/signup' is valid for the request path '/api/v1/Auth/signup'
2025-08-12 15:51:29.585 +05:30 [DBG] Request matched endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-12 15:51:29.591 +05:30 [DBG] Connection id "0HNEPH6APMCVD", Request id "0HNEPH6APMCVD:00000003": started reading request body.
2025-08-12 15:51:29.593 +05:30 [DBG] Connection id "0HNEPH6APMCVD", Request id "0HNEPH6APMCVD:00000003": done reading request body.
2025-08-12 15:51:29.596 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:51:29.597 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:51:29.599 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 15:51:29.601 +05:30 [INF] Executing endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-12 15:51:29.608 +05:30 [INF] Route matched with {action = "Signup", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Signup(TravelPlannerAPI.Dtos.SignupRequest) on controller AuthController (TravelPlannerAPI).
2025-08-12 15:51:29.611 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:51:29.612 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:51:29.614 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:51:29.616 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:51:29.617 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:51:29.619 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 15:51:29.633 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:51:29.635 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 15:51:29.637 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' ...
2025-08-12 15:51:29.639 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' using the name '' in request data ...
2025-08-12 15:51:29.643 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 15:51:29.662 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.SignupRequest'
2025-08-12 15:51:29.663 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-12 15:51:29.664 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-12 15:51:29.665 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' ...
2025-08-12 15:51:29.669 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-12 15:51:29.675 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:51:29.676 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:51:29.677 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:29.678 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:29.679 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:51:29.680 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:51:29.681 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:51:29.682 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 15:51:29.688 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 15:51:29.691 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:29.692 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 15:51:29.693 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:29.694 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:51:29.763 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-08-12 15:51:29.771 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 2], [Property: UserModel.Email (string) MaxLength(256), 3], [Property: UserModel.EmailConfirmed (bool) Required, 4], [Property: UserModel.IsActive (bool) Required, 5], [Property: UserModel.IsAdmin (bool) Required, 6], [Property: UserModel.LastLoginDate (DateTime) Required, 7], [Property: UserModel.LockoutEnabled (bool) Required, 8], [Property: UserModel.LockoutEnd (DateTimeOffset?), 9], [Property: UserModel.Name (string) Required, 10], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 11], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 12], [Property: UserModel.PasswordHash (string), 13], [Property: UserModel.PhoneNumber (string), 14], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 15], [Property: UserModel.Role (string) Required, 16], [Property: UserModel.SecurityStamp (string), 17], [Property: UserModel.TwoFactorEnabled (bool) Required, 18], [Property: UserModel.UserName (string) MaxLength(256), 19] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 15:51:29.775 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:29.778 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:29.779 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:51:29.779 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:51:29.780 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:51:29.781 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 15:51:29.786 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 15:51:29.791 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:29.792 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 15:51:29.793 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:29.794 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:51:29.814 +05:30 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'UserModel.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:51:29.824 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:51:29.830 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 15:51:29.834 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 15:51:29.852 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 15:51:29.913 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:29.914 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:29.918 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:51:29.919 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:51:29.921 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 15:51:29.922 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [IsActive], [IsAdmin], [LastLoginDate], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-08-12 15:51:29.931 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [IsActive], [IsAdmin], [LastLoginDate], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-08-12 15:51:29.945 +05:30 [DBG] The foreign key property 'UserModel.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 15:51:29.951 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:29.953 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 18ms reading results.
2025-08-12 15:51:29.955 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:29.956 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:51:29.966 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:51:29.971 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 15:51:29.974 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:51:29.976 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:51:29.977 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:51:29.978 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:51:29.980 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:51:29.981 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 15:51:29.986 +05:30 [INF] Executed action AuthController.Signup (TravelPlannerAPI) in 366.3313ms
2025-08-12 15:51:29.987 +05:30 [INF] Executed endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-12 15:51:29.988 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/signup  {"Name":"Lovebin","Email":"lovebin@gmail.com","Password":"Password@1234"} Responded with [200] in 401ms
2025-08-12 15:51:29.990 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:51:29.992 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:51:29.993 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:29.995 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:51:29.996 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/signup - 200 122 application/json 417.1769ms
2025-08-12 15:51:41.783 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-12 15:51:41.786 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 15:51:41.787 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:51:41.788 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:51:41.789 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:51:41.790 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:51:41.791 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 3ms
2025-08-12 15:51:41.791 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:51:41.793 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 10.1092ms
2025-08-12 15:51:41.795 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 56
2025-08-12 15:51:41.797 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 15:51:41.798 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-12 15:51:41.799 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 15:51:41.800 +05:30 [DBG] Connection id "0HNEPH6APMCVD", Request id "0HNEPH6APMCVD:00000005": started reading request body.
2025-08-12 15:51:41.801 +05:30 [DBG] Connection id "0HNEPH6APMCVD", Request id "0HNEPH6APMCVD:00000005": done reading request body.
2025-08-12 15:51:41.802 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:51:41.805 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:51:41.807 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 15:51:41.808 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 15:51:41.812 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-12 15:51:41.813 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:51:41.814 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:51:41.815 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:51:41.817 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:51:41.818 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:51:41.819 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 15:51:41.826 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:51:41.827 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 15:51:41.828 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 15:51:41.829 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-12 15:51:41.830 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 15:51:41.832 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-12 15:51:41.833 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 15:51:41.833 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 15:51:41.834 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 15:51:41.836 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 15:51:41.838 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:51:41.839 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:51:41.840 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:41.841 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:41.843 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:51:41.845 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:51:41.847 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 15:51:41.848 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 15:51:41.851 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 15:51:41.855 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:51:41.856 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:41.857 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 15:51:41.858 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:41.859 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:51:41.912 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:41.913 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:41.914 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:51:41.915 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:51:41.916 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:51:41.917 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 15:51:41.920 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 15:51:41.922 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:41.923 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:51:41.924 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:41.925 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:51:41.929 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:51:41.930 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 15:51:41.932 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 15:51:41.933 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 15:51:41.940 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:41.942 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:41.942 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:51:41.943 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:51:41.944 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:51:41.945 +05:30 [DBG] Executing DbCommand [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 15:51:41.951 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 15:51:41.955 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:41.955 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 15:51:41.957 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:41.957 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:51:41.958 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:51:41.959 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 15:51:41.971 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:51:41.973 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:51:41.974 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:51:41.974 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:51:41.975 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:51:41.976 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:51:41.981 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 161.8344ms
2025-08-12 15:51:41.982 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 15:51:41.983 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"lovebin@gmail.com","password":"Password@1234"} Responded with [200] in 183ms
2025-08-12 15:51:41.984 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:51:41.986 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:51:41.987 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:41.988 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:51:41.989 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 906 application/json 194.6589ms
2025-08-12 15:51:42.038 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:51:42.045 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:51:42.051 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:51:42.054 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:51:42.055 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:51:42.056 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:51:42.058 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 4ms
2025-08-12 15:51:42.061 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:51:42.063 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 24.3617ms
2025-08-12 15:51:42.066 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:51:42.070 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:51:42.071 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:51:42.072 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:51:42.074 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:51:42.076 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:51:42.077 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:51:42.079 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:51:42.081 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:51:42.088 +05:30 [DBG] Authorization was successful.
2025-08-12 15:51:42.090 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:51:42.094 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:51:42.098 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:51:42.099 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:51:42.101 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:51:42.104 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:51:42.106 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:51:42.110 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:51:42.114 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:51:42.117 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:51:42.119 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:51:42.120 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:51:42.122 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:51:42.125 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:51:42.127 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:51:42.128 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:51:42.130 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:51:42.132 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:51:42.132 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:51:42.134 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:51:42.137 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:51:42.137 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:51:42.138 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:42.141 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:42.142 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:51:42.142 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:51:42.144 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:51:42.145 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:51:42.153 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:51:42.157 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:42.158 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 15:51:42.160 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:42.161 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:51:42.165 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:42.166 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:42.167 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:51:42.168 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:51:42.169 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:51:42.170 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:51:42.187 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:51:42.192 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:42.193 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 15:51:42.194 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:42.195 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:51:42.197 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:51:42.199 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:51:42.199 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:51:42.200 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:51:42.201 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:51:42.202 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:51:42.203 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 92.9657ms
2025-08-12 15:51:42.205 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:51:42.206 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 130ms
2025-08-12 15:51:42.208 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 15:51:42.209 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:51:42.209 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:42.210 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 15:51:42.211 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 145.707ms
2025-08-12 15:51:57.451 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/signup - null null
2025-08-12 15:51:57.453 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/signup'
2025-08-12 15:51:57.454 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:51:57.456 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:51:57.457 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:51:57.458 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:51:57.459 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/signup   Responded with [204] in 3ms
2025-08-12 15:51:57.460 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:51:57.461 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/signup - 204 null null 10.419ms
2025-08-12 15:51:57.463 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/signup - application/json 73
2025-08-12 15:51:57.465 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/signup'
2025-08-12 15:51:57.466 +05:30 [DBG] Endpoint 'AuthController.Signup (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/signup' is valid for the request path '/api/v1/Auth/signup'
2025-08-12 15:51:57.468 +05:30 [DBG] Request matched endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-12 15:51:57.468 +05:30 [DBG] Connection id "0HNEPH6APMCVD", Request id "0HNEPH6APMCVD:00000008": started reading request body.
2025-08-12 15:51:57.469 +05:30 [DBG] Connection id "0HNEPH6APMCVD", Request id "0HNEPH6APMCVD:00000008": done reading request body.
2025-08-12 15:51:57.473 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:51:57.474 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:51:57.475 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 15:51:57.476 +05:30 [INF] Executing endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-12 15:51:57.477 +05:30 [INF] Route matched with {action = "Signup", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Signup(TravelPlannerAPI.Dtos.SignupRequest) on controller AuthController (TravelPlannerAPI).
2025-08-12 15:51:57.478 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:51:57.479 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:51:57.480 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:51:57.482 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:51:57.483 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:51:57.485 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 15:51:57.494 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:51:57.497 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 15:51:57.498 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' ...
2025-08-12 15:51:57.499 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' using the name '' in request data ...
2025-08-12 15:51:57.500 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 15:51:57.503 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.SignupRequest'
2025-08-12 15:51:57.504 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-12 15:51:57.504 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-12 15:51:57.505 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' ...
2025-08-12 15:51:57.506 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-12 15:51:57.508 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:51:57.509 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:51:57.509 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:57.511 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:57.512 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:51:57.512 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:51:57.513 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:51:57.514 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 15:51:57.517 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 15:51:57.520 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:51:57.521 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:57.522 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 15:51:57.523 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:57.525 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:51:57.526 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:51:57.528 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:51:57.529 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:51:57.530 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:51:57.530 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:51:57.531 +05:30 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 15:51:57.532 +05:30 [INF] Executed action AuthController.Signup (TravelPlannerAPI) in 47.6912ms
2025-08-12 15:51:57.534 +05:30 [INF] Executed endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-12 15:51:57.549 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/signup  {"Name":"Lovebin","Email":"lovebin@gmail.com","Password":"Password@1234"} Responded with [400] in 80ms
2025-08-12 15:51:57.551 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:51:57.552 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:51:57.553 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:51:57.554 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 15:51:57.555 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/signup - 400 134 application/json 91.1868ms
2025-08-12 15:52:19.708 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-12 15:52:19.713 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 15:52:19.714 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:52:19.715 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:52:19.716 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:52:19.717 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:52:19.718 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 2ms
2025-08-12 15:52:19.718 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:52:19.725 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 17.2438ms
2025-08-12 15:52:19.729 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 56
2025-08-12 15:52:19.730 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 15:52:19.731 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-12 15:52:19.733 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 15:52:19.733 +05:30 [DBG] Connection id "0HNEPH6APMCVD", Request id "0HNEPH6APMCVD:0000000A": started reading request body.
2025-08-12 15:52:19.734 +05:30 [DBG] Connection id "0HNEPH6APMCVD", Request id "0HNEPH6APMCVD:0000000A": done reading request body.
2025-08-12 15:52:19.736 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:52:19.736 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:52:19.737 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 15:52:19.739 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 15:52:19.740 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-12 15:52:19.741 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:52:19.742 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:52:19.743 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:52:19.745 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:52:19.746 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:52:19.748 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 15:52:19.749 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:52:19.751 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 15:52:19.752 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 15:52:19.753 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-12 15:52:19.755 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 15:52:19.756 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-12 15:52:19.757 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 15:52:19.758 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 15:52:19.758 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 15:52:19.759 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 15:52:19.761 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:52:19.761 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:52:19.762 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:19.763 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:19.764 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:52:19.765 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:52:19.766 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:52:19.766 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 15:52:19.774 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 15:52:19.777 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:52:19.778 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:19.779 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 15:52:19.780 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:19.781 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:52:19.830 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:19.832 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:19.833 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:52:19.834 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:52:19.835 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:52:19.836 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 15:52:19.840 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 15:52:19.843 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:19.844 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:52:19.846 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:19.846 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:52:19.848 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:52:19.849 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 15:52:19.850 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 15:52:19.851 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 15:52:19.852 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:19.853 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:19.854 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:52:19.856 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:52:19.857 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 15:52:19.859 +05:30 [DBG] Executing DbCommand [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 15:52:19.870 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 15:52:19.873 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:19.874 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:52:19.875 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:19.876 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:52:19.877 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:52:19.878 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 15:52:19.879 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:52:19.881 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:52:19.882 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:52:19.883 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:52:19.883 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:52:19.884 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:52:19.887 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 139.0287ms
2025-08-12 15:52:19.888 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 15:52:19.889 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"lovebin@gmail.com","password":"Password@1234"} Responded with [200] in 155ms
2025-08-12 15:52:19.890 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:52:19.892 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:52:19.894 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:19.896 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:52:19.910 +05:30 [DBG] Connection id "0HNEPH6APMCVG" accepted.
2025-08-12 15:52:19.912 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 906 application/json 183.0236ms
2025-08-12 15:52:19.913 +05:30 [DBG] Connection id "0HNEPH6APMCVG" started.
2025-08-12 15:52:19.917 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:52:19.919 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:52:19.922 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:52:19.926 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:52:19.928 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:52:19.929 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:52:19.930 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:52:19.932 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:52:19.933 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:52:19.935 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:52:19.937 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:52:19.938 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:52:19.940 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 9ms
2025-08-12 15:52:19.941 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 9ms
2025-08-12 15:52:19.943 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:52:19.944 +05:30 [DBG] Connection id "0HNEPH6APMCVG" completed keep alive response.
2025-08-12 15:52:19.945 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 28.2987ms
2025-08-12 15:52:19.947 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 27.8791ms
2025-08-12 15:52:19.945 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:52:19.957 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:52:19.958 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:52:19.959 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:52:19.960 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:52:19.961 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:52:19.962 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:52:19.963 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:52:19.963 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:52:19.965 +05:30 [DBG] Authorization was successful.
2025-08-12 15:52:19.967 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:52:19.968 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:52:19.969 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:52:19.970 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:52:19.971 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:52:19.973 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:52:19.974 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:52:19.976 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:52:19.979 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:52:19.982 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:52:19.983 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:52:19.984 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:52:19.985 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:52:19.987 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:52:19.988 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:52:19.989 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:52:19.990 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:52:19.991 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:52:19.993 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:52:19.994 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:52:19.997 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:52:19.999 +05:30 [DBG] Created DbConnection. (2ms).
2025-08-12 15:52:20.000 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:20.001 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:20.003 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:52:20.003 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:52:20.005 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:52:20.006 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:52:20.015 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:52:20.018 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:20.019 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 15:52:20.022 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:20.023 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:52:20.025 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:20.026 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:20.027 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:52:20.028 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:52:20.029 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:52:20.030 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:52:20.042 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:52:20.045 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:20.047 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 15:52:20.048 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:20.049 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:52:20.051 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:52:20.054 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:52:20.055 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:52:20.056 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:52:20.057 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:52:20.058 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:52:20.060 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 83.5328ms
2025-08-12 15:52:20.061 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:52:20.063 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 101ms
2025-08-12 15:52:20.064 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 15:52:20.066 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:52:20.067 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:20.068 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:52:20.070 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 124.9064ms
2025-08-12 15:52:20.074 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:52:20.077 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:52:20.079 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:52:20.081 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:52:20.082 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:52:20.083 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:52:20.085 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:52:20.086 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:52:20.088 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:52:20.089 +05:30 [DBG] Authorization was successful.
2025-08-12 15:52:20.090 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:52:20.091 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:52:20.093 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:52:20.094 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:52:20.096 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:52:20.097 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:52:20.099 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:52:20.101 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:52:20.105 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:52:20.107 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:52:20.109 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:52:20.110 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:52:20.111 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:52:20.113 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:52:20.115 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:52:20.116 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:52:20.118 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:52:20.119 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:52:20.120 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:52:20.123 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:52:20.125 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:52:20.125 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:52:20.126 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:20.127 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:20.128 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:52:20.129 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:52:20.130 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:52:20.130 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:52:20.134 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:52:20.136 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:20.138 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 15:52:20.140 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:20.141 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:52:20.144 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:20.145 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:20.146 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:52:20.146 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:52:20.147 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:52:20.148 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:52:20.153 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:52:20.156 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:20.157 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:52:20.161 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:20.162 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:52:20.163 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:52:20.165 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:52:20.166 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:52:20.167 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:52:20.167 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:52:20.169 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:52:20.170 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 69.3514ms
2025-08-12 15:52:20.171 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:52:20.172 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 89ms
2025-08-12 15:52:20.174 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 15:52:20.174 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:52:20.177 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:20.178 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:52:20.179 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 105.0848ms
2025-08-12 15:52:27.234 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/104 - null null
2025-08-12 15:52:27.236 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/104'
2025-08-12 15:52:27.238 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:52:27.240 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:52:27.242 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:52:27.243 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:52:27.244 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/104   Responded with [204] in 4ms
2025-08-12 15:52:27.245 +05:30 [DBG] Connection id "0HNEPH6APMCVG" completed keep alive response.
2025-08-12 15:52:27.246 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/104 - 204 null null 12.3546ms
2025-08-12 15:52:27.246 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/104 - null null
2025-08-12 15:52:27.251 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/104'
2025-08-12 15:52:27.252 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/104'
2025-08-12 15:52:27.255 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 15:52:27.256 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:52:27.257 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:52:27.258 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:52:27.258 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:52:27.259 +05:30 [DBG] Authorization was successful.
2025-08-12 15:52:27.260 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 15:52:27.263 +05:30 [INF] Route matched with {action = "GetTrip", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TravelPlannerAPI.Dtos.TripDto]] GetTrip(Int32) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:52:27.264 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:52:27.265 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:52:27.266 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:52:27.268 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:52:27.269 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:52:27.271 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:52:27.273 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:52:27.274 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:52:27.275 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-12 15:52:27.276 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-12 15:52:27.277 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 15:52:27.277 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 15:52:27.278 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-12 15:52:27.279 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-12 15:52:27.282 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Include(t => t.SharedUsers)
    .FirstOrDefault(t => t.Id == __id_0)'
2025-08-12 15:52:27.284 +05:30 [DBG] Including navigation: 'TripModel.BudgetDetails'.
2025-08-12 15:52:27.285 +05:30 [DBG] Including navigation: 'TripModel.Reviews'.
2025-08-12 15:52:27.285 +05:30 [DBG] Including navigation: 'TripModel.SharedUsers'.
2025-08-12 15:52:27.295 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-12 15:52:27.300 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<TripModel>(
    asyncEnumerable: new SingleQueryingEnumerable<TripModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
                1 -> Dictionary<IProperty, int> { [Property: BudgetDetailsModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: BudgetDetailsModel.Food (decimal) Required, 16], [Property: BudgetDetailsModel.Hotel (decimal) Required, 17], [Property: BudgetDetailsModel.TripId (int) Required FK Index, 18] }
                2 -> 0
                3 -> 15
                4 -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: ReviewModel.Rating (int) Required, 20], [Property: ReviewModel.ReviewText (string) Required, 21], [Property: ReviewModel.TripId (int) Required FK Index, 22], [Property: ReviewModel.UserId (int) Required FK Index, 23] }
                5 -> 19
                6 -> Dictionary<IProperty, int> { [Property: TripShareModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 24], [Property: TripShareModel.AccessLevel (AccessLevel) Required, 25], [Property: TripShareModel.OwnerId (int) Required FK Index, 26], [Property: TripShareModel.SharedWithUserId (int) Required FK Index, 27], [Property: TripShareModel.TripId (int) Required FK Index, 28] }
                7 -> 24
            SELECT t0.Id, t0.BestTime, t0.Budget, t0.Description, t0.Destination, t0.Duration, t0.EndDate, t0.EssentialsJson, t0.Image, t0.Notes, t0.StartDate, t0.Title, t0.TouristSpotsJson, t0.TravelMode, t0.UserId, t0.Id0, t0.Food, t0.Hotel, t0.TripId, r.Id, r.Rating, r.review, r.TripId, r.UserId, t1.Id, t1.AccessLevel, t1.OwnerId, t1.SharedWithUserId, t1.TripId
            FROM 
            (
                SELECT TOP(1) t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId, b.Id AS Id0, b.Food, b.Hotel, b.TripId
                FROM Trips AS t
                LEFT JOIN budgetdetails AS b ON t.Id == b.TripId
                WHERE t.Id == @__id_0
            ) AS t0
            LEFT JOIN reviews AS r ON t0.Id == r.TripId
            LEFT JOIN TripShares AS t1 ON t0.Id == t1.TripId
            ORDER BY t0.Id ASC, t0.Id0 ASC, r.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 15:52:27.305 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:52:27.305 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:52:27.306 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:27.307 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:27.308 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:52:27.308 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:52:27.309 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:52:27.311 +05:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-12 15:52:27.317 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-12 15:52:27.319 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:27.320 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:52:27.321 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:27.322 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:52:27.324 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:52:27.327 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:52:27.328 +05:30 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-08-12 15:52:27.330 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-08-12 15:52:27.331 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-08-12 15:52:27.347 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI) in 76.0562ms
2025-08-12 15:52:27.348 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 15:52:27.350 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/104   Responded with [404] in 94ms
2025-08-12 15:52:27.351 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 15:52:27.353 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:52:27.354 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:27.355 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:52:27.357 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/104 - 404 285 application/json 110.2943ms
2025-08-12 15:52:37.666 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:52:37.668 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:52:37.669 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:52:37.671 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:52:37.672 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:52:37.673 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:52:37.674 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 3ms
2025-08-12 15:52:37.675 +05:30 [DBG] Connection id "0HNEPH6APMCVG" completed keep alive response.
2025-08-12 15:52:37.676 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 11.587ms
2025-08-12 15:52:37.677 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:52:37.681 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:52:37.682 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:52:37.686 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:52:37.688 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:52:37.689 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:52:37.689 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:52:37.691 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:52:37.692 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:52:37.693 +05:30 [DBG] Authorization was successful.
2025-08-12 15:52:37.694 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:52:37.695 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:52:37.696 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:52:37.697 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:52:37.698 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:52:37.701 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:52:37.702 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:52:37.704 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:52:37.706 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:52:37.708 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:52:37.709 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:52:37.710 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:52:37.711 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:52:37.712 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:52:37.713 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:52:37.714 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:52:37.715 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:52:37.717 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:52:37.718 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:52:37.719 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:52:37.722 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:52:37.722 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:52:37.723 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:37.724 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:37.725 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:52:37.726 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:52:37.726 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:52:37.727 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:52:37.730 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:52:37.734 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:37.735 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 15:52:37.737 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:37.739 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:52:37.742 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:37.743 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:37.744 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:52:37.745 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:52:37.745 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:52:37.746 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:52:37.755 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:52:37.757 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:37.758 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:52:37.759 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:37.760 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:52:37.761 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:52:37.763 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:52:37.764 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:52:37.765 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:52:37.766 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:52:37.767 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:52:37.768 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 64.0499ms
2025-08-12 15:52:37.769 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:52:37.771 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 81ms
2025-08-12 15:52:37.772 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 15:52:37.773 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:52:37.774 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:52:37.775 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 15:52:37.776 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 98.372ms
2025-08-12 15:53:11.113 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/102 - null null
2025-08-12 15:53:11.121 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/102'
2025-08-12 15:53:11.122 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:53:11.123 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:53:11.124 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:53:11.125 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:53:11.126 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/102   Responded with [204] in 3ms
2025-08-12 15:53:11.127 +05:30 [DBG] Connection id "0HNEPH6APMCVG" completed keep alive response.
2025-08-12 15:53:11.127 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/102 - 204 null null 14.9725ms
2025-08-12 15:53:11.129 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/102 - null null
2025-08-12 15:53:11.132 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/102'
2025-08-12 15:53:11.133 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/102'
2025-08-12 15:53:11.134 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 15:53:11.135 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:53:11.136 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:53:11.137 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:53:11.137 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:53:11.138 +05:30 [DBG] Authorization was successful.
2025-08-12 15:53:11.139 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 15:53:11.139 +05:30 [INF] Route matched with {action = "GetTrip", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TravelPlannerAPI.Dtos.TripDto]] GetTrip(Int32) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:53:11.141 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:53:11.141 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:53:11.142 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:53:11.144 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:53:11.145 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:53:11.146 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:53:11.148 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:53:11.149 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:53:11.150 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-12 15:53:11.152 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-12 15:53:11.153 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 15:53:11.153 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 15:53:11.154 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-12 15:53:11.155 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-12 15:53:11.156 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:53:11.157 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:53:11.158 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:53:11.159 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:53:11.160 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:53:11.162 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:53:11.164 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 15:53:11.165 +05:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-12 15:53:11.172 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-12 15:53:11.175 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:53:11.176 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:53:11.177 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:53:11.178 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:53:11.179 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:53:11.181 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:53:11.181 +05:30 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-08-12 15:53:11.183 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-08-12 15:53:11.184 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-08-12 15:53:11.186 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI) in 39.7903ms
2025-08-12 15:53:11.187 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 15:53:11.188 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/102   Responded with [404] in 53ms
2025-08-12 15:53:11.189 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 15:53:11.190 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:53:11.191 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:53:11.192 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 15:53:11.193 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/102 - 404 285 application/json 64.4801ms
2025-08-12 15:53:16.156 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:53:16.159 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:53:16.161 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:53:16.162 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:53:16.163 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:53:16.164 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:53:16.165 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 3ms
2025-08-12 15:53:16.166 +05:30 [DBG] Connection id "0HNEPH6APMCVG" completed keep alive response.
2025-08-12 15:53:16.167 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:53:16.169 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 13.0191ms
2025-08-12 15:53:16.172 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:53:16.177 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:53:16.179 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:53:16.182 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:53:16.186 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:53:16.187 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:53:16.188 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:53:16.189 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:53:16.190 +05:30 [DBG] Authorization was successful.
2025-08-12 15:53:16.190 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:53:16.191 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:53:16.193 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:53:16.194 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:53:16.196 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:53:16.198 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:53:16.199 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:53:16.201 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:53:16.204 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:53:16.205 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:53:16.206 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:53:16.207 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:53:16.209 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:53:16.211 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:53:16.213 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:53:16.215 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:53:16.217 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:53:16.218 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:53:16.219 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:53:16.221 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:53:16.223 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:53:16.224 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 15:53:16.225 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:53:16.226 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:53:16.227 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:53:16.228 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:53:16.229 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:53:16.230 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:53:16.238 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:53:16.242 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:53:16.242 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 15:53:16.244 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:53:16.246 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-12 15:53:16.248 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:53:16.249 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:53:16.250 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:53:16.251 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:53:16.252 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:53:16.253 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:53:16.266 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:53:16.271 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:53:16.273 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 15:53:16.277 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:53:16.279 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:53:16.280 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:53:16.282 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:53:16.283 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:53:16.285 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:53:16.286 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:53:16.287 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:53:16.288 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 86.9938ms
2025-08-12 15:53:16.289 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:53:16.290 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 104ms
2025-08-12 15:53:16.291 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 15:53:16.293 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:53:16.294 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:53:16.295 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 15:53:16.296 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 128.4835ms
2025-08-12 15:53:34.339 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/102 - null null
2025-08-12 15:53:34.341 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/102'
2025-08-12 15:53:34.343 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:53:34.344 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:53:34.345 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:53:34.346 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:53:34.348 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/102   Responded with [204] in 3ms
2025-08-12 15:53:34.349 +05:30 [DBG] Connection id "0HNEPH6APMCVG" completed keep alive response.
2025-08-12 15:53:34.351 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/102 - null null
2025-08-12 15:53:34.352 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/102 - 204 null null 13.5196ms
2025-08-12 15:53:34.354 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/102'
2025-08-12 15:53:34.357 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/102'
2025-08-12 15:53:34.358 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 15:53:34.359 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:53:34.360 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:53:34.361 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:53:34.361 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:53:34.362 +05:30 [DBG] Authorization was successful.
2025-08-12 15:53:34.363 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 15:53:34.364 +05:30 [INF] Route matched with {action = "GetTrip", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TravelPlannerAPI.Dtos.TripDto]] GetTrip(Int32) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:53:34.367 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:53:34.368 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:53:34.369 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:53:34.371 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:53:34.372 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:53:34.373 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:53:34.375 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:53:34.377 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:53:34.378 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-12 15:53:34.379 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-12 15:53:34.380 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 15:53:34.381 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 15:53:34.382 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-12 15:53:34.384 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-12 15:53:34.386 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:53:34.386 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:53:34.388 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:53:34.389 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:53:34.391 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:53:34.392 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:53:34.394 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:53:34.394 +05:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-12 15:53:34.403 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-12 15:53:34.408 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:53:34.408 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:53:34.410 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:53:34.410 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:53:34.412 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:53:34.413 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:53:34.414 +05:30 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-08-12 15:53:34.416 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-08-12 15:53:34.417 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-08-12 15:53:34.418 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI) in 44.4411ms
2025-08-12 15:53:34.419 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 15:53:34.420 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/102   Responded with [404] in 60ms
2025-08-12 15:53:34.421 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 15:53:34.422 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:53:34.423 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:53:34.424 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:53:34.426 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/102 - 404 285 application/json 74.9304ms
2025-08-12 15:53:35.577 +05:30 [DBG] Connection id "0HNEPH6APMCVE" received FIN.
2025-08-12 15:53:35.579 +05:30 [DBG] Connection id "0HNEPH6APMCVE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 15:53:35.581 +05:30 [DBG] Connection id "0HNEPH6APMCVE" disconnecting.
2025-08-12 15:53:35.591 +05:30 [DBG] Connection id "0HNEPH6APMCVE" stopped.
2025-08-12 15:55:11.412 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip - null null
2025-08-12 15:55:11.419 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip'
2025-08-12 15:55:11.420 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:55:11.421 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:55:11.422 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:55:11.423 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:55:11.425 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip   Responded with [204] in 3ms
2025-08-12 15:55:11.426 +05:30 [DBG] Connection id "0HNEPH6APMCVG" completed keep alive response.
2025-08-12 15:55:11.427 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip - 204 null null 15.1809ms
2025-08-12 15:55:11.428 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Trip - application/json 497
2025-08-12 15:55:11.436 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip'
2025-08-12 15:55:11.437 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.CreateTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip' is valid for the request path '/api/v1/Trip'
2025-08-12 15:55:11.438 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.CreateTrip (TravelPlannerAPI)'
2025-08-12 15:55:11.439 +05:30 [DBG] Connection id "0HNEPH6APMCVF", Request id "0HNEPH6APMCVF:0000000B": started reading request body.
2025-08-12 15:55:11.441 +05:30 [DBG] Connection id "0HNEPH6APMCVF", Request id "0HNEPH6APMCVF:0000000B": done reading request body.
2025-08-12 15:55:11.443 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:55:11.444 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:55:11.445 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:55:11.446 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:55:11.448 +05:30 [DBG] Authorization was successful.
2025-08-12 15:55:11.448 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.CreateTrip (TravelPlannerAPI)'
2025-08-12 15:55:11.454 +05:30 [INF] Route matched with {action = "CreateTrip", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TravelPlannerAPI.Dtos.TripDto]] CreateTrip(TravelPlannerAPI.Dtos.TripCreateDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:55:11.456 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:55:11.457 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:55:11.458 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:55:11.460 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:55:11.462 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:55:11.463 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:55:11.465 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:55:11.467 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:55:11.467 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripCreateDto' ...
2025-08-12 15:55:11.468 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripCreateDto' using the name '' in request data ...
2025-08-12 15:55:11.470 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 15:55:11.481 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TripCreateDto'
2025-08-12 15:55:11.482 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripCreateDto'.
2025-08-12 15:55:11.483 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripCreateDto'.
2025-08-12 15:55:11.484 +05:30 [DBG] Attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripCreateDto' ...
2025-08-12 15:55:11.489 +05:30 [DBG] Done attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripCreateDto'.
2025-08-12 15:55:11.509 +05:30 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'TripModel.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:55:11.513 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:55:11.517 +05:30 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'BudgetDetailsModel.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:55:11.519 +05:30 [DBG] The navigation 'BudgetDetailsModel.Trip' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:55:11.521 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:55:11.523 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 15:55:11.523 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 15:55:11.533 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 15:55:11.542 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:55:11.543 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:55:11.544 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:11.545 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:11.549 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-12 15:55:11.558 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-12 15:55:11.560 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:55:11.561 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:55:11.565 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-12 15:55:11.567 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Trips] ([BestTime], [Budget], [Description], [Destination], [Duration], [EndDate], [EssentialsJson], [Image], [Notes], [StartDate], [Title], [TouristSpotsJson], [TravelMode], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-08-12 15:55:11.578 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Trips] ([BestTime], [Budget], [Description], [Destination], [Duration], [EndDate], [EssentialsJson], [Image], [Notes], [StartDate], [Title], [TouristSpotsJson], [TravelMode], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-08-12 15:55:11.581 +05:30 [DBG] The foreign key property 'TripModel.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 15:55:11.586 +05:30 [DBG] The foreign key property 'BudgetDetailsModel.TripId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 15:55:11.590 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:11.591 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 11ms reading results.
2025-08-12 15:55:11.593 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:55:11.594 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:55:11.595 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:55:11.596 +05:30 [DBG] Executing DbCommand [Parameters=[@p14='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p15='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [budgetdetails] ([Food], [Hotel], [TripId])
OUTPUT INSERTED.[Id]
VALUES (@p14, @p15, @p16);
2025-08-12 15:55:11.603 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p14='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p15='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [budgetdetails] ([Food], [Hotel], [TripId])
OUTPUT INSERTED.[Id]
VALUES (@p14, @p15, @p16);
2025-08-12 15:55:11.607 +05:30 [DBG] The foreign key property 'BudgetDetailsModel.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 15:55:11.609 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:11.610 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-12 15:55:11.615 +05:30 [DBG] Committing transaction.
2025-08-12 15:55:11.619 +05:30 [DBG] Committed transaction.
2025-08-12 15:55:11.622 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:11.623 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:55:11.625 +05:30 [DBG] Disposing transaction.
2025-08-12 15:55:11.626 +05:30 [DBG] An entity of type 'TripModel' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:55:11.628 +05:30 [DBG] An entity of type 'BudgetDetailsModel' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:55:11.631 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2025-08-12 15:55:11.637 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:55:11.639 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:55:11.639 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:55:11.640 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:55:11.641 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:55:11.642 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'TravelPlannerAPI.Dtos.TripDto'.
2025-08-12 15:55:11.670 +05:30 [DBG] Found the endpoints ["TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)"] for address (id=[25],version=[1],action=[GetTrip],controller=[Trip])
2025-08-12 15:55:11.676 +05:30 [DBG] Successfully processed template api/v{version:apiVersion}/Trip/{id} for TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI) resulting in /api/v1/Trip/25 and 
2025-08-12 15:55:11.679 +05:30 [DBG] Link generation succeeded for endpoints ["TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)"] with result /api/v1/Trip/25
2025-08-12 15:55:11.681 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.CreateTrip (TravelPlannerAPI) in 217.7978ms
2025-08-12 15:55:11.682 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.CreateTrip (TravelPlannerAPI)'
2025-08-12 15:55:11.683 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Trip  {"id":102,"title":"Mountain Adventure","destination":"Manali, India","startDate":"2025-01-01","endDate":"2025-01-05","budget":0,"travelMode":"Not specified","notes":"","userId":15,"image":"trips/mountain.jpg","description":"Explore snow-covered mountains and trekking routes.","duration":"5 Days","bestTime":"December to February","essentials":["Warm Clothes","Trekking Shoes","Backpack"],"touristSpots":["Rohtang Pass","Solang Valley","Hadimba Temple"],"budgetDetails":{"food":2500,"hotel":4500}} Responded with [201] in 243ms
2025-08-12 15:55:11.685 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 15:55:11.688 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:55:11.689 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:11.690 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:55:11.692 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Trip - 201 795 application/json 264.5181ms
2025-08-12 15:55:11.698 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:55:11.708 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:55:11.709 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:55:11.711 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:55:11.712 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:55:11.713 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:55:11.715 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 3ms
2025-08-12 15:55:11.716 +05:30 [DBG] Connection id "0HNEPH6APMCVG" completed keep alive response.
2025-08-12 15:55:11.717 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 18.7586ms
2025-08-12 15:55:11.718 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:55:11.724 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:55:11.725 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:55:11.727 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:55:11.729 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:55:11.730 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:55:11.731 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:55:11.732 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:55:11.733 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:55:11.734 +05:30 [DBG] Authorization was successful.
2025-08-12 15:55:11.735 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:55:11.736 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:55:11.738 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:55:11.739 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:55:11.740 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:55:11.741 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:55:11.742 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:55:11.744 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:55:11.747 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:55:11.748 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:55:11.749 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:55:11.750 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:55:11.751 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:55:11.752 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:55:11.753 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:55:11.755 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:55:11.756 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:55:11.757 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:55:11.759 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:55:11.760 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:55:11.762 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:55:11.763 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:55:11.764 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:11.765 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:11.766 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:55:11.767 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:55:11.768 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:55:11.768 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:55:11.776 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:55:11.779 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:11.780 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 15:55:11.781 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:11.782 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:55:11.784 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:11.786 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:11.787 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:55:11.788 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:55:11.789 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:55:11.791 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:55:11.818 +05:30 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:55:11.829 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:55:11.832 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:55:11.834 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:55:11.835 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:11.836 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-08-12 15:55:11.838 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:11.840 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:55:11.848 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:55:11.851 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:55:11.852 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:55:11.855 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:55:11.856 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:55:11.858 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:55:11.861 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 117.4638ms
2025-08-12 15:55:11.863 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:55:11.867 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 136ms
2025-08-12 15:55:11.869 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 15:55:11.870 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:55:11.873 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:11.874 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:55:11.876 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 1039 application/json 158.4953ms
2025-08-12 15:55:14.919 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/25 - null null
2025-08-12 15:55:14.922 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/25'
2025-08-12 15:55:14.923 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:55:14.925 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:55:14.926 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:55:14.927 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:55:14.929 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/25   Responded with [204] in 3ms
2025-08-12 15:55:14.929 +05:30 [DBG] Connection id "0HNEPH6APMCVG" completed keep alive response.
2025-08-12 15:55:14.930 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/25 - 204 null null 11.3585ms
2025-08-12 15:55:14.931 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/25 - null null
2025-08-12 15:55:14.936 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/25'
2025-08-12 15:55:14.937 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/25'
2025-08-12 15:55:14.939 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 15:55:14.939 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:55:14.940 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:55:14.941 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:55:14.942 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:55:14.943 +05:30 [DBG] Authorization was successful.
2025-08-12 15:55:14.944 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 15:55:14.945 +05:30 [INF] Route matched with {action = "GetTrip", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TravelPlannerAPI.Dtos.TripDto]] GetTrip(Int32) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:55:14.947 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:55:14.948 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:55:14.949 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:55:14.951 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:55:14.952 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:55:14.953 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:55:14.955 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:55:14.957 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:55:14.958 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-12 15:55:14.959 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-12 15:55:14.960 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 15:55:14.961 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 15:55:14.962 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-12 15:55:14.963 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-12 15:55:14.964 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:55:14.965 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 15:55:14.966 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:14.967 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:14.968 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:55:14.969 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:55:14.970 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:55:14.971 +05:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-12 15:55:14.981 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-12 15:55:14.985 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:55:14.986 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:55:14.987 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:55:14.988 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:14.989 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-12 15:55:14.991 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:14.992 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:55:15.000 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:55:15.002 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:55:15.002 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:55:15.003 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:55:15.004 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:55:15.005 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Dtos.TripDto'.
2025-08-12 15:55:15.006 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI) in 52.875ms
2025-08-12 15:55:15.007 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 15:55:15.009 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/25   Responded with [200] in 69ms
2025-08-12 15:55:15.009 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 15:55:15.011 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:55:15.013 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:15.014 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:55:15.016 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/25 - 200 800 application/json 84.9758ms
2025-08-12 15:55:43.121 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:55:43.128 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:55:43.129 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:55:43.130 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:55:43.131 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:55:43.132 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:55:43.133 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 2ms
2025-08-12 15:55:43.137 +05:30 [DBG] Connection id "0HNEPH6APMCVG" completed keep alive response.
2025-08-12 15:55:43.138 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 16.5871ms
2025-08-12 15:55:43.138 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:55:43.148 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:55:43.149 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:55:43.151 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:55:43.152 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:55:43.153 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:55:43.154 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:55:43.155 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:55:43.155 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:55:43.156 +05:30 [DBG] Authorization was successful.
2025-08-12 15:55:43.157 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:55:43.158 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:55:43.161 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:55:43.162 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:55:43.163 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:55:43.165 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:55:43.166 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:55:43.167 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:55:43.169 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:55:43.171 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:55:43.172 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:55:43.173 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:55:43.174 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:55:43.177 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:55:43.179 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:55:43.180 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:55:43.182 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:55:43.183 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:55:43.184 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:55:43.185 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:55:43.187 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:55:43.188 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:55:43.188 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:43.190 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:43.192 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:55:43.193 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:55:43.194 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:55:43.196 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:55:43.204 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:55:43.206 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:43.208 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 15:55:43.209 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:43.211 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:55:43.213 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:43.214 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:43.214 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:55:43.215 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:55:43.216 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:55:43.217 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:55:43.229 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:55:43.232 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:55:43.233 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:55:43.234 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:55:43.235 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:43.236 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-12 15:55:43.237 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:43.238 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:55:43.240 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:55:43.243 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:55:43.244 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:55:43.246 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:55:43.247 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:55:43.249 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:55:43.251 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 83.71ms
2025-08-12 15:55:43.252 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:55:43.254 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 100ms
2025-08-12 15:55:43.257 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 15:55:43.258 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:55:43.258 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:55:43.260 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:55:43.261 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 1039 application/json 122.5805ms
2025-08-12 15:56:06.584 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip - null null
2025-08-12 15:56:06.585 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Checklist/25?tripId=25 - null null
2025-08-12 15:56:06.592 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip'
2025-08-12 15:56:06.595 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Checklist/25'
2025-08-12 15:56:06.596 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:56:06.597 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:56:06.598 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:56:06.599 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:56:06.602 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:56:06.603 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:56:06.603 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:56:06.604 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:56:06.605 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip   Responded with [204] in 7ms
2025-08-12 15:56:06.606 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Checklist/25 ?tripId=25  Responded with [204] in 6ms
2025-08-12 15:56:06.606 +05:30 [DBG] Connection id "0HNEPH6APMCVG" completed keep alive response.
2025-08-12 15:56:06.608 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:56:06.613 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip - 204 null null 29.58ms
2025-08-12 15:56:06.615 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Checklist/25?tripId=25 - 204 null null 30.1215ms
2025-08-12 15:56:06.613 +05:30 [DBG] Connection id "0HNEPH6APMCVH" accepted.
2025-08-12 15:56:06.614 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip - null null
2025-08-12 15:56:06.624 +05:30 [DBG] Connection id "0HNEPH6APMCVH" started.
2025-08-12 15:56:06.626 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip'
2025-08-12 15:56:06.626 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Checklist/25?tripId=25 - null null
2025-08-12 15:56:06.627 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip' is valid for the request path '/api/v1/Trip'
2025-08-12 15:56:06.629 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Checklist/25'
2025-08-12 15:56:06.630 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:56:06.631 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.ChecklistController.GetChecklist (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Checklist/{tripId}' is valid for the request path '/api/v1/Checklist/25'
2025-08-12 15:56:06.631 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:56:06.632 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.ChecklistController.GetChecklist (TravelPlannerAPI)'
2025-08-12 15:56:06.633 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:56:06.634 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:56:06.635 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:56:06.635 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:56:06.636 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:56:06.637 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:56:06.638 +05:30 [DBG] Authorization was successful.
2025-08-12 15:56:06.638 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:56:06.639 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:56:06.641 +05:30 [DBG] Authorization was successful.
2025-08-12 15:56:06.642 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.ChecklistController.GetChecklist (TravelPlannerAPI)'
2025-08-12 15:56:06.645 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TravelPlannerAPI.Dtos.TripDto]]] GetTrips() on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:56:06.645 +05:30 [INF] Route matched with {action = "GetChecklist", controller = "Checklist"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChecklist(Int32) on controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI).
2025-08-12 15:56:06.647 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:56:06.649 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:56:06.650 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:56:06.651 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:56:06.652 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:56:06.653 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:56:06.656 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:56:06.658 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:56:06.660 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:56:06.662 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:56:06.664 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:56:06.667 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI)
2025-08-12 15:56:06.669 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:56:06.670 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:56:06.672 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:56:06.674 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI)
2025-08-12 15:56:06.675 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' ...
2025-08-12 15:56:06.676 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' using the name 'tripId' in request data ...
2025-08-12 15:56:06.677 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Where(t => t.UserId == __userId_0)
    .Include(t => t.Reviews)'
2025-08-12 15:56:06.677 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 15:56:06.679 +05:30 [DBG] Including navigation: 'TripModel.Reviews'.
2025-08-12 15:56:06.679 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 15:56:06.681 +05:30 [DBG] Attempting to validate the bound parameter 'tripId' of type 'System.Int32' ...
2025-08-12 15:56:06.682 +05:30 [DBG] Done attempting to validate the bound parameter 'tripId' of type 'System.Int32'.
2025-08-12 15:56:06.686 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: ReviewModel.Rating (int) Required, 16], [Property: ReviewModel.ReviewText (string) Required, 17], [Property: ReviewModel.TripId (int) Required FK Index, 18], [Property: ReviewModel.UserId (int) Required FK Index, 19] }
            3 -> 15
        SELECT t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId, r.Id, r.Rating, r.review, r.TripId, r.UserId
        FROM Trips AS t
        LEFT JOIN reviews AS r ON t.Id == r.TripId
        WHERE t.UserId == @__userId_0
        ORDER BY t.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 15:56:06.688 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-08-12 15:56:06.690 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:56:06.692 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 15:56:06.692 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:06.693 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:06.694 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<TripModel>(
    asyncEnumerable: new SingleQueryingEnumerable<TripModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
            SELECT TOP(1) t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId
            FROM Trips AS t
            WHERE t.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 15:56:06.694 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:56:06.697 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:56:06.697 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-12 15:56:06.698 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 15:56:06.699 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-12 15:56:06.699 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:06.700 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [Trips] AS [t]
LEFT JOIN [reviews] AS [r] ON [t].[Id] = [r].[TripId]
WHERE [t].[UserId] = @__userId_0
ORDER BY [t].[Id]
2025-08-12 15:56:06.711 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [Trips] AS [t]
LEFT JOIN [reviews] AS [r] ON [t].[Id] = [r].[TripId]
WHERE [t].[UserId] = @__userId_0
ORDER BY [t].[Id]
2025-08-12 15:56:06.714 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:56:06.714 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:06.717 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:06.719 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:56:06.720 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-08-12 15:56:06.720 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:56:06.721 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:06.722 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 15:56:06.723 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:56:06.724 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 15:56:06.726 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:56:06.728 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:56:06.729 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:56:06.729 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 15:56:06.730 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:56:06.732 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:56:06.732 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:56:06.733 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:06.735 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:56:06.735 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-12 15:56:06.737 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 72.3375ms
2025-08-12 15:56:06.738 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:06.738 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:56:06.739 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:56:06.743 +05:30 [DBG] Compiling query expression: 
'DbSet<ChecklistItemModel>()
    .Where(i => i.TripId == __tripId_0 && i.UserId == __userId_1)'
2025-08-12 15:56:06.747 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChecklistItemModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ChecklistItemModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChecklistItemModel.Description (string) Required, 1], [Property: ChecklistItemModel.IsCompleted (bool) Required, 2], [Property: ChecklistItemModel.TripId (int) Required FK Index, 3], [Property: ChecklistItemModel.UserId (int) Required FK Index, 4] }
        SELECT c.Id, c.Description, c.IsCompleted, c.TripId, c.UserId
        FROM ChecklistItems AS c
        WHERE (c.TripId == @__tripId_0) && (c.UserId == @__userId_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChecklistItemModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 15:56:06.751 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:06.751 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip   Responded with [200] in 119ms
2025-08-12 15:56:06.752 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:06.753 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 15:56:06.754 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:56:06.755 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:56:06.755 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:56:06.756 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:06.757 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:56:06.757 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:56:06.758 +05:30 [DBG] Executing DbCommand [Parameters=[@__tripId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[TripId] = @__tripId_0 AND [c].[UserId] = @__userId_1
2025-08-12 15:56:06.759 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip - 200 814 application/json 145.5396ms
2025-08-12 15:56:06.768 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__tripId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[TripId] = @__tripId_0 AND [c].[UserId] = @__userId_1
2025-08-12 15:56:06.770 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:06.770 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:56:06.772 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:06.772 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:56:06.777 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:56:06.779 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:56:06.781 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:56:06.782 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:56:06.782 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:56:06.784 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Dtos.ChecklistWithAccessDto'.
2025-08-12 15:56:06.787 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.ChecklistController.GetChecklist (TravelPlannerAPI) in 120.174ms
2025-08-12 15:56:06.788 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.ChecklistController.GetChecklist (TravelPlannerAPI)'
2025-08-12 15:56:06.789 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Checklist/25 ?tripId=25  Responded with [200] in 155ms
2025-08-12 15:56:06.791 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:56:06.792 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:56:06.793 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:06.794 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 15:56:06.795 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Checklist/25?tripId=25 - 200 110 application/json 168.6042ms
2025-08-12 15:56:11.179 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Checklist - null null
2025-08-12 15:56:11.183 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Checklist'
2025-08-12 15:56:11.184 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:56:11.185 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:56:11.186 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:56:11.187 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:56:11.188 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Checklist   Responded with [204] in 2ms
2025-08-12 15:56:11.189 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:56:11.190 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Checklist - 204 null null 11.0348ms
2025-08-12 15:56:11.190 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Checklist - application/json 69
2025-08-12 15:56:11.196 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Checklist'
2025-08-12 15:56:11.197 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.ChecklistController.AddItem (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Checklist' is valid for the request path '/api/v1/Checklist'
2025-08-12 15:56:11.198 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.ChecklistController.AddItem (TravelPlannerAPI)'
2025-08-12 15:56:11.199 +05:30 [DBG] Connection id "0HNEPH6APMCVH", Request id "0HNEPH6APMCVH:00000002": started reading request body.
2025-08-12 15:56:11.200 +05:30 [DBG] Connection id "0HNEPH6APMCVH", Request id "0HNEPH6APMCVH:00000002": done reading request body.
2025-08-12 15:56:11.201 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:56:11.202 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:56:11.203 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:56:11.203 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:56:11.205 +05:30 [DBG] Authorization was successful.
2025-08-12 15:56:11.205 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.ChecklistController.AddItem (TravelPlannerAPI)'
2025-08-12 15:56:11.209 +05:30 [INF] Route matched with {action = "AddItem", controller = "Checklist"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItem(TravelPlannerAPI.Dtos.ChecklistItemDto) on controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI).
2025-08-12 15:56:11.212 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:56:11.213 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:56:11.214 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:56:11.216 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:56:11.217 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:56:11.218 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI)
2025-08-12 15:56:11.220 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:56:11.222 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI)
2025-08-12 15:56:11.224 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ChecklistItemDto' ...
2025-08-12 15:56:11.225 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ChecklistItemDto' using the name '' in request data ...
2025-08-12 15:56:11.227 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 15:56:11.231 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.ChecklistItemDto'
2025-08-12 15:56:11.233 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ChecklistItemDto'.
2025-08-12 15:56:11.234 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ChecklistItemDto'.
2025-08-12 15:56:11.235 +05:30 [DBG] Attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Dtos.ChecklistItemDto' ...
2025-08-12 15:56:11.240 +05:30 [DBG] Done attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Dtos.ChecklistItemDto'.
2025-08-12 15:56:11.244 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:56:11.244 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:56:11.245 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:11.246 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:11.247 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:56:11.248 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:56:11.249 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:56:11.250 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 15:56:11.252 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 15:56:11.256 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:56:11.257 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:11.259 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 15:56:11.260 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:11.261 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:56:11.266 +05:30 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'ChecklistItemModel.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:56:11.274 +05:30 [DBG] The navigation 'ChecklistItemModel.Trip' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:56:11.276 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ChecklistItemModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:56:11.277 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 15:56:11.278 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 15:56:11.281 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 15:56:11.283 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:11.284 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:11.285 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:56:11.287 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:56:11.288 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:56:11.289 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ChecklistItems] ([Description], [IsCompleted], [TripId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-08-12 15:56:11.296 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ChecklistItems] ([Description], [IsCompleted], [TripId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-08-12 15:56:11.299 +05:30 [DBG] The foreign key property 'ChecklistItemModel.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 15:56:11.301 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:11.303 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-08-12 15:56:11.304 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:11.305 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:56:11.308 +05:30 [DBG] An entity of type 'ChecklistItemModel' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:56:11.311 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 15:56:11.317 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:56:11.320 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:56:11.321 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:56:11.321 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:56:11.322 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:56:11.323 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Dtos.ChecklistItemDto'.
2025-08-12 15:56:11.325 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.ChecklistController.AddItem (TravelPlannerAPI) in 106.8596ms
2025-08-12 15:56:11.327 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.ChecklistController.AddItem (TravelPlannerAPI)'
2025-08-12 15:56:11.330 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Checklist  {"tripId":25,"userId":15,"description":"Clothes","isCompleted":false} Responded with [200] in 130ms
2025-08-12 15:56:11.331 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:56:11.332 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:56:11.333 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:11.334 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:56:11.335 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Checklist - 200 176 application/json 145.0235ms
2025-08-12 15:56:18.021 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Checklist/18/toggle - null null
2025-08-12 15:56:18.025 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Checklist/18/toggle'
2025-08-12 15:56:18.026 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:56:18.028 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:56:18.029 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:56:18.029 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:56:18.030 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Checklist/18/toggle   Responded with [204] in 2ms
2025-08-12 15:56:18.031 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:56:18.032 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Checklist/18/toggle - 204 null null 11.5282ms
2025-08-12 15:56:18.033 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5276/api/v1/Checklist/18/toggle - application/json 155
2025-08-12 15:56:18.038 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Checklist/18/toggle'
2025-08-12 15:56:18.039 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.ChecklistController.ToggleCompletion (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Checklist/{id}/toggle' is valid for the request path '/api/v1/Checklist/18/toggle'
2025-08-12 15:56:18.041 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.ChecklistController.ToggleCompletion (TravelPlannerAPI)'
2025-08-12 15:56:18.043 +05:30 [DBG] Connection id "0HNEPH6APMCVH", Request id "0HNEPH6APMCVH:00000003": started reading request body.
2025-08-12 15:56:18.044 +05:30 [DBG] Connection id "0HNEPH6APMCVH", Request id "0HNEPH6APMCVH:00000003": done reading request body.
2025-08-12 15:56:18.045 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:56:18.046 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:56:18.047 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:56:18.048 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:56:18.049 +05:30 [DBG] Authorization was successful.
2025-08-12 15:56:18.049 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.ChecklistController.ToggleCompletion (TravelPlannerAPI)'
2025-08-12 15:56:18.053 +05:30 [INF] Route matched with {action = "ToggleCompletion", controller = "Checklist"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleCompletion(Int32) on controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI).
2025-08-12 15:56:18.055 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:56:18.056 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:56:18.057 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:56:18.059 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:56:18.060 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:56:18.062 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI)
2025-08-12 15:56:18.065 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:56:18.066 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI)
2025-08-12 15:56:18.067 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-12 15:56:18.068 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-12 15:56:18.069 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 15:56:18.070 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 15:56:18.071 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-12 15:56:18.072 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-12 15:56:18.076 +05:30 [DBG] Compiling query expression: 
'DbSet<ChecklistItemModel>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-08-12 15:56:18.080 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ChecklistItemModel>(
    asyncEnumerable: new SingleQueryingEnumerable<ChecklistItemModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ChecklistItemModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChecklistItemModel.Description (string) Required, 1], [Property: ChecklistItemModel.IsCompleted (bool) Required, 2], [Property: ChecklistItemModel.TripId (int) Required FK Index, 3], [Property: ChecklistItemModel.UserId (int) Required FK Index, 4] }
            SELECT TOP(1) c.Id, c.Description, c.IsCompleted, c.TripId, c.UserId
            FROM ChecklistItems AS c
            WHERE c.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChecklistItemModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 15:56:18.083 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:56:18.084 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:56:18.084 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:18.086 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:18.086 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:56:18.087 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:56:18.088 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:56:18.091 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[Id] = @__p_0
2025-08-12 15:56:18.097 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[Id] = @__p_0
2025-08-12 15:56:18.099 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ChecklistItemModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:56:18.100 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:18.101 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 15:56:18.102 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:18.103 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:56:18.106 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:18.107 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:18.108 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:56:18.108 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:56:18.109 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:56:18.110 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 15:56:18.112 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 15:56:18.115 +05:30 [DBG] The navigation 'ChecklistItemModel.Trip' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:56:18.116 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:56:18.117 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:18.118 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-12 15:56:18.119 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:18.122 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:56:18.129 +05:30 [DBG] The unchanged property 'ChecklistItemModel.IsCompleted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 15:56:18.130 +05:30 [DBG] An entity of type 'ChecklistItemModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:56:18.132 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 15:56:18.133 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 15:56:18.134 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 15:56:18.136 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:18.137 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:18.138 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:56:18.138 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:56:18.139 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:56:18.140 +05:30 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ChecklistItems] SET [Description] = @p0, [IsCompleted] = @p1, [TripId] = @p2, [UserId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-08-12 15:56:18.148 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ChecklistItems] SET [Description] = @p0, [IsCompleted] = @p1, [TripId] = @p2, [UserId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-08-12 15:56:18.150 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:18.151 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:56:18.152 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:18.153 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:56:18.154 +05:30 [DBG] An entity of type 'ChecklistItemModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:56:18.155 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 15:56:18.157 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:56:18.158 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:56:18.159 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:56:18.161 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:56:18.162 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:56:18.163 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Dtos.ChecklistItemDto'.
2025-08-12 15:56:18.164 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.ChecklistController.ToggleCompletion (TravelPlannerAPI) in 102.1173ms
2025-08-12 15:56:18.165 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.ChecklistController.ToggleCompletion (TravelPlannerAPI)'
2025-08-12 15:56:18.166 +05:30 [INF] Source:[::1] Request: PATCH http localhost:5276/api/v1/Checklist/18/toggle  {"params":{"map":null,"encoder":{},"updates":[{"param":"id","value":"18","op":"s"}],"cloneFrom":{"map":null,"encoder":{},"updates":null,"cloneFrom":null}} Responded with [200] in 123ms
2025-08-12 15:56:18.169 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:56:18.170 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:56:18.171 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:18.173 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 15:56:18.175 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5276/api/v1/Checklist/18/toggle - 200 176 application/json 142.1559ms
2025-08-12 15:56:20.976 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5276/api/v1/Checklist/18/toggle - application/json 155
2025-08-12 15:56:20.979 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Checklist/18/toggle'
2025-08-12 15:56:20.980 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.ChecklistController.ToggleCompletion (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Checklist/{id}/toggle' is valid for the request path '/api/v1/Checklist/18/toggle'
2025-08-12 15:56:20.981 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.ChecklistController.ToggleCompletion (TravelPlannerAPI)'
2025-08-12 15:56:20.982 +05:30 [DBG] Connection id "0HNEPH6APMCVH", Request id "0HNEPH6APMCVH:00000004": started reading request body.
2025-08-12 15:56:20.983 +05:30 [DBG] Connection id "0HNEPH6APMCVH", Request id "0HNEPH6APMCVH:00000004": done reading request body.
2025-08-12 15:56:20.984 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:56:20.985 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:56:20.987 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:56:20.988 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:56:20.989 +05:30 [DBG] Authorization was successful.
2025-08-12 15:56:20.990 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.ChecklistController.ToggleCompletion (TravelPlannerAPI)'
2025-08-12 15:56:20.991 +05:30 [INF] Route matched with {action = "ToggleCompletion", controller = "Checklist"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleCompletion(Int32) on controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI).
2025-08-12 15:56:20.992 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:56:20.993 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:56:20.994 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:56:20.999 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:56:21.001 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:56:21.002 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI)
2025-08-12 15:56:21.004 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:56:21.006 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI)
2025-08-12 15:56:21.007 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-12 15:56:21.010 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-12 15:56:21.011 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 15:56:21.012 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 15:56:21.013 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-12 15:56:21.014 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-12 15:56:21.016 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:56:21.017 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:56:21.018 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:21.019 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:21.020 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:56:21.021 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:56:21.022 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:56:21.023 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[Id] = @__p_0
2025-08-12 15:56:21.027 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[Id] = @__p_0
2025-08-12 15:56:21.030 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ChecklistItemModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:56:21.031 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:21.032 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 15:56:21.033 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:21.034 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:56:21.036 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:21.037 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:21.037 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:56:21.038 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:56:21.040 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:56:21.041 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 15:56:21.044 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 15:56:21.047 +05:30 [DBG] The navigation 'ChecklistItemModel.Trip' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:56:21.048 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:56:21.049 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:21.050 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-12 15:56:21.051 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:21.052 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:56:21.053 +05:30 [DBG] The unchanged property 'ChecklistItemModel.IsCompleted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 15:56:21.054 +05:30 [DBG] An entity of type 'ChecklistItemModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:56:21.056 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 15:56:21.056 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 15:56:21.057 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 15:56:21.058 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:21.059 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:21.061 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:56:21.061 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:56:21.062 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:56:21.065 +05:30 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ChecklistItems] SET [Description] = @p0, [IsCompleted] = @p1, [TripId] = @p2, [UserId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-08-12 15:56:21.068 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ChecklistItems] SET [Description] = @p0, [IsCompleted] = @p1, [TripId] = @p2, [UserId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-08-12 15:56:21.070 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:21.071 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:56:21.072 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:21.073 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:56:21.074 +05:30 [DBG] An entity of type 'ChecklistItemModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:56:21.075 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 15:56:21.077 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:56:21.078 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:56:21.080 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:56:21.081 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:56:21.081 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:56:21.083 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Dtos.ChecklistItemDto'.
2025-08-12 15:56:21.084 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.ChecklistController.ToggleCompletion (TravelPlannerAPI) in 81.5119ms
2025-08-12 15:56:21.085 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.ChecklistController.ToggleCompletion (TravelPlannerAPI)'
2025-08-12 15:56:21.086 +05:30 [INF] Source:[::1] Request: PATCH http localhost:5276/api/v1/Checklist/18/toggle  {"params":{"map":null,"encoder":{},"updates":[{"param":"id","value":"18","op":"s"}],"cloneFrom":{"map":null,"encoder":{},"updates":null,"cloneFrom":null}} Responded with [200] in 103ms
2025-08-12 15:56:21.090 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:56:21.092 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:56:21.093 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:21.094 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:56:21.095 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5276/api/v1/Checklist/18/toggle - 200 177 application/json 119.169ms
2025-08-12 15:56:28.564 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Checklist/18?id=18 - null null
2025-08-12 15:56:28.568 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Checklist/18'
2025-08-12 15:56:28.569 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:56:28.570 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:56:28.571 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:56:28.572 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:56:28.573 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Checklist/18 ?id=18  Responded with [204] in 2ms
2025-08-12 15:56:28.577 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:56:28.578 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Checklist/18?id=18 - 204 null null 13.8067ms
2025-08-12 15:56:28.578 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5276/api/v1/Checklist/18?id=18 - application/json 77
2025-08-12 15:56:28.582 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Checklist/18'
2025-08-12 15:56:28.583 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.ChecklistController.UpdateItem (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Checklist/{id}' is valid for the request path '/api/v1/Checklist/18'
2025-08-12 15:56:28.585 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.ChecklistController.UpdateItem (TravelPlannerAPI)'
2025-08-12 15:56:28.585 +05:30 [DBG] Connection id "0HNEPH6APMCVH", Request id "0HNEPH6APMCVH:00000005": started reading request body.
2025-08-12 15:56:28.586 +05:30 [DBG] Connection id "0HNEPH6APMCVH", Request id "0HNEPH6APMCVH:00000005": done reading request body.
2025-08-12 15:56:28.587 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:56:28.588 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:56:28.589 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:56:28.592 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:56:28.594 +05:30 [DBG] Authorization was successful.
2025-08-12 15:56:28.594 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.ChecklistController.UpdateItem (TravelPlannerAPI)'
2025-08-12 15:56:28.598 +05:30 [INF] Route matched with {action = "UpdateItem", controller = "Checklist"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateItem(Int32, TravelPlannerAPI.Dtos.ChecklistItemUpdateDto) on controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI).
2025-08-12 15:56:28.600 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:56:28.601 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:56:28.602 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:56:28.604 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:56:28.606 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:56:28.608 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI)
2025-08-12 15:56:28.611 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:56:28.612 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI)
2025-08-12 15:56:28.614 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-12 15:56:28.615 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-12 15:56:28.616 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 15:56:28.617 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 15:56:28.618 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-12 15:56:28.619 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-12 15:56:28.620 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ChecklistItemUpdateDto' ...
2025-08-12 15:56:28.622 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ChecklistItemUpdateDto' using the name '' in request data ...
2025-08-12 15:56:28.624 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 15:56:28.627 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.ChecklistItemUpdateDto'
2025-08-12 15:56:28.628 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ChecklistItemUpdateDto'.
2025-08-12 15:56:28.629 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ChecklistItemUpdateDto'.
2025-08-12 15:56:28.630 +05:30 [DBG] Attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Dtos.ChecklistItemUpdateDto' ...
2025-08-12 15:56:28.633 +05:30 [DBG] Done attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Dtos.ChecklistItemUpdateDto'.
2025-08-12 15:56:28.636 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:56:28.638 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 15:56:28.639 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:28.640 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:28.642 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:56:28.643 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:56:28.644 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:56:28.645 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[Id] = @__p_0
2025-08-12 15:56:28.648 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[Id] = @__p_0
2025-08-12 15:56:28.651 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ChecklistItemModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:56:28.652 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:28.654 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-12 15:56:28.655 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:28.657 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:56:28.659 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:28.660 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:28.661 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:56:28.662 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:56:28.663 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:56:28.664 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 15:56:28.667 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 15:56:28.671 +05:30 [DBG] The navigation 'ChecklistItemModel.Trip' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:56:28.672 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:56:28.675 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:28.677 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-08-12 15:56:28.679 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:28.680 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:56:28.682 +05:30 [DBG] The unchanged property 'ChecklistItemModel.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 15:56:28.684 +05:30 [DBG] An entity of type 'ChecklistItemModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:56:28.687 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 15:56:28.687 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 15:56:28.688 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 15:56:28.689 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:28.691 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:28.692 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:56:28.693 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:56:28.694 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:56:28.695 +05:30 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ChecklistItems] SET [Description] = @p0, [IsCompleted] = @p1, [TripId] = @p2, [UserId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-08-12 15:56:28.698 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ChecklistItems] SET [Description] = @p0, [IsCompleted] = @p1, [TripId] = @p2, [UserId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-08-12 15:56:28.700 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:28.701 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 15:56:28.703 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:28.703 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:56:28.704 +05:30 [DBG] An entity of type 'ChecklistItemModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:56:28.706 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 15:56:28.707 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:56:28.709 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:56:28.710 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:56:28.710 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:56:28.711 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:56:28.712 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Dtos.ChecklistItemDto'.
2025-08-12 15:56:28.713 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.ChecklistController.UpdateItem (TravelPlannerAPI) in 104.5599ms
2025-08-12 15:56:28.714 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.ChecklistController.UpdateItem (TravelPlannerAPI)'
2025-08-12 15:56:28.715 +05:30 [INF] Source:[::1] Request: PUT http localhost:5276/api/v1/Checklist/18 ?id=18 {"id":18,"tripId":25,"description":"Dresses","isCompleted":false,"userId":15} Responded with [200] in 129ms
2025-08-12 15:56:28.718 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:56:28.718 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:56:28.719 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:28.720 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:56:28.721 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5276/api/v1/Checklist/18?id=18 - 200 175 application/json 143.0117ms
2025-08-12 15:56:44.848 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:56:44.859 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:56:44.861 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:56:44.862 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:56:44.863 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:56:44.865 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:56:44.867 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 4ms
2025-08-12 15:56:44.869 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:56:44.870 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 22.1252ms
2025-08-12 15:56:44.870 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:56:44.879 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:56:44.881 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:56:44.884 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:56:44.888 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:56:44.890 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:56:44.891 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:56:44.893 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:56:44.894 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:56:44.896 +05:30 [DBG] Authorization was successful.
2025-08-12 15:56:44.897 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:56:44.901 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:56:44.903 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:56:44.906 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:56:44.908 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:56:44.910 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:56:44.911 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:56:44.914 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:56:44.918 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:56:44.920 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:56:44.921 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:56:44.922 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:56:44.924 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:56:44.926 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:56:44.928 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:56:44.929 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:56:44.931 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:56:44.933 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:56:44.935 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:56:44.937 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:56:44.939 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:56:44.940 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:56:44.941 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:44.943 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:44.944 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:56:44.945 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:56:44.946 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:56:44.947 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:56:44.958 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:56:44.961 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:44.963 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 15:56:44.965 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:44.966 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:56:44.969 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:44.971 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:44.972 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:56:44.975 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:56:44.976 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 15:56:44.978 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:56:44.997 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:56:45.000 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:56:45.002 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:56:45.003 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:56:45.006 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:45.007 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-08-12 15:56:45.008 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:45.009 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:56:45.011 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:56:45.013 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:56:45.014 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:56:45.015 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:56:45.015 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:56:45.016 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:56:45.018 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 104.5092ms
2025-08-12 15:56:45.019 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:56:45.021 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 130ms
2025-08-12 15:56:45.023 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:56:45.024 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:56:45.026 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:56:45.027 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:56:45.028 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 1039 application/json 157.9533ms
2025-08-12 15:57:32.081 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Reviews - null null
2025-08-12 15:57:32.089 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Reviews'
2025-08-12 15:57:32.090 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:57:32.091 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:57:32.092 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:57:32.093 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:57:32.094 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Reviews   Responded with [204] in 3ms
2025-08-12 15:57:32.095 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:57:32.096 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Reviews - 204 null null 15.2097ms
2025-08-12 15:57:32.097 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Reviews - application/json 55
2025-08-12 15:57:32.110 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Reviews'
2025-08-12 15:57:32.111 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.ReviewsController.SubmitReviewV2 (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Reviews' is valid for the request path '/api/v1/Reviews'
2025-08-12 15:57:32.112 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.ReviewsController.SubmitReviewV1 (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Reviews' is valid for the request path '/api/v1/Reviews'
2025-08-12 15:57:32.113 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.ReviewsController.SubmitReviewV1 (TravelPlannerAPI)'
2025-08-12 15:57:32.115 +05:30 [DBG] Connection id "0HNEPH6APMCVH", Request id "0HNEPH6APMCVH:00000007": started reading request body.
2025-08-12 15:57:32.116 +05:30 [DBG] Connection id "0HNEPH6APMCVH", Request id "0HNEPH6APMCVH:00000007": done reading request body.
2025-08-12 15:57:32.117 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:57:32.118 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:57:32.119 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:57:32.119 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:57:32.122 +05:30 [DBG] Authorization was successful.
2025-08-12 15:57:32.122 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.ReviewsController.SubmitReviewV1 (TravelPlannerAPI)'
2025-08-12 15:57:32.127 +05:30 [INF] Route matched with {action = "SubmitReviewV1", controller = "Reviews"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitReviewV1(TravelPlannerAPI.Dtos.ReviewDto) on controller TravelPlannerAPI.Controllers.ReviewsController (TravelPlannerAPI).
2025-08-12 15:57:32.129 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:57:32.131 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:57:32.132 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:57:32.134 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:57:32.137 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:57:32.139 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.ReviewsController (TravelPlannerAPI)
2025-08-12 15:57:32.143 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:57:32.146 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.ReviewsController (TravelPlannerAPI)
2025-08-12 15:57:32.147 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ReviewDto' ...
2025-08-12 15:57:32.148 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ReviewDto' using the name '' in request data ...
2025-08-12 15:57:32.150 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 15:57:32.152 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.ReviewDto'
2025-08-12 15:57:32.153 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ReviewDto'.
2025-08-12 15:57:32.155 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ReviewDto'.
2025-08-12 15:57:32.156 +05:30 [DBG] Attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Dtos.ReviewDto' ...
2025-08-12 15:57:32.158 +05:30 [DBG] Done attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Dtos.ReviewDto'.
2025-08-12 15:57:32.163 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:57:32.164 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:57:32.165 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:32.166 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:32.167 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:57:32.168 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:57:32.170 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 15:57:32.171 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 15:57:32.176 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 15:57:32.178 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:57:32.179 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:32.180 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 15:57:32.182 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:32.183 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:57:32.186 +05:30 [DBG] Compiling query expression: 
'DbSet<ReviewModel>()
    .FirstOrDefault(r => r.TripId == __tripId_0 && r.UserId == __userId_1)'
2025-08-12 15:57:32.190 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ReviewModel>(
    asyncEnumerable: new SingleQueryingEnumerable<ReviewModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewModel.Rating (int) Required, 1], [Property: ReviewModel.ReviewText (string) Required, 2], [Property: ReviewModel.TripId (int) Required FK Index, 3], [Property: ReviewModel.UserId (int) Required FK Index, 4] }
            SELECT TOP(1) r.Id, r.Rating, r.review, r.TripId, r.UserId
            FROM reviews AS r
            WHERE (r.TripId == @__tripId_0) && (r.UserId == @__userId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 15:57:32.194 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:32.195 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:32.196 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:57:32.197 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:57:32.198 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:57:32.199 +05:30 [DBG] Executing DbCommand [Parameters=[@__tripId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [reviews] AS [r]
WHERE [r].[TripId] = @__tripId_0 AND [r].[UserId] = @__userId_1
2025-08-12 15:57:32.205 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__tripId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [reviews] AS [r]
WHERE [r].[TripId] = @__tripId_0 AND [r].[UserId] = @__userId_1
2025-08-12 15:57:32.208 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:32.209 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 15:57:32.210 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:32.211 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:57:32.214 +05:30 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'ReviewModel.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:57:32.217 +05:30 [DBG] The navigation 'ReviewModel.Trip' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:57:32.219 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:57:32.220 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 15:57:32.221 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 15:57:32.223 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 15:57:32.224 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:32.225 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:32.226 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:57:32.227 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:57:32.228 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:57:32.229 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [reviews] ([Rating], [review], [TripId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-08-12 15:57:32.235 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [reviews] ([Rating], [review], [TripId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-08-12 15:57:32.238 +05:30 [DBG] The foreign key property 'ReviewModel.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 15:57:32.240 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:32.241 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-12 15:57:32.242 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:32.243 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:57:32.245 +05:30 [DBG] An entity of type 'ReviewModel' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:57:32.247 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 15:57:32.250 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-08-12 15:57:32.251 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.ReviewsController.SubmitReviewV1 (TravelPlannerAPI) in 111.3469ms
2025-08-12 15:57:32.252 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.ReviewsController.SubmitReviewV1 (TravelPlannerAPI)'
2025-08-12 15:57:32.257 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Reviews  {"tripId":25,"userId":15,"rating":5,"review":"Amazing"} Responded with [200] in 141ms
2025-08-12 15:57:32.258 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:57:32.260 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:57:32.261 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:32.262 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:57:32.264 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Reviews - 200 62 application/json 166.5ms
2025-08-12 15:57:39.743 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=Hyderbad - null null
2025-08-12 15:57:39.747 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-12 15:57:39.747 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:57:39.749 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:57:39.750 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:57:39.751 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:57:39.755 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/TripReviews/search ?destination=Hyderbad  Responded with [204] in 6ms
2025-08-12 15:57:39.756 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:57:39.759 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=Hyderbad - null null
2025-08-12 15:57:39.759 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=Hyderbad - 204 null null 16.584ms
2025-08-12 15:57:39.762 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-12 15:57:39.765 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/TripReviews/search' is valid for the request path '/api/v1/TripReviews/search'
2025-08-12 15:57:39.766 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-12 15:57:39.767 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:57:39.768 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:57:39.771 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:57:39.772 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:57:39.774 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-12 15:57:39.778 +05:30 [INF] Route matched with {action = "SearchTripReviews", controller = "TripReviews"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchTripReviews(System.String) on controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI).
2025-08-12 15:57:39.780 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:57:39.781 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:57:39.783 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:57:39.787 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:57:39.789 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:57:39.790 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-12 15:57:39.793 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:57:39.795 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-12 15:57:39.796 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' ...
2025-08-12 15:57:39.798 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' using the name 'destination' in request data ...
2025-08-12 15:57:39.799 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-12 15:57:39.802 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-12 15:57:39.803 +05:30 [DBG] Attempting to validate the bound parameter 'destination' of type 'System.String' ...
2025-08-12 15:57:39.805 +05:30 [DBG] Done attempting to validate the bound parameter 'destination' of type 'System.String'.
2025-08-12 15:57:39.816 +05:30 [DBG] Compiling query expression: 
'DbSet<ReviewModel>()
    .Include(r => r.Trip)
    .Include(r => r.User)
    .Where(r => r.Trip != null && __Functions_0
        .Like(
            matchExpression: r.Trip.Destination, 
            pattern: __Format_1))
    .Select(r => new TripReviewDto{ 
        TripId = r.TripId, 
        TripName = r.Trip != null ? r.Trip.Destination : "Unknown Trip", 
        Username = r.User != null ? r.User.Name : "Unknown User", 
        Rating = r.Rating, 
        Comment = r.ReviewText 
    }
    )'
2025-08-12 15:57:39.844 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripReviewDto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            TripId -> 0
            TripName -> 1
            Username -> 2
            Rating -> 3
            Comment -> 4
        SELECT r.TripId, CASE
            WHEN Not(t.Id == NULL) THEN t.Destination
            ELSE N'Unknown Trip'
        END AS TripName, CASE
            WHEN Not(u.Id == NULL) THEN u.Name
            ELSE N'Unknown User'
        END AS Username, r.Rating, r.review AS Comment
        FROM reviews AS r
        INNER JOIN Trips AS t ON r.TripId == t.Id
        INNER JOIN Users AS u ON r.UserId == u.Id
        WHERE Not(t.Id == NULL) && (t.Destination LIKE @__Format_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripReviewDto>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 15:57:39.849 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:57:39.850 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:57:39.851 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:39.852 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:39.853 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:57:39.855 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:57:39.856 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:57:39.857 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-12 15:57:39.864 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-12 15:57:39.867 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:39.867 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 15:57:39.869 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:39.870 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:57:39.872 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:57:39.874 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:57:39.874 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:57:39.875 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:57:39.876 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:57:39.877 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.TripReviewDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:57:39.879 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI) in 88.2339ms
2025-08-12 15:57:39.879 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-12 15:57:39.881 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/TripReviews/search ?destination=Hyderbad  Responded with [200] in 113ms
2025-08-12 15:57:39.882 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:57:39.883 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:57:39.884 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:39.885 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 15:57:39.886 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=Hyderbad - 200 61 application/json 127.0677ms
2025-08-12 15:57:45.782 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=Delhi - null null
2025-08-12 15:57:45.786 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-12 15:57:45.788 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:57:45.789 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:57:45.790 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:57:45.791 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:57:45.792 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/TripReviews/search ?destination=Delhi  Responded with [204] in 2ms
2025-08-12 15:57:45.793 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:57:45.794 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=Delhi - 204 null null 12.2197ms
2025-08-12 15:57:45.795 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=Delhi - null null
2025-08-12 15:57:45.801 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-12 15:57:45.805 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/TripReviews/search' is valid for the request path '/api/v1/TripReviews/search'
2025-08-12 15:57:45.806 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-12 15:57:45.807 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:57:45.808 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:57:45.809 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:57:45.809 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:57:45.810 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-12 15:57:45.811 +05:30 [INF] Route matched with {action = "SearchTripReviews", controller = "TripReviews"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchTripReviews(System.String) on controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI).
2025-08-12 15:57:45.813 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:57:45.813 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:57:45.814 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:57:45.816 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:57:45.817 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:57:45.820 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-12 15:57:45.822 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:57:45.824 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-12 15:57:45.825 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' ...
2025-08-12 15:57:45.826 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' using the name 'destination' in request data ...
2025-08-12 15:57:45.827 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-12 15:57:45.827 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-12 15:57:45.828 +05:30 [DBG] Attempting to validate the bound parameter 'destination' of type 'System.String' ...
2025-08-12 15:57:45.829 +05:30 [DBG] Done attempting to validate the bound parameter 'destination' of type 'System.String'.
2025-08-12 15:57:45.832 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:57:45.833 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 15:57:45.835 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:45.836 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:45.838 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:57:45.838 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:57:45.839 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:57:45.840 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-12 15:57:45.847 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-12 15:57:45.852 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:45.853 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 15:57:45.855 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:45.856 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:57:45.857 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:57:45.858 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:57:45.859 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:57:45.860 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:57:45.860 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:57:45.861 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.TripReviewDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:57:45.863 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI) in 43.6576ms
2025-08-12 15:57:45.864 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-12 15:57:45.866 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/TripReviews/search ?destination=Delhi  Responded with [200] in 58ms
2025-08-12 15:57:45.867 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:57:45.868 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:57:45.869 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:45.870 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:57:45.872 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=Delhi - 200 238 application/json 76.4959ms
2025-08-12 15:57:51.269 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/2 - null null
2025-08-12 15:57:51.272 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/2'
2025-08-12 15:57:51.273 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:57:51.274 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:57:51.275 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:57:51.276 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:57:51.277 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/2   Responded with [204] in 3ms
2025-08-12 15:57:51.278 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:57:51.279 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/2 - 204 null null 10.4099ms
2025-08-12 15:57:51.280 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/2 - null null
2025-08-12 15:57:51.287 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/2'
2025-08-12 15:57:51.287 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/2'
2025-08-12 15:57:51.289 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 15:57:51.290 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:57:51.291 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:57:51.292 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:57:51.293 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:57:51.294 +05:30 [DBG] Authorization was successful.
2025-08-12 15:57:51.295 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 15:57:51.296 +05:30 [INF] Route matched with {action = "GetTrip", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TravelPlannerAPI.Dtos.TripDto]] GetTrip(Int32) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:57:51.298 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:57:51.299 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:57:51.300 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:57:51.302 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:57:51.303 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:57:51.305 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:57:51.307 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:57:51.308 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:57:51.309 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-12 15:57:51.310 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-12 15:57:51.311 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 15:57:51.312 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 15:57:51.313 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-12 15:57:51.314 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-12 15:57:51.315 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:57:51.316 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:57:51.317 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:51.318 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:51.319 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:57:51.320 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:57:51.321 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:57:51.323 +05:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-12 15:57:51.331 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-12 15:57:51.335 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:57:51.336 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:57:51.338 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:57:51.339 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:57:51.344 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripShareModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:57:51.347 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:51.349 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 14ms reading results.
2025-08-12 15:57:51.350 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:51.351 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:57:51.354 +05:30 [DBG] Compiling query expression: 
'DbSet<TripShareModel>()
    .Any(ts => ts.TripId == __tripId_0 && ts.SharedWithUserId == __userId_1)'
2025-08-12 15:57:51.357 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM TripShares AS t
                WHERE (t.TripId == @__tripId_0) && (t.SharedWithUserId == @__userId_1))), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 15:57:51.363 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:51.364 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:51.365 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:57:51.366 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:57:51.367 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:57:51.368 +05:30 [DBG] Executing DbCommand [Parameters=[@__tripId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TripShares] AS [t]
        WHERE [t].[TripId] = @__tripId_0 AND [t].[SharedWithUserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-12 15:57:51.374 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__tripId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TripShares] AS [t]
        WHERE [t].[TripId] = @__tripId_0 AND [t].[SharedWithUserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-12 15:57:51.387 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:51.388 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 15:57:51.390 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:51.391 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:57:51.392 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:57:51.394 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:57:51.395 +05:30 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-08-12 15:57:51.397 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-08-12 15:57:51.398 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-08-12 15:57:51.399 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI) in 94.1547ms
2025-08-12 15:57:51.400 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 15:57:51.402 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/2   Responded with [404] in 111ms
2025-08-12 15:57:51.402 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:57:51.403 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:57:51.404 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:51.406 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:57:51.407 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/2 - 404 285 application/json 127.0491ms
2025-08-12 15:57:57.179 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:57:57.186 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:57:57.187 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:57:57.188 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:57:57.189 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:57:57.191 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:57:57.195 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 6ms
2025-08-12 15:57:57.196 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:57:57.198 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 19.0283ms
2025-08-12 15:57:57.199 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:57:57.204 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:57:57.205 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:57:57.206 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:57:57.208 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:57:57.209 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:57:57.209 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:57:57.211 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:57:57.211 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:57:57.213 +05:30 [DBG] Authorization was successful.
2025-08-12 15:57:57.213 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:57:57.214 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:57:57.218 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:57:57.219 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:57:57.220 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:57:57.222 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:57:57.224 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:57:57.225 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:57:57.228 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:57:57.229 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:57:57.230 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:57:57.231 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:57:57.234 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:57:57.236 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:57:57.237 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:57:57.239 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:57:57.240 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:57:57.241 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:57:57.243 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:57:57.244 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:57:57.246 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:57:57.246 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:57:57.247 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:57.250 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:57.251 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:57:57.252 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:57:57.253 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:57:57.254 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:57:57.261 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:57:57.264 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:57.266 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 15:57:57.268 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:57.269 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:57:57.271 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:57.273 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:57.275 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:57:57.276 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:57:57.277 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:57:57.278 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:57:57.293 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:57:57.296 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:57:57.298 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:57:57.299 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:57:57.301 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:57:57.303 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:57.304 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-08-12 15:57:57.306 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:57.307 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:57:57.308 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:57:57.311 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:57:57.311 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:57:57.312 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:57:57.313 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:57:57.315 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:57:57.317 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 91.7646ms
2025-08-12 15:57:57.319 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:57:57.324 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 115ms
2025-08-12 15:57:57.326 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:57:57.327 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:57:57.330 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:57:57.331 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:57:57.333 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 1152 application/json 134.1523ms
2025-08-12 15:58:04.069 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=Manali - null null
2025-08-12 15:58:04.074 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-12 15:58:04.075 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:58:04.076 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:58:04.077 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:58:04.077 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:58:04.079 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/TripReviews/search ?destination=Manali  Responded with [204] in 2ms
2025-08-12 15:58:04.080 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:58:04.081 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=Manali - 204 null null 11.1519ms
2025-08-12 15:58:04.081 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=Manali - null null
2025-08-12 15:58:04.088 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-12 15:58:04.089 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/TripReviews/search' is valid for the request path '/api/v1/TripReviews/search'
2025-08-12 15:58:04.090 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-12 15:58:04.091 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:58:04.092 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:58:04.093 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:58:04.094 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:58:04.095 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-12 15:58:04.096 +05:30 [INF] Route matched with {action = "SearchTripReviews", controller = "TripReviews"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchTripReviews(System.String) on controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI).
2025-08-12 15:58:04.098 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:58:04.099 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:58:04.100 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:58:04.103 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:58:04.104 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:58:04.106 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-12 15:58:04.109 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:58:04.110 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-12 15:58:04.112 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' ...
2025-08-12 15:58:04.113 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' using the name 'destination' in request data ...
2025-08-12 15:58:04.115 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-12 15:58:04.116 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-12 15:58:04.117 +05:30 [DBG] Attempting to validate the bound parameter 'destination' of type 'System.String' ...
2025-08-12 15:58:04.117 +05:30 [DBG] Done attempting to validate the bound parameter 'destination' of type 'System.String'.
2025-08-12 15:58:04.120 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:58:04.121 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:58:04.121 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:04.122 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:04.123 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:58:04.124 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:58:04.125 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:58:04.126 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-12 15:58:04.129 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-12 15:58:04.132 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:04.133 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:58:04.134 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:04.135 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:58:04.137 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:58:04.139 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:58:04.140 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:58:04.140 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:58:04.141 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:58:04.142 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.TripReviewDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:58:04.143 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI) in 37.7818ms
2025-08-12 15:58:04.146 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-12 15:58:04.147 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/TripReviews/search ?destination=Manali  Responded with [200] in 55ms
2025-08-12 15:58:04.148 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:58:04.149 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:58:04.150 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:04.151 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:58:04.153 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=Manali - 200 214 application/json 72.3582ms
2025-08-12 15:58:12.214 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:58:12.219 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:58:12.220 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:58:12.222 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:58:12.224 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:58:12.225 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:58:12.230 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 7ms
2025-08-12 15:58:12.232 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:58:12.233 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 18.6375ms
2025-08-12 15:58:12.234 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:58:12.238 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:58:12.239 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:58:12.240 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:58:12.242 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:58:12.243 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:58:12.243 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:58:12.244 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:58:12.245 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:58:12.246 +05:30 [DBG] Authorization was successful.
2025-08-12 15:58:12.247 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:58:12.248 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:58:12.249 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:58:12.252 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:58:12.254 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:58:12.256 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:58:12.257 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:58:12.259 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:58:12.261 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:58:12.263 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:58:12.264 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:58:12.265 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:58:12.268 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:58:12.270 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:58:12.271 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:58:12.272 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:58:12.274 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:58:12.275 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:58:12.275 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:58:12.277 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:58:12.279 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:58:12.279 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:58:12.280 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:12.281 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:12.283 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:58:12.285 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:58:12.286 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:58:12.287 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:58:12.291 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:58:12.294 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:12.295 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 15:58:12.296 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:12.297 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:58:12.300 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:12.301 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:12.303 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:58:12.304 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:58:12.305 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:58:12.306 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:58:12.311 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:58:12.315 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:12.316 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:12.318 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:12.320 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:12.321 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:12.322 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-08-12 15:58:12.323 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:12.324 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:58:12.326 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:58:12.328 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:58:12.328 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:58:12.329 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:58:12.331 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:58:12.332 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:58:12.334 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 74.6411ms
2025-08-12 15:58:12.335 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:58:12.337 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 94ms
2025-08-12 15:58:12.338 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:58:12.340 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:58:12.342 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:12.343 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:58:12.344 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 1152 application/json 110.3083ms
2025-08-12 15:58:25.149 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/101 - null null
2025-08-12 15:58:25.158 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/101'
2025-08-12 15:58:25.161 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:58:25.162 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:58:25.163 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:58:25.164 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:58:25.165 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/101   Responded with [204] in 3ms
2025-08-12 15:58:25.166 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:58:25.168 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/101 - 204 null null 19.0756ms
2025-08-12 15:58:25.172 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/101 - null null
2025-08-12 15:58:25.174 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/101'
2025-08-12 15:58:25.177 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/101'
2025-08-12 15:58:25.179 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 15:58:25.179 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:58:25.180 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:58:25.181 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:58:25.182 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:58:25.183 +05:30 [DBG] Authorization was successful.
2025-08-12 15:58:25.184 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 15:58:25.185 +05:30 [INF] Route matched with {action = "GetTrip", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TravelPlannerAPI.Dtos.TripDto]] GetTrip(Int32) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:58:25.187 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:58:25.189 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:58:25.190 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:58:25.194 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:58:25.195 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:58:25.197 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:58:25.199 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:58:25.201 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:58:25.202 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-12 15:58:25.203 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-12 15:58:25.205 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 15:58:25.206 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 15:58:25.208 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-12 15:58:25.209 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-12 15:58:25.212 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:58:25.212 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:58:25.213 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:25.215 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:25.216 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:58:25.217 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:58:25.218 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:58:25.219 +05:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-12 15:58:25.223 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-12 15:58:25.227 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:25.228 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:58:25.229 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:25.230 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:58:25.231 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:58:25.233 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:58:25.234 +05:30 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-08-12 15:58:25.236 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-08-12 15:58:25.237 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-08-12 15:58:25.238 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI) in 41.2427ms
2025-08-12 15:58:25.239 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 15:58:25.241 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/101   Responded with [404] in 61ms
2025-08-12 15:58:25.241 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:58:25.243 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:58:25.244 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:25.245 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 15:58:25.246 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/101 - 404 285 application/json 73.3666ms
2025-08-12 15:58:27.086 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip - null null
2025-08-12 15:58:27.089 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip'
2025-08-12 15:58:27.091 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:58:27.092 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:58:27.094 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:58:27.096 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:58:27.099 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip   Responded with [204] in 6ms
2025-08-12 15:58:27.100 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:58:27.101 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip - 204 null null 14.6704ms
2025-08-12 15:58:27.101 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Trip - application/json 475
2025-08-12 15:58:27.104 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip'
2025-08-12 15:58:27.106 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.CreateTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip' is valid for the request path '/api/v1/Trip'
2025-08-12 15:58:27.108 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.CreateTrip (TravelPlannerAPI)'
2025-08-12 15:58:27.109 +05:30 [DBG] Connection id "0HNEPH6APMCVH", Request id "0HNEPH6APMCVH:0000000F": started reading request body.
2025-08-12 15:58:27.109 +05:30 [DBG] Connection id "0HNEPH6APMCVH", Request id "0HNEPH6APMCVH:0000000F": done reading request body.
2025-08-12 15:58:27.110 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:58:27.111 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:58:27.112 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:58:27.113 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:58:27.114 +05:30 [DBG] Authorization was successful.
2025-08-12 15:58:27.115 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.CreateTrip (TravelPlannerAPI)'
2025-08-12 15:58:27.116 +05:30 [INF] Route matched with {action = "CreateTrip", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TravelPlannerAPI.Dtos.TripDto]] CreateTrip(TravelPlannerAPI.Dtos.TripCreateDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:58:27.117 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:58:27.118 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:58:27.119 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:58:27.121 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:58:27.122 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:58:27.123 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:58:27.125 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:58:27.127 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:58:27.128 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripCreateDto' ...
2025-08-12 15:58:27.128 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripCreateDto' using the name '' in request data ...
2025-08-12 15:58:27.130 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 15:58:27.132 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TripCreateDto'
2025-08-12 15:58:27.132 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripCreateDto'.
2025-08-12 15:58:27.133 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripCreateDto'.
2025-08-12 15:58:27.134 +05:30 [DBG] Attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripCreateDto' ...
2025-08-12 15:58:27.135 +05:30 [DBG] Done attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripCreateDto'.
2025-08-12 15:58:27.137 +05:30 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'TripModel.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:27.139 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:27.140 +05:30 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'BudgetDetailsModel.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:27.141 +05:30 [DBG] The navigation 'BudgetDetailsModel.Trip' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:27.142 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:27.143 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 15:58:27.143 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 15:58:27.144 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 15:58:27.146 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:58:27.147 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:58:27.147 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:27.148 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:27.149 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-12 15:58:27.150 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-12 15:58:27.151 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:58:27.152 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:58:27.152 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:58:27.153 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Trips] ([BestTime], [Budget], [Description], [Destination], [Duration], [EndDate], [EssentialsJson], [Image], [Notes], [StartDate], [Title], [TouristSpotsJson], [TravelMode], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-08-12 15:58:27.158 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Trips] ([BestTime], [Budget], [Description], [Destination], [Duration], [EndDate], [EssentialsJson], [Image], [Notes], [StartDate], [Title], [TouristSpotsJson], [TravelMode], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-08-12 15:58:27.161 +05:30 [DBG] The foreign key property 'TripModel.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 15:58:27.162 +05:30 [DBG] The foreign key property 'BudgetDetailsModel.TripId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 15:58:27.163 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:27.164 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-12 15:58:27.166 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:58:27.166 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:58:27.167 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:58:27.168 +05:30 [DBG] Executing DbCommand [Parameters=[@p14='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p15='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [budgetdetails] ([Food], [Hotel], [TripId])
OUTPUT INSERTED.[Id]
VALUES (@p14, @p15, @p16);
2025-08-12 15:58:27.171 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p14='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p15='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [budgetdetails] ([Food], [Hotel], [TripId])
OUTPUT INSERTED.[Id]
VALUES (@p14, @p15, @p16);
2025-08-12 15:58:27.173 +05:30 [DBG] The foreign key property 'BudgetDetailsModel.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 15:58:27.174 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:27.175 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 15:58:27.176 +05:30 [DBG] Committing transaction.
2025-08-12 15:58:27.181 +05:30 [DBG] Committed transaction.
2025-08-12 15:58:27.181 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:27.182 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:58:27.183 +05:30 [DBG] Disposing transaction.
2025-08-12 15:58:27.184 +05:30 [DBG] An entity of type 'TripModel' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:27.185 +05:30 [DBG] An entity of type 'BudgetDetailsModel' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:27.187 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2025-08-12 15:58:27.188 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:58:27.190 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:58:27.190 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:58:27.191 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:58:27.192 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:58:27.193 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'TravelPlannerAPI.Dtos.TripDto'.
2025-08-12 15:58:27.195 +05:30 [DBG] Found the endpoints ["TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)"] for address (id=[26],version=[1],action=[GetTrip],controller=[Trip])
2025-08-12 15:58:27.196 +05:30 [DBG] Successfully processed template api/v{version:apiVersion}/Trip/{id} for TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI) resulting in /api/v1/Trip/26 and 
2025-08-12 15:58:27.197 +05:30 [DBG] Link generation succeeded for endpoints ["TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)"] with result /api/v1/Trip/26
2025-08-12 15:58:27.199 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.CreateTrip (TravelPlannerAPI) in 75.4947ms
2025-08-12 15:58:27.199 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.CreateTrip (TravelPlannerAPI)'
2025-08-12 15:58:27.201 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Trip  {"id":101,"title":"Beach Getaway","destination":"Goa, India","startDate":"2025-01-01","endDate":"2025-01-05","budget":0,"travelMode":"Not specified","notes":"","userId":15,"image":"trips/beach.jpg","description":"Relax on sunny beaches and enjoy seafood.","duration":"7 Days","bestTime":"October to March","essentials":["Sunscreen","Swimwear","Sunglasses","Flip-flops"],"touristSpots":["Baga Beach","Fort Aguada","Dudhsagar Falls"],"budgetDetails":{"food":3000,"hotel":6000}} Responded with [201] in 92ms
2025-08-12 15:58:27.203 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:58:27.203 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:58:27.206 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:27.207 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:58:27.208 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Trip - 201 781 application/json 107.2174ms
2025-08-12 15:58:27.212 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:58:27.215 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:58:27.217 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:58:27.218 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:58:27.219 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:58:27.220 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:58:27.221 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 2ms
2025-08-12 15:58:27.222 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:58:27.223 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 11.2415ms
2025-08-12 15:58:27.224 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:58:27.228 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:58:27.230 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:58:27.231 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:58:27.233 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:58:27.234 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:58:27.235 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:58:27.236 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:58:27.237 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:58:27.238 +05:30 [DBG] Authorization was successful.
2025-08-12 15:58:27.238 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:58:27.239 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:58:27.241 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:58:27.242 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:58:27.243 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:58:27.245 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:58:27.246 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:58:27.248 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:58:27.249 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:58:27.251 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:58:27.252 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:58:27.255 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:58:27.256 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:58:27.257 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:58:27.258 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:58:27.260 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:58:27.261 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:58:27.262 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:58:27.263 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:58:27.264 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:58:27.266 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:58:27.267 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 15:58:27.268 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:27.269 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:27.270 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:58:27.271 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:58:27.272 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:58:27.273 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:58:27.276 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:58:27.278 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:27.279 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:58:27.280 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:27.281 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:58:27.283 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:27.284 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:27.284 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:58:27.285 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:58:27.286 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:58:27.287 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:58:27.290 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:58:27.293 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:27.294 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:27.295 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:27.296 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:27.297 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:27.298 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:27.299 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:27.301 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:27.302 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-08-12 15:58:27.303 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:27.304 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:58:27.306 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:58:27.308 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:58:27.309 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:58:27.310 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:58:27.310 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:58:27.312 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:58:27.313 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 65.3529ms
2025-08-12 15:58:27.314 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:58:27.316 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 81ms
2025-08-12 15:58:27.318 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:58:27.320 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:58:27.324 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:27.325 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:58:27.327 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2008 application/json 103.1917ms
2025-08-12 15:58:40.121 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Reviews - null null
2025-08-12 15:58:40.123 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Reviews'
2025-08-12 15:58:40.124 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:58:40.126 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:58:40.127 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:58:40.127 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:58:40.128 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Reviews   Responded with [204] in 2ms
2025-08-12 15:58:40.129 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:58:40.131 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Reviews - application/json 63
2025-08-12 15:58:40.133 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Reviews - 204 null null 11.964ms
2025-08-12 15:58:40.135 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Reviews'
2025-08-12 15:58:40.140 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.ReviewsController.SubmitReviewV2 (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Reviews' is valid for the request path '/api/v1/Reviews'
2025-08-12 15:58:40.141 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.ReviewsController.SubmitReviewV1 (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Reviews' is valid for the request path '/api/v1/Reviews'
2025-08-12 15:58:40.143 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.ReviewsController.SubmitReviewV1 (TravelPlannerAPI)'
2025-08-12 15:58:40.144 +05:30 [DBG] Connection id "0HNEPH6APMCVH", Request id "0HNEPH6APMCVH:00000011": started reading request body.
2025-08-12 15:58:40.145 +05:30 [DBG] Connection id "0HNEPH6APMCVH", Request id "0HNEPH6APMCVH:00000011": done reading request body.
2025-08-12 15:58:40.146 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:58:40.147 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:58:40.148 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:58:40.150 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:58:40.151 +05:30 [DBG] Authorization was successful.
2025-08-12 15:58:40.152 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.ReviewsController.SubmitReviewV1 (TravelPlannerAPI)'
2025-08-12 15:58:40.152 +05:30 [INF] Route matched with {action = "SubmitReviewV1", controller = "Reviews"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitReviewV1(TravelPlannerAPI.Dtos.ReviewDto) on controller TravelPlannerAPI.Controllers.ReviewsController (TravelPlannerAPI).
2025-08-12 15:58:40.154 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:58:40.155 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:58:40.156 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:58:40.158 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:58:40.160 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:58:40.161 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.ReviewsController (TravelPlannerAPI)
2025-08-12 15:58:40.165 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:58:40.167 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.ReviewsController (TravelPlannerAPI)
2025-08-12 15:58:40.168 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ReviewDto' ...
2025-08-12 15:58:40.169 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ReviewDto' using the name '' in request data ...
2025-08-12 15:58:40.170 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 15:58:40.172 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.ReviewDto'
2025-08-12 15:58:40.172 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ReviewDto'.
2025-08-12 15:58:40.173 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ReviewDto'.
2025-08-12 15:58:40.174 +05:30 [DBG] Attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Dtos.ReviewDto' ...
2025-08-12 15:58:40.175 +05:30 [DBG] Done attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Dtos.ReviewDto'.
2025-08-12 15:58:40.177 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:58:40.178 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:58:40.179 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:40.180 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:40.181 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:58:40.182 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:58:40.183 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:58:40.184 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 15:58:40.189 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 15:58:40.192 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:40.193 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:40.194 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 15:58:40.195 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:40.196 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:58:40.198 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:40.199 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:40.200 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:58:40.201 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:58:40.202 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:58:40.204 +05:30 [DBG] Executing DbCommand [Parameters=[@__tripId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [reviews] AS [r]
WHERE [r].[TripId] = @__tripId_0 AND [r].[UserId] = @__userId_1
2025-08-12 15:58:40.207 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__tripId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [reviews] AS [r]
WHERE [r].[TripId] = @__tripId_0 AND [r].[UserId] = @__userId_1
2025-08-12 15:58:40.209 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:40.210 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:58:40.211 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:40.212 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:58:40.213 +05:30 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'ReviewModel.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:40.215 +05:30 [DBG] The navigation 'ReviewModel.Trip' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:40.216 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:40.217 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 15:58:40.219 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 15:58:40.220 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 15:58:40.221 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:40.222 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:40.223 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:58:40.223 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:58:40.224 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:58:40.226 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [reviews] ([Rating], [review], [TripId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-08-12 15:58:40.233 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [reviews] ([Rating], [review], [TripId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-08-12 15:58:40.235 +05:30 [DBG] The foreign key property 'ReviewModel.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 15:58:40.237 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:40.238 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 15:58:40.240 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:40.242 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:58:40.243 +05:30 [DBG] An entity of type 'ReviewModel' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:40.244 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 15:58:40.246 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-08-12 15:58:40.247 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.ReviewsController.SubmitReviewV1 (TravelPlannerAPI) in 85.551ms
2025-08-12 15:58:40.248 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.ReviewsController.SubmitReviewV1 (TravelPlannerAPI)'
2025-08-12 15:58:40.250 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Reviews  {"tripId":26,"userId":15,"rating":3,"review":"Expensive Place"} Responded with [200] in 105ms
2025-08-12 15:58:40.251 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:58:40.252 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:58:40.253 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:40.256 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 15:58:40.257 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Reviews - 200 62 application/json 126.6714ms
2025-08-12 15:58:45.271 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=Goa - null null
2025-08-12 15:58:45.276 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-12 15:58:45.277 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:58:45.278 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:58:45.279 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:58:45.280 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:58:45.281 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/TripReviews/search ?destination=Goa  Responded with [204] in 2ms
2025-08-12 15:58:45.281 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:58:45.284 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=Goa - null null
2025-08-12 15:58:45.286 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=Goa - 204 null null 15.2271ms
2025-08-12 15:58:45.288 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-12 15:58:45.291 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/TripReviews/search' is valid for the request path '/api/v1/TripReviews/search'
2025-08-12 15:58:45.293 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-12 15:58:45.295 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:58:45.296 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:58:45.297 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:58:45.298 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:58:45.300 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-12 15:58:45.302 +05:30 [INF] Route matched with {action = "SearchTripReviews", controller = "TripReviews"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchTripReviews(System.String) on controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI).
2025-08-12 15:58:45.303 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:58:45.305 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:58:45.306 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:58:45.308 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:58:45.309 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:58:45.311 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-12 15:58:45.313 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:58:45.316 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-12 15:58:45.317 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' ...
2025-08-12 15:58:45.319 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' using the name 'destination' in request data ...
2025-08-12 15:58:45.320 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-12 15:58:45.321 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-12 15:58:45.322 +05:30 [DBG] Attempting to validate the bound parameter 'destination' of type 'System.String' ...
2025-08-12 15:58:45.323 +05:30 [DBG] Done attempting to validate the bound parameter 'destination' of type 'System.String'.
2025-08-12 15:58:45.325 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:58:45.325 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:58:45.326 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:45.327 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:45.328 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:58:45.329 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:58:45.331 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:58:45.333 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-12 15:58:45.340 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-12 15:58:45.342 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:45.343 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 15:58:45.344 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:45.345 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:58:45.348 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:58:45.351 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:58:45.352 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:58:45.353 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:58:45.354 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:58:45.355 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.TripReviewDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:58:45.357 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI) in 45.9518ms
2025-08-12 15:58:45.358 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-12 15:58:45.359 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/TripReviews/search ?destination=Goa  Responded with [200] in 64ms
2025-08-12 15:58:45.360 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:58:45.361 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:58:45.364 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:45.364 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 15:58:45.366 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=Goa - 200 219 application/json 81.4173ms
2025-08-12 15:58:53.711 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:58:53.714 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:58:53.716 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:58:53.717 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:58:53.718 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:58:53.719 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:58:53.720 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 2ms
2025-08-12 15:58:53.721 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:58:53.723 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:58:53.725 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 14.1231ms
2025-08-12 15:58:53.727 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:58:53.731 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:58:53.734 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:58:53.735 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:58:53.736 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:58:53.737 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:58:53.738 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:58:53.739 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:58:53.740 +05:30 [DBG] Authorization was successful.
2025-08-12 15:58:53.741 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:58:53.742 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:58:53.744 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:58:53.745 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:58:53.746 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:58:53.748 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:58:53.750 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:58:53.752 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:58:53.754 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:58:53.755 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:58:53.756 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:58:53.758 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:58:53.759 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:58:53.761 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:58:53.762 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:58:53.763 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:58:53.765 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:58:53.766 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:58:53.768 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:58:53.769 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:58:53.772 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:58:53.773 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 15:58:53.774 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:53.776 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:53.777 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:58:53.778 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:58:53.779 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:58:53.781 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:58:53.790 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:58:53.793 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:53.794 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:58:53.795 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:53.796 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:58:53.799 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:53.800 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:53.801 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:58:53.802 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:58:53.802 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:58:53.803 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:58:53.814 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:58:53.818 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:53.819 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:53.820 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:53.821 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:53.823 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:53.824 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:53.825 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:53.826 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:58:53.827 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:53.828 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 10ms reading results.
2025-08-12 15:58:53.830 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:53.831 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:58:53.833 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:58:53.835 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:58:53.835 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:58:53.836 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:58:53.837 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:58:53.838 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:58:53.839 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 87.2309ms
2025-08-12 15:58:53.840 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:58:53.841 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 105ms
2025-08-12 15:58:53.842 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:58:53.843 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:58:53.846 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:58:53.847 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:58:53.848 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2129 application/json 124.8168ms
2025-08-12 15:59:00.606 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-12 15:59:00.608 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 15:59:00.609 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:59:00.610 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:00.611 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:00.611 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:59:00.612 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 2ms
2025-08-12 15:59:00.613 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:59:00.614 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 7.9647ms
2025-08-12 15:59:00.616 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 56
2025-08-12 15:59:00.618 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 15:59:00.619 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-12 15:59:00.620 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 15:59:00.621 +05:30 [DBG] Connection id "0HNEPH6APMCVD", Request id "0HNEPH6APMCVD:0000001F": started reading request body.
2025-08-12 15:59:00.623 +05:30 [DBG] Connection id "0HNEPH6APMCVD", Request id "0HNEPH6APMCVD:0000001F": done reading request body.
2025-08-12 15:59:00.624 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:00.625 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:00.626 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 15:59:00.627 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 15:59:00.627 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-12 15:59:00.629 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:59:00.630 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:59:00.631 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:00.633 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:59:00.634 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:00.636 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 15:59:00.637 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:59:00.639 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 15:59:00.640 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 15:59:00.641 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-12 15:59:00.642 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 15:59:00.644 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-12 15:59:00.644 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 15:59:00.645 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 15:59:00.647 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 15:59:00.648 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 15:59:00.649 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:59:00.650 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:59:00.651 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:00.652 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:00.653 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:00.654 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:59:00.655 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:00.656 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 15:59:00.662 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 15:59:00.664 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:00.666 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:00.667 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 15:59:00.668 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:00.669 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:59:00.719 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:00.720 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:00.721 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:00.722 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:59:00.723 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:00.724 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 15:59:00.732 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 15:59:00.734 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:00.735 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:59:00.737 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:00.738 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:59:00.740 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:00.742 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 15:59:00.742 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 15:59:00.743 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 15:59:00.744 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:00.745 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:00.746 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:00.747 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:59:00.748 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:00.749 +05:30 [DBG] Executing DbCommand [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 15:59:00.757 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 15:59:00.759 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:00.760 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:59:00.762 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:00.763 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:59:00.764 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:00.765 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 15:59:00.767 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:59:00.769 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:59:00.769 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:59:00.770 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:59:00.772 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:59:00.774 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:59:00.775 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 139.8071ms
2025-08-12 15:59:00.776 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 15:59:00.778 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"suraksha@gmail.com","password":"Password@123"} Responded with [200] in 156ms
2025-08-12 15:59:00.779 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:59:00.780 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:59:00.782 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:00.788 +05:30 [DBG] Disposed connection to database '' on server '' (6ms).
2025-08-12 15:59:00.788 +05:30 [DBG] Connection id "0HNEPH6APMCVI" accepted.
2025-08-12 15:59:00.789 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:59:00.791 +05:30 [DBG] Connection id "0HNEPH6APMCVI" started.
2025-08-12 15:59:00.789 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 908 application/json 173.0157ms
2025-08-12 15:59:00.804 +05:30 [DBG] Connection id "0HNEPH6APMCVJ" accepted.
2025-08-12 15:59:00.804 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:59:00.806 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:59:00.811 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:59:00.810 +05:30 [DBG] Connection id "0HNEPH6APMCVJ" started.
2025-08-12 15:59:00.808 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:59:00.811 +05:30 [DBG] Connection id "0HNEPH6APMCVK" accepted.
2025-08-12 15:59:00.820 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:59:00.820 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:00.824 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:59:00.821 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:59:00.823 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:59:00.824 +05:30 [DBG] Connection id "0HNEPH6APMCVL" accepted.
2025-08-12 15:59:00.823 +05:30 [DBG] Connection id "0HNEPH6APMCVK" started.
2025-08-12 15:59:00.830 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:00.829 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:00.832 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:59:00.833 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:59:00.834 +05:30 [DBG] Connection id "0HNEPH6APMCVL" started.
2025-08-12 15:59:00.835 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:59:00.835 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:00.836 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:59:00.837 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:59:00.840 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:59:00.837 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:00.841 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 20ms
2025-08-12 15:59:00.843 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:00.840 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:59:00.843 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 13ms
2025-08-12 15:59:00.847 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:59:00.850 +05:30 [DBG] Connection id "0HNEPH6APMCVI" completed keep alive response.
2025-08-12 15:59:00.855 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:59:00.844 +05:30 [DBG] Connection id "0HNEPH6APMCVG" completed keep alive response.
2025-08-12 15:59:00.845 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:00.844 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:00.846 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:59:00.838 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:59:00.857 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 51.5218ms
2025-08-12 15:59:00.858 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:59:00.859 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 69.9247ms
2025-08-12 15:59:00.859 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:59:00.860 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:59:00.865 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:59:00.866 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:59:00.868 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:59:00.869 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 26ms
2025-08-12 15:59:00.860 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:00.863 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:59:00.869 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 32ms
2025-08-12 15:59:00.871 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:59:00.872 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:00.874 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:59:00.874 +05:30 [DBG] Connection id "0HNEPH6APMCVJ" completed keep alive response.
2025-08-12 15:59:00.875 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:00.876 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:59:00.877 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:59:00.878 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:59:00.878 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:00.879 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:59:00.880 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 58.951ms
2025-08-12 15:59:00.881 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:59:00.882 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:00.884 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:00.884 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:00.885 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:00.887 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:59:00.883 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 74.5586ms
2025-08-12 15:59:00.888 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 27ms
2025-08-12 15:59:00.888 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:00.889 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:00.889 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:59:00.890 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:00.891 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:59:00.894 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:59:00.894 +05:30 [DBG] Connection id "0HNEPH6APMCVK" completed keep alive response.
2025-08-12 15:59:00.895 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:59:00.896 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:59:00.896 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:59:00.898 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:59:00.899 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:59:00.902 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 18ms
2025-08-12 15:59:00.903 +05:30 [DBG] Authorization was successful.
2025-08-12 15:59:00.900 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:59:00.901 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 66.2475ms
2025-08-12 15:59:00.902 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 19ms
2025-08-12 15:59:00.904 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 18ms
2025-08-12 15:59:00.904 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:00.905 +05:30 [DBG] Connection id "0HNEPH6APMCVI" completed keep alive response.
2025-08-12 15:59:00.906 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:00.906 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:59:00.908 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:59:00.909 +05:30 [DBG] Connection id "0HNEPH6APMCVL" completed keep alive response.
2025-08-12 15:59:00.910 +05:30 [DBG] Connection id "0HNEPH6APMCVG" completed keep alive response.
2025-08-12 15:59:00.911 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:00.911 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 46.2448ms
2025-08-12 15:59:00.912 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:59:00.914 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:00.915 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:59:00.916 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 77.7548ms
2025-08-12 15:59:00.916 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 48.297ms
2025-08-12 15:59:00.919 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:59:00.920 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:59:00.917 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:59:00.921 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:00.927 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:59:00.928 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:59:00.922 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:59:00.930 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 25ms
2025-08-12 15:59:00.930 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:59:00.931 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:59:00.933 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:00.936 +05:30 [DBG] Connection id "0HNEPH6APMCVJ" completed keep alive response.
2025-08-12 15:59:00.935 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:00.937 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 23ms
2025-08-12 15:59:00.938 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:00.943 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:59:00.944 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 56.8201ms
2025-08-12 15:59:00.944 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:00.946 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:00.948 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:00.945 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 15:59:00.951 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:59:00.952 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:59:00.953 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:59:00.955 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 61.812ms
2025-08-12 15:59:00.956 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 21ms
2025-08-12 15:59:00.957 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 18ms
2025-08-12 15:59:00.958 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:59:00.960 +05:30 [DBG] Connection id "0HNEPH6APMCVK" completed keep alive response.
2025-08-12 15:59:00.962 +05:30 [DBG] Connection id "0HNEPH6APMCVI" completed keep alive response.
2025-08-12 15:59:00.963 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:59:00.964 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 55.6758ms
2025-08-12 15:59:00.965 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 45.7801ms
2025-08-12 15:59:00.966 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:59:00.972 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:59:00.973 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:59:00.974 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:59:00.976 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:59:00.977 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:59:00.978 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:00.979 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:00.980 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:59:00.981 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:00.983 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:59:00.984 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:59:00.984 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:00.985 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:00.986 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:00.987 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:59:00.988 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:00.989 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:59:00.993 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:59:00.999 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.000 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 15:59:01.002 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.003 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:59:01.005 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.006 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.007 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:01.008 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:01.009 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:59:01.010 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:59:01.014 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:59:01.020 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.021 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.022 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.023 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.025 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.026 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.027 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.028 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.029 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.029 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.030 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.033 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.034 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.035 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.036 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.037 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.039 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.041 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.042 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.042 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 22ms reading results.
2025-08-12 15:59:01.044 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.044 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:59:01.047 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:59:01.051 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:59:01.051 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:59:01.052 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:59:01.053 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:59:01.054 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:59:01.055 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 101.8627ms
2025-08-12 15:59:01.056 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:01.058 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 179ms
2025-08-12 15:59:01.060 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:59:01.060 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:59:01.062 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:59:01.063 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:59:01.064 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:59:01.065 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.066 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:59:01.068 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 15:59:01.069 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:01.070 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 223.1035ms
2025-08-12 15:59:01.070 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:01.074 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:01.075 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:59:01.075 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:59:01.076 +05:30 [DBG] Authorization was successful.
2025-08-12 15:59:01.077 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:01.078 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:59:01.079 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:59:01.081 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:59:01.082 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:01.084 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:59:01.085 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:01.086 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:59:01.089 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:59:01.090 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:59:01.091 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:59:01.092 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:59:01.094 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:59:01.096 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:59:01.097 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:59:01.098 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:59:01.099 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:01.100 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:01.102 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:59:01.103 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:01.105 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:59:01.106 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:59:01.106 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.109 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.109 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:01.110 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:59:01.111 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:01.112 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:59:01.116 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:59:01.118 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.119 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:59:01.120 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.122 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:59:01.124 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.125 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.126 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:01.127 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:59:01.128 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:01.129 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:59:01.134 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:59:01.138 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.139 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.141 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.142 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.144 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.146 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.148 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.151 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.153 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.154 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.155 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.158 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.159 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.160 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.161 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.162 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.163 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.165 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.166 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.166 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 28ms reading results.
2025-08-12 15:59:01.168 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.168 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:59:01.170 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:59:01.173 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:59:01.174 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:59:01.175 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:59:01.175 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:59:01.177 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:59:01.179 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 92.4449ms
2025-08-12 15:59:01.180 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:01.181 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 110ms
2025-08-12 15:59:01.183 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 15:59:01.184 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:59:01.187 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:59:01.190 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:59:01.191 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.192 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:59:01.194 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 15:59:01.195 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:59:01.197 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 136.9377ms
2025-08-12 15:59:01.198 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:01.203 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:01.204 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:01.205 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:59:01.206 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:59:01.207 +05:30 [DBG] Authorization was successful.
2025-08-12 15:59:01.208 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:01.209 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:59:01.211 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:59:01.212 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:59:01.213 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:01.216 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:59:01.218 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:01.219 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:59:01.222 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:59:01.223 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:59:01.224 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:59:01.227 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:59:01.229 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:59:01.230 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:59:01.232 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:59:01.234 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:59:01.236 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:01.237 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:01.238 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:59:01.239 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:01.241 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:59:01.243 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 15:59:01.243 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.244 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.245 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:01.246 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:59:01.247 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:01.248 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:59:01.251 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:59:01.255 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.256 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 15:59:01.259 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.260 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:59:01.262 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.263 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.264 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:01.265 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:59:01.266 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:01.267 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:59:01.272 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:59:01.277 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.278 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.279 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.281 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.282 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.284 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.285 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.286 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.287 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.288 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.290 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.291 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.292 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.293 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.294 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.296 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.297 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.298 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.299 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.300 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 23ms reading results.
2025-08-12 15:59:01.301 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.302 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:59:01.303 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:59:01.306 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:59:01.307 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:59:01.308 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:59:01.309 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:59:01.311 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:59:01.312 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 92.8683ms
2025-08-12 15:59:01.313 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:01.315 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 111ms
2025-08-12 15:59:01.316 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:59:01.317 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:59:01.317 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:59:01.319 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.320 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:59:01.321 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 15:59:01.322 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:59:01.323 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 139.2953ms
2025-08-12 15:59:01.325 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:59:01.329 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:01.330 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:01.331 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:01.332 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:59:01.333 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:59:01.334 +05:30 [DBG] Authorization was successful.
2025-08-12 15:59:01.335 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:01.336 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:59:01.337 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:59:01.338 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:59:01.340 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:01.341 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:59:01.344 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:01.346 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:59:01.348 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:59:01.351 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:59:01.352 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:59:01.354 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:59:01.356 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:59:01.357 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:59:01.360 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:59:01.361 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:59:01.362 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:01.363 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:01.364 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:59:01.365 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:01.367 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:59:01.368 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:59:01.368 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.369 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.370 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:01.371 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:59:01.372 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:01.373 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:59:01.377 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:59:01.380 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.381 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 15:59:01.382 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.383 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:59:01.385 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.386 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.387 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:01.388 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:01.389 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:59:01.390 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:59:01.395 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:59:01.397 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.399 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.400 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.401 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.403 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.404 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.405 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.408 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.409 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.410 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.412 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.413 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.415 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.416 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.417 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.418 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.419 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.421 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.423 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.424 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 26ms reading results.
2025-08-12 15:59:01.425 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.427 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:59:01.428 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:59:01.430 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:59:01.431 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:59:01.432 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:59:01.433 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:59:01.434 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:59:01.435 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 89.2781ms
2025-08-12 15:59:01.436 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:01.439 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 109ms
2025-08-12 15:59:01.440 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 15:59:01.441 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:59:01.441 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:59:01.444 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:59:01.445 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.446 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:59:01.447 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:59:01.449 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:59:01.451 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 133.6434ms
2025-08-12 15:59:01.452 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:01.455 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:01.456 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:01.457 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:59:01.458 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:59:01.459 +05:30 [DBG] Authorization was successful.
2025-08-12 15:59:01.459 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:01.461 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:59:01.463 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:59:01.465 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:59:01.466 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:01.468 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:59:01.469 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:01.471 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:59:01.474 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:59:01.476 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:59:01.477 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:59:01.478 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:59:01.480 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:59:01.482 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:59:01.484 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:59:01.486 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:59:01.487 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:01.488 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:01.489 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:59:01.491 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:01.493 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:59:01.493 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:59:01.494 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.495 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.496 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:01.497 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:59:01.499 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:59:01.500 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:59:01.503 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:59:01.507 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.508 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 15:59:01.509 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.510 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:59:01.511 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.512 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.514 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:01.515 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:01.516 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:01.517 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:59:01.521 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:59:01.524 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.525 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.527 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.528 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.529 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.531 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.532 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.533 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.535 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.536 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.537 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.538 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.540 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.541 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.543 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.545 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.546 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.547 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.549 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.551 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 27ms reading results.
2025-08-12 15:59:01.552 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.553 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:59:01.555 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:59:01.559 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:59:01.560 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:59:01.561 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:59:01.561 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:59:01.565 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:59:01.567 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 95.2328ms
2025-08-12 15:59:01.568 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:01.570 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 114ms
2025-08-12 15:59:01.572 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:59:01.573 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:59:01.575 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:59:01.575 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:59:01.577 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:59:01.578 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.579 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:59:01.580 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 15:59:01.582 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:01.583 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 142.6077ms
2025-08-12 15:59:01.586 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:01.589 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:01.591 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:59:01.593 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:59:01.594 +05:30 [DBG] Authorization was successful.
2025-08-12 15:59:01.594 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:01.595 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:59:01.597 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:59:01.599 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:59:01.600 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:01.602 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:59:01.604 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:01.606 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:59:01.608 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:59:01.609 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:59:01.610 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:59:01.611 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:59:01.612 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:59:01.613 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:59:01.615 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:59:01.618 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:59:01.620 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:01.621 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:01.622 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:59:01.623 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:01.625 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:59:01.626 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:59:01.627 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.628 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.628 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:01.629 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:59:01.630 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:01.633 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:59:01.636 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:59:01.638 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.640 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 15:59:01.641 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.642 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:59:01.644 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.645 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.646 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:01.648 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:59:01.649 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 15:59:01.650 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:59:01.656 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:59:01.658 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.659 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.661 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.663 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.664 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.665 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.667 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.669 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.670 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.671 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.672 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.673 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.675 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.676 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.677 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.678 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.680 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.681 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.682 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.683 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 25ms reading results.
2025-08-12 15:59:01.684 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.685 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:59:01.686 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:59:01.688 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:59:01.689 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:59:01.690 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:59:01.690 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:59:01.691 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:59:01.693 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 87.0993ms
2025-08-12 15:59:01.693 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:01.695 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 109ms
2025-08-12 15:59:01.697 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 15:59:01.697 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:59:01.698 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:59:01.700 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:59:01.700 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.701 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:59:01.702 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 15:59:01.704 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:59:01.705 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 132.7743ms
2025-08-12 15:59:01.706 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:01.709 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:01.710 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:01.711 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:59:01.712 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:59:01.713 +05:30 [DBG] Authorization was successful.
2025-08-12 15:59:01.714 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:01.715 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:59:01.717 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:59:01.718 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:59:01.719 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:01.721 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:59:01.722 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:01.723 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:59:01.725 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:59:01.726 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:59:01.728 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:59:01.729 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:59:01.730 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:59:01.732 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:59:01.733 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:59:01.734 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:59:01.736 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:01.736 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:01.737 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:59:01.738 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:01.740 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:59:01.740 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:59:01.741 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.742 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.743 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:01.744 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:01.745 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:59:01.746 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:59:01.749 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:59:01.751 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.752 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:59:01.753 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.754 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:59:01.755 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.756 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.757 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:01.758 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:59:01.759 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:01.760 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:59:01.764 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:59:01.767 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.768 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.769 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.770 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.771 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.772 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.773 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.774 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.776 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.777 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.778 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.779 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.781 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.783 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.785 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.787 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.788 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.789 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.790 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.791 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 24ms reading results.
2025-08-12 15:59:01.793 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.794 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:59:01.795 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:59:01.797 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:59:01.797 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:59:01.798 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:59:01.799 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:59:01.800 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:59:01.801 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 77.8171ms
2025-08-12 15:59:01.802 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:01.803 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 94ms
2025-08-12 15:59:01.804 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:59:01.805 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:59:01.805 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:59:01.808 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:59:01.809 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.810 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:59:01.810 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:59:01.811 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:59:01.812 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 115.25ms
2025-08-12 15:59:01.813 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:01.816 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:01.817 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:01.818 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:59:01.818 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:59:01.819 +05:30 [DBG] Authorization was successful.
2025-08-12 15:59:01.820 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:01.820 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:59:01.822 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:59:01.822 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:59:01.823 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:01.825 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:59:01.826 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:01.827 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:59:01.828 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:59:01.830 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:59:01.831 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:59:01.832 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:59:01.833 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:59:01.835 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:59:01.836 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:59:01.837 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:59:01.838 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:01.839 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:01.840 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:59:01.841 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:01.842 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:59:01.842 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:59:01.843 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.844 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.845 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:01.845 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:59:01.846 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:01.847 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:59:01.850 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:59:01.852 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.853 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:59:01.855 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.856 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:59:01.857 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.858 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.859 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:01.860 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:59:01.860 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:01.861 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:59:01.865 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:59:01.868 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.869 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.870 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.871 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.872 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.873 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.874 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.875 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.876 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.877 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.878 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.879 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.881 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.881 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.882 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.884 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.885 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.886 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.887 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.887 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 19ms reading results.
2025-08-12 15:59:01.888 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.889 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:59:01.890 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:59:01.892 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:59:01.892 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:59:01.893 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:59:01.894 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:59:01.895 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:59:01.897 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 69.6637ms
2025-08-12 15:59:01.897 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:01.899 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 82ms
2025-08-12 15:59:01.900 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 15:59:01.901 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:59:01.901 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:59:01.903 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:59:01.904 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.905 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:59:01.905 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:59:01.907 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:59:01.907 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 102.7866ms
2025-08-12 15:59:01.909 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:01.912 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:01.913 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:01.914 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:59:01.915 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:59:01.915 +05:30 [DBG] Authorization was successful.
2025-08-12 15:59:01.916 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:01.917 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:59:01.918 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:59:01.919 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:59:01.920 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:01.922 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:59:01.923 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:01.924 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:59:01.926 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:59:01.929 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:59:01.929 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:59:01.930 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:59:01.932 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:59:01.933 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:59:01.934 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:59:01.936 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:59:01.937 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:01.938 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:01.938 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:59:01.939 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:01.941 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:59:01.941 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:59:01.943 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.944 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.944 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:01.945 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:59:01.946 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:01.947 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:59:01.950 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:59:01.952 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.953 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:59:01.954 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.955 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:59:01.956 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.957 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.959 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:01.959 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:59:01.960 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:01.961 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:59:01.965 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:59:01.967 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.968 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.969 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.970 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.972 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.973 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.974 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.975 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.976 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.978 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.979 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.980 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.980 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.982 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.982 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.984 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.985 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.986 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:01.987 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.987 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 20ms reading results.
2025-08-12 15:59:01.989 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:01.990 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:59:01.991 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:59:01.993 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:59:01.994 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:59:01.996 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:59:01.996 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:59:01.998 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:59:02.000 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 76.2304ms
2025-08-12 15:59:02.001 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:02.003 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 90ms
2025-08-12 15:59:02.004 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:59:02.004 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:59:02.005 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:59:02.007 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:59:02.008 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:02.009 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:59:02.010 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:59:02.011 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:59:02.012 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 111.2096ms
2025-08-12 15:59:02.013 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:02.016 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:02.017 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:02.018 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:59:02.019 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:59:02.020 +05:30 [DBG] Authorization was successful.
2025-08-12 15:59:02.020 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:02.021 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:59:02.023 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:59:02.024 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:59:02.025 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:02.026 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:59:02.028 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:02.029 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:59:02.031 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:59:02.033 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:59:02.034 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:59:02.035 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:59:02.036 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:59:02.037 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:59:02.039 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:59:02.040 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:59:02.041 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:02.042 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:02.043 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:59:02.044 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:02.046 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:59:02.047 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 15:59:02.048 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:02.049 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:02.049 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:02.050 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:59:02.051 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:02.052 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:59:02.054 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:59:02.057 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:02.058 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:59:02.059 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:02.060 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:59:02.061 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:02.063 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:02.063 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:02.064 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:59:02.065 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:02.066 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:59:02.070 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:59:02.073 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.074 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.075 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.076 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.078 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.079 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.080 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.081 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.082 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.083 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.084 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.085 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.086 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.087 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.088 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.089 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.090 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.091 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.092 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:02.093 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 19ms reading results.
2025-08-12 15:59:02.094 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:02.095 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:59:02.096 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:59:02.098 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:59:02.099 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:59:02.099 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:59:02.100 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:59:02.101 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:59:02.102 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 73.2678ms
2025-08-12 15:59:02.103 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:02.104 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 87ms
2025-08-12 15:59:02.105 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 15:59:02.106 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:59:02.107 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:59:02.111 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:59:02.112 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:02.113 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:59:02.114 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:59:02.115 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:59:02.116 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 111.4674ms
2025-08-12 15:59:02.117 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:02.120 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:02.120 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:02.121 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:59:02.122 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:59:02.122 +05:30 [DBG] Authorization was successful.
2025-08-12 15:59:02.123 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:02.124 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:59:02.126 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:59:02.127 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:59:02.128 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:02.129 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:59:02.130 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:02.132 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:59:02.133 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:59:02.135 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:59:02.136 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:59:02.136 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:59:02.137 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:59:02.139 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:59:02.141 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:59:02.143 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:59:02.145 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:02.147 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:02.149 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:59:02.150 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:02.153 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:59:02.154 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 15:59:02.155 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:02.156 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:02.157 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:02.158 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:59:02.159 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:02.160 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:59:02.163 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:59:02.167 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:02.167 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:59:02.169 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:02.169 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:59:02.171 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:02.172 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:02.173 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:02.174 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:59:02.175 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:02.176 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:59:02.180 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:59:02.184 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.185 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.186 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.187 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.188 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.189 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.190 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.191 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.192 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.193 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.194 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.195 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.196 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.198 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.199 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.200 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.202 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.203 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:02.205 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:02.207 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 23ms reading results.
2025-08-12 15:59:02.209 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:02.210 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 15:59:02.211 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:59:02.212 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:59:02.213 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:59:02.213 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:59:02.214 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:59:02.215 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:59:02.216 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 84.5325ms
2025-08-12 15:59:02.217 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:02.218 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 98ms
2025-08-12 15:59:02.219 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:59:02.222 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:59:02.223 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:02.225 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 15:59:02.226 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 120.1752ms
2025-08-12 15:59:09.333 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=Manali - null null
2025-08-12 15:59:09.338 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-12 15:59:09.339 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:59:09.340 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:09.340 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:09.341 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:59:09.342 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/TripReviews/search ?destination=Manali  Responded with [204] in 2ms
2025-08-12 15:59:09.343 +05:30 [DBG] Connection id "0HNEPH6APMCVI" completed keep alive response.
2025-08-12 15:59:09.345 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=Manali - null null
2025-08-12 15:59:09.346 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=Manali - 204 null null 12.6742ms
2025-08-12 15:59:09.348 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-12 15:59:09.353 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/TripReviews/search' is valid for the request path '/api/v1/TripReviews/search'
2025-08-12 15:59:09.354 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-12 15:59:09.355 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:09.356 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:09.358 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:59:09.358 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:59:09.359 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-12 15:59:09.362 +05:30 [INF] Route matched with {action = "SearchTripReviews", controller = "TripReviews"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchTripReviews(System.String) on controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI).
2025-08-12 15:59:09.364 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:59:09.366 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:59:09.368 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:09.370 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:59:09.371 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:09.372 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-12 15:59:09.374 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:59:09.377 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-12 15:59:09.379 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' ...
2025-08-12 15:59:09.380 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' using the name 'destination' in request data ...
2025-08-12 15:59:09.381 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-12 15:59:09.383 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-12 15:59:09.384 +05:30 [DBG] Attempting to validate the bound parameter 'destination' of type 'System.String' ...
2025-08-12 15:59:09.385 +05:30 [DBG] Done attempting to validate the bound parameter 'destination' of type 'System.String'.
2025-08-12 15:59:09.387 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:59:09.388 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:59:09.389 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:09.390 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:09.391 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:09.393 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 15:59:09.394 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 15:59:09.395 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-12 15:59:09.401 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-12 15:59:09.403 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:09.404 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 15:59:09.406 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:09.407 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:59:09.409 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:59:09.411 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:59:09.412 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:59:09.413 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:59:09.414 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:59:09.415 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.TripReviewDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:59:09.417 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI) in 44.4672ms
2025-08-12 15:59:09.418 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-12 15:59:09.419 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/TripReviews/search ?destination=Manali  Responded with [200] in 64ms
2025-08-12 15:59:09.420 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:59:09.422 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:59:09.423 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:09.425 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 15:59:09.426 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=Manali - 200 214 application/json 81.3381ms
2025-08-12 15:59:14.543 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/25 - null null
2025-08-12 15:59:14.547 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/25'
2025-08-12 15:59:14.549 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:59:14.550 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:14.552 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:14.553 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:59:14.555 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/25   Responded with [204] in 4ms
2025-08-12 15:59:14.555 +05:30 [DBG] Connection id "0HNEPH6APMCVI" completed keep alive response.
2025-08-12 15:59:14.556 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/25 - 204 null null 13.4283ms
2025-08-12 15:59:14.557 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/25 - null null
2025-08-12 15:59:14.562 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/25'
2025-08-12 15:59:14.563 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/25'
2025-08-12 15:59:14.564 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 15:59:14.565 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:14.566 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:14.567 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:59:14.568 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:59:14.569 +05:30 [DBG] Authorization was successful.
2025-08-12 15:59:14.569 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 15:59:14.570 +05:30 [INF] Route matched with {action = "GetTrip", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TravelPlannerAPI.Dtos.TripDto]] GetTrip(Int32) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:59:14.571 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:59:14.572 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:59:14.573 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:14.576 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:59:14.577 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:14.579 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:59:14.581 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:59:14.583 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:59:14.585 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-12 15:59:14.587 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-12 15:59:14.588 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 15:59:14.589 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 15:59:14.590 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-12 15:59:14.591 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-12 15:59:14.593 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:59:14.594 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 15:59:14.594 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:14.595 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:14.596 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:14.597 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:59:14.598 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:14.599 +05:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-12 15:59:14.606 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-12 15:59:14.609 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:14.610 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:14.610 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:14.612 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:14.613 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:14.614 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-08-12 15:59:14.616 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:14.617 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:59:14.618 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:14.619 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:14.620 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:14.621 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:59:14.621 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:14.622 +05:30 [DBG] Executing DbCommand [Parameters=[@__tripId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TripShares] AS [t]
        WHERE [t].[TripId] = @__tripId_0 AND [t].[SharedWithUserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-12 15:59:14.626 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__tripId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TripShares] AS [t]
        WHERE [t].[TripId] = @__tripId_0 AND [t].[SharedWithUserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-12 15:59:14.628 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:14.628 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:59:14.629 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:14.631 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:59:14.632 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:59:14.634 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:59:14.635 +05:30 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-08-12 15:59:14.637 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-08-12 15:59:14.638 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-08-12 15:59:14.639 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI) in 59.9503ms
2025-08-12 15:59:14.640 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 15:59:14.641 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/25   Responded with [404] in 75ms
2025-08-12 15:59:14.641 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:59:14.643 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:59:14.645 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:14.646 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:59:14.649 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/25 - 404 285 application/json 91.8375ms
2025-08-12 15:59:41.790 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:59:41.793 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:59:41.795 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 15:59:41.796 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:41.798 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:41.799 +05:30 [DBG] The request is a preflight request.
2025-08-12 15:59:41.802 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 5ms
2025-08-12 15:59:41.807 +05:30 [DBG] Connection id "0HNEPH6APMCVI" completed keep alive response.
2025-08-12 15:59:41.809 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 18.5327ms
2025-08-12 15:59:41.810 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 15:59:41.820 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 15:59:41.822 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:59:41.824 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 15:59:41.825 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:41.826 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 15:59:41.827 +05:30 [INF] CORS policy execution successful.
2025-08-12 15:59:41.828 +05:30 [DBG] Successfully validated the token.
2025-08-12 15:59:41.829 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 15:59:41.831 +05:30 [DBG] Authorization was successful.
2025-08-12 15:59:41.831 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:41.832 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 15:59:41.834 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 15:59:41.835 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 15:59:41.836 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:41.838 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 15:59:41.840 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 15:59:41.841 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:59:41.843 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 15:59:41.846 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 15:59:41.847 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:59:41.848 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 15:59:41.850 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 15:59:41.852 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 15:59:41.853 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 15:59:41.854 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 15:59:41.856 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:41.857 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:41.858 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 15:59:41.859 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 15:59:41.862 +05:30 [DBG] Creating DbConnection.
2025-08-12 15:59:41.863 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 15:59:41.864 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:41.865 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:41.866 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:41.866 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:59:41.867 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:41.868 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:59:41.872 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 15:59:41.874 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:41.875 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 15:59:41.879 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:41.880 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 15:59:41.882 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:41.883 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:41.884 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 15:59:41.885 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 15:59:41.886 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 15:59:41.887 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:59:41.891 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 15:59:41.896 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:41.898 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:41.899 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:41.901 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:41.902 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:41.903 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:41.904 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:41.905 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:41.906 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:41.908 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:41.910 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:41.911 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:41.913 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:41.914 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:41.915 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:41.917 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:41.918 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:41.919 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 15:59:41.920 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:41.921 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 25ms reading results.
2025-08-12 15:59:41.922 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:41.925 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-12 15:59:41.926 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 15:59:41.928 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 15:59:41.929 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 15:59:41.930 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 15:59:41.931 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 15:59:41.932 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 15:59:41.934 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 92.5478ms
2025-08-12 15:59:41.935 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 15:59:41.936 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 110ms
2025-08-12 15:59:41.938 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 15:59:41.939 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 15:59:41.941 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 15:59:41.943 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 15:59:41.944 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 134.4232ms
2025-08-12 16:00:34.837 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip - null null
2025-08-12 16:00:34.838 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Checklist/2?tripId=2 - null null
2025-08-12 16:00:34.849 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip'
2025-08-12 16:00:34.854 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Checklist/2'
2025-08-12 16:00:34.854 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:00:34.855 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:00:34.856 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:00:34.857 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:00:34.858 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:00:34.859 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:00:34.860 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:00:34.860 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:00:34.861 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip   Responded with [204] in 5ms
2025-08-12 16:00:34.862 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Checklist/2 ?tripId=2  Responded with [204] in 5ms
2025-08-12 16:00:34.863 +05:30 [DBG] Connection id "0HNEPH6APMCVI" completed keep alive response.
2025-08-12 16:00:34.864 +05:30 [DBG] Connection id "0HNEPH6APMCVK" completed keep alive response.
2025-08-12 16:00:34.869 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip - 204 null null 33.1241ms
2025-08-12 16:00:34.871 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Checklist/2?tripId=2 - 204 null null 32.5889ms
2025-08-12 16:00:34.868 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip - null null
2025-08-12 16:00:34.870 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Checklist/2?tripId=2 - null null
2025-08-12 16:00:34.881 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip'
2025-08-12 16:00:34.882 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Checklist/2'
2025-08-12 16:00:34.883 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip' is valid for the request path '/api/v1/Trip'
2025-08-12 16:00:34.884 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.ChecklistController.GetChecklist (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Checklist/{tripId}' is valid for the request path '/api/v1/Checklist/2'
2025-08-12 16:00:34.886 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:00:34.887 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.ChecklistController.GetChecklist (TravelPlannerAPI)'
2025-08-12 16:00:34.888 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:00:34.889 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:00:34.890 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:00:34.891 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:00:34.893 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:00:34.893 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:00:34.894 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:00:34.895 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:00:34.896 +05:30 [DBG] Authorization was successful.
2025-08-12 16:00:34.897 +05:30 [DBG] Authorization was successful.
2025-08-12 16:00:34.897 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:00:34.898 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.ChecklistController.GetChecklist (TravelPlannerAPI)'
2025-08-12 16:00:34.899 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TravelPlannerAPI.Dtos.TripDto]]] GetTrips() on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:00:34.900 +05:30 [INF] Route matched with {action = "GetChecklist", controller = "Checklist"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChecklist(Int32) on controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI).
2025-08-12 16:00:34.902 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:00:34.903 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:00:34.904 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:00:34.905 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:00:34.906 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:00:34.908 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:00:34.910 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:00:34.912 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:00:34.913 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:00:34.914 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:00:34.916 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:00:34.917 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI)
2025-08-12 16:00:34.919 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:00:34.920 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:00:34.921 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:00:34.922 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI)
2025-08-12 16:00:34.926 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:00:34.927 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:00:34.927 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 16:00:34.928 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' using the name 'tripId' in request data ...
2025-08-12 16:00:34.929 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:34.930 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:00:34.931 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:34.932 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:00:34.933 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:00:34.934 +05:30 [DBG] Attempting to validate the bound parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:00:34.935 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:00:34.935 +05:30 [DBG] Done attempting to validate the bound parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:00:34.936 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 16:00:34.937 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:00:34.938 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [Trips] AS [t]
LEFT JOIN [reviews] AS [r] ON [t].[Id] = [r].[TripId]
WHERE [t].[UserId] = @__userId_0
ORDER BY [t].[Id]
2025-08-12 16:00:34.939 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 16:00:34.943 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:34.944 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:34.945 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:00:34.946 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [Trips] AS [t]
LEFT JOIN [reviews] AS [r] ON [t].[Id] = [r].[TripId]
WHERE [t].[UserId] = @__userId_0
ORDER BY [t].[Id]
2025-08-12 16:00:34.946 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:00:34.948 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:00:34.949 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 16:00:34.950 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:00:34.950 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:00:34.952 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:00:34.955 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:00:34.956 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:00:34.960 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:00:34.961 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:00:34.962 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:34.963 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:34.964 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-12 16:00:34.965 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 17ms reading results.
2025-08-12 16:00:34.966 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:34.967 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:34.968 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-12 16:00:34.969 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:00:34.970 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:34.971 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:00:34.972 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:34.973 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:00:34.974 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:00:34.975 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:00:34.976 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:00:34.977 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:00:34.978 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 16:00:34.980 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:00:34.980 +05:30 [DBG] Executing DbCommand [Parameters=[@__tripId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TripShares] AS [t]
        WHERE [t].[TripId] = @__tripId_0 AND [t].[SharedWithUserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-12 16:00:34.982 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:00:34.985 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 69.3591ms
2025-08-12 16:00:34.986 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:00:34.986 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__tripId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TripShares] AS [t]
        WHERE [t].[TripId] = @__tripId_0 AND [t].[SharedWithUserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-12 16:00:34.987 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip   Responded with [200] in 99ms
2025-08-12 16:00:34.989 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:34.991 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 16:00:34.992 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-12 16:00:34.993 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:00:34.994 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:34.995 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:34.996 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:00:34.997 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:00:34.999 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:34.999 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip - 200 2854 application/json 131.5926ms
2025-08-12 16:00:35.000 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:35.003 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:00:35.004 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:00:35.005 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:00:35.006 +05:30 [DBG] Executing DbCommand [Parameters=[@__tripId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[TripId] = @__tripId_0 AND [c].[UserId] = @__userId_1
2025-08-12 16:00:35.011 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__tripId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[TripId] = @__tripId_0 AND [c].[UserId] = @__userId_1
2025-08-12 16:00:35.013 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ChecklistItemModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:00:35.014 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:35.015 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:00:35.016 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:35.017 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:00:35.019 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:35.020 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:35.021 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:00:35.021 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:00:35.023 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:00:35.024 +05:30 [DBG] Executing DbCommand [Parameters=[@__tripId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TripShares] AS [t]
        WHERE [t].[TripId] = @__tripId_0 AND [t].[SharedWithUserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-12 16:00:35.029 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__tripId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TripShares] AS [t]
        WHERE [t].[TripId] = @__tripId_0 AND [t].[SharedWithUserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-12 16:00:35.031 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:35.032 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:00:35.034 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:35.034 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:00:35.037 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:00:35.040 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:00:35.040 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:00:35.041 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:00:35.042 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:00:35.043 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Dtos.ChecklistWithAccessDto'.
2025-08-12 16:00:35.044 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.ChecklistController.GetChecklist (TravelPlannerAPI) in 127.3278ms
2025-08-12 16:00:35.046 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.ChecklistController.GetChecklist (TravelPlannerAPI)'
2025-08-12 16:00:35.047 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Checklist/2 ?tripId=2  Responded with [200] in 157ms
2025-08-12 16:00:35.048 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:00:35.050 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:00:35.051 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:35.052 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:00:35.053 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Checklist/2?tripId=2 - 200 262 application/json 183.6685ms
2025-08-12 16:00:46.322 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:00:46.324 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:00:46.326 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:00:46.327 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:00:46.328 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:00:46.328 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:00:46.329 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 2ms
2025-08-12 16:00:46.330 +05:30 [DBG] Connection id "0HNEPH6APMCVK" completed keep alive response.
2025-08-12 16:00:46.331 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 9.8951ms
2025-08-12 16:00:46.334 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:00:46.344 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:00:46.345 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:00:46.347 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:00:46.349 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:00:46.352 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:00:46.353 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:00:46.354 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:00:46.355 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:00:46.356 +05:30 [DBG] Authorization was successful.
2025-08-12 16:00:46.357 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:00:46.357 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:00:46.360 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:00:46.362 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:00:46.363 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:00:46.365 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:00:46.368 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:00:46.369 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:00:46.373 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:00:46.376 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:00:46.378 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:00:46.379 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:00:46.380 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:00:46.383 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:00:46.384 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:00:46.385 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:00:46.386 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:00:46.387 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:00:46.388 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:00:46.389 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:00:46.391 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:00:46.392 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:00:46.393 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:46.394 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:46.395 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:00:46.396 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:00:46.397 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:00:46.399 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:00:46.406 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:00:46.408 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:46.409 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:00:46.411 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:46.412 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:00:46.414 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:46.416 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:46.417 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:00:46.418 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:00:46.419 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:00:46.420 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:00:46.433 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:00:46.435 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:00:46.436 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:00:46.437 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:00:46.438 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:00:46.440 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:00:46.440 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:00:46.442 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:00:46.443 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:00:46.444 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:00:46.445 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:00:46.447 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:00:46.447 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:00:46.448 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:00:46.449 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:00:46.450 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:00:46.450 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:00:46.451 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:00:46.452 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:00:46.453 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:46.453 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 18ms reading results.
2025-08-12 16:00:46.454 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:46.455 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:00:46.456 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:00:46.457 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:00:46.458 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:00:46.459 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:00:46.459 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:00:46.460 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:00:46.461 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 91.8026ms
2025-08-12 16:00:46.463 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:00:46.464 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 112ms
2025-08-12 16:00:46.465 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:00:46.466 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:00:46.466 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:00:46.467 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:00:46.468 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 134.5619ms
2025-08-12 16:01:35.142 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-12 16:01:35.149 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 16:01:35.150 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:01:35.151 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:35.152 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:35.152 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:01:35.153 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 2ms
2025-08-12 16:01:35.154 +05:30 [DBG] Connection id "0HNEPH6APMCVK" completed keep alive response.
2025-08-12 16:01:35.155 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 12.2845ms
2025-08-12 16:01:35.159 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 55
2025-08-12 16:01:35.161 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 16:01:35.162 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-12 16:01:35.164 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 16:01:35.165 +05:30 [DBG] Connection id "0HNEPH6APMCVK", Request id "0HNEPH6APMCVK:00000006": started reading request body.
2025-08-12 16:01:35.166 +05:30 [DBG] Connection id "0HNEPH6APMCVK", Request id "0HNEPH6APMCVK:00000006": done reading request body.
2025-08-12 16:01:35.167 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:35.168 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:35.168 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 16:01:35.169 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 16:01:35.171 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-12 16:01:35.172 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:01:35.173 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:01:35.174 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:35.176 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:01:35.177 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:35.178 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 16:01:35.180 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:01:35.182 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 16:01:35.183 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 16:01:35.184 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-12 16:01:35.185 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 16:01:35.187 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-12 16:01:35.188 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 16:01:35.189 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 16:01:35.190 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 16:01:35.191 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 16:01:35.192 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:01:35.193 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:01:35.193 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.194 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.195 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:35.196 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:35.197 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:35.198 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 16:01:35.204 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 16:01:35.206 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.207 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.208 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 16:01:35.209 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.210 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:01:35.262 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.263 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.264 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:35.265 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:35.266 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:35.266 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 16:01:35.270 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 16:01:35.271 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.272 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:01:35.273 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.273 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:01:35.274 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.276 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 16:01:35.276 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 16:01:35.277 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 16:01:35.278 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.279 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.281 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:35.282 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:35.284 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 16:01:35.285 +05:30 [DBG] Executing DbCommand [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 16:01:35.294 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 16:01:35.295 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.297 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:01:35.298 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.299 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:01:35.300 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.301 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 16:01:35.303 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:01:35.304 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:01:35.305 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:01:35.305 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:01:35.306 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:01:35.307 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:01:35.308 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 129.8152ms
2025-08-12 16:01:35.309 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 16:01:35.310 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"meghana@gmail.com","password":"Password@123"} Responded with [200] in 144ms
2025-08-12 16:01:35.311 +05:30 [DBG] Connection id "0HNEPH6APMCVK" completed keep alive response.
2025-08-12 16:01:35.314 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:01:35.315 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:35.317 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.316 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:35.333 +05:30 [DBG] Disposed connection to database '' on server '' (16ms).
2025-08-12 16:01:35.342 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.325 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.324 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:35.335 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:35.342 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:35.348 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 903 application/json 188.5996ms
2025-08-12 16:01:35.348 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:01:35.349 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:01:35.350 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.351 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.353 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.354 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:35.355 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:35.356 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:35.357 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:01:35.357 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:01:35.362 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:35.360 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.360 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:35.361 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:35.362 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:35.358 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:01:35.364 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:35.365 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:01:35.366 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:01:35.366 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:01:35.369 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:35.370 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 14ms
2025-08-12 16:01:35.367 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:35.371 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:35.372 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 16:01:35.371 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 14ms
2025-08-12 16:01:35.374 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:01:35.378 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 61.637ms
2025-08-12 16:01:35.381 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 11ms
2025-08-12 16:01:35.380 +05:30 [DBG] Connection id "0HNEPH6APMCVI" completed keep alive response.
2025-08-12 16:01:35.373 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:01:35.388 +05:30 [DBG] Connection id "0HNEPH6APMCVK" completed keep alive response.
2025-08-12 16:01:35.387 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:35.391 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 36.6281ms
2025-08-12 16:01:35.389 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 74.8337ms
2025-08-12 16:01:35.390 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 28ms
2025-08-12 16:01:35.368 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:01:35.368 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:35.398 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:35.396 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.400 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:35.400 +05:30 [DBG] Connection id "0HNEPH6APMCVJ" completed keep alive response.
2025-08-12 16:01:35.376 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:35.401 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 38ms
2025-08-12 16:01:35.402 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:35.404 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.405 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:01:35.406 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.407 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 83.1321ms
2025-08-12 16:01:35.408 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.409 +05:30 [DBG] Connection id "0HNEPH6APMCVG" completed keep alive response.
2025-08-12 16:01:35.409 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:01:35.410 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:01:35.411 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:35.411 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:01:35.413 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:35.415 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 80.0153ms
2025-08-12 16:01:35.414 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.415 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 47ms
2025-08-12 16:01:35.416 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:35.416 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:35.417 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:35.418 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.423 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:35.424 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.425 +05:30 [DBG] Connection id "0HNEPH6APMCVL" completed keep alive response.
2025-08-12 16:01:35.425 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:35.426 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:01:35.426 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:35.430 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:01:35.427 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:01:35.430 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 19ms
2025-08-12 16:01:35.431 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:01:35.428 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.431 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 15ms
2025-08-12 16:01:35.432 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 16:01:35.431 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:35.429 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 87.4249ms
2025-08-12 16:01:35.429 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:35.433 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 15ms
2025-08-12 16:01:35.433 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:01:35.433 +05:30 [DBG] Connection id "0HNEPH6APMCVK" completed keep alive response.
2025-08-12 16:01:35.435 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 48.4072ms
2025-08-12 16:01:35.436 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:35.437 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:35.438 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:35.438 +05:30 [DBG] Connection id "0HNEPH6APMCVI" completed keep alive response.
2025-08-12 16:01:35.439 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:35.439 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 41.6296ms
2025-08-12 16:01:35.441 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:35.441 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:01:35.442 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.446 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:35.447 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.443 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 43.664ms
2025-08-12 16:01:35.444 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:35.443 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:35.447 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 15ms
2025-08-12 16:01:35.448 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:01:35.449 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.449 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:01:35.452 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:35.452 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:01:35.453 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:01:35.454 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:01:35.455 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:35.456 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.453 +05:30 [DBG] Connection id "0HNEPH6APMCVJ" completed keep alive response.
2025-08-12 16:01:35.454 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:35.457 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 17ms
2025-08-12 16:01:35.457 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:01:35.457 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:35.458 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:35.458 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:01:35.459 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 45.8545ms
2025-08-12 16:01:35.459 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:35.460 +05:30 [DBG] Connection id "0HNEPH6APMCVG" completed keep alive response.
2025-08-12 16:01:35.461 +05:30 [DBG] Authorization was successful.
2025-08-12 16:01:35.461 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:35.461 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:01:35.462 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:35.465 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:01:35.465 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 41.1012ms
2025-08-12 16:01:35.468 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 12ms
2025-08-12 16:01:35.468 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:35.464 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:01:35.465 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:35.468 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 10ms
2025-08-12 16:01:35.470 +05:30 [DBG] Connection id "0HNEPH6APMCVD" completed keep alive response.
2025-08-12 16:01:35.471 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:01:35.471 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 17ms
2025-08-12 16:01:35.473 +05:30 [DBG] Connection id "0HNEPH6APMCVK" completed keep alive response.
2025-08-12 16:01:35.474 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 32.933ms
2025-08-12 16:01:35.472 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:01:35.474 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 12ms
2025-08-12 16:01:35.475 +05:30 [DBG] Connection id "0HNEPH6APMCVL" completed keep alive response.
2025-08-12 16:01:35.476 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 30.0142ms
2025-08-12 16:01:35.478 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:01:35.479 +05:30 [DBG] Connection id "0HNEPH6APMCVI" completed keep alive response.
2025-08-12 16:01:35.480 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 42.6318ms
2025-08-12 16:01:35.482 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:01:35.483 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 31.2898ms
2025-08-12 16:01:35.485 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:35.490 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:01:35.490 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:35.492 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:35.493 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:01:35.494 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:35.495 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:35.496 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:01:35.497 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:01:35.498 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:01:35.499 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:01:35.501 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:01:35.502 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:35.503 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:35.503 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:35.504 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:35.505 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:01:35.506 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:01:35.507 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.508 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.508 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:35.509 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:35.509 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:35.510 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:35.517 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:35.519 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.519 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:01:35.520 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.523 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-12 16:01:35.525 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.527 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.528 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:35.529 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:35.530 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:35.531 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:35.543 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:35.545 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.546 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.547 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.549 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.550 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.551 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.552 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.552 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.553 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.556 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.557 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.558 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.558 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.559 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.560 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.561 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.562 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.563 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.564 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.565 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.565 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.566 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 21ms reading results.
2025-08-12 16:01:35.567 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.568 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:01:35.569 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:01:35.572 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:01:35.572 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:01:35.573 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:01:35.573 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:01:35.574 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:01:35.575 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 83.4312ms
2025-08-12 16:01:35.576 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:35.577 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 139ms
2025-08-12 16:01:35.578 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:01:35.579 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:01:35.580 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.580 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:35.580 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:01:35.582 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.583 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 206.5772ms
2025-08-12 16:01:35.583 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.587 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.588 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:35.589 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:35.590 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:35.591 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:01:35.592 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:01:35.593 +05:30 [DBG] Authorization was successful.
2025-08-12 16:01:35.594 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:35.595 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:01:35.598 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:01:35.600 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:01:35.602 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:35.604 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:01:35.605 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:35.607 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:35.610 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:01:35.612 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:35.614 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:35.615 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:01:35.616 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:01:35.617 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:01:35.618 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:01:35.620 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:01:35.621 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:35.622 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:35.623 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:35.624 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:35.625 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:01:35.626 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:01:35.627 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.629 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.629 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:35.630 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:35.631 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:35.632 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:35.635 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:35.637 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.638 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:01:35.639 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.640 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:01:35.642 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.643 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.643 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:35.645 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:35.646 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:01:35.647 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:35.650 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:35.651 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.652 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.653 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.654 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.655 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.655 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.656 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.657 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.658 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.658 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.659 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.660 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.661 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.662 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.663 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.663 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.664 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.665 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.665 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.666 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.667 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.668 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 16ms reading results.
2025-08-12 16:01:35.669 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.669 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:01:35.670 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:01:35.671 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:01:35.672 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:01:35.672 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:01:35.673 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:01:35.673 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:01:35.674 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 67.5523ms
2025-08-12 16:01:35.675 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:35.676 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 87ms
2025-08-12 16:01:35.677 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 16:01:35.678 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:35.678 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:01:35.680 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.681 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.682 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.683 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:01:35.684 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.685 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 105.0364ms
2025-08-12 16:01:35.685 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:35.688 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:35.690 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:35.691 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:01:35.691 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:01:35.692 +05:30 [DBG] Authorization was successful.
2025-08-12 16:01:35.692 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:35.693 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:01:35.694 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:01:35.695 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:01:35.696 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:35.698 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:01:35.698 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:35.699 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:35.701 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:01:35.705 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:35.706 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:35.706 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:01:35.707 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:01:35.708 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:01:35.709 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:01:35.710 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:01:35.711 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:35.712 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:35.713 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:35.713 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:35.714 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:01:35.715 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:01:35.716 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.717 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.717 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:35.718 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:35.719 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:35.719 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:35.722 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:35.724 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.726 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:01:35.726 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.727 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:01:35.728 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.729 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.730 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:35.731 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:35.732 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:35.732 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:35.735 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:35.736 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.738 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.738 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.739 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.740 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.742 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.742 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.743 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.744 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.745 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.745 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.746 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.747 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.747 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.748 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.749 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.750 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.750 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.751 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.752 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.753 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.754 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 17ms reading results.
2025-08-12 16:01:35.754 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.755 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:01:35.757 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:01:35.758 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:01:35.759 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:01:35.759 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:01:35.760 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:01:35.760 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:01:35.761 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 61.688ms
2025-08-12 16:01:35.762 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:35.763 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 74ms
2025-08-12 16:01:35.764 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:01:35.765 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:35.765 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:01:35.768 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.768 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.769 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.770 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:01:35.771 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.772 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 94.0021ms
2025-08-12 16:01:35.773 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:35.776 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:35.777 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:35.778 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:01:35.778 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:01:35.779 +05:30 [DBG] Authorization was successful.
2025-08-12 16:01:35.780 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:35.781 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:01:35.782 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:01:35.783 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:01:35.784 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:35.786 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:01:35.787 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:35.788 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:35.790 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:01:35.791 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:35.792 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:35.793 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:01:35.794 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:01:35.795 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:01:35.796 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:01:35.797 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:01:35.798 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:35.799 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:35.801 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:35.802 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:35.803 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:01:35.804 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:01:35.805 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.806 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.808 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:35.810 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:35.811 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:01:35.812 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:35.814 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:35.817 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.818 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:01:35.818 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.819 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:01:35.820 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.821 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.822 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:35.823 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:35.824 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:35.826 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:35.829 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:35.832 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.833 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.834 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.835 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.836 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.837 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.838 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.839 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.840 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.841 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.842 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.843 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.844 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.845 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.846 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.847 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.848 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.848 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.850 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.850 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.851 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.852 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 20ms reading results.
2025-08-12 16:01:35.853 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.854 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:01:35.855 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:01:35.858 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:01:35.858 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:01:35.859 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:01:35.859 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:01:35.860 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:01:35.861 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 73.0372ms
2025-08-12 16:01:35.862 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:35.863 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 87ms
2025-08-12 16:01:35.864 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 16:01:35.865 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:35.865 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:01:35.867 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.868 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.868 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.869 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:01:35.870 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.872 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 107.5118ms
2025-08-12 16:01:35.873 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:35.875 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:35.876 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:35.877 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:01:35.878 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:01:35.878 +05:30 [DBG] Authorization was successful.
2025-08-12 16:01:35.879 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:35.880 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:01:35.881 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:01:35.881 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:01:35.882 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:35.883 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:01:35.885 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:35.886 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:35.887 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:01:35.889 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:35.890 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:35.890 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:01:35.891 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:01:35.892 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:01:35.893 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:01:35.894 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:01:35.895 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:35.895 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:35.896 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:35.896 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:35.898 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:01:35.898 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:01:35.899 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.900 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.900 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:35.901 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:35.901 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:35.902 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:35.904 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:35.907 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.907 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:01:35.908 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.909 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:01:35.910 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.911 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.911 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:35.912 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:35.913 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:35.914 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:35.917 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:35.918 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.919 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.921 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.922 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.922 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.923 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.924 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.924 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.925 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.926 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.927 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.927 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.928 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.929 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.929 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.930 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.930 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.931 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.932 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.932 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:35.933 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.934 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 16ms reading results.
2025-08-12 16:01:35.936 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.936 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:01:35.937 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:01:35.938 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:01:35.939 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:01:35.939 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:01:35.939 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:01:35.940 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:01:35.941 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 55.7454ms
2025-08-12 16:01:35.942 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:35.943 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 67ms
2025-08-12 16:01:35.944 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:01:35.945 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:35.945 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:01:35.948 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.949 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.949 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.950 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:01:35.951 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:35.952 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 87.2483ms
2025-08-12 16:01:35.953 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:35.957 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:35.957 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:35.958 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:01:35.959 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:01:35.959 +05:30 [DBG] Authorization was successful.
2025-08-12 16:01:35.960 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:35.960 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:01:35.962 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:01:35.963 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:01:35.964 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:35.965 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:01:35.966 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:35.967 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:35.969 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:01:35.971 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:35.972 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:35.973 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:01:35.974 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:01:35.975 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:01:35.976 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:01:35.978 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:01:35.979 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:35.979 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:35.980 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:35.981 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:35.983 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:01:35.984 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:01:35.985 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.987 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.988 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:35.989 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:35.990 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:01:35.991 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:35.993 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:35.996 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.997 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:01:35.998 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:35.999 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:01:36.000 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.002 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.003 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:36.004 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:36.005 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:01:36.007 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:36.011 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:36.014 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.014 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.015 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.017 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.019 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.020 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.021 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.022 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.023 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.024 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.025 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.026 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.027 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.028 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.029 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.029 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.030 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.032 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.034 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.034 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.035 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.036 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 22ms reading results.
2025-08-12 16:01:36.037 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.038 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:01:36.039 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:01:36.041 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:01:36.041 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:01:36.042 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:01:36.042 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:01:36.043 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:01:36.044 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 76.7389ms
2025-08-12 16:01:36.045 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.047 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 89ms
2025-08-12 16:01:36.047 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 16:01:36.049 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:36.050 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:01:36.052 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.053 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.053 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.054 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:01:36.055 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.057 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 111.7622ms
2025-08-12 16:01:36.058 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.061 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:36.061 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:36.062 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:01:36.062 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:01:36.063 +05:30 [DBG] Authorization was successful.
2025-08-12 16:01:36.064 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.064 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:01:36.065 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:01:36.066 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:01:36.067 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:36.068 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:01:36.069 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:36.070 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:36.071 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:01:36.074 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:36.075 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:36.076 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:01:36.077 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:01:36.078 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:01:36.078 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:01:36.079 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:01:36.081 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.081 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.082 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:36.083 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.084 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:01:36.084 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:01:36.085 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.086 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.087 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:36.087 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:36.088 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:36.089 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:36.091 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:36.093 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.095 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:01:36.096 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.098 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:01:36.099 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.100 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.101 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:36.102 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:36.102 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:36.103 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:36.106 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:36.109 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.110 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.110 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.111 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.113 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.114 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.115 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.116 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.117 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.118 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.119 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.119 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.120 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.121 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.122 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.123 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.124 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.125 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.125 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.126 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.127 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.129 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 20ms reading results.
2025-08-12 16:01:36.130 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.131 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:01:36.132 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:01:36.133 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:01:36.133 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:01:36.134 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:01:36.134 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:01:36.135 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:01:36.136 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 66.2745ms
2025-08-12 16:01:36.137 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.138 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 77ms
2025-08-12 16:01:36.139 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:01:36.140 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:01:36.140 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:36.141 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.144 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.145 +05:30 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 16:01:36.145 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.146 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 97.7387ms
2025-08-12 16:01:36.147 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.150 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.151 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:36.152 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:36.152 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:01:36.153 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:01:36.153 +05:30 [DBG] Authorization was successful.
2025-08-12 16:01:36.154 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.154 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:01:36.156 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:01:36.158 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:01:36.159 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:36.160 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:01:36.161 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:36.162 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:36.164 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:01:36.165 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:36.166 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:36.167 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:01:36.168 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:01:36.169 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:01:36.171 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:01:36.173 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:01:36.174 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.175 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.176 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:36.177 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.178 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:01:36.179 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:01:36.180 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.182 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.182 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:36.183 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:36.184 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:36.186 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:36.188 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:36.190 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.192 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:01:36.193 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.194 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:01:36.195 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.196 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.198 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:36.199 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:36.200 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:01:36.201 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:36.204 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:36.207 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.208 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.208 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.209 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.210 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.211 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.212 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.214 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.215 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.216 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.217 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.218 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.219 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.220 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.222 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.223 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.225 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.226 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.227 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.230 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.231 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.231 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 24ms reading results.
2025-08-12 16:01:36.232 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.233 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:01:36.235 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:01:36.236 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:01:36.237 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:01:36.237 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:01:36.238 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:01:36.239 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:01:36.240 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 77.6567ms
2025-08-12 16:01:36.241 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.242 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 91ms
2025-08-12 16:01:36.243 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 16:01:36.245 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:36.245 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:01:36.247 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.248 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.249 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.250 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:01:36.251 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.252 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 111.6894ms
2025-08-12 16:01:36.253 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.256 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:36.257 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:36.257 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:01:36.258 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:01:36.258 +05:30 [DBG] Authorization was successful.
2025-08-12 16:01:36.259 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.260 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:01:36.261 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:01:36.262 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:01:36.263 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:36.264 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:01:36.265 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:36.266 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:36.267 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:01:36.270 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:36.271 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:36.272 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:01:36.273 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:01:36.274 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:01:36.275 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:01:36.276 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:01:36.277 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.278 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.279 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:36.279 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.280 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:01:36.281 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:01:36.282 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.282 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.283 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:36.284 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:36.286 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:01:36.287 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:36.289 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:36.291 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.292 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:01:36.292 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.293 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:01:36.294 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.295 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.296 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:36.296 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:36.297 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:36.299 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:36.305 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:36.307 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.308 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.309 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.309 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.310 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.311 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.312 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.313 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.313 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.314 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.315 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.317 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.318 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.319 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.320 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.320 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.321 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.322 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.323 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.324 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.325 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.326 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 19ms reading results.
2025-08-12 16:01:36.327 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.327 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:01:36.328 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:01:36.329 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:01:36.330 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:01:36.330 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:01:36.331 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:01:36.333 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:01:36.334 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 68.0223ms
2025-08-12 16:01:36.335 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.336 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 80ms
2025-08-12 16:01:36.337 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:01:36.338 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:01:36.338 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:36.339 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.341 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.342 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 16:01:36.343 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.344 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 99.154ms
2025-08-12 16:01:36.345 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.349 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.350 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:36.350 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:36.351 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:01:36.352 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:01:36.353 +05:30 [DBG] Authorization was successful.
2025-08-12 16:01:36.354 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.354 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:01:36.356 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:01:36.356 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:01:36.357 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:36.359 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:01:36.360 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:36.361 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:36.362 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:01:36.364 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:36.365 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:36.366 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:01:36.367 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:01:36.368 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:01:36.370 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:01:36.371 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:01:36.371 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.373 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.373 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:36.375 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.376 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:01:36.376 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:01:36.377 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.378 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.378 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:36.379 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:36.380 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:36.381 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:36.383 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:36.385 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.386 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:01:36.387 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.389 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-12 16:01:36.390 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.391 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.392 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:36.392 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:36.393 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:36.394 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:36.397 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:36.399 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.400 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.401 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.402 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.403 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.405 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.406 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.407 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.408 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.409 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.410 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.411 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.412 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.413 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.414 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.414 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.415 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.417 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.417 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.418 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.419 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.421 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 22ms reading results.
2025-08-12 16:01:36.422 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.424 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:01:36.425 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:01:36.426 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:01:36.427 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:01:36.428 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:01:36.428 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:01:36.430 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:01:36.432 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 70.9145ms
2025-08-12 16:01:36.433 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.435 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 85ms
2025-08-12 16:01:36.437 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 16:01:36.437 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:36.438 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:01:36.440 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.441 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.441 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.442 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:01:36.443 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.444 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 106.2887ms
2025-08-12 16:01:36.445 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.450 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:36.451 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:36.453 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:01:36.454 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:01:36.455 +05:30 [DBG] Authorization was successful.
2025-08-12 16:01:36.455 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.456 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:01:36.458 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:01:36.459 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:01:36.460 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:36.461 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:01:36.462 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:36.463 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:36.465 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:01:36.466 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:36.467 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:36.468 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:01:36.469 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:01:36.470 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:01:36.471 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:01:36.474 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:01:36.475 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.476 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.477 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:36.479 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.480 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:01:36.481 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:01:36.481 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.482 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.483 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:36.484 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:36.485 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:01:36.487 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:36.489 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:36.492 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.493 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:01:36.494 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.495 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:01:36.496 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.497 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.497 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:36.498 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:36.498 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:36.499 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:36.505 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:36.509 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.510 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.511 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.512 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.513 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.514 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.515 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.517 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.518 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.518 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.519 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.520 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.521 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.523 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.524 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.524 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.525 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.526 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.527 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.528 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.529 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.530 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 21ms reading results.
2025-08-12 16:01:36.531 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.533 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:01:36.534 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:01:36.536 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:01:36.536 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:01:36.536 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:01:36.537 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:01:36.538 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:01:36.539 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 75.5528ms
2025-08-12 16:01:36.540 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.542 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 92ms
2025-08-12 16:01:36.543 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:01:36.544 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:01:36.544 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:36.545 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.547 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.547 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 16:01:36.550 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.551 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 113.3957ms
2025-08-12 16:01:36.551 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.554 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.556 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:36.556 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:36.558 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:01:36.558 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:01:36.559 +05:30 [DBG] Authorization was successful.
2025-08-12 16:01:36.560 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.561 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:01:36.562 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:01:36.563 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:01:36.565 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:36.567 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:01:36.567 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:36.569 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:36.570 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:01:36.572 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:36.573 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:36.574 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:01:36.575 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:01:36.576 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:01:36.577 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:01:36.578 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:01:36.579 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.580 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.580 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:36.581 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.582 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:01:36.583 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:01:36.583 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.584 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.585 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:36.585 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:36.586 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:36.587 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:36.589 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:36.592 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.593 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:01:36.594 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.594 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:01:36.596 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.596 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.597 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:36.598 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:36.598 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:36.599 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:36.601 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:36.603 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.604 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.606 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.607 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.608 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.608 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.609 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.610 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.610 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.611 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.612 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.612 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.613 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.614 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.614 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.615 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.616 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.616 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.617 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.618 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.618 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.619 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 16ms reading results.
2025-08-12 16:01:36.620 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.622 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-12 16:01:36.623 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:01:36.625 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:01:36.626 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:01:36.626 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:01:36.627 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:01:36.628 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:01:36.629 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 60.0639ms
2025-08-12 16:01:36.629 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.631 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 75ms
2025-08-12 16:01:36.632 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 16:01:36.633 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:36.633 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:01:36.636 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.637 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.638 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.639 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 16:01:36.640 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.642 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 97.4916ms
2025-08-12 16:01:36.643 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.647 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:36.647 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:36.648 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:01:36.649 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:01:36.649 +05:30 [DBG] Authorization was successful.
2025-08-12 16:01:36.650 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.651 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:01:36.652 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:01:36.653 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:01:36.654 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:36.656 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:01:36.657 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:36.658 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:36.660 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:01:36.661 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:36.662 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:36.662 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:01:36.663 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:01:36.664 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:01:36.665 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:01:36.666 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:01:36.668 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.668 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.669 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:36.669 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.671 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:01:36.671 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:01:36.671 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.672 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.673 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:36.674 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:36.675 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:36.676 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:36.678 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:36.680 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.680 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:01:36.681 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.682 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:01:36.684 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.685 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.686 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:36.686 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:36.687 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:36.688 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:36.691 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:36.693 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.693 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.694 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.695 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.695 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.696 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.697 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.697 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.699 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.700 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.701 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.701 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.702 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.703 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.704 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.705 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.706 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.707 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.708 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.709 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.709 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.710 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 17ms reading results.
2025-08-12 16:01:36.711 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.712 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:01:36.713 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:01:36.714 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:01:36.714 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:01:36.715 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:01:36.715 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:01:36.716 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:01:36.717 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 59.2131ms
2025-08-12 16:01:36.718 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.720 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 73ms
2025-08-12 16:01:36.720 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:01:36.722 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:01:36.722 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:36.724 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.725 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.726 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 16:01:36.727 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.727 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 94.4529ms
2025-08-12 16:01:36.728 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.731 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.731 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:36.732 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:36.733 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:01:36.733 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:01:36.734 +05:30 [DBG] Authorization was successful.
2025-08-12 16:01:36.734 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.735 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:01:36.736 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:01:36.737 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:01:36.738 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:36.740 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:01:36.741 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:36.742 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:36.743 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:01:36.744 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:36.745 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:36.745 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:01:36.746 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:01:36.747 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:01:36.748 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:01:36.749 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:01:36.750 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.751 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.751 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:36.752 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.753 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:01:36.754 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:01:36.755 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.756 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.757 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:36.757 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:36.758 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:36.759 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:36.762 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:36.763 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.764 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:01:36.765 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.766 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:01:36.767 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.768 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.768 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:36.769 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:36.770 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:36.770 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:36.774 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:36.775 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.776 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.777 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.777 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.778 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.779 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.780 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.780 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.781 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.782 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.782 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.783 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.784 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.784 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.785 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.786 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.787 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.788 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.789 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.789 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.790 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.791 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 15ms reading results.
2025-08-12 16:01:36.792 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.792 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:01:36.793 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:01:36.795 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:01:36.795 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:01:36.796 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:01:36.796 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:01:36.797 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:01:36.797 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 55.9371ms
2025-08-12 16:01:36.798 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.800 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 68ms
2025-08-12 16:01:36.801 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 16:01:36.802 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:36.802 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:01:36.808 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.809 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.810 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.811 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 16:01:36.812 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:36.813 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 91.0741ms
2025-08-12 16:01:36.814 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.816 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:36.817 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:36.818 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:01:36.818 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:01:36.819 +05:30 [DBG] Authorization was successful.
2025-08-12 16:01:36.819 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.820 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:01:36.824 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:01:36.826 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:01:36.826 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:36.828 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:01:36.828 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:36.829 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:36.831 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:01:36.832 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:36.833 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:36.834 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:01:36.836 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:01:36.837 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:01:36.839 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:01:36.840 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:01:36.841 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.842 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.843 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:36.843 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:36.845 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:01:36.845 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:01:36.846 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.846 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.847 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:36.848 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:36.848 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:36.849 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:36.853 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:36.855 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.856 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:01:36.858 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.859 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:01:36.861 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.863 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.863 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:36.864 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:36.865 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:36.865 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:36.870 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:36.873 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.874 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.875 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.875 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.876 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.877 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.878 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.878 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.879 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.880 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.881 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.881 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.882 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.884 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.885 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.885 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.886 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.887 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.887 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.888 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:36.889 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.890 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 17ms reading results.
2025-08-12 16:01:36.891 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.892 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:01:36.893 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:01:36.894 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:01:36.894 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:01:36.895 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:01:36.895 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:01:36.896 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:01:36.897 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 67.3403ms
2025-08-12 16:01:36.897 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:36.900 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 83ms
2025-08-12 16:01:36.901 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:01:36.902 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:01:36.903 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:36.904 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:01:36.905 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 103.8206ms
2025-08-12 16:01:40.810 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=2&PageSize=6 - null null
2025-08-12 16:01:40.812 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:40.813 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:01:40.815 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:40.815 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:40.816 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:01:40.817 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=2&PageSize=6  Responded with [204] in 2ms
2025-08-12 16:01:40.817 +05:30 [DBG] Connection id "0HNEPH6APMCVI" completed keep alive response.
2025-08-12 16:01:40.818 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=2&PageSize=6 - 204 null null 8.3122ms
2025-08-12 16:01:40.820 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=2&PageSize=6 - null null
2025-08-12 16:01:40.824 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:40.825 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:40.827 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:40.828 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:40.829 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:40.829 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:40.830 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:01:40.831 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:01:40.832 +05:30 [DBG] Authorization was successful.
2025-08-12 16:01:40.832 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:40.833 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:01:40.835 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:01:40.835 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:01:40.836 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:40.839 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:01:40.843 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:40.845 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:40.847 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:01:40.849 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:40.850 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:40.851 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:01:40.852 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:01:40.853 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:01:40.854 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:01:40.856 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:01:40.857 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:40.857 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:40.858 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:40.859 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:40.860 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:01:40.861 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:01:40.861 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:40.863 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:40.864 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:40.865 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:40.865 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:40.866 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:40.868 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:40.871 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:40.872 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:01:40.872 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:40.873 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:01:40.874 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .OrderBy(t => t.Title)
    .Skip(__p_1)
    .Take(__p_1)'
2025-08-12 16:01:40.876 +05:30 [DBG] Including navigation: 'TripModel.BudgetDetails'.
2025-08-12 16:01:40.877 +05:30 [DBG] Including navigation: 'TripModel.Reviews'.
2025-08-12 16:01:40.886 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
            1 -> Dictionary<IProperty, int> { [Property: BudgetDetailsModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: BudgetDetailsModel.Food (decimal) Required, 16], [Property: BudgetDetailsModel.Hotel (decimal) Required, 17], [Property: BudgetDetailsModel.TripId (int) Required FK Index, 18] }
            2 -> 0
            3 -> 15
            4 -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: ReviewModel.Rating (int) Required, 20], [Property: ReviewModel.ReviewText (string) Required, 21], [Property: ReviewModel.TripId (int) Required FK Index, 22], [Property: ReviewModel.UserId (int) Required FK Index, 23] }
            5 -> 19
        SELECT t1.Id, t1.BestTime, t1.Budget, t1.Description, t1.Destination, t1.Duration, t1.EndDate, t1.EssentialsJson, t1.Image, t1.Notes, t1.StartDate, t1.Title, t1.TouristSpotsJson, t1.TravelMode, t1.UserId, b.Id, b.Food, b.Hotel, b.TripId, r.Id, r.Rating, r.review, r.TripId, r.UserId
        FROM 
        (
            SELECT t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))
            ORDER BY t.Title ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t1
        LEFT JOIN budgetdetails AS b ON t1.Id == b.TripId
        LEFT JOIN reviews AS r ON t1.Id == r.TripId
        ORDER BY t1.Title ASC, t1.Id ASC, b.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 16:01:40.890 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:40.890 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:40.891 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:40.892 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:40.893 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:40.894 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:40.904 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:40.906 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:40.907 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:40.908 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:40.909 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:40.910 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:40.911 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:40.912 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:40.912 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:40.913 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-08-12 16:01:40.914 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:40.915 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:01:40.916 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:01:40.919 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:01:40.919 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:01:40.920 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:01:40.920 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:01:40.921 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:01:40.922 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 77.1004ms
2025-08-12 16:01:40.923 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:40.924 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=2&PageSize=6  Responded with [200] in 95ms
2025-08-12 16:01:40.925 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:01:40.925 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:01:40.926 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:40.927 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:01:40.929 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=2&PageSize=6 - 200 1390 application/json 108.9617ms
2025-08-12 16:01:43.509 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:43.512 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:43.514 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:01:43.516 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:43.516 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:43.517 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:01:43.518 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 2ms
2025-08-12 16:01:43.519 +05:30 [DBG] Connection id "0HNEPH6APMCVI" completed keep alive response.
2025-08-12 16:01:43.520 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 10.4853ms
2025-08-12 16:01:43.524 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:01:43.528 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:01:43.529 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:43.530 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:01:43.531 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:43.532 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:01:43.533 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:01:43.534 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:01:43.534 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:01:43.535 +05:30 [DBG] Authorization was successful.
2025-08-12 16:01:43.536 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:43.536 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:01:43.538 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:01:43.540 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:01:43.541 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:43.542 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:01:43.543 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:01:43.544 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:43.546 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:01:43.547 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:01:43.548 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:43.549 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:01:43.549 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:01:43.551 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:01:43.552 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:01:43.553 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:01:43.555 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:43.556 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:43.557 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:01:43.558 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:01:43.559 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:01:43.560 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:01:43.560 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:43.561 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:43.562 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:43.563 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:01:43.564 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:43.565 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:43.568 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:01:43.570 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:43.572 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:01:43.573 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:43.574 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:01:43.576 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:43.577 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:43.579 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:01:43.580 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:01:43.581 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:01:43.582 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:43.585 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:01:43.588 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:43.589 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:43.590 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:43.590 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:43.591 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:43.592 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:43.593 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:43.594 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:43.595 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:43.596 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:43.596 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:43.597 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:43.598 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:43.599 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:43.600 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:43.601 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:43.602 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:43.603 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:43.604 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:43.605 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:01:43.606 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:43.607 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 19ms reading results.
2025-08-12 16:01:43.608 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:43.609 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:01:43.610 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:01:43.611 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:01:43.612 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:01:43.613 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:01:43.613 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:01:43.614 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:01:43.615 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 70.7471ms
2025-08-12 16:01:43.617 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:01:43.619 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 86ms
2025-08-12 16:01:43.620 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:01:43.621 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:01:43.623 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:01:43.624 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:01:43.625 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 101.6575ms
2025-08-12 16:04:52.683 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:04:52.692 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:04:52.697 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:04:52.698 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:04:52.699 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:04:52.700 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:04:52.702 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 3ms
2025-08-12 16:04:52.703 +05:30 [DBG] Connection id "0HNEPH6APMCVI" completed keep alive response.
2025-08-12 16:04:52.704 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 21.6539ms
2025-08-12 16:04:52.708 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:04:52.722 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:04:52.723 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:04:52.724 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:04:52.725 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:04:52.728 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:04:52.728 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:04:52.729 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:04:52.730 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:04:52.731 +05:30 [DBG] Authorization was successful.
2025-08-12 16:04:52.731 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:04:52.732 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:04:52.734 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:04:52.735 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:04:52.736 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:04:52.738 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:04:52.740 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:04:52.741 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:04:52.743 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:04:52.745 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:04:52.747 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:04:52.748 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:04:52.749 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:04:52.750 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:04:52.751 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:04:52.753 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:04:52.754 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:04:52.755 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:04:52.755 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:04:52.756 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:04:52.758 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:04:52.760 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 16:04:52.761 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:04:52.763 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:04:52.764 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:04:52.764 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:04:52.765 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:04:52.766 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:04:52.773 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:04:52.776 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:04:52.777 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:04:52.778 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:04:52.779 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:04:52.781 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:04:52.782 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:04:52.783 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:04:52.784 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:04:52.785 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:04:52.785 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:04:52.797 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:04:52.800 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:04:52.801 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:04:52.802 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:04:52.803 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:04:52.804 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:04:52.805 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:04:52.805 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:04:52.806 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:04:52.807 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:04:52.809 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:04:52.810 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:04:52.811 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:04:52.812 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:04:52.813 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:04:52.814 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:04:52.814 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:04:52.815 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:04:52.816 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:04:52.817 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:04:52.818 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:04:52.819 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:04:52.820 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 20ms reading results.
2025-08-12 16:04:52.822 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:04:52.823 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:04:52.824 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:04:52.825 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:04:52.826 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:04:52.828 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:04:52.829 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:04:52.830 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:04:52.831 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 89.694ms
2025-08-12 16:04:52.832 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:04:52.833 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 105ms
2025-08-12 16:04:52.834 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:04:52.835 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:04:52.835 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:04:52.836 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:04:52.838 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 129.4859ms
2025-08-12 16:05:00.235 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip - null null
2025-08-12 16:05:00.235 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Itinerary?tripId=11 - null null
2025-08-12 16:05:00.243 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip'
2025-08-12 16:05:00.245 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Itinerary'
2025-08-12 16:05:00.246 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:05:00.247 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:05:00.248 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:05:00.248 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:05:00.249 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:05:00.250 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:05:00.251 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:05:00.253 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:05:00.254 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip   Responded with [204] in 6ms
2025-08-12 16:05:00.255 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Itinerary ?tripId=11  Responded with [204] in 6ms
2025-08-12 16:05:00.255 +05:30 [DBG] Connection id "0HNEPH6APMCVI" completed keep alive response.
2025-08-12 16:05:00.256 +05:30 [DBG] Connection id "0HNEPH6APMCVL" completed keep alive response.
2025-08-12 16:05:00.257 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip - 204 null null 21.7575ms
2025-08-12 16:05:00.257 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Itinerary?tripId=11 - 204 null null 22.2133ms
2025-08-12 16:05:00.260 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip - null null
2025-08-12 16:05:00.260 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Itinerary?tripId=11 - null null
2025-08-12 16:05:00.270 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip'
2025-08-12 16:05:00.271 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Itinerary'
2025-08-12 16:05:00.272 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip' is valid for the request path '/api/v1/Trip'
2025-08-12 16:05:00.273 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.ItineraryController.GetItineraryItems (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Itinerary' is valid for the request path '/api/v1/Itinerary'
2025-08-12 16:05:00.274 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:05:00.276 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.ItineraryController.GetItineraryItems (TravelPlannerAPI)'
2025-08-12 16:05:00.277 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:05:00.278 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:05:00.279 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:05:00.279 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:05:00.280 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:05:00.280 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:05:00.281 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:05:00.281 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:05:00.282 +05:30 [DBG] Authorization was successful.
2025-08-12 16:05:00.283 +05:30 [DBG] Authorization was successful.
2025-08-12 16:05:00.283 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:05:00.284 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.ItineraryController.GetItineraryItems (TravelPlannerAPI)'
2025-08-12 16:05:00.284 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TravelPlannerAPI.Dtos.TripDto]]] GetTrips() on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:05:00.286 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:05:00.287 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:05:00.288 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:05:00.290 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:05:00.290 +05:30 [INF] Route matched with {action = "GetItineraryItems", controller = "Itinerary"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetItineraryItems(Int32) on controller TravelPlannerAPI.Controllers.ItineraryController (TravelPlannerAPI).
2025-08-12 16:05:00.291 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:05:00.293 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:05:00.294 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:05:00.295 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:05:00.297 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:05:00.297 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:05:00.298 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:05:00.300 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:05:00.301 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:05:00.301 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:05:00.302 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 16:05:00.303 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.ItineraryController (TravelPlannerAPI)
2025-08-12 16:05:00.304 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:00.305 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:05:00.306 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:00.308 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.ItineraryController (TravelPlannerAPI)
2025-08-12 16:05:00.309 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:05:00.310 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:05:00.310 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:05:00.311 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' using the name 'tripId' in request data ...
2025-08-12 16:05:00.313 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-12 16:05:00.314 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:05:00.315 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [Trips] AS [t]
LEFT JOIN [reviews] AS [r] ON [t].[Id] = [r].[TripId]
WHERE [t].[UserId] = @__userId_0
ORDER BY [t].[Id]
2025-08-12 16:05:00.316 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:05:00.319 +05:30 [DBG] Attempting to validate the bound parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:05:00.320 +05:30 [DBG] Done attempting to validate the bound parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:05:00.321 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [Trips] AS [t]
LEFT JOIN [reviews] AS [r] ON [t].[Id] = [r].[TripId]
WHERE [t].[UserId] = @__userId_0
ORDER BY [t].[Id]
2025-08-12 16:05:00.322 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:00.324 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:00.325 +05:30 [DBG] Compiling query expression: 
'DbSet<ItineraryItemsModel>()
    .Where(i => i.TripId == __tripId_0)
    .OrderBy(i => i.ScheduledDateTime)'
2025-08-12 16:05:00.325 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:00.327 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:00.328 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:00.329 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:00.330 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ItineraryItemsModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ItineraryItemsModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ItineraryItemsModel.Description (string) Required, 1], [Property: ItineraryItemsModel.ScheduledDateTime (DateTime) Required, 2], [Property: ItineraryItemsModel.Title (string) Required, 3], [Property: ItineraryItemsModel.TripId (int) Required FK Index, 4] }
        SELECT i.Id, i.Description, i.ScheduledDateTime, i.Title, i.TripId
        FROM ItineraryItems AS i
        WHERE i.TripId == @__tripId_0
        ORDER BY i.ScheduledDateTime ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ItineraryItemsModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 16:05:00.330 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:00.333 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:05:00.333 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:00.333 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:05:00.334 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:00.335 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:00.336 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:00.337 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 15ms reading results.
2025-08-12 16:05:00.343 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:00.345 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:05:00.346 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:05:00.348 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:05:00.348 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:05:00.349 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:00.351 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:05:00.352 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:05:00.353 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:05:00.353 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:05:00.354 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:05:00.355 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:05:00.357 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 62.4253ms
2025-08-12 16:05:00.357 +05:30 [DBG] Executing DbCommand [Parameters=[@__tripId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[Description], [i].[ScheduledDateTime], [i].[Title], [i].[TripId]
FROM [ItineraryItems] AS [i]
WHERE [i].[TripId] = @__tripId_0
ORDER BY [i].[ScheduledDateTime]
2025-08-12 16:05:00.358 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:05:00.361 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip   Responded with [200] in 83ms
2025-08-12 16:05:00.361 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:05:00.362 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:05:00.364 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:00.364 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__tripId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[Description], [i].[ScheduledDateTime], [i].[Title], [i].[TripId]
FROM [ItineraryItems] AS [i]
WHERE [i].[TripId] = @__tripId_0
ORDER BY [i].[ScheduledDateTime]
2025-08-12 16:05:00.365 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:05:00.367 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip - 200 5003 application/json 106.8778ms
2025-08-12 16:05:00.368 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ItineraryItemsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:00.375 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:00.375 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 9ms reading results.
2025-08-12 16:05:00.377 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:00.378 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:05:00.379 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:05:00.380 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:05:00.381 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:05:00.381 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:05:00.382 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:05:00.382 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Models.ItineraryItemsModel, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:05:00.401 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.ItineraryController.GetItineraryItems (TravelPlannerAPI) in 97.4849ms
2025-08-12 16:05:00.401 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.ItineraryController.GetItineraryItems (TravelPlannerAPI)'
2025-08-12 16:05:00.403 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Itinerary ?tripId=11  Responded with [200] in 124ms
2025-08-12 16:05:00.403 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 16:05:00.405 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:05:00.407 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:00.408 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:05:00.409 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Itinerary?tripId=11 - 200 245 application/json 148.6141ms
2025-08-12 16:05:10.078 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Itinerary?userId=3&tripId=11 - null null
2025-08-12 16:05:10.081 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Itinerary'
2025-08-12 16:05:10.081 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:05:10.082 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:05:10.083 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:05:10.083 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:05:10.084 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Itinerary ?userId=3&tripId=11  Responded with [204] in 2ms
2025-08-12 16:05:10.085 +05:30 [DBG] Connection id "0HNEPH6APMCVL" completed keep alive response.
2025-08-12 16:05:10.086 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Itinerary?userId=3&tripId=11 - 204 null null 8.4457ms
2025-08-12 16:05:10.087 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Itinerary?userId=3&tripId=11 - application/json 82
2025-08-12 16:05:10.090 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Itinerary'
2025-08-12 16:05:10.091 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.ItineraryController.CreateItineraryItem (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Itinerary' is valid for the request path '/api/v1/Itinerary'
2025-08-12 16:05:10.092 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.ItineraryController.CreateItineraryItem (TravelPlannerAPI)'
2025-08-12 16:05:10.096 +05:30 [DBG] Connection id "0HNEPH6APMCVH", Request id "0HNEPH6APMCVH:00000026": started reading request body.
2025-08-12 16:05:10.097 +05:30 [DBG] Connection id "0HNEPH6APMCVH", Request id "0HNEPH6APMCVH:00000026": done reading request body.
2025-08-12 16:05:10.098 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:05:10.099 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:05:10.100 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:05:10.100 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:05:10.101 +05:30 [DBG] Authorization was successful.
2025-08-12 16:05:10.102 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.ItineraryController.CreateItineraryItem (TravelPlannerAPI)'
2025-08-12 16:05:10.106 +05:30 [INF] Route matched with {action = "CreateItineraryItem", controller = "Itinerary"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateItineraryItem(Int32, Int32, TravelPlannerAPI.Dtos.ItineraryItemCreateDto) on controller TravelPlannerAPI.Controllers.ItineraryController (TravelPlannerAPI).
2025-08-12 16:05:10.108 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:05:10.110 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:05:10.111 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:05:10.113 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:05:10.114 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:05:10.115 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.ItineraryController (TravelPlannerAPI)
2025-08-12 16:05:10.117 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:05:10.119 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.ItineraryController (TravelPlannerAPI)
2025-08-12 16:05:10.120 +05:30 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2025-08-12 16:05:10.121 +05:30 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-08-12 16:05:10.122 +05:30 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-08-12 16:05:10.123 +05:30 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-08-12 16:05:10.123 +05:30 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2025-08-12 16:05:10.124 +05:30 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2025-08-12 16:05:10.127 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:05:10.128 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' using the name 'tripId' in request data ...
2025-08-12 16:05:10.129 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:05:10.130 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:05:10.131 +05:30 [DBG] Attempting to validate the bound parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:05:10.131 +05:30 [DBG] Done attempting to validate the bound parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:05:10.132 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ItineraryItemCreateDto' ...
2025-08-12 16:05:10.133 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ItineraryItemCreateDto' using the name '' in request data ...
2025-08-12 16:05:10.134 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 16:05:10.136 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.ItineraryItemCreateDto'
2025-08-12 16:05:10.137 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ItineraryItemCreateDto'.
2025-08-12 16:05:10.138 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ItineraryItemCreateDto'.
2025-08-12 16:05:10.138 +05:30 [DBG] Attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Dtos.ItineraryItemCreateDto' ...
2025-08-12 16:05:10.140 +05:30 [DBG] Done attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Dtos.ItineraryItemCreateDto'.
2025-08-12 16:05:10.145 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:05:10.146 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:05:10.147 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:10.148 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:10.149 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:05:10.150 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:05:10.152 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:05:10.153 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:05:10.157 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:05:10.159 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:10.161 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:10.162 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 16:05:10.163 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:10.164 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:05:10.168 +05:30 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'ItineraryItemsModel.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:10.171 +05:30 [DBG] The navigation 'ItineraryItemsModel.Trip' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:10.171 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ItineraryItemsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:10.172 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 16:05:10.174 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 16:05:10.177 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 16:05:10.178 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:10.179 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:10.180 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:05:10.181 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:05:10.181 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:05:10.182 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ItineraryItems] ([Description], [ScheduledDateTime], [Title], [TripId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-08-12 16:05:10.188 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ItineraryItems] ([Description], [ScheduledDateTime], [Title], [TripId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-08-12 16:05:10.191 +05:30 [DBG] The foreign key property 'ItineraryItemsModel.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 16:05:10.192 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:10.194 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-12 16:05:10.195 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:10.196 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:05:10.198 +05:30 [DBG] An entity of type 'ItineraryItemsModel' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:10.199 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 16:05:10.200 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:05:10.201 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:05:10.202 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:05:10.202 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:05:10.203 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:05:10.204 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Models.ItineraryItemsModel'.
2025-08-12 16:05:10.207 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.ItineraryController.CreateItineraryItem (TravelPlannerAPI) in 91.7526ms
2025-08-12 16:05:10.208 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.ItineraryController.CreateItineraryItem (TravelPlannerAPI)'
2025-08-12 16:05:10.209 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Itinerary ?userId=3&tripId=11 {"title":"Church","description":"","scheduledDateTime":"2025-08-12T10:35:00.000Z"} Responded with [200] in 113ms
2025-08-12 16:05:10.211 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 16:05:10.212 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:05:10.213 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Itinerary?tripId=11 - null null
2025-08-12 16:05:10.213 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:10.215 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Itinerary'
2025-08-12 16:05:10.215 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 16:05:10.216 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:05:10.217 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Itinerary?userId=3&tripId=11 - 200 967 application/json 130.5533ms
2025-08-12 16:05:10.218 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:05:10.220 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:05:10.222 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:05:10.223 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Itinerary ?tripId=11  Responded with [204] in 5ms
2025-08-12 16:05:10.224 +05:30 [DBG] Connection id "0HNEPH6APMCVL" completed keep alive response.
2025-08-12 16:05:10.224 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Itinerary?tripId=11 - 204 null null 11.6299ms
2025-08-12 16:05:10.225 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Itinerary?tripId=11 - null null
2025-08-12 16:05:10.229 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Itinerary'
2025-08-12 16:05:10.230 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.ItineraryController.GetItineraryItems (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Itinerary' is valid for the request path '/api/v1/Itinerary'
2025-08-12 16:05:10.232 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.ItineraryController.GetItineraryItems (TravelPlannerAPI)'
2025-08-12 16:05:10.232 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:05:10.233 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:05:10.234 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:05:10.235 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:05:10.235 +05:30 [DBG] Authorization was successful.
2025-08-12 16:05:10.236 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.ItineraryController.GetItineraryItems (TravelPlannerAPI)'
2025-08-12 16:05:10.238 +05:30 [INF] Route matched with {action = "GetItineraryItems", controller = "Itinerary"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetItineraryItems(Int32) on controller TravelPlannerAPI.Controllers.ItineraryController (TravelPlannerAPI).
2025-08-12 16:05:10.239 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:05:10.240 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:05:10.241 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:05:10.242 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:05:10.244 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:05:10.245 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.ItineraryController (TravelPlannerAPI)
2025-08-12 16:05:10.248 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:05:10.249 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.ItineraryController (TravelPlannerAPI)
2025-08-12 16:05:10.250 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:05:10.251 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' using the name 'tripId' in request data ...
2025-08-12 16:05:10.252 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:05:10.254 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:05:10.255 +05:30 [DBG] Attempting to validate the bound parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:05:10.255 +05:30 [DBG] Done attempting to validate the bound parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:05:10.257 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:05:10.257 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:05:10.258 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:10.259 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:10.260 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:05:10.261 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:05:10.262 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:05:10.263 +05:30 [DBG] Executing DbCommand [Parameters=[@__tripId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[Description], [i].[ScheduledDateTime], [i].[Title], [i].[TripId]
FROM [ItineraryItems] AS [i]
WHERE [i].[TripId] = @__tripId_0
ORDER BY [i].[ScheduledDateTime]
2025-08-12 16:05:10.266 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__tripId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[Description], [i].[ScheduledDateTime], [i].[Title], [i].[TripId]
FROM [ItineraryItems] AS [i]
WHERE [i].[TripId] = @__tripId_0
ORDER BY [i].[ScheduledDateTime]
2025-08-12 16:05:10.267 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ItineraryItemsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:10.269 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ItineraryItemsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:10.270 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:10.270 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-12 16:05:10.271 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:10.272 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:05:10.273 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:05:10.274 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:05:10.275 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:05:10.275 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:05:10.276 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:05:10.278 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Models.ItineraryItemsModel, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:05:10.279 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.ItineraryController.GetItineraryItems (TravelPlannerAPI) in 33.2691ms
2025-08-12 16:05:10.279 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.ItineraryController.GetItineraryItems (TravelPlannerAPI)'
2025-08-12 16:05:10.280 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Itinerary ?tripId=11  Responded with [200] in 47ms
2025-08-12 16:05:10.281 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 16:05:10.282 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:05:10.283 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:10.284 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:05:10.284 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Itinerary?tripId=11 - 200 421 application/json 59.527ms
2025-08-12 16:05:52.402 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Itinerary/12?userId=3&tripId=11&id=12 - null null
2025-08-12 16:05:52.410 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Itinerary/12'
2025-08-12 16:05:52.411 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:05:52.412 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:05:52.413 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:05:52.413 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:05:52.414 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Itinerary/12 ?userId=3&tripId=11&id=12  Responded with [204] in 2ms
2025-08-12 16:05:52.415 +05:30 [DBG] Connection id "0HNEPH6APMCVL" completed keep alive response.
2025-08-12 16:05:52.416 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Itinerary/12?userId=3&tripId=11&id=12 - 204 null null 13.526ms
2025-08-12 16:05:52.417 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5276/api/v1/Itinerary/12?userId=3&tripId=11&id=12 - application/json 90
2025-08-12 16:05:52.427 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Itinerary/12'
2025-08-12 16:05:52.428 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.ItineraryController.UpdateItineraryItem (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Itinerary/{id}' is valid for the request path '/api/v1/Itinerary/12'
2025-08-12 16:05:52.429 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.ItineraryController.UpdateItineraryItem (TravelPlannerAPI)'
2025-08-12 16:05:52.430 +05:30 [DBG] Connection id "0HNEPH6APMCVH", Request id "0HNEPH6APMCVH:00000028": started reading request body.
2025-08-12 16:05:52.431 +05:30 [DBG] Connection id "0HNEPH6APMCVH", Request id "0HNEPH6APMCVH:00000028": done reading request body.
2025-08-12 16:05:52.432 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:05:52.432 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:05:52.433 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:05:52.433 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:05:52.434 +05:30 [DBG] Authorization was successful.
2025-08-12 16:05:52.435 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.ItineraryController.UpdateItineraryItem (TravelPlannerAPI)'
2025-08-12 16:05:52.439 +05:30 [INF] Route matched with {action = "UpdateItineraryItem", controller = "Itinerary"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateItineraryItem(Int32, Int32, Int32, TravelPlannerAPI.Dtos.ItineraryItemCreateDto) on controller TravelPlannerAPI.Controllers.ItineraryController (TravelPlannerAPI).
2025-08-12 16:05:52.442 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:05:52.443 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:05:52.444 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:05:52.446 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:05:52.447 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:05:52.448 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.ItineraryController (TravelPlannerAPI)
2025-08-12 16:05:52.449 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:05:52.450 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.ItineraryController (TravelPlannerAPI)
2025-08-12 16:05:52.451 +05:30 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2025-08-12 16:05:52.452 +05:30 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-08-12 16:05:52.453 +05:30 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-08-12 16:05:52.454 +05:30 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-08-12 16:05:52.455 +05:30 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2025-08-12 16:05:52.457 +05:30 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2025-08-12 16:05:52.458 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:05:52.459 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' using the name 'tripId' in request data ...
2025-08-12 16:05:52.460 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:05:52.461 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:05:52.462 +05:30 [DBG] Attempting to validate the bound parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:05:52.463 +05:30 [DBG] Done attempting to validate the bound parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:05:52.464 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-12 16:05:52.465 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-12 16:05:52.466 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 16:05:52.466 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 16:05:52.467 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-12 16:05:52.468 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-12 16:05:52.469 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ItineraryItemCreateDto' ...
2025-08-12 16:05:52.470 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ItineraryItemCreateDto' using the name '' in request data ...
2025-08-12 16:05:52.472 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 16:05:52.474 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.ItineraryItemCreateDto'
2025-08-12 16:05:52.475 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ItineraryItemCreateDto'.
2025-08-12 16:05:52.476 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ItineraryItemCreateDto'.
2025-08-12 16:05:52.478 +05:30 [DBG] Attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Dtos.ItineraryItemCreateDto' ...
2025-08-12 16:05:52.479 +05:30 [DBG] Done attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Dtos.ItineraryItemCreateDto'.
2025-08-12 16:05:52.484 +05:30 [DBG] Compiling query expression: 
'DbSet<ItineraryItemsModel>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-08-12 16:05:52.488 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ItineraryItemsModel>(
    asyncEnumerable: new SingleQueryingEnumerable<ItineraryItemsModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ItineraryItemsModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ItineraryItemsModel.Description (string) Required, 1], [Property: ItineraryItemsModel.ScheduledDateTime (DateTime) Required, 2], [Property: ItineraryItemsModel.Title (string) Required, 3], [Property: ItineraryItemsModel.TripId (int) Required FK Index, 4] }
            SELECT TOP(1) i.Id, i.Description, i.ScheduledDateTime, i.Title, i.TripId
            FROM ItineraryItems AS i
            WHERE i.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ItineraryItemsModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 16:05:52.490 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:05:52.491 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:05:52.492 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:52.493 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:52.494 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:05:52.495 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:05:52.496 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:05:52.497 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Description], [i].[ScheduledDateTime], [i].[Title], [i].[TripId]
FROM [ItineraryItems] AS [i]
WHERE [i].[Id] = @__p_0
2025-08-12 16:05:52.504 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Description], [i].[ScheduledDateTime], [i].[Title], [i].[TripId]
FROM [ItineraryItems] AS [i]
WHERE [i].[Id] = @__p_0
2025-08-12 16:05:52.507 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ItineraryItemsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:52.508 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:52.509 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 16:05:52.510 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:52.511 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:05:52.513 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:52.514 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:52.515 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:05:52.515 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:05:52.516 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:05:52.517 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:05:52.520 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:05:52.522 +05:30 [DBG] The navigation 'ItineraryItemsModel.Trip' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:52.524 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:52.525 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:52.526 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-12 16:05:52.527 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:52.528 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:05:52.531 +05:30 [DBG] The unchanged property 'ItineraryItemsModel.ScheduledDateTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 16:05:52.531 +05:30 [DBG] An entity of type 'ItineraryItemsModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:52.533 +05:30 [DBG] The unchanged property 'ItineraryItemsModel.Title' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 16:05:52.533 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 16:05:52.534 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 16:05:52.536 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 16:05:52.537 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:52.538 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:52.539 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:05:52.540 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:05:52.542 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:05:52.543 +05:30 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ItineraryItems] SET [Description] = @p0, [ScheduledDateTime] = @p1, [Title] = @p2, [TripId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-08-12 16:05:52.548 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ItineraryItems] SET [Description] = @p0, [ScheduledDateTime] = @p1, [Title] = @p2, [TripId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-08-12 16:05:52.550 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:52.552 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 16:05:52.553 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:52.554 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:05:52.555 +05:30 [DBG] An entity of type 'ItineraryItemsModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:52.557 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 16:05:52.558 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 16:05:52.559 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 16:05:52.560 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 16:05:52.561 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 0 entities written to the database.
2025-08-12 16:05:52.562 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-08-12 16:05:52.563 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.ItineraryController.UpdateItineraryItem (TravelPlannerAPI) in 115.2145ms
2025-08-12 16:05:52.564 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.ItineraryController.UpdateItineraryItem (TravelPlannerAPI)'
2025-08-12 16:05:52.565 +05:30 [INF] Source:[::1] Request: PUT http localhost:5276/api/v1/Itinerary/12 ?userId=3&tripId=11&id=12 {"title":"Garden","description":"","scheduledDateTime":"2025-08-11T23:35:00.000Z","id":12} Responded with [204] in 135ms
2025-08-12 16:05:52.566 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 16:05:52.568 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:05:52.568 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:52.569 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Itinerary?tripId=11 - null null
2025-08-12 16:05:52.570 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:05:52.571 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Itinerary'
2025-08-12 16:05:52.572 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5276/api/v1/Itinerary/12?userId=3&tripId=11&id=12 - 204 null null 155.587ms
2025-08-12 16:05:52.573 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:05:52.579 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:05:52.580 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:05:52.580 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:05:52.582 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Itinerary ?tripId=11  Responded with [204] in 2ms
2025-08-12 16:05:52.582 +05:30 [DBG] Connection id "0HNEPH6APMCVL" completed keep alive response.
2025-08-12 16:05:52.583 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Itinerary?tripId=11 - 204 null null 14.2814ms
2025-08-12 16:05:52.584 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Itinerary?tripId=11 - null null
2025-08-12 16:05:52.587 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Itinerary'
2025-08-12 16:05:52.588 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.ItineraryController.GetItineraryItems (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Itinerary' is valid for the request path '/api/v1/Itinerary'
2025-08-12 16:05:52.591 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.ItineraryController.GetItineraryItems (TravelPlannerAPI)'
2025-08-12 16:05:52.592 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:05:52.593 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:05:52.594 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:05:52.595 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:05:52.596 +05:30 [DBG] Authorization was successful.
2025-08-12 16:05:52.596 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.ItineraryController.GetItineraryItems (TravelPlannerAPI)'
2025-08-12 16:05:52.597 +05:30 [INF] Route matched with {action = "GetItineraryItems", controller = "Itinerary"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetItineraryItems(Int32) on controller TravelPlannerAPI.Controllers.ItineraryController (TravelPlannerAPI).
2025-08-12 16:05:52.598 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:05:52.599 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:05:52.600 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:05:52.601 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:05:52.602 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:05:52.604 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.ItineraryController (TravelPlannerAPI)
2025-08-12 16:05:52.605 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:05:52.608 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.ItineraryController (TravelPlannerAPI)
2025-08-12 16:05:52.609 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:05:52.610 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' using the name 'tripId' in request data ...
2025-08-12 16:05:52.611 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:05:52.612 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:05:52.612 +05:30 [DBG] Attempting to validate the bound parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:05:52.613 +05:30 [DBG] Done attempting to validate the bound parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:05:52.614 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:05:52.615 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:05:52.615 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:52.616 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:52.617 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:05:52.617 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:05:52.618 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:05:52.619 +05:30 [DBG] Executing DbCommand [Parameters=[@__tripId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[Description], [i].[ScheduledDateTime], [i].[Title], [i].[TripId]
FROM [ItineraryItems] AS [i]
WHERE [i].[TripId] = @__tripId_0
ORDER BY [i].[ScheduledDateTime]
2025-08-12 16:05:52.623 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__tripId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[Description], [i].[ScheduledDateTime], [i].[Title], [i].[TripId]
FROM [ItineraryItems] AS [i]
WHERE [i].[TripId] = @__tripId_0
ORDER BY [i].[ScheduledDateTime]
2025-08-12 16:05:52.625 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ItineraryItemsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:52.626 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ItineraryItemsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:52.627 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:52.628 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 16:05:52.629 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:52.630 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:05:52.631 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:05:52.633 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:05:52.633 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:05:52.634 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:05:52.634 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:05:52.635 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Models.ItineraryItemsModel, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:05:52.636 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.ItineraryController.GetItineraryItems (TravelPlannerAPI) in 32.1142ms
2025-08-12 16:05:52.638 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.ItineraryController.GetItineraryItems (TravelPlannerAPI)'
2025-08-12 16:05:52.639 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Itinerary ?tripId=11  Responded with [200] in 46ms
2025-08-12 16:05:52.640 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 16:05:52.641 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:05:52.642 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:52.643 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:05:52.644 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Itinerary?tripId=11 - 200 421 application/json 60.2062ms
2025-08-12 16:05:58.211 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Itinerary/12?tripId=11&userId=3&id=12 - null null
2025-08-12 16:05:58.214 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Itinerary/12'
2025-08-12 16:05:58.214 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:05:58.215 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:05:58.216 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:05:58.217 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:05:58.218 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Itinerary/12 ?tripId=11&userId=3&id=12  Responded with [204] in 2ms
2025-08-12 16:05:58.218 +05:30 [DBG] Connection id "0HNEPH6APMCVL" completed keep alive response.
2025-08-12 16:05:58.219 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Itinerary/12?tripId=11&userId=3&id=12 - 204 null null 8.0691ms
2025-08-12 16:05:58.220 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5276/api/v1/Itinerary/12?tripId=11&userId=3&id=12 - null null
2025-08-12 16:05:58.226 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Itinerary/12'
2025-08-12 16:05:58.227 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.ItineraryController.DeleteItineraryItem (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Itinerary/{id}' is valid for the request path '/api/v1/Itinerary/12'
2025-08-12 16:05:58.228 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.ItineraryController.DeleteItineraryItem (TravelPlannerAPI)'
2025-08-12 16:05:58.228 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:05:58.229 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:05:58.230 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:05:58.231 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:05:58.232 +05:30 [DBG] Authorization was successful.
2025-08-12 16:05:58.232 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.ItineraryController.DeleteItineraryItem (TravelPlannerAPI)'
2025-08-12 16:05:58.237 +05:30 [INF] Route matched with {action = "DeleteItineraryItem", controller = "Itinerary"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteItineraryItem(Int32, Int32, Int32) on controller TravelPlannerAPI.Controllers.ItineraryController (TravelPlannerAPI).
2025-08-12 16:05:58.238 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:05:58.241 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:05:58.242 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:05:58.243 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:05:58.244 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:05:58.245 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.ItineraryController (TravelPlannerAPI)
2025-08-12 16:05:58.247 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:05:58.249 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.ItineraryController (TravelPlannerAPI)
2025-08-12 16:05:58.250 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:05:58.250 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' using the name 'tripId' in request data ...
2025-08-12 16:05:58.251 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:05:58.252 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:05:58.254 +05:30 [DBG] Attempting to validate the bound parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:05:58.255 +05:30 [DBG] Done attempting to validate the bound parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:05:58.255 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-12 16:05:58.256 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-12 16:05:58.257 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 16:05:58.258 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 16:05:58.259 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-12 16:05:58.260 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-12 16:05:58.261 +05:30 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2025-08-12 16:05:58.261 +05:30 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-08-12 16:05:58.262 +05:30 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-08-12 16:05:58.263 +05:30 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-08-12 16:05:58.264 +05:30 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2025-08-12 16:05:58.265 +05:30 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2025-08-12 16:05:58.267 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:05:58.268 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:05:58.269 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:58.270 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:58.271 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:05:58.272 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:05:58.273 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:05:58.273 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Description], [i].[ScheduledDateTime], [i].[Title], [i].[TripId]
FROM [ItineraryItems] AS [i]
WHERE [i].[Id] = @__p_0
2025-08-12 16:05:58.276 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Description], [i].[ScheduledDateTime], [i].[Title], [i].[TripId]
FROM [ItineraryItems] AS [i]
WHERE [i].[Id] = @__p_0
2025-08-12 16:05:58.283 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ItineraryItemsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:58.284 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:58.285 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:05:58.286 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:58.287 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:05:58.289 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:58.290 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:58.290 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:05:58.291 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:05:58.292 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:05:58.293 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:05:58.295 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:05:58.296 +05:30 [DBG] The navigation 'ItineraryItemsModel.Trip' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:58.297 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:58.298 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:58.299 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 16:05:58.300 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:58.301 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:05:58.303 +05:30 [DBG] An entity of type 'ItineraryItemsModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:58.305 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 16:05:58.306 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 16:05:58.307 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 16:05:58.310 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:58.311 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:58.312 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:05:58.312 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:05:58.313 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:05:58.313 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [ItineraryItems]
OUTPUT 1
WHERE [Id] = @p0;
2025-08-12 16:05:58.320 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [ItineraryItems]
OUTPUT 1
WHERE [Id] = @p0;
2025-08-12 16:05:58.321 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:58.322 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:05:58.323 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:58.324 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:05:58.327 +05:30 [DBG] An entity of type 'ItineraryItemsModel' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:58.329 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 16:05:58.329 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 16:05:58.330 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 16:05:58.331 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 16:05:58.331 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 0 entities written to the database.
2025-08-12 16:05:58.333 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-08-12 16:05:58.334 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.ItineraryController.DeleteItineraryItem (TravelPlannerAPI) in 88.5619ms
2025-08-12 16:05:58.335 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.ItineraryController.DeleteItineraryItem (TravelPlannerAPI)'
2025-08-12 16:05:58.336 +05:30 [INF] Source:[::1] Request: DELETE http localhost:5276/api/v1/Itinerary/12 ?tripId=11&userId=3&id=12  Responded with [204] in 107ms
2025-08-12 16:05:58.337 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 16:05:58.338 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:05:58.340 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:58.341 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Itinerary?tripId=11 - null null
2025-08-12 16:05:58.343 +05:30 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 16:05:58.345 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Itinerary'
2025-08-12 16:05:58.346 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5276/api/v1/Itinerary/12?tripId=11&userId=3&id=12 - 204 null null 126.4608ms
2025-08-12 16:05:58.347 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:05:58.352 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:05:58.354 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:05:58.354 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:05:58.356 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Itinerary ?tripId=11  Responded with [204] in 3ms
2025-08-12 16:05:58.357 +05:30 [DBG] Connection id "0HNEPH6APMCVL" completed keep alive response.
2025-08-12 16:05:58.358 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Itinerary?tripId=11 - 204 null null 17.3934ms
2025-08-12 16:05:58.359 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Itinerary?tripId=11 - null null
2025-08-12 16:05:58.362 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Itinerary'
2025-08-12 16:05:58.363 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.ItineraryController.GetItineraryItems (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Itinerary' is valid for the request path '/api/v1/Itinerary'
2025-08-12 16:05:58.364 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.ItineraryController.GetItineraryItems (TravelPlannerAPI)'
2025-08-12 16:05:58.365 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:05:58.366 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:05:58.366 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:05:58.367 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:05:58.368 +05:30 [DBG] Authorization was successful.
2025-08-12 16:05:58.368 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.ItineraryController.GetItineraryItems (TravelPlannerAPI)'
2025-08-12 16:05:58.369 +05:30 [INF] Route matched with {action = "GetItineraryItems", controller = "Itinerary"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetItineraryItems(Int32) on controller TravelPlannerAPI.Controllers.ItineraryController (TravelPlannerAPI).
2025-08-12 16:05:58.370 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:05:58.371 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:05:58.372 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:05:58.375 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:05:58.375 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:05:58.377 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.ItineraryController (TravelPlannerAPI)
2025-08-12 16:05:58.378 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:05:58.380 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.ItineraryController (TravelPlannerAPI)
2025-08-12 16:05:58.381 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:05:58.382 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' using the name 'tripId' in request data ...
2025-08-12 16:05:58.382 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:05:58.383 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:05:58.384 +05:30 [DBG] Attempting to validate the bound parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:05:58.385 +05:30 [DBG] Done attempting to validate the bound parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:05:58.386 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:05:58.387 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:05:58.387 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:58.388 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:58.391 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:05:58.391 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:05:58.392 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:05:58.393 +05:30 [DBG] Executing DbCommand [Parameters=[@__tripId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[Description], [i].[ScheduledDateTime], [i].[Title], [i].[TripId]
FROM [ItineraryItems] AS [i]
WHERE [i].[TripId] = @__tripId_0
ORDER BY [i].[ScheduledDateTime]
2025-08-12 16:05:58.396 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__tripId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[Description], [i].[ScheduledDateTime], [i].[Title], [i].[TripId]
FROM [ItineraryItems] AS [i]
WHERE [i].[TripId] = @__tripId_0
ORDER BY [i].[ScheduledDateTime]
2025-08-12 16:05:58.398 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ItineraryItemsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:05:58.398 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:58.399 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:05:58.400 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:58.401 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:05:58.402 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:05:58.403 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:05:58.403 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:05:58.404 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:05:58.404 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:05:58.405 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Models.ItineraryItemsModel, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:05:58.406 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.ItineraryController.GetItineraryItems (TravelPlannerAPI) in 29.5652ms
2025-08-12 16:05:58.407 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.ItineraryController.GetItineraryItems (TravelPlannerAPI)'
2025-08-12 16:05:58.408 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Itinerary ?tripId=11  Responded with [200] in 42ms
2025-08-12 16:05:58.409 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 16:05:58.410 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:05:58.412 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:05:58.413 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:05:58.415 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Itinerary?tripId=11 - 200 245 application/json 55.29ms
2025-08-12 16:06:37.735 +05:30 [DBG] Connection id "0HNEPH6APMCVJ" received FIN.
2025-08-12 16:06:37.737 +05:30 [DBG] Connection id "0HNEPH6APMCVJ" disconnecting.
2025-08-12 16:06:37.738 +05:30 [DBG] Connection id "0HNEPH6APMCVG" received FIN.
2025-08-12 16:06:37.748 +05:30 [DBG] Connection id "0HNEPH6APMCVJ" stopped.
2025-08-12 16:06:37.759 +05:30 [DBG] Connection id "0HNEPH6APMCVG" disconnecting.
2025-08-12 16:06:37.766 +05:30 [DBG] Connection id "0HNEPH6APMCVG" stopped.
2025-08-12 16:06:37.769 +05:30 [DBG] Connection id "0HNEPH6APMCVJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 16:06:37.772 +05:30 [DBG] Connection id "0HNEPH6APMCVK" received FIN.
2025-08-12 16:06:37.788 +05:30 [DBG] Connection id "0HNEPH6APMCVG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 16:06:37.789 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:06:37.797 +05:30 [DBG] Connection id "0HNEPH6APMCVK" disconnecting.
2025-08-12 16:06:37.771 +05:30 [DBG] Connection id "0HNEPH6APMCVD" received FIN.
2025-08-12 16:06:37.801 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:06:37.804 +05:30 [DBG] Connection id "0HNEPH6APMCVD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 16:06:37.806 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:06:37.814 +05:30 [DBG] Connection id "0HNEPH6APMCVD" disconnecting.
2025-08-12 16:06:37.815 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:06:37.802 +05:30 [DBG] Connection id "0HNEPH6APMCVK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 16:06:37.817 +05:30 [DBG] Connection id "0HNEPH6APMCVD" stopped.
2025-08-12 16:06:37.821 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:06:37.823 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:06:37.824 +05:30 [DBG] Connection id "0HNEPH6APMCVK" stopped.
2025-08-12 16:06:37.824 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 9ms
2025-08-12 16:06:37.825 +05:30 [DBG] Connection id "0HNEPH6APMCVL" completed keep alive response.
2025-08-12 16:06:37.826 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 37.7086ms
2025-08-12 16:06:37.827 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:06:37.829 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:06:37.830 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:06:37.831 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:06:37.832 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:06:37.833 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:06:37.834 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:06:37.835 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:06:37.836 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:06:37.836 +05:30 [DBG] Authorization was successful.
2025-08-12 16:06:37.837 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:06:37.838 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:06:37.839 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:06:37.839 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:06:37.840 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:06:37.841 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:06:37.842 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:06:37.844 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:06:37.845 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:06:37.846 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:06:37.847 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:06:37.848 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:06:37.850 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:06:37.852 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:06:37.853 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:06:37.854 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:06:37.856 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:06:37.857 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:06:37.858 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:06:37.859 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:06:37.862 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:06:37.863 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:06:37.864 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:06:37.867 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:06:37.869 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:06:37.871 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:06:37.872 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 16:06:37.874 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:06:37.885 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:06:37.887 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:06:37.888 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:06:37.890 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:06:37.891 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:06:37.893 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:06:37.895 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:06:37.895 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:06:37.896 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:06:37.897 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:06:37.899 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:06:37.912 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:06:37.915 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:37.916 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:37.917 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:37.918 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:37.919 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:37.920 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:37.923 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:37.924 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:37.925 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:37.927 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:37.928 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:37.929 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:37.930 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:37.931 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:37.932 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:37.933 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:37.934 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:37.935 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:37.936 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:37.938 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:37.939 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:06:37.940 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 25ms reading results.
2025-08-12 16:06:37.941 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:06:37.943 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:06:37.944 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:06:37.947 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:06:37.948 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:06:37.948 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:06:37.949 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:06:37.950 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:06:37.951 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 106.9693ms
2025-08-12 16:06:37.952 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:06:37.953 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 120ms
2025-08-12 16:06:37.955 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 16:06:37.956 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:06:37.957 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:06:37.958 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:06:37.959 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 132.1913ms
2025-08-12 16:06:45.014 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip - null null
2025-08-12 16:06:45.016 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Expense?tripId=9 - null null
2025-08-12 16:06:45.016 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip'
2025-08-12 16:06:45.021 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Expense'
2025-08-12 16:06:45.021 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:06:45.022 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:06:45.023 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:06:45.024 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:06:45.026 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:06:45.027 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:06:45.027 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:06:45.028 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:06:45.029 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip   Responded with [204] in 5ms
2025-08-12 16:06:45.030 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Expense ?tripId=9  Responded with [204] in 5ms
2025-08-12 16:06:45.030 +05:30 [DBG] Connection id "0HNEPH6APMCVL" completed keep alive response.
2025-08-12 16:06:45.031 +05:30 [DBG] Connection id "0HNEPH6APMCVI" completed keep alive response.
2025-08-12 16:06:45.032 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip - 204 null null 18.2458ms
2025-08-12 16:06:45.032 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Expense?tripId=9 - null null
2025-08-12 16:06:45.032 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip - null null
2025-08-12 16:06:45.035 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Expense?tripId=9 - 204 null null 18.9108ms
2025-08-12 16:06:45.039 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Expense'
2025-08-12 16:06:45.041 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip'
2025-08-12 16:06:45.043 +05:30 [DBG] Endpoint 'BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Expense' is valid for the request path '/api/v1/Expense'
2025-08-12 16:06:45.044 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip' is valid for the request path '/api/v1/Trip'
2025-08-12 16:06:45.045 +05:30 [DBG] Request matched endpoint 'BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI)'
2025-08-12 16:06:45.046 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:06:45.047 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:06:45.047 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:06:45.048 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:06:45.048 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:06:45.050 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:06:45.051 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:06:45.052 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:06:45.052 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:06:45.053 +05:30 [DBG] Authorization was successful.
2025-08-12 16:06:45.054 +05:30 [DBG] Authorization was successful.
2025-08-12 16:06:45.054 +05:30 [INF] Executing endpoint 'BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI)'
2025-08-12 16:06:45.055 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:06:45.056 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TravelPlannerAPI.Dtos.TripDto]]] GetTrips() on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:06:45.058 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:06:45.059 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:06:45.059 +05:30 [INF] Route matched with {action = "GetExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetExpenses(Int32) on controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI).
2025-08-12 16:06:45.060 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:06:45.061 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:06:45.062 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:06:45.063 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:06:45.064 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:06:45.066 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:06:45.067 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:06:45.068 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:06:45.070 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:06:45.070 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:06:45.072 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:06:45.073 +05:30 [DBG] Executing controller factory for controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI)
2025-08-12 16:06:45.074 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:06:45.075 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 16:06:45.075 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:06:45.076 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:06:45.078 +05:30 [DBG] Executed controller factory for controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI)
2025-08-12 16:06:45.078 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:06:45.079 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:06:45.080 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:06:45.081 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' using the name 'tripId' in request data ...
2025-08-12 16:06:45.081 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:06:45.082 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:06:45.083 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 16:06:45.084 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:06:45.085 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [Trips] AS [t]
LEFT JOIN [reviews] AS [r] ON [t].[Id] = [r].[TripId]
WHERE [t].[UserId] = @__userId_0
ORDER BY [t].[Id]
2025-08-12 16:06:45.085 +05:30 [DBG] Attempting to validate the bound parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:06:45.090 +05:30 [DBG] Done attempting to validate the bound parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:06:45.092 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [Trips] AS [t]
LEFT JOIN [reviews] AS [r] ON [t].[Id] = [r].[TripId]
WHERE [t].[UserId] = @__userId_0
ORDER BY [t].[Id]
2025-08-12 16:06:45.094 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:45.094 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:45.095 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:45.096 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:45.097 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:45.098 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:45.099 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:45.100 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:45.101 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:45.102 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:06:45.103 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 9ms reading results.
2025-08-12 16:06:45.104 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:06:45.106 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:06:45.107 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:06:45.108 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:06:45.109 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:06:45.109 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:06:45.110 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:06:45.110 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:06:45.110 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:06:45.111 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:06:45.112 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:06:45.113 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 45.6073ms
2025-08-12 16:06:45.113 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:06:45.114 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:06:45.115 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:06:45.116 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:06:45.116 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip   Responded with [200] in 68ms
2025-08-12 16:06:45.117 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:06:45.118 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:06:45.120 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:06:45.121 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:06:45.125 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:06:45.126 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:06:45.127 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:06:45.128 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:06:45.129 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip - 200 5003 application/json 96.2096ms
2025-08-12 16:06:45.129 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:06:45.132 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-12 16:06:45.133 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:06:45.134 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:06:45.138 +05:30 [DBG] Compiling query expression: 
'DbSet<ExpenseModel>()
    .Where(e => e.TripId == __tripId_0)'
2025-08-12 16:06:45.142 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ExpenseModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ExpenseModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ExpenseModel.Amount (decimal) Required, 1], [Property: ExpenseModel.Category (string) Required, 2], [Property: ExpenseModel.Date (DateTime) Required, 3], [Property: ExpenseModel.Description (string), 4], [Property: ExpenseModel.TripId (int) Required FK Index, 5], [Property: ExpenseModel.UserId (int) Required FK Index, 6] }
        SELECT e.Id, e.Amount, e.Category, e.Date, e.Description, e.TripId, e.UserId
        FROM Expenses AS e
        WHERE e.TripId == @__tripId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ExpenseModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 16:06:45.144 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:06:45.145 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:06:45.145 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:06:45.146 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:06:45.147 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:06:45.147 +05:30 [DBG] Executing DbCommand [Parameters=[@__tripId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[Category], [e].[Date], [e].[Description], [e].[TripId], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[TripId] = @__tripId_0
2025-08-12 16:06:45.152 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__tripId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[Category], [e].[Date], [e].[Description], [e].[TripId], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[TripId] = @__tripId_0
2025-08-12 16:06:45.154 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:06:45.155 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:06:45.156 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:06:45.156 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:06:45.158 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:06:45.159 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:06:45.160 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:06:45.161 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:06:45.161 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:06:45.162 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Models.ExpenseModel, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:06:45.164 +05:30 [INF] Executed action BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI) in 90.8763ms
2025-08-12 16:06:45.166 +05:30 [INF] Executed endpoint 'BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI)'
2025-08-12 16:06:45.167 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Expense ?tripId=9  Responded with [200] in 119ms
2025-08-12 16:06:45.168 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 16:06:45.170 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:06:45.171 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:06:45.172 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:06:45.173 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Expense?tripId=9 - 200 61 application/json 140.7668ms
2025-08-12 16:07:00.667 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Expense?tripId=9 - null null
2025-08-12 16:07:00.669 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Expense'
2025-08-12 16:07:00.670 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:07:00.671 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:07:00.671 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:07:00.674 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:07:00.675 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Expense ?tripId=9  Responded with [204] in 4ms
2025-08-12 16:07:00.675 +05:30 [DBG] Connection id "0HNEPH6APMCVI" completed keep alive response.
2025-08-12 16:07:00.676 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Expense?tripId=9 - 204 null null 9.5388ms
2025-08-12 16:07:00.677 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Expense?tripId=9 - application/json 109
2025-08-12 16:07:00.680 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Expense'
2025-08-12 16:07:00.681 +05:30 [DBG] Endpoint 'BusinessAPI.Controllers.ExpenseController.AddExpense (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Expense' is valid for the request path '/api/v1/Expense'
2025-08-12 16:07:00.682 +05:30 [DBG] Request matched endpoint 'BusinessAPI.Controllers.ExpenseController.AddExpense (TravelPlannerAPI)'
2025-08-12 16:07:00.683 +05:30 [DBG] Connection id "0HNEPH6APMCVH", Request id "0HNEPH6APMCVH:0000002E": started reading request body.
2025-08-12 16:07:00.684 +05:30 [DBG] Connection id "0HNEPH6APMCVH", Request id "0HNEPH6APMCVH:0000002E": done reading request body.
2025-08-12 16:07:00.686 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:07:00.688 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:07:00.688 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:07:00.689 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:07:00.690 +05:30 [DBG] Authorization was successful.
2025-08-12 16:07:00.691 +05:30 [INF] Executing endpoint 'BusinessAPI.Controllers.ExpenseController.AddExpense (TravelPlannerAPI)'
2025-08-12 16:07:00.695 +05:30 [INF] Route matched with {action = "AddExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddExpense(Int32, TravelPlannerAPI.Models.ExpenseModel) on controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI).
2025-08-12 16:07:00.697 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:07:00.698 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:07:00.699 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:07:00.700 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:07:00.703 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:07:00.704 +05:30 [DBG] Executing controller factory for controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI)
2025-08-12 16:07:00.705 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:07:00.707 +05:30 [DBG] Executed controller factory for controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI)
2025-08-12 16:07:00.708 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:07:00.708 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' using the name 'tripId' in request data ...
2025-08-12 16:07:00.709 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:07:00.710 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:07:00.711 +05:30 [DBG] Attempting to validate the bound parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:07:00.712 +05:30 [DBG] Done attempting to validate the bound parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:07:00.713 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Models.ExpenseModel' ...
2025-08-12 16:07:00.713 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Models.ExpenseModel' using the name '' in request data ...
2025-08-12 16:07:00.714 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 16:07:00.717 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Models.ExpenseModel'
2025-08-12 16:07:00.719 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Models.ExpenseModel'.
2025-08-12 16:07:00.720 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Models.ExpenseModel'.
2025-08-12 16:07:00.721 +05:30 [DBG] Attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Models.ExpenseModel' ...
2025-08-12 16:07:00.725 +05:30 [DBG] Done attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Models.ExpenseModel'.
2025-08-12 16:07:00.730 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:07:00.730 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:07:00.731 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:00.732 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:00.733 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:07:00.736 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:07:00.737 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 16:07:00.738 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:07:00.740 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:07:00.743 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:07:00.744 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:00.745 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:07:00.746 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:00.747 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:07:00.749 +05:30 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'ExpenseModel.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:07:00.758 +05:30 [DBG] The navigation 'ExpenseModel.Trip' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:07:00.760 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ExpenseModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:07:00.760 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 16:07:00.761 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 16:07:00.764 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 16:07:00.765 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:00.766 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:00.767 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:07:00.767 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:07:00.769 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:07:00.770 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Expenses] ([Amount], [Category], [Date], [Description], [TripId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-12 16:07:00.775 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Expenses] ([Amount], [Category], [Date], [Description], [TripId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-12 16:07:00.777 +05:30 [DBG] The foreign key property 'ExpenseModel.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 16:07:00.778 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:00.779 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 16:07:00.780 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:00.781 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:07:00.782 +05:30 [DBG] An entity of type 'ExpenseModel' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:07:00.783 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 16:07:00.784 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:07:00.786 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:07:00.786 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:07:00.786 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:07:00.787 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:07:00.788 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Models.ExpenseModel'.
2025-08-12 16:07:00.790 +05:30 [INF] Executed action BusinessAPI.Controllers.ExpenseController.AddExpense (TravelPlannerAPI) in 86.3619ms
2025-08-12 16:07:00.791 +05:30 [INF] Executed endpoint 'BusinessAPI.Controllers.ExpenseController.AddExpense (TravelPlannerAPI)'
2025-08-12 16:07:00.792 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Expense ?tripId=9 {"category":"Food","description":"Biriyani","amount":200,"date":"2025-08-12T05:06:00.000Z","tripId":9,"id":0} Responded with [200] in 109ms
2025-08-12 16:07:00.793 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 16:07:00.794 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:07:00.795 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:00.796 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:07:00.798 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Expense?tripId=9 - 200 229 application/json 120.5641ms
2025-08-12 16:07:00.803 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Expense?tripId=9 - null null
2025-08-12 16:07:00.804 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Expense'
2025-08-12 16:07:00.807 +05:30 [DBG] Endpoint 'BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Expense' is valid for the request path '/api/v1/Expense'
2025-08-12 16:07:00.807 +05:30 [DBG] Request matched endpoint 'BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI)'
2025-08-12 16:07:00.808 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:07:00.809 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:07:00.809 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:07:00.810 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:07:00.811 +05:30 [DBG] Authorization was successful.
2025-08-12 16:07:00.811 +05:30 [INF] Executing endpoint 'BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI)'
2025-08-12 16:07:00.812 +05:30 [INF] Route matched with {action = "GetExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetExpenses(Int32) on controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI).
2025-08-12 16:07:00.813 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:07:00.815 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:07:00.815 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:07:00.817 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:07:00.818 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:07:00.820 +05:30 [DBG] Executing controller factory for controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI)
2025-08-12 16:07:00.823 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:07:00.824 +05:30 [DBG] Executed controller factory for controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI)
2025-08-12 16:07:00.825 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:07:00.826 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' using the name 'tripId' in request data ...
2025-08-12 16:07:00.827 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:07:00.828 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:07:00.829 +05:30 [DBG] Attempting to validate the bound parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:07:00.830 +05:30 [DBG] Done attempting to validate the bound parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:07:00.831 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:07:00.832 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:07:00.832 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:00.833 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:00.834 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:07:00.835 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:07:00.836 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:07:00.837 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:07:00.839 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:07:00.841 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:07:00.842 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:00.843 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:07:00.844 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:00.846 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:07:00.847 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:00.849 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:00.850 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:07:00.851 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:07:00.852 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:07:00.853 +05:30 [DBG] Executing DbCommand [Parameters=[@__tripId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[Category], [e].[Date], [e].[Description], [e].[TripId], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[TripId] = @__tripId_0
2025-08-12 16:07:00.854 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__tripId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[Category], [e].[Date], [e].[Description], [e].[TripId], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[TripId] = @__tripId_0
2025-08-12 16:07:00.857 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ExpenseModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:07:00.858 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:00.859 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 16:07:00.859 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:00.861 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:07:00.862 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:07:00.864 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:07:00.864 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:07:00.865 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:07:00.865 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:07:00.866 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Models.ExpenseModel, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:07:00.867 +05:30 [INF] Executed action BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI) in 46.6092ms
2025-08-12 16:07:00.868 +05:30 [INF] Executed endpoint 'BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI)'
2025-08-12 16:07:00.870 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Expense ?tripId=9  Responded with [200] in 61ms
2025-08-12 16:07:00.871 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 16:07:00.872 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:07:00.872 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:00.873 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:07:00.874 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Expense?tripId=9 - 200 257 application/json 71.6149ms
2025-08-12 16:07:15.300 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Expense?tripId=9 - null null
2025-08-12 16:07:15.304 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Expense'
2025-08-12 16:07:15.305 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:07:15.305 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:07:15.306 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:07:15.307 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:07:15.307 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Expense ?tripId=9  Responded with [204] in 2ms
2025-08-12 16:07:15.308 +05:30 [DBG] Connection id "0HNEPH6APMCVI" completed keep alive response.
2025-08-12 16:07:15.309 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Expense?tripId=9 - 204 null null 9.1945ms
2025-08-12 16:07:15.309 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Expense?tripId=9 - application/json 108
2025-08-12 16:07:15.312 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Expense'
2025-08-12 16:07:15.313 +05:30 [DBG] Endpoint 'BusinessAPI.Controllers.ExpenseController.AddExpense (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Expense' is valid for the request path '/api/v1/Expense'
2025-08-12 16:07:15.314 +05:30 [DBG] Request matched endpoint 'BusinessAPI.Controllers.ExpenseController.AddExpense (TravelPlannerAPI)'
2025-08-12 16:07:15.315 +05:30 [DBG] Connection id "0HNEPH6APMCVH", Request id "0HNEPH6APMCVH:00000030": started reading request body.
2025-08-12 16:07:15.316 +05:30 [DBG] Connection id "0HNEPH6APMCVH", Request id "0HNEPH6APMCVH:00000030": done reading request body.
2025-08-12 16:07:15.317 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:07:15.317 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:07:15.320 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:07:15.321 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:07:15.321 +05:30 [DBG] Authorization was successful.
2025-08-12 16:07:15.322 +05:30 [INF] Executing endpoint 'BusinessAPI.Controllers.ExpenseController.AddExpense (TravelPlannerAPI)'
2025-08-12 16:07:15.322 +05:30 [INF] Route matched with {action = "AddExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddExpense(Int32, TravelPlannerAPI.Models.ExpenseModel) on controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI).
2025-08-12 16:07:15.323 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:07:15.324 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:07:15.325 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:07:15.326 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:07:15.327 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:07:15.328 +05:30 [DBG] Executing controller factory for controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI)
2025-08-12 16:07:15.330 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:07:15.331 +05:30 [DBG] Executed controller factory for controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI)
2025-08-12 16:07:15.332 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:07:15.333 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' using the name 'tripId' in request data ...
2025-08-12 16:07:15.333 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:07:15.335 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:07:15.336 +05:30 [DBG] Attempting to validate the bound parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:07:15.337 +05:30 [DBG] Done attempting to validate the bound parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:07:15.338 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Models.ExpenseModel' ...
2025-08-12 16:07:15.339 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Models.ExpenseModel' using the name '' in request data ...
2025-08-12 16:07:15.340 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 16:07:15.342 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Models.ExpenseModel'
2025-08-12 16:07:15.343 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Models.ExpenseModel'.
2025-08-12 16:07:15.344 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Models.ExpenseModel'.
2025-08-12 16:07:15.345 +05:30 [DBG] Attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Models.ExpenseModel' ...
2025-08-12 16:07:15.347 +05:30 [DBG] Done attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Models.ExpenseModel'.
2025-08-12 16:07:15.348 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:07:15.349 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:07:15.349 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:15.352 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:15.352 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:07:15.353 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:07:15.354 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:07:15.355 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:07:15.358 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:07:15.360 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:07:15.361 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:15.362 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:07:15.362 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:15.363 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:07:15.364 +05:30 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'ExpenseModel.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:07:15.365 +05:30 [DBG] The navigation 'ExpenseModel.Trip' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:07:15.367 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ExpenseModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:07:15.368 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 16:07:15.369 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 16:07:15.370 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 16:07:15.372 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:15.373 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:15.374 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:07:15.375 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:07:15.376 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:07:15.376 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Expenses] ([Amount], [Category], [Date], [Description], [TripId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-12 16:07:15.384 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Expenses] ([Amount], [Category], [Date], [Description], [TripId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-12 16:07:15.386 +05:30 [DBG] The foreign key property 'ExpenseModel.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 16:07:15.386 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:15.387 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:07:15.388 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:15.389 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:07:15.390 +05:30 [DBG] An entity of type 'ExpenseModel' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:07:15.391 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 16:07:15.392 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:07:15.393 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:07:15.393 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:07:15.394 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:07:15.394 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:07:15.395 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Models.ExpenseModel'.
2025-08-12 16:07:15.396 +05:30 [INF] Executed action BusinessAPI.Controllers.ExpenseController.AddExpense (TravelPlannerAPI) in 67.2887ms
2025-08-12 16:07:15.396 +05:30 [INF] Executed endpoint 'BusinessAPI.Controllers.ExpenseController.AddExpense (TravelPlannerAPI)'
2025-08-12 16:07:15.397 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Expense ?tripId=9 {"category":"Food","description":"Chapathi","amount":12,"date":"2025-08-12T05:07:00.000Z","tripId":9,"id":0} Responded with [200] in 82ms
2025-08-12 16:07:15.398 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 16:07:15.399 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:07:15.400 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:15.402 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:07:15.403 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Expense?tripId=9 - 200 228 application/json 93.7832ms
2025-08-12 16:07:15.405 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Expense?tripId=9 - null null
2025-08-12 16:07:15.408 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Expense'
2025-08-12 16:07:15.409 +05:30 [DBG] Endpoint 'BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Expense' is valid for the request path '/api/v1/Expense'
2025-08-12 16:07:15.410 +05:30 [DBG] Request matched endpoint 'BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI)'
2025-08-12 16:07:15.411 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:07:15.411 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:07:15.412 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:07:15.413 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:07:15.413 +05:30 [DBG] Authorization was successful.
2025-08-12 16:07:15.414 +05:30 [INF] Executing endpoint 'BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI)'
2025-08-12 16:07:15.414 +05:30 [INF] Route matched with {action = "GetExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetExpenses(Int32) on controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI).
2025-08-12 16:07:15.415 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:07:15.416 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:07:15.417 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:07:15.419 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:07:15.420 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:07:15.421 +05:30 [DBG] Executing controller factory for controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI)
2025-08-12 16:07:15.438 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:07:15.442 +05:30 [DBG] Executed controller factory for controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI)
2025-08-12 16:07:15.443 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:07:15.444 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' using the name 'tripId' in request data ...
2025-08-12 16:07:15.445 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:07:15.446 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:07:15.446 +05:30 [DBG] Attempting to validate the bound parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:07:15.447 +05:30 [DBG] Done attempting to validate the bound parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:07:15.448 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:07:15.449 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:07:15.449 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:15.450 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:15.451 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:07:15.451 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:07:15.452 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:07:15.453 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:07:15.455 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:07:15.457 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:07:15.458 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:15.459 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:07:15.459 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:15.460 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:07:15.461 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:15.461 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:15.462 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:07:15.463 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:07:15.463 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:07:15.464 +05:30 [DBG] Executing DbCommand [Parameters=[@__tripId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[Category], [e].[Date], [e].[Description], [e].[TripId], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[TripId] = @__tripId_0
2025-08-12 16:07:15.467 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__tripId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[Category], [e].[Date], [e].[Description], [e].[TripId], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[TripId] = @__tripId_0
2025-08-12 16:07:15.469 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ExpenseModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:07:15.469 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ExpenseModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:07:15.470 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:15.472 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-12 16:07:15.473 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:15.473 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:07:15.475 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:07:15.476 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:07:15.476 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:07:15.476 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:07:15.477 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:07:15.477 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Models.ExpenseModel, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:07:15.478 +05:30 [INF] Executed action BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI) in 56.9596ms
2025-08-12 16:07:15.479 +05:30 [INF] Executed endpoint 'BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI)'
2025-08-12 16:07:15.480 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Expense ?tripId=9  Responded with [200] in 68ms
2025-08-12 16:07:15.480 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 16:07:15.481 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:07:15.482 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:15.483 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:07:15.485 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Expense?tripId=9 - 200 449 application/json 80.0542ms
2025-08-12 16:07:29.972 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Expense?tripId=9 - null null
2025-08-12 16:07:29.976 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Expense'
2025-08-12 16:07:29.977 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:07:29.978 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:07:29.979 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:07:29.980 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:07:29.981 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Expense ?tripId=9  Responded with [204] in 2ms
2025-08-12 16:07:29.982 +05:30 [DBG] Connection id "0HNEPH6APMCVI" completed keep alive response.
2025-08-12 16:07:29.983 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Expense?tripId=9 - application/json 107
2025-08-12 16:07:29.985 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Expense?tripId=9 - 204 null null 12.9469ms
2025-08-12 16:07:29.987 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Expense'
2025-08-12 16:07:29.990 +05:30 [DBG] Endpoint 'BusinessAPI.Controllers.ExpenseController.AddExpense (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Expense' is valid for the request path '/api/v1/Expense'
2025-08-12 16:07:29.991 +05:30 [DBG] Request matched endpoint 'BusinessAPI.Controllers.ExpenseController.AddExpense (TravelPlannerAPI)'
2025-08-12 16:07:29.992 +05:30 [DBG] Connection id "0HNEPH6APMCVH", Request id "0HNEPH6APMCVH:00000032": started reading request body.
2025-08-12 16:07:29.993 +05:30 [DBG] Connection id "0HNEPH6APMCVH", Request id "0HNEPH6APMCVH:00000032": done reading request body.
2025-08-12 16:07:29.994 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:07:29.995 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:07:29.995 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:07:29.996 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:07:29.997 +05:30 [DBG] Authorization was successful.
2025-08-12 16:07:29.997 +05:30 [INF] Executing endpoint 'BusinessAPI.Controllers.ExpenseController.AddExpense (TravelPlannerAPI)'
2025-08-12 16:07:29.998 +05:30 [INF] Route matched with {action = "AddExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddExpense(Int32, TravelPlannerAPI.Models.ExpenseModel) on controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI).
2025-08-12 16:07:30.000 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:07:30.001 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:07:30.002 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:07:30.004 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:07:30.005 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:07:30.006 +05:30 [DBG] Executing controller factory for controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI)
2025-08-12 16:07:30.007 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:07:30.009 +05:30 [DBG] Executed controller factory for controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI)
2025-08-12 16:07:30.010 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:07:30.012 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' using the name 'tripId' in request data ...
2025-08-12 16:07:30.013 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:07:30.014 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:07:30.015 +05:30 [DBG] Attempting to validate the bound parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:07:30.016 +05:30 [DBG] Done attempting to validate the bound parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:07:30.017 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Models.ExpenseModel' ...
2025-08-12 16:07:30.018 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Models.ExpenseModel' using the name '' in request data ...
2025-08-12 16:07:30.020 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 16:07:30.021 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Models.ExpenseModel'
2025-08-12 16:07:30.021 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Models.ExpenseModel'.
2025-08-12 16:07:30.022 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Models.ExpenseModel'.
2025-08-12 16:07:30.025 +05:30 [DBG] Attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Models.ExpenseModel' ...
2025-08-12 16:07:30.026 +05:30 [DBG] Done attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Models.ExpenseModel'.
2025-08-12 16:07:30.027 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:07:30.028 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:07:30.029 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:30.030 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:30.031 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:07:30.033 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:07:30.034 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:07:30.035 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:07:30.040 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:07:30.041 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:07:30.042 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:30.043 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:07:30.044 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:30.044 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:07:30.045 +05:30 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'ExpenseModel.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:07:30.047 +05:30 [DBG] The navigation 'ExpenseModel.Trip' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:07:30.047 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ExpenseModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:07:30.048 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 16:07:30.049 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 16:07:30.050 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 16:07:30.051 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:30.052 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:30.053 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:07:30.053 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:07:30.054 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:07:30.056 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Expenses] ([Amount], [Category], [Date], [Description], [TripId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-12 16:07:30.062 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Expenses] ([Amount], [Category], [Date], [Description], [TripId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-12 16:07:30.064 +05:30 [DBG] The foreign key property 'ExpenseModel.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 16:07:30.064 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:30.065 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:07:30.066 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:30.067 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:07:30.068 +05:30 [DBG] An entity of type 'ExpenseModel' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:07:30.070 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 16:07:30.072 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:07:30.073 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:07:30.074 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:07:30.074 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:07:30.075 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:07:30.076 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Models.ExpenseModel'.
2025-08-12 16:07:30.077 +05:30 [INF] Executed action BusinessAPI.Controllers.ExpenseController.AddExpense (TravelPlannerAPI) in 71.2599ms
2025-08-12 16:07:30.078 +05:30 [INF] Executed endpoint 'BusinessAPI.Controllers.ExpenseController.AddExpense (TravelPlannerAPI)'
2025-08-12 16:07:30.079 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Expense ?tripId=9 {"category":"Travel","description":"Car","amount":1000,"date":"2025-08-12T05:07:00.000Z","tripId":9,"id":0} Responded with [200] in 86ms
2025-08-12 16:07:30.080 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 16:07:30.081 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:07:30.083 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:30.084 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:07:30.085 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Expense?tripId=9 - 200 227 application/json 102.3416ms
2025-08-12 16:07:30.089 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Expense?tripId=9 - null null
2025-08-12 16:07:30.091 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Expense'
2025-08-12 16:07:30.092 +05:30 [DBG] Endpoint 'BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Expense' is valid for the request path '/api/v1/Expense'
2025-08-12 16:07:30.093 +05:30 [DBG] Request matched endpoint 'BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI)'
2025-08-12 16:07:30.094 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:07:30.094 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:07:30.095 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:07:30.095 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:07:30.096 +05:30 [DBG] Authorization was successful.
2025-08-12 16:07:30.097 +05:30 [INF] Executing endpoint 'BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI)'
2025-08-12 16:07:30.099 +05:30 [INF] Route matched with {action = "GetExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetExpenses(Int32) on controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI).
2025-08-12 16:07:30.100 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:07:30.101 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:07:30.102 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:07:30.103 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:07:30.104 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:07:30.105 +05:30 [DBG] Executing controller factory for controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI)
2025-08-12 16:07:30.107 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:07:30.108 +05:30 [DBG] Executed controller factory for controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI)
2025-08-12 16:07:30.109 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:07:30.109 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' using the name 'tripId' in request data ...
2025-08-12 16:07:30.110 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:07:30.112 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:07:30.112 +05:30 [DBG] Attempting to validate the bound parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:07:30.113 +05:30 [DBG] Done attempting to validate the bound parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:07:30.114 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:07:30.115 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:07:30.115 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:30.116 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:30.117 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:07:30.118 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:07:30.118 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:07:30.119 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:07:30.123 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:07:30.125 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:07:30.125 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:30.126 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:07:30.127 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:30.128 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:07:30.129 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:30.129 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:30.131 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:07:30.132 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:07:30.132 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:07:30.133 +05:30 [DBG] Executing DbCommand [Parameters=[@__tripId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[Category], [e].[Date], [e].[Description], [e].[TripId], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[TripId] = @__tripId_0
2025-08-12 16:07:30.136 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__tripId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[Category], [e].[Date], [e].[Description], [e].[TripId], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[TripId] = @__tripId_0
2025-08-12 16:07:30.137 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ExpenseModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:07:30.138 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ExpenseModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:07:30.139 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ExpenseModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:07:30.140 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:30.141 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-12 16:07:30.142 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:30.142 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:07:30.144 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:07:30.145 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:07:30.146 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:07:30.146 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:07:30.147 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:07:30.147 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Models.ExpenseModel, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:07:30.148 +05:30 [INF] Executed action BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI) in 43.1445ms
2025-08-12 16:07:30.149 +05:30 [INF] Executed endpoint 'BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI)'
2025-08-12 16:07:30.150 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Expense ?tripId=9  Responded with [200] in 56ms
2025-08-12 16:07:30.151 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 16:07:30.152 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:07:30.155 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:07:30.156 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:07:30.157 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Expense?tripId=9 - 200 640 application/json 67.7624ms
2025-08-12 16:08:33.474 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:08:33.484 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:08:33.485 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:08:33.486 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:08:33.492 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:08:33.493 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:08:33.494 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 7ms
2025-08-12 16:08:33.495 +05:30 [DBG] Connection id "0HNEPH6APMCVI" completed keep alive response.
2025-08-12 16:08:33.496 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 22.2837ms
2025-08-12 16:08:33.499 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:08:33.521 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:08:33.522 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:08:33.523 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:08:33.524 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:08:33.525 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:08:33.526 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:08:33.527 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:08:33.528 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:08:33.530 +05:30 [DBG] Authorization was successful.
2025-08-12 16:08:33.531 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:08:33.532 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:08:33.533 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:08:33.534 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:08:33.534 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:08:33.536 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:08:33.537 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:08:33.538 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:08:33.540 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:08:33.541 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:08:33.542 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:08:33.543 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:08:33.544 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:08:33.547 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:08:33.548 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:08:33.549 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:08:33.550 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:08:33.551 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:08:33.552 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:08:33.552 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:08:33.554 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:08:33.555 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:08:33.555 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:08:33.556 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:08:33.558 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:08:33.558 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:08:33.559 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:08:33.560 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:08:33.568 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:08:33.571 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:08:33.572 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:08:33.573 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:08:33.574 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:08:33.576 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:08:33.578 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:08:33.579 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:08:33.579 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:08:33.581 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:08:33.581 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:08:33.593 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:08:33.597 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:33.598 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:33.599 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:33.600 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:33.601 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:33.602 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:33.603 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:33.604 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:33.605 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:33.606 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:33.607 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:33.607 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:33.608 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:33.609 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:33.611 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:33.612 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:33.614 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:33.614 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:33.615 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:33.616 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:33.617 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:08:33.618 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 20ms reading results.
2025-08-12 16:08:33.619 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:08:33.619 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:08:33.621 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:08:33.622 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:08:33.622 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:08:33.623 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:08:33.623 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:08:33.624 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:08:33.625 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 87.0757ms
2025-08-12 16:08:33.627 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:08:33.628 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 102ms
2025-08-12 16:08:33.629 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 16:08:33.631 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:08:33.631 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:08:33.632 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:08:33.633 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 135.0405ms
2025-08-12 16:08:36.173 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip - null null
2025-08-12 16:08:36.173 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Expense?tripId=9 - null null
2025-08-12 16:08:36.176 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip'
2025-08-12 16:08:36.179 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Expense'
2025-08-12 16:08:36.180 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:08:36.182 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:08:36.183 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:08:36.183 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:08:36.184 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:08:36.185 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:08:36.186 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:08:36.187 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:08:36.190 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip   Responded with [204] in 7ms
2025-08-12 16:08:36.191 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Expense ?tripId=9  Responded with [204] in 7ms
2025-08-12 16:08:36.191 +05:30 [DBG] Connection id "0HNEPH6APMCVI" completed keep alive response.
2025-08-12 16:08:36.192 +05:30 [DBG] Connection id "0HNEPH6APMCVL" completed keep alive response.
2025-08-12 16:08:36.192 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip - 204 null null 19.6695ms
2025-08-12 16:08:36.194 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Expense?tripId=9 - null null
2025-08-12 16:08:36.193 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Expense?tripId=9 - 204 null null 20.1761ms
2025-08-12 16:08:36.193 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip - null null
2025-08-12 16:08:36.202 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Expense'
2025-08-12 16:08:36.207 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip'
2025-08-12 16:08:36.207 +05:30 [DBG] Endpoint 'BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Expense' is valid for the request path '/api/v1/Expense'
2025-08-12 16:08:36.208 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip' is valid for the request path '/api/v1/Trip'
2025-08-12 16:08:36.209 +05:30 [DBG] Request matched endpoint 'BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI)'
2025-08-12 16:08:36.210 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:08:36.210 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:08:36.211 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:08:36.212 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:08:36.212 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:08:36.213 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:08:36.214 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:08:36.214 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:08:36.215 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:08:36.215 +05:30 [DBG] Authorization was successful.
2025-08-12 16:08:36.216 +05:30 [DBG] Authorization was successful.
2025-08-12 16:08:36.216 +05:30 [INF] Executing endpoint 'BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI)'
2025-08-12 16:08:36.217 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:08:36.217 +05:30 [INF] Route matched with {action = "GetExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetExpenses(Int32) on controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI).
2025-08-12 16:08:36.218 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TravelPlannerAPI.Dtos.TripDto]]] GetTrips() on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:08:36.219 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:08:36.220 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:08:36.221 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:08:36.222 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:08:36.223 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:08:36.224 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:08:36.226 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:08:36.227 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:08:36.225 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:08:36.229 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:08:36.230 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:08:36.232 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:08:36.232 +05:30 [DBG] Executing controller factory for controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI)
2025-08-12 16:08:36.233 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:08:36.234 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:08:36.235 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:08:36.236 +05:30 [DBG] Executed controller factory for controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI)
2025-08-12 16:08:36.237 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 16:08:36.237 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:08:36.238 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:08:36.239 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' using the name 'tripId' in request data ...
2025-08-12 16:08:36.240 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:08:36.241 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:08:36.242 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:08:36.242 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:08:36.243 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:08:36.243 +05:30 [DBG] Attempting to validate the bound parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:08:36.244 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:08:36.245 +05:30 [DBG] Done attempting to validate the bound parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:08:36.246 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [Trips] AS [t]
LEFT JOIN [reviews] AS [r] ON [t].[Id] = [r].[TripId]
WHERE [t].[UserId] = @__userId_0
ORDER BY [t].[Id]
2025-08-12 16:08:36.247 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:08:36.248 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 16:08:36.250 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:08:36.250 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:08:36.251 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [Trips] AS [t]
LEFT JOIN [reviews] AS [r] ON [t].[Id] = [r].[TripId]
WHERE [t].[UserId] = @__userId_0
ORDER BY [t].[Id]
2025-08-12 16:08:36.252 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:08:36.254 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:36.254 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:08:36.255 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:36.256 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 16:08:36.256 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:36.257 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:08:36.258 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:36.261 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:36.261 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:08:36.261 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:36.263 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:36.264 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:36.264 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:08:36.265 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:36.266 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 16:08:36.266 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:36.267 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:08:36.269 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:08:36.270 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-12 16:08:36.270 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 16ms reading results.
2025-08-12 16:08:36.271 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:08:36.272 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:08:36.273 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:08:36.274 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:08:36.275 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:08:36.276 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:08:36.277 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:08:36.278 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:08:36.278 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 16:08:36.279 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:08:36.280 +05:30 [DBG] Executing DbCommand [Parameters=[@__tripId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[Category], [e].[Date], [e].[Description], [e].[TripId], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[TripId] = @__tripId_0
2025-08-12 16:08:36.280 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:08:36.282 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:08:36.282 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:08:36.283 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__tripId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[Category], [e].[Date], [e].[Description], [e].[TripId], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[TripId] = @__tripId_0
2025-08-12 16:08:36.283 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 53.6146ms
2025-08-12 16:08:36.285 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ExpenseModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:36.286 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:08:36.287 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ExpenseModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:36.288 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip   Responded with [200] in 77ms
2025-08-12 16:08:36.288 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ExpenseModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:08:36.289 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 16:08:36.290 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:08:36.291 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:08:36.292 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-08-12 16:08:36.292 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:08:36.293 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:08:36.294 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:08:36.294 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:08:36.295 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip - 200 5003 application/json 102.011ms
2025-08-12 16:08:36.296 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:08:36.299 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:08:36.299 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:08:36.301 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:08:36.301 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:08:36.302 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Models.ExpenseModel, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:08:36.303 +05:30 [INF] Executed action BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI) in 70.3173ms
2025-08-12 16:08:36.303 +05:30 [INF] Executed endpoint 'BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI)'
2025-08-12 16:08:36.304 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Expense ?tripId=9  Responded with [200] in 93ms
2025-08-12 16:08:36.305 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:08:36.306 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:08:36.306 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:08:36.307 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:08:36.308 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Expense?tripId=9 - 200 640 application/json 114.3789ms
2025-08-12 16:09:00.925 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:09:00.927 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:09:00.928 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:09:00.929 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:09:00.930 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:09:00.931 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:09:00.932 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 2ms
2025-08-12 16:09:00.933 +05:30 [DBG] Connection id "0HNEPH6APMCVL" completed keep alive response.
2025-08-12 16:09:00.934 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 9.0666ms
2025-08-12 16:09:00.939 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:09:00.949 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:09:00.950 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:09:00.952 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:09:00.953 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:09:00.954 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:09:00.955 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:09:00.956 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:09:00.956 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:09:00.957 +05:30 [DBG] Authorization was successful.
2025-08-12 16:09:00.957 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:09:00.958 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:09:00.959 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:09:00.961 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:09:00.962 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:09:00.964 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:09:00.964 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:09:00.965 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:09:00.967 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:09:00.968 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:09:00.968 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:09:00.969 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:09:00.970 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:09:00.971 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:09:00.972 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:09:00.972 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:09:00.973 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:09:00.974 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:09:00.975 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:09:00.976 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:09:00.977 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:09:00.978 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:09:00.979 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:09:00.981 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:09:00.982 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:09:00.983 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:09:00.984 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:09:00.985 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:09:00.994 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:09:00.997 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:09:00.998 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:09:00.999 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:09:00.999 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:09:01.001 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:09:01.002 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:09:01.003 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:09:01.003 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:09:01.004 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:09:01.005 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:09:01.018 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:09:01.021 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:01.022 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:01.023 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:01.025 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:01.026 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:01.027 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:01.028 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:01.030 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:01.031 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:01.032 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:01.035 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:01.036 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:01.037 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:01.038 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:01.038 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:01.039 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:01.041 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:01.042 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:01.042 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:01.043 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:01.044 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:09:01.045 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 23ms reading results.
2025-08-12 16:09:01.046 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:09:01.047 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:09:01.048 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:09:01.049 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:09:01.050 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:09:01.050 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:09:01.050 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:09:01.051 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:09:01.052 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 86.5787ms
2025-08-12 16:09:01.053 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:09:01.054 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 100ms
2025-08-12 16:09:01.054 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:09:01.056 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:09:01.058 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:09:01.059 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:09:01.060 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 124.1296ms
2025-08-12 16:09:50.969 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=2&PageSize=6 - null null
2025-08-12 16:09:50.978 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:09:50.980 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:09:50.980 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:09:50.981 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:09:50.982 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:09:50.983 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=2&PageSize=6  Responded with [204] in 2ms
2025-08-12 16:09:50.983 +05:30 [DBG] Connection id "0HNEPH6APMCVL" completed keep alive response.
2025-08-12 16:09:50.984 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=2&PageSize=6 - 204 null null 15.5434ms
2025-08-12 16:09:50.985 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=2&PageSize=6 - null null
2025-08-12 16:09:50.996 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:09:50.997 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:09:50.998 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:09:50.999 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:09:51.000 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:09:51.000 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:09:51.001 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:09:51.001 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:09:51.002 +05:30 [DBG] Authorization was successful.
2025-08-12 16:09:51.003 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:09:51.003 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:09:51.004 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:09:51.005 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:09:51.007 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:09:51.008 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:09:51.009 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:09:51.011 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:09:51.012 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:09:51.013 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:09:51.014 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:09:51.015 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:09:51.016 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:09:51.017 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:09:51.018 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:09:51.019 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:09:51.020 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:09:51.021 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:09:51.021 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:09:51.023 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:09:51.024 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:09:51.025 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:09:51.026 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:09:51.027 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:09:51.027 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:09:51.028 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:09:51.029 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:09:51.030 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:09:51.037 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:09:51.039 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:09:51.040 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:09:51.041 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:09:51.042 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:09:51.043 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:09:51.044 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:09:51.045 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:09:51.046 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:09:51.046 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:09:51.047 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:09:51.056 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:09:51.058 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:51.059 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:51.060 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:51.061 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:51.063 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:51.064 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:51.064 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:09:51.065 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:09:51.066 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-08-12 16:09:51.067 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:09:51.069 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:09:51.070 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:09:51.072 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:09:51.073 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:09:51.073 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:09:51.074 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:09:51.075 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:09:51.076 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 65.1312ms
2025-08-12 16:09:51.076 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:09:51.079 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=2&PageSize=6  Responded with [200] in 79ms
2025-08-12 16:09:51.080 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:09:51.081 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:09:51.082 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:09:51.083 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:09:51.084 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=2&PageSize=6 - 200 1390 application/json 98.6228ms
2025-08-12 16:10:02.743 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:10:02.746 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:10:02.748 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:10:02.749 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:10:02.750 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:10:02.750 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:10:02.752 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 2ms
2025-08-12 16:10:02.755 +05:30 [DBG] Connection id "0HNEPH6APMCVL" completed keep alive response.
2025-08-12 16:10:02.756 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 12.3532ms
2025-08-12 16:10:02.757 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:10:02.760 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:10:02.760 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:10:02.762 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:10:02.763 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:10:02.764 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:10:02.764 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:10:02.765 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:10:02.765 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:10:02.766 +05:30 [DBG] Authorization was successful.
2025-08-12 16:10:02.766 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:10:02.767 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:10:02.768 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:10:02.769 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:10:02.770 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:10:02.771 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:10:02.772 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:10:02.773 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:10:02.774 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:10:02.777 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:10:02.777 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:10:02.779 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:10:02.780 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:10:02.781 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:10:02.781 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:10:02.782 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:10:02.783 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:10:02.784 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:10:02.784 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:10:02.785 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:10:02.786 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:10:02.787 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:10:02.787 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:10:02.788 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:10:02.789 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:10:02.790 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:10:02.791 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:10:02.791 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:10:02.794 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:10:02.796 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:10:02.796 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:10:02.797 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:10:02.798 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:10:02.799 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:10:02.800 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:10:02.801 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:10:02.801 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:10:02.802 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:10:02.803 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:10:02.813 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:10:02.816 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:10:02.816 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:10:02.818 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:10:02.819 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:10:02.819 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:10:02.820 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:10:02.821 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:10:02.822 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:10:02.823 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:10:02.823 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:10:02.824 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:10:02.825 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:10:02.826 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:10:02.827 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:10:02.827 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:10:02.828 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:10:02.829 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:10:02.830 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:10:02.830 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:10:02.831 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:10:02.832 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:10:02.833 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 17ms reading results.
2025-08-12 16:10:02.834 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:10:02.835 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:10:02.836 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:10:02.837 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:10:02.838 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:10:02.838 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:10:02.839 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:10:02.839 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:10:02.840 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 67.8905ms
2025-08-12 16:10:02.841 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:10:02.842 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 78ms
2025-08-12 16:10:02.843 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:10:02.844 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:10:02.846 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:10:02.847 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:10:02.849 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 92.0267ms
2025-08-12 16:11:00.016 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-12 16:11:00.017 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 16:11:00.019 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:11:00.020 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.021 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.021 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:11:00.022 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 2ms
2025-08-12 16:11:00.023 +05:30 [DBG] Connection id "0HNEPH6APMCVL" completed keep alive response.
2025-08-12 16:11:00.024 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 8.2005ms
2025-08-12 16:11:00.032 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 51
2025-08-12 16:11:00.034 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 16:11:00.036 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-12 16:11:00.038 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 16:11:00.038 +05:30 [DBG] Connection id "0HNEPH6APMCVL", Request id "0HNEPH6APMCVL:00000012": started reading request body.
2025-08-12 16:11:00.039 +05:30 [DBG] Connection id "0HNEPH6APMCVL", Request id "0HNEPH6APMCVL:00000012": done reading request body.
2025-08-12 16:11:00.040 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.041 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.041 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 16:11:00.042 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 16:11:00.043 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-12 16:11:00.044 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:11:00.045 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:11:00.046 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:00.047 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:11:00.048 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:00.049 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 16:11:00.050 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:11:00.053 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 16:11:00.053 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 16:11:00.055 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-12 16:11:00.056 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 16:11:00.057 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-12 16:11:00.058 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 16:11:00.059 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 16:11:00.061 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 16:11:00.062 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 16:11:00.063 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:11:00.064 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:11:00.065 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.066 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.067 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:00.068 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:00.069 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:00.069 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 16:11:00.075 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 16:11:00.077 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:00.078 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.079 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:11:00.080 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.080 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:00.130 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.131 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.132 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:00.132 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:00.133 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:00.134 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 16:11:00.139 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 16:11:00.141 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.142 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:00.143 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.143 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:00.145 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:00.147 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 16:11:00.148 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 16:11:00.148 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 16:11:00.150 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.151 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.152 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:00.152 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:00.153 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:00.154 +05:30 [DBG] Executing DbCommand [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 16:11:00.165 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 16:11:00.167 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.168 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:00.169 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.169 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:00.171 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:00.172 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 16:11:00.173 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:11:00.175 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:11:00.175 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:11:00.177 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:11:00.178 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:11:00.179 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:11:00.180 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 130.9671ms
2025-08-12 16:11:00.181 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 16:11:00.182 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"admin@gmail.com","password":"Admin@1234"} Responded with [200] in 143ms
2025-08-12 16:11:00.183 +05:30 [DBG] Connection id "0HNEPH6APMCVL" completed keep alive response.
2025-08-12 16:11:00.184 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:11:00.185 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.189 +05:30 [DBG] Connection id "0HNEPH6APMCVM" accepted.
2025-08-12 16:11:00.189 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.198 +05:30 [DBG] Connection id "0HNEPH6APMCVN" accepted.
2025-08-12 16:11:00.196 +05:30 [DBG] Disposed connection to database '' on server '' (11ms).
2025-08-12 16:11:00.215 +05:30 [DBG] Connection id "0HNEPH6APMCVO" accepted.
2025-08-12 16:11:00.217 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 893 application/json 184.7159ms
2025-08-12 16:11:00.206 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.198 +05:30 [DBG] Connection id "0HNEPH6APMCVM" started.
2025-08-12 16:11:00.208 +05:30 [DBG] Connection id "0HNEPH6APMCVN" started.
2025-08-12 16:11:00.223 +05:30 [DBG] Connection id "0HNEPH6APMCVO" started.
2025-08-12 16:11:00.229 +05:30 [DBG] Connection id "0HNEPH6APMCVP" accepted.
2025-08-12 16:11:00.236 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.236 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:11:00.238 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.238 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.239 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.240 +05:30 [DBG] Connection id "0HNEPH6APMCVP" started.
2025-08-12 16:11:00.242 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.243 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.244 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.245 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.248 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.249 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.250 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:11:00.250 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.251 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:11:00.251 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:11:00.252 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:11:00.253 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.254 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.255 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:11:00.255 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.257 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.256 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.256 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.257 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:11:00.258 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 15ms
2025-08-12 16:11:00.258 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.259 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:11:00.259 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.262 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 7ms
2025-08-12 16:11:00.261 +05:30 [DBG] Connection id "0HNEPH6APMCVI" completed keep alive response.
2025-08-12 16:11:00.264 +05:30 [DBG] Connection id "0HNEPH6APMCVL" completed keep alive response.
2025-08-12 16:11:00.269 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 80.6232ms
2025-08-12 16:11:00.261 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:11:00.263 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:11:00.272 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 36.0505ms
2025-08-12 16:11:00.274 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.275 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 19ms
2025-08-12 16:11:00.260 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.264 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.277 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.281 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.282 +05:30 [DBG] Connection id "0HNEPH6APMCVM" completed keep alive response.
2025-08-12 16:11:00.275 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 19ms
2025-08-12 16:11:00.282 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:11:00.285 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.291 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.292 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:11:00.292 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 54.563ms
2025-08-12 16:11:00.293 +05:30 [DBG] Connection id "0HNEPH6APMCVN" completed keep alive response.
2025-08-12 16:11:00.260 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.294 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 37ms
2025-08-12 16:11:00.294 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.295 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:11:00.295 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.297 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.298 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 59.1867ms
2025-08-12 16:11:00.298 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.298 +05:30 [DBG] Connection id "0HNEPH6APMCVO" completed keep alive response.
2025-08-12 16:11:00.300 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.300 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.301 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.302 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.305 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.305 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:11:00.305 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 66.493ms
2025-08-12 16:11:00.307 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.307 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:11:00.308 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:11:00.311 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:11:00.309 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.312 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 16ms
2025-08-12 16:11:00.312 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.311 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.306 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:00.310 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 49ms
2025-08-12 16:11:00.313 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 12ms
2025-08-12 16:11:00.313 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:11:00.314 +05:30 [DBG] Connection id "0HNEPH6APMCVI" completed keep alive response.
2025-08-12 16:11:00.315 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.316 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.317 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.317 +05:30 [DBG] Connection id "0HNEPH6APMCVP" completed keep alive response.
2025-08-12 16:11:00.318 +05:30 [DBG] Connection id "0HNEPH6APMCVL" completed keep alive response.
2025-08-12 16:11:00.318 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.320 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 45.9548ms
2025-08-12 16:11:00.320 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:11:00.321 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:11:00.323 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 46.2437ms
2025-08-12 16:11:00.325 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.323 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.322 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.322 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 73.3437ms
2025-08-12 16:11:00.326 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 13ms
2025-08-12 16:11:00.326 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.327 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.329 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.329 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:11:00.330 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:11:00.333 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.334 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:11:00.331 +05:30 [DBG] Connection id "0HNEPH6APMCVM" completed keep alive response.
2025-08-12 16:11:00.332 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.331 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.335 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 17ms
2025-08-12 16:11:00.336 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:11:00.336 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:11:00.337 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.337 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 40.2565ms
2025-08-12 16:11:00.338 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:11:00.339 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.340 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.341 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.343 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.339 +05:30 [DBG] Connection id "0HNEPH6APMCVN" completed keep alive response.
2025-08-12 16:11:00.340 +05:30 [DBG] Authorization was successful.
2025-08-12 16:11:00.343 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 17ms
2025-08-12 16:11:00.344 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:11:00.344 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.345 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:11:00.346 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.348 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:11:00.346 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 41.6441ms
2025-08-12 16:11:00.349 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 12ms
2025-08-12 16:11:00.349 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:11:00.347 +05:30 [DBG] Connection id "0HNEPH6APMCVO" completed keep alive response.
2025-08-12 16:11:00.347 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:00.348 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.350 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 9ms
2025-08-12 16:11:00.353 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.353 +05:30 [DBG] Connection id "0HNEPH6APMCVI" completed keep alive response.
2025-08-12 16:11:00.354 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.354 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 43.3461ms
2025-08-12 16:11:00.355 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:11:00.355 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.356 +05:30 [DBG] Connection id "0HNEPH6APMCVL" completed keep alive response.
2025-08-12 16:11:00.357 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.358 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 32.689ms
2025-08-12 16:11:00.358 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.360 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.361 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:11:00.361 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:11:00.362 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 34.1321ms
2025-08-12 16:11:00.364 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.364 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:11:00.362 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:11:00.369 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.370 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.365 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.367 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:11:00.367 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 19ms
2025-08-12 16:11:00.370 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 16ms
2025-08-12 16:11:00.371 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.372 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.373 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:11:00.373 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:11:00.374 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:00.374 +05:30 [DBG] Connection id "0HNEPH6APMCVP" completed keep alive response.
2025-08-12 16:11:00.375 +05:30 [DBG] Connection id "0HNEPH6APMCVM" completed keep alive response.
2025-08-12 16:11:00.376 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.376 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:11:00.377 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.377 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.379 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:11:00.379 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 48.1405ms
2025-08-12 16:11:00.380 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 36.9619ms
2025-08-12 16:11:00.380 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:11:00.381 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.381 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.382 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.384 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:00.385 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 16:11:00.388 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 16ms
2025-08-12 16:11:00.388 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.389 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:11:00.389 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:11:00.392 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:11:00.393 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 16ms
2025-08-12 16:11:00.392 +05:30 [DBG] Connection id "0HNEPH6APMCVN" completed keep alive response.
2025-08-12 16:11:00.394 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 16ms
2025-08-12 16:11:00.390 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:00.391 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 16:11:00.394 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 13ms
2025-08-12 16:11:00.394 +05:30 [DBG] Connection id "0HNEPH6APMCVI" completed keep alive response.
2025-08-12 16:11:00.395 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 42.5079ms
2025-08-12 16:11:00.396 +05:30 [DBG] Connection id "0HNEPH6APMCVO" completed keep alive response.
2025-08-12 16:11:00.398 +05:30 [DBG] Connection id "0HNEPH6APMCVL" completed keep alive response.
2025-08-12 16:11:00.399 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 35.616ms
2025-08-12 16:11:00.397 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:11:00.397 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:11:00.402 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 41.7802ms
2025-08-12 16:11:00.402 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 33.4797ms
2025-08-12 16:11:00.405 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:00.405 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.409 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:00.410 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.411 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:11:00.411 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:11:00.412 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:11:00.413 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/users   Responded with [204] in 7ms
2025-08-12 16:11:00.415 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:11:00.415 +05:30 [DBG] Connection id "0HNEPH6APMCVP" completed keep alive response.
2025-08-12 16:11:00.417 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:11:00.417 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 16:11:00.419 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - 204 null null 33.9198ms
2025-08-12 16:11:00.421 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:11:00.423 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 16:11:00.425 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:00.426 +05:30 [DBG] Endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/users' is valid for the request path '/api/v1/Admin/users'
2025-08-12 16:11:00.426 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:00.427 +05:30 [DBG] Request matched endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 16:11:00.428 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:00.428 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.429 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:00.429 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.432 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:11:00.432 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:11:00.433 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:11:00.433 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:11:00.434 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.435 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.436 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:00.436 +05:30 [DBG] Authorization was successful.
2025-08-12 16:11:00.436 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:00.437 +05:30 [INF] Executing endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 16:11:00.438 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:00.439 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:00.443 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller AdminController (TravelPlannerAPI).
2025-08-12 16:11:00.444 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:11:00.445 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:11:00.445 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:00.446 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:00.448 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.449 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:11:00.449 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:11:00.450 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:00.451 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.452 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 16:11:00.452 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:11:00.454 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:11:00.455 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.456 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 16:11:00.457 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.458 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:00.459 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:00.460 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:00.461 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:00.462 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .Include(u => u.Trips)
    .Select(u => new AdminUserDto{ 
        Id = u.Id, 
        Name = u.UserName ?? "", 
        Email = u.Email ?? "", 
        LastLoginDate = (DateTime?)u.LastLoginDate, 
        IsActive = u.LastLoginDate > __sixMonthsAgo_0, 
        NumberOfTrips = u.Trips != null ? u.Trips.Count : 0, 
        TripTitles = u.Trips != null ? u.Trips
            .Where(t => t.Title != null)
            .Select(t => t.Title)
            .ToList() : new List<string>(), 
        Role = u.Role ?? "User" 
    }
    )'
2025-08-12 16:11:00.477 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:00.479 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.480 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:11:00.482 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.483 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:11:00.484 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:11:00.487 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:11:00.489 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:11:00.490 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:11:00.490 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:11:00.491 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:11:00.492 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-12 16:11:00.492 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 101.9748ms
2025-08-12 16:11:00.493 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:00.494 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 177ms
2025-08-12 16:11:00.495 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:11:00.496 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:11:00.497 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.498 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:11:00.498 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<AdminUserDto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: TripModel.BestTime (string), 6], [Property: TripModel.Budget (decimal) Required, 7], [Property: TripModel.Description (string), 8], [Property: TripModel.Destination (string) Required, 9], [Property: TripModel.Duration (string), 10], [Property: TripModel.EndDate (DateTime) Required, 11], [Property: TripModel.EssentialsJson (string), 12], [Property: TripModel.Image (string), 13], [Property: TripModel.Notes (string) Required, 14], [Property: TripModel.StartDate (DateTime) Required, 15], [Property: TripModel.Title (string) Required, 16], [Property: TripModel.TouristSpotsJson (string), 17], [Property: TripModel.TravelMode (string) Required, 18], [Property: TripModel.UserId (int) Required FK Index, 19] }
            6 -> 5
            7 -> 20
            8 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 21], [Property: TripModel.BestTime (string), 22], [Property: TripModel.Budget (decimal) Required, 23], [Property: TripModel.Description (string), 24], [Property: TripModel.Destination (string) Required, 25], [Property: TripModel.Duration (string), 26], [Property: TripModel.EndDate (DateTime) Required, 27], [Property: TripModel.EssentialsJson (string), 28], [Property: TripModel.Image (string), 29], [Property: TripModel.Notes (string) Required, 30], [Property: TripModel.StartDate (DateTime) Required, 31], [Property: TripModel.Title (string) Required, 32], [Property: TripModel.TouristSpotsJson (string), 33], [Property: TripModel.TravelMode (string) Required, 34], [Property: TripModel.UserId (int) Required FK Index, 35] }
            9 -> 21
            10 -> 36
            11 -> 37
            12 -> 38
        SELECT u.Id, COALESCE(u.UserName, N''), COALESCE(u.Email, N''), u.LastLoginDate, u.LastLoginDate > @__sixMonthsAgo_0, t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId, (
            SELECT COUNT(*)
            FROM Trips AS t0
            WHERE (u.Id != NULL) && (u.Id == t0.UserId)), t1.Id, t1.BestTime, t1.Budget, t1.Description, t1.Destination, t1.Duration, t1.EndDate, t1.EssentialsJson, t1.Image, t1.Notes, t1.StartDate, t1.Title, t1.TouristSpotsJson, t1.TravelMode, t1.UserId, t2.Title, t2.Id, COALESCE(u.Role, N'User')
        FROM Users AS u
        LEFT JOIN Trips AS t ON u.Id == t.UserId
        LEFT JOIN Trips AS t1 ON u.Id == t1.UserId
        LEFT JOIN 
        (
            SELECT t3.Title, t3.Id, t3.UserId
            FROM Trips AS t3
            WHERE t3.Title != NULL
        ) AS t2 ON u.Id == t2.UserId
        ORDER BY u.Id ASC, t.Id ASC, t1.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AdminUserDto>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 16:11:00.499 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 234.7063ms
2025-08-12 16:11:00.501 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:11:00.502 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.503 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 16:11:00.505 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.505 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.506 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.506 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.507 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.508 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:00.509 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:00.509 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:00.510 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.511 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:11:00.511 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.512 +05:30 [DBG] Executing DbCommand [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 16:11:00.512 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:11:00.514 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:11:00.516 +05:30 [DBG] Authorization was successful.
2025-08-12 16:11:00.517 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:00.517 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:11:00.519 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:11:00.520 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:11:00.521 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:00.522 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:11:00.523 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:00.524 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:00.525 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:11:00.526 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:00.527 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:00.527 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:11:00.528 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 16:11:00.528 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:11:00.530 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:11:00.531 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:11:00.532 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:11:00.533 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:00.533 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:00.534 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:00.534 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:00.537 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:00.538 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:00.539 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:11:00.539 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:11:00.540 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.540 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:00.541 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.542 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:00.542 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:00.543 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:00.543 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:00.544 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:00.545 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:11:00.545 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:00.546 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:00.547 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:00.549 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:00.550 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:00.552 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.553 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:00.553 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:11:00.555 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.556 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:00.557 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.558 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.559 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:00.559 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:00.560 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:00.561 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:00.561 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:00.562 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:11:00.563 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:00.563 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:00.564 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:00.567 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:00.567 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:00.568 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.569 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:00.570 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:11:00.570 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:00.571 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.572 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:00.573 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:11:00.573 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:00.574 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:11:00.575 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:00.576 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:11:00.577 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:00.577 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:11:00.578 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:00.578 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:11:00.579 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.580 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:11:00.580 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 51ms reading results.
2025-08-12 16:11:00.581 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:11:00.583 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.584 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 59.8478ms
2025-08-12 16:11:00.584 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:11:00.585 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:00.586 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:11:00.586 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 76ms
2025-08-12 16:11:00.588 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:11:00.589 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:11:00.589 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:11:00.589 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:11:00.590 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:11:00.590 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.591 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:11:00.592 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:11:00.592 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.AdminUserDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:11:00.593 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 91.4072ms
2025-08-12 16:11:00.596 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.597 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.599 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.600 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.600 +05:30 [INF] Executed action AdminController.GetAllUsers (TravelPlannerAPI) in 148.0709ms
2025-08-12 16:11:00.601 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:00.601 +05:30 [INF] Executed endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 16:11:00.602 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.603 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Admin/users   Responded with [200] in 174ms
2025-08-12 16:11:00.603 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.604 +05:30 [DBG] Connection id "0HNEPH6APMCVH" completed keep alive response.
2025-08-12 16:11:00.605 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:11:00.605 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:11:00.606 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:11:00.606 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.607 +05:30 [DBG] Authorization was successful.
2025-08-12 16:11:00.608 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:11:00.608 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:00.609 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - 200 3648 application/json 192.0733ms
2025-08-12 16:11:00.610 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:11:00.615 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:11:00.616 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:11:00.617 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:00.620 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:11:00.621 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:00.622 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:00.624 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:11:00.625 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:00.626 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:00.626 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:11:00.627 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:11:00.628 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:11:00.629 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:11:00.630 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:11:00.632 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:00.633 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:00.633 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:00.634 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:00.635 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:11:00.636 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:11:00.636 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.637 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.638 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:00.639 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:00.639 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:00.640 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:00.642 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:00.644 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.645 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:00.646 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.646 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:00.648 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.649 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.650 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:00.650 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:00.651 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:00.652 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:00.654 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:00.655 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.656 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:00.657 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.658 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:00.658 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:11:00.659 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:11:00.660 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:11:00.660 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:11:00.661 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:11:00.661 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:11:00.662 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 39.7606ms
2025-08-12 16:11:00.663 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:00.664 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 62ms
2025-08-12 16:11:00.665 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:11:00.666 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:11:00.667 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.668 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:11:00.668 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 72.653ms
2025-08-12 16:11:00.670 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.672 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.673 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.674 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.675 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:00.676 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.677 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.678 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:11:00.678 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:11:00.681 +05:30 [DBG] Authorization was successful.
2025-08-12 16:11:00.681 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:00.682 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:11:00.683 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:11:00.684 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:11:00.685 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:00.686 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:11:00.687 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:00.688 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:00.689 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:11:00.690 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:00.691 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:00.692 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:11:00.692 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:11:00.693 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:11:00.694 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:11:00.695 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:11:00.696 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:00.696 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:00.697 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:00.698 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:00.699 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:11:00.699 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:11:00.700 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.700 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.701 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:00.702 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:00.703 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:00.704 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:00.707 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:00.708 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.709 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:00.710 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.710 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:00.711 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.712 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.713 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:00.713 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:00.714 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:00.714 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:00.716 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:00.718 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.718 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:00.720 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.720 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:00.721 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:11:00.722 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:11:00.723 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:11:00.723 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:11:00.724 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:11:00.724 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:11:00.725 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 36.8405ms
2025-08-12 16:11:00.725 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:00.726 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 50ms
2025-08-12 16:11:00.727 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:11:00.729 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:11:00.730 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.731 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:11:00.731 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 61.7854ms
2025-08-12 16:11:00.734 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.735 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.736 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.736 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.738 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:00.738 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.739 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.740 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:11:00.740 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:11:00.741 +05:30 [DBG] Authorization was successful.
2025-08-12 16:11:00.741 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:00.741 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:11:00.742 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:11:00.743 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:11:00.744 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:00.745 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:11:00.746 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:00.747 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:00.748 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:11:00.749 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:00.750 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:00.751 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:11:00.751 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:11:00.752 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:11:00.753 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:11:00.754 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:11:00.755 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:00.755 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:00.756 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:00.757 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:00.758 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:11:00.758 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:11:00.759 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.760 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.760 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:00.761 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:00.761 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:00.762 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:00.764 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:00.766 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.767 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:00.767 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.768 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:00.769 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.770 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.771 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:00.771 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:00.772 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:00.773 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:00.775 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:00.777 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.777 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:00.778 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.778 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:00.779 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:11:00.780 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:11:00.781 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:11:00.781 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:11:00.781 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:11:00.782 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:11:00.783 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 35.7368ms
2025-08-12 16:11:00.784 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:00.785 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 46ms
2025-08-12 16:11:00.787 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:11:00.788 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:11:00.789 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.790 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:11:00.792 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 57.9454ms
2025-08-12 16:11:00.794 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.795 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.796 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.797 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.799 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:00.799 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.800 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.802 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:11:00.802 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:11:00.803 +05:30 [DBG] Authorization was successful.
2025-08-12 16:11:00.803 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:00.804 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:11:00.805 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:11:00.806 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:11:00.807 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:00.808 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:11:00.809 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:00.810 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:00.812 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:11:00.813 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:00.814 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:00.814 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:11:00.815 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:11:00.816 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:11:00.817 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:11:00.818 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:11:00.819 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:00.820 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:00.822 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:00.823 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:00.824 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:11:00.824 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:11:00.825 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.826 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.826 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:00.827 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:00.828 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:00.829 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:00.831 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:00.834 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.835 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:00.836 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.837 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:00.838 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.839 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.840 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:00.841 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:00.841 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:00.842 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:00.844 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:00.846 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.847 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:00.848 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.849 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:11:00.851 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:11:00.852 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:11:00.853 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:11:00.853 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:11:00.854 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:11:00.854 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:11:00.855 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 44.8906ms
2025-08-12 16:11:00.856 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:00.857 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 57ms
2025-08-12 16:11:00.857 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:11:00.859 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:11:00.861 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.862 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:11:00.862 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 68.8156ms
2025-08-12 16:11:00.864 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.866 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.866 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.867 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.869 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:00.869 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.870 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.871 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:11:00.871 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:11:00.872 +05:30 [DBG] Authorization was successful.
2025-08-12 16:11:00.872 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:00.873 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:11:00.874 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:11:00.875 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:11:00.876 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:00.877 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:11:00.878 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:00.880 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:00.882 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:11:00.883 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:00.884 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:00.885 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:11:00.887 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:11:00.889 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:11:00.890 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:11:00.892 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:11:00.894 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:00.894 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:00.895 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:00.896 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:00.897 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:11:00.897 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:11:00.898 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.899 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.900 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:00.901 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:00.902 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:11:00.903 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:00.906 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:00.908 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.909 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:00.909 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.910 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:00.912 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.912 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.913 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:00.914 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:00.914 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:00.915 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:00.918 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:00.920 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.921 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:00.921 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.922 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:00.923 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:11:00.924 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:11:00.924 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:11:00.925 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:11:00.925 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:11:00.926 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:11:00.927 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 46.4095ms
2025-08-12 16:11:00.927 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:00.928 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 58ms
2025-08-12 16:11:00.929 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:11:00.930 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:11:00.931 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.932 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:11:00.932 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 68.1807ms
2025-08-12 16:11:00.934 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:00.935 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.936 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.937 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:00.938 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:00.939 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:00.939 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:00.940 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:11:00.940 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:11:00.941 +05:30 [DBG] Authorization was successful.
2025-08-12 16:11:00.942 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:00.942 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:11:00.943 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:11:00.944 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:11:00.945 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:00.946 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:11:00.948 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:00.949 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:00.950 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:11:00.951 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:00.952 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:00.953 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:11:00.954 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:11:00.955 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:11:00.956 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:11:00.957 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:11:00.957 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:00.958 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:00.959 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:00.959 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:00.960 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:11:00.961 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:11:00.961 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.962 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.964 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:00.964 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:00.965 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:00.966 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:00.969 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:00.972 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.973 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:00.974 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.975 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:00.976 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.977 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.979 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:00.980 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:00.980 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:00.981 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:00.984 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:00.985 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.986 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:00.987 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.988 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:00.989 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:11:00.990 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:11:00.991 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:11:00.991 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:11:00.991 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:11:00.992 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:11:00.993 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 44.0443ms
2025-08-12 16:11:00.995 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:00.995 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 56ms
2025-08-12 16:11:00.996 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:11:00.998 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:11:00.999 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:00.999 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:11:01.000 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 66.2486ms
2025-08-12 16:11:01.002 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:01.004 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.005 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.006 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.006 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.007 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:01.008 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:01.008 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:11:01.009 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:11:01.009 +05:30 [DBG] Authorization was successful.
2025-08-12 16:11:01.010 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.011 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:11:01.012 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:11:01.013 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:11:01.014 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:01.015 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:11:01.016 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:01.017 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:01.018 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:11:01.019 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:01.020 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:01.021 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:11:01.022 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:11:01.023 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:11:01.023 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:11:01.024 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:11:01.025 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.026 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.026 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:01.027 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.028 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:11:01.028 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:11:01.029 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.029 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.030 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:01.030 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:01.031 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:01.032 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:01.034 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:01.036 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.037 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:01.038 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.038 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:01.040 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.040 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.041 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:01.041 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:01.042 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:01.042 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:01.045 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:01.046 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.047 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:01.047 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.048 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:01.049 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:11:01.051 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:11:01.051 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:11:01.051 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:11:01.052 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:11:01.052 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:11:01.053 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 36.323ms
2025-08-12 16:11:01.054 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.055 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 47ms
2025-08-12 16:11:01.056 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:11:01.056 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:11:01.057 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.058 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:11:01.059 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 56.7432ms
2025-08-12 16:11:01.061 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:01.062 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.063 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.064 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.065 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.066 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:01.067 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:01.068 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:11:01.068 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:11:01.069 +05:30 [DBG] Authorization was successful.
2025-08-12 16:11:01.069 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.070 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:11:01.071 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:11:01.072 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:11:01.073 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:01.074 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:11:01.075 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:01.076 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:01.077 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:11:01.078 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:01.079 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:01.080 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:11:01.080 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:11:01.081 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:11:01.083 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:11:01.084 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:11:01.085 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.086 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.086 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:01.087 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.088 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:11:01.089 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:11:01.089 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.090 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.091 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:01.091 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:01.092 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:01.093 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:01.095 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:01.097 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.098 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:01.100 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.101 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:01.102 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.103 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.105 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:01.105 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:01.106 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:01.108 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:01.112 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:01.114 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.116 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 16:11:01.117 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.118 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:01.119 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:11:01.121 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:11:01.121 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:11:01.122 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:11:01.122 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:11:01.123 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:11:01.124 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 47.9127ms
2025-08-12 16:11:01.125 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.125 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 59ms
2025-08-12 16:11:01.126 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:11:01.127 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:11:01.129 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.130 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:11:01.131 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 69.9718ms
2025-08-12 16:11:01.133 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:01.134 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.135 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.136 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.138 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.138 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:01.139 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:01.140 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:11:01.140 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:11:01.141 +05:30 [DBG] Authorization was successful.
2025-08-12 16:11:01.141 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.142 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:11:01.143 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:11:01.144 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:11:01.145 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:01.146 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:11:01.147 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:01.148 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:01.150 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:11:01.151 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:01.152 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:01.153 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:11:01.154 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:11:01.155 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:11:01.156 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:11:01.157 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:11:01.158 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.159 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.159 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:01.160 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.161 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:11:01.161 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:11:01.162 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.163 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.163 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:01.164 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:01.165 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:01.165 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:01.168 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:01.170 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.171 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:01.172 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.173 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:01.174 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.174 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.175 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:01.176 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:01.176 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:01.177 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:01.179 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:01.181 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.182 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:01.183 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.184 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:11:01.185 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:11:01.187 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:11:01.187 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:11:01.188 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:11:01.188 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:11:01.189 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:11:01.190 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 41.4989ms
2025-08-12 16:11:01.191 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.192 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 53ms
2025-08-12 16:11:01.192 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:11:01.193 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:11:01.195 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.196 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:11:01.197 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 64.4937ms
2025-08-12 16:11:01.199 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:01.201 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.201 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.202 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.204 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.205 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:01.206 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:01.206 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:11:01.207 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:11:01.207 +05:30 [DBG] Authorization was successful.
2025-08-12 16:11:01.208 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.209 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:11:01.210 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:11:01.211 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:11:01.212 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:01.213 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:11:01.214 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:01.215 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:01.217 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:11:01.218 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:01.219 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:01.221 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:11:01.223 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:11:01.225 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:11:01.225 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:11:01.227 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:11:01.228 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.228 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.229 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:01.230 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.231 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:11:01.232 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:11:01.233 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.233 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.234 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:01.235 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:01.236 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:01.237 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:01.239 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:01.241 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.242 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:01.243 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.244 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:11:01.246 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.247 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.247 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:01.248 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:01.249 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:01.249 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:01.252 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:01.254 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.255 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:11:01.256 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.256 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:01.257 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:11:01.259 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:11:01.260 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:11:01.260 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:11:01.261 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:11:01.262 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:11:01.262 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 47.0417ms
2025-08-12 16:11:01.263 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.264 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 59ms
2025-08-12 16:11:01.265 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:11:01.266 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:11:01.267 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.268 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:11:01.269 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 69.978ms
2025-08-12 16:11:01.271 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:01.273 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.273 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.274 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.275 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.276 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:01.276 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:01.277 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:11:01.277 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:11:01.278 +05:30 [DBG] Authorization was successful.
2025-08-12 16:11:01.278 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.279 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:11:01.280 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:11:01.281 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:11:01.282 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:01.284 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:11:01.285 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:01.286 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:01.287 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:11:01.288 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:01.289 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:01.290 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:11:01.291 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:11:01.292 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:11:01.293 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:11:01.294 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:11:01.296 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.296 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.297 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:01.298 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.300 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:11:01.301 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:11:01.301 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.302 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.303 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:01.304 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:01.306 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:11:01.307 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:01.310 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:01.312 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.313 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:01.314 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.316 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:11:01.317 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.318 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.319 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:01.320 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:01.321 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:01.322 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:01.324 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:01.326 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.327 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:01.328 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.328 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:01.329 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:11:01.332 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:11:01.332 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:11:01.333 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:11:01.333 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:11:01.334 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:11:01.335 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 49.3632ms
2025-08-12 16:11:01.336 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.337 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 61ms
2025-08-12 16:11:01.337 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:11:01.339 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:11:01.340 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.341 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:11:01.342 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 70.7036ms
2025-08-12 16:11:01.344 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:01.345 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.346 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.347 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.348 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.349 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:01.350 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:01.350 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:11:01.351 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:11:01.351 +05:30 [DBG] Authorization was successful.
2025-08-12 16:11:01.352 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.353 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:11:01.354 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:11:01.355 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:11:01.356 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:01.357 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:11:01.358 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:01.359 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:01.361 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:11:01.362 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:01.363 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:01.364 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:11:01.365 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:11:01.366 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:11:01.367 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:11:01.368 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:11:01.369 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.370 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.371 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:01.371 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.372 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:11:01.373 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:11:01.374 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.375 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.376 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:01.377 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:01.377 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:01.378 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:01.381 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:01.383 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.384 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:01.385 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.385 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:01.387 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.388 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.388 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:01.389 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:01.390 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:01.391 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:01.393 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:01.394 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.396 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:11:01.397 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.398 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:01.399 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:11:01.400 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:11:01.401 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:11:01.401 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:11:01.402 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:11:01.402 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:11:01.403 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 43.7166ms
2025-08-12 16:11:01.404 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.405 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 55ms
2025-08-12 16:11:01.405 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:11:01.407 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:11:01.408 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.409 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:11:01.410 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 66.1286ms
2025-08-12 16:11:01.412 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:01.413 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.414 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.415 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.416 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.416 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:01.417 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:01.418 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:11:01.418 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:11:01.419 +05:30 [DBG] Authorization was successful.
2025-08-12 16:11:01.419 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.420 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:11:01.421 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:11:01.422 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:11:01.422 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:01.423 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:11:01.425 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:01.426 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:01.427 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:11:01.428 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:01.429 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:01.430 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:11:01.431 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:11:01.432 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:11:01.433 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:11:01.434 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:11:01.435 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.436 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.437 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:01.439 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.440 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:11:01.441 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:11:01.441 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.442 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.443 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:01.443 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:01.444 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:01.445 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:01.448 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:01.450 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.451 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:01.452 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.452 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:01.454 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.455 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.455 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:01.456 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:01.457 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:01.457 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:01.460 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:01.461 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.462 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:01.463 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.464 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:01.465 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:11:01.466 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:11:01.467 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:11:01.467 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:11:01.468 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:11:01.468 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:11:01.469 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 42.9514ms
2025-08-12 16:11:01.470 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.471 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 54ms
2025-08-12 16:11:01.471 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:11:01.472 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:11:01.474 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.475 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:11:01.476 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 64.0292ms
2025-08-12 16:11:01.478 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:01.480 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.480 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.481 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.482 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.483 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:01.484 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:01.484 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:11:01.485 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:11:01.486 +05:30 [DBG] Authorization was successful.
2025-08-12 16:11:01.486 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.487 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:11:01.488 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:11:01.489 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:11:01.491 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:01.492 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:11:01.493 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:01.494 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:01.495 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:11:01.496 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:01.497 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:01.499 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:11:01.499 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:11:01.500 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:11:01.501 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:11:01.502 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:11:01.503 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.504 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.505 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:01.505 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.506 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:11:01.507 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:11:01.508 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.508 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.509 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:01.510 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:01.510 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:01.511 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:01.514 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:01.516 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.517 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:01.518 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.519 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:01.520 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.522 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.523 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:01.524 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:01.525 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:11:01.526 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:01.530 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:01.532 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.533 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:01.534 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.534 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:01.535 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:11:01.537 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:11:01.537 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:11:01.538 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:11:01.538 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:11:01.539 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:11:01.540 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 46.0817ms
2025-08-12 16:11:01.541 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.541 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 58ms
2025-08-12 16:11:01.542 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:11:01.543 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:11:01.545 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.546 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:11:01.547 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 68.8211ms
2025-08-12 16:11:01.549 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:01.550 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.551 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.552 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.553 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.554 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:01.554 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:01.555 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:11:01.556 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:11:01.556 +05:30 [DBG] Authorization was successful.
2025-08-12 16:11:01.557 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.557 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:11:01.559 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:11:01.559 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:11:01.561 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:01.562 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:11:01.563 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:01.564 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:01.565 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:11:01.566 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:01.567 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:01.567 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:11:01.568 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:11:01.569 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:11:01.570 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:11:01.572 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:11:01.573 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.573 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.574 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:01.575 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.576 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:11:01.576 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:11:01.577 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.577 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.578 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:01.579 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:01.579 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:01.580 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:01.582 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:01.585 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.585 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:01.586 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.587 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:01.588 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.589 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.590 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:01.590 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:01.591 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:01.592 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:01.594 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:01.596 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.597 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:01.598 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.598 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:01.599 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:11:01.601 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:11:01.602 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:11:01.602 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:11:01.603 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:11:01.604 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:11:01.605 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 40.8812ms
2025-08-12 16:11:01.605 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.606 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 52ms
2025-08-12 16:11:01.607 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:11:01.608 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:11:01.610 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.611 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:11:01.612 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 63.3141ms
2025-08-12 16:11:01.614 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:01.615 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.616 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.616 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.617 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.619 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:01.619 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:01.620 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:11:01.621 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:11:01.622 +05:30 [DBG] Authorization was successful.
2025-08-12 16:11:01.622 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.623 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:11:01.624 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:11:01.625 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:11:01.626 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:01.627 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:11:01.628 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:01.629 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:01.630 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:11:01.631 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:01.632 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:01.633 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:11:01.634 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:11:01.635 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:11:01.635 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:11:01.636 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:11:01.638 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.639 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.639 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:01.640 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.641 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:11:01.642 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:11:01.642 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.643 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.644 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:01.644 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:01.645 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:01.645 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:01.648 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:01.650 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.651 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:01.652 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.653 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:01.654 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.655 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.656 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:01.656 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:01.657 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:01.658 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:01.660 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:01.662 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.663 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:01.664 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.666 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:11:01.667 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:11:01.668 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:11:01.668 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:11:01.669 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:11:01.669 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:11:01.670 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:11:01.671 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 41.7815ms
2025-08-12 16:11:01.672 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.672 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 53ms
2025-08-12 16:11:01.673 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:11:01.674 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:11:01.676 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.677 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:11:01.678 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 64.1496ms
2025-08-12 16:11:01.680 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:11:01.681 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.682 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.683 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:11:01.684 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.685 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:01.685 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:01.686 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:11:01.686 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:11:01.688 +05:30 [DBG] Authorization was successful.
2025-08-12 16:11:01.688 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.689 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:11:01.690 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:11:01.691 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:11:01.692 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:01.693 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:11:01.693 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:01.694 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:01.696 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:11:01.697 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:11:01.697 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:01.698 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:11:01.699 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:11:01.700 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:11:01.701 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:11:01.702 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:11:01.703 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.704 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.704 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:11:01.705 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:11:01.706 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:11:01.707 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:11:01.707 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.708 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.709 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:01.709 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:01.710 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:01.711 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:01.713 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:11:01.715 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.716 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:11:01.717 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.718 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:11:01.720 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.721 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.722 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:01.723 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:01.724 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:01.725 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:01.730 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:11:01.733 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.734 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:01.735 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.735 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:01.736 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:11:01.738 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:11:01.739 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:11:01.739 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:11:01.740 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:11:01.740 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:11:01.741 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 46.9595ms
2025-08-12 16:11:01.742 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:11:01.743 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 58ms
2025-08-12 16:11:01.744 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:11:01.745 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:11:01.747 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:01.747 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:11:01.748 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 68.7542ms
2025-08-12 16:11:37.750 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/delete-user/15?id=15 - null null
2025-08-12 16:11:37.758 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/delete-user/15'
2025-08-12 16:11:37.759 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:11:37.760 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:37.760 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:37.761 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:11:37.762 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/delete-user/15 ?id=15  Responded with [204] in 2ms
2025-08-12 16:11:37.762 +05:30 [DBG] Connection id "0HNEPH6APMCVP" completed keep alive response.
2025-08-12 16:11:37.763 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/delete-user/15?id=15 - 204 null null 13.532ms
2025-08-12 16:11:37.764 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5276/api/v1/Admin/delete-user/15?id=15 - null null
2025-08-12 16:11:37.778 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/delete-user/15'
2025-08-12 16:11:37.779 +05:30 [DBG] Endpoint 'AdminController.DeleteUser (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/delete-user/{id}' is valid for the request path '/api/v1/Admin/delete-user/15'
2025-08-12 16:11:37.780 +05:30 [DBG] Request matched endpoint 'AdminController.DeleteUser (TravelPlannerAPI)'
2025-08-12 16:11:37.781 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:37.782 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:37.782 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:11:37.783 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:11:37.784 +05:30 [DBG] Authorization was successful.
2025-08-12 16:11:37.786 +05:30 [INF] Executing endpoint 'AdminController.DeleteUser (TravelPlannerAPI)'
2025-08-12 16:11:37.790 +05:30 [INF] Route matched with {action = "DeleteUser", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(Int32) on controller AdminController (TravelPlannerAPI).
2025-08-12 16:11:37.792 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:11:37.793 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:11:37.793 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:37.795 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:11:37.796 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:37.797 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 16:11:37.798 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:11:37.800 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 16:11:37.802 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-12 16:11:37.803 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-12 16:11:37.804 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 16:11:37.805 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 16:11:37.806 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-12 16:11:37.807 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-12 16:11:37.811 +05:30 [DBG] Compiling query expression: 
'DbSet<ExpenseModel>()
    .Where(x => x.UserId == 15)'
2025-08-12 16:11:37.815 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ExpenseModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ExpenseModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ExpenseModel.Amount (decimal) Required, 1], [Property: ExpenseModel.Category (string) Required, 2], [Property: ExpenseModel.Date (DateTime) Required, 3], [Property: ExpenseModel.Description (string), 4], [Property: ExpenseModel.TripId (int) Required FK Index, 5], [Property: ExpenseModel.UserId (int) Required FK Index, 6] }
        SELECT e.Id, e.Amount, e.Category, e.Date, e.Description, e.TripId, e.UserId
        FROM Expenses AS e
        WHERE e.UserId == 15), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ExpenseModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 16:11:37.818 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:11:37.819 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:11:37.821 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:37.822 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:37.823 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:37.824 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:37.825 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:37.826 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[Category], [e].[Date], [e].[Description], [e].[TripId], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[UserId] = 15
2025-08-12 16:11:37.831 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[Category], [e].[Date], [e].[Description], [e].[TripId], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[UserId] = 15
2025-08-12 16:11:37.834 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:37.835 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:37.836 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:37.838 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:11:37.840 +05:30 [DBG] Compiling query expression: 
'DbSet<ReviewModel>()
    .Where(x => x.UserId == 15)'
2025-08-12 16:11:37.844 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewModel.Rating (int) Required, 1], [Property: ReviewModel.ReviewText (string) Required, 2], [Property: ReviewModel.TripId (int) Required FK Index, 3], [Property: ReviewModel.UserId (int) Required FK Index, 4] }
        SELECT r.Id, r.Rating, r.review, r.TripId, r.UserId
        FROM reviews AS r
        WHERE r.UserId == 15), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 16:11:37.845 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:37.846 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:37.846 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:37.847 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:37.849 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:11:37.850 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [reviews] AS [r]
WHERE [r].[UserId] = 15
2025-08-12 16:11:37.855 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [reviews] AS [r]
WHERE [r].[UserId] = 15
2025-08-12 16:11:37.857 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:37.858 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:37.858 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:37.859 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 16:11:37.860 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:37.860 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:37.862 +05:30 [DBG] An entity of type 'ReviewModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:37.862 +05:30 [DBG] An entity of type 'ReviewModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:37.865 +05:30 [DBG] Compiling query expression: 
'DbSet<ChecklistItemModel>()
    .Where(x => x.UserId == 15)'
2025-08-12 16:11:37.868 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChecklistItemModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ChecklistItemModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChecklistItemModel.Description (string) Required, 1], [Property: ChecklistItemModel.IsCompleted (bool) Required, 2], [Property: ChecklistItemModel.TripId (int) Required FK Index, 3], [Property: ChecklistItemModel.UserId (int) Required FK Index, 4] }
        SELECT c.Id, c.Description, c.IsCompleted, c.TripId, c.UserId
        FROM ChecklistItems AS c
        WHERE c.UserId == 15), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChecklistItemModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 16:11:37.870 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:37.871 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:37.872 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:37.872 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:37.873 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:37.874 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[UserId] = 15
2025-08-12 16:11:37.878 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[UserId] = 15
2025-08-12 16:11:37.881 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ChecklistItemModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:37.882 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:37.883 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:11:37.883 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:37.884 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:37.886 +05:30 [DBG] An entity of type 'ChecklistItemModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:37.888 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Where(x => x.UserId == 15)'
2025-08-12 16:11:37.892 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
        SELECT t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId
        FROM Trips AS t
        WHERE t.UserId == 15), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 16:11:37.893 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:37.894 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:37.896 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:37.896 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:37.897 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:37.898 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[UserId] = 15
2025-08-12 16:11:37.902 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[UserId] = 15
2025-08-12 16:11:37.904 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:37.905 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:37.906 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:37.907 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 16:11:37.908 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:37.909 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:37.910 +05:30 [DBG] An entity of type 'TripModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:37.912 +05:30 [DBG] An entity of type 'TripModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:37.916 +05:30 [DBG] Compiling query expression: 
'DbSet<TripShareModel>()
    .Where(ts => ts.OwnerId == __userId_0 || ts.SharedWithUserId == __userId_0)'
2025-08-12 16:11:37.920 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripShareModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TripShareModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripShareModel.AccessLevel (AccessLevel) Required, 1], [Property: TripShareModel.OwnerId (int) Required FK Index, 2], [Property: TripShareModel.SharedWithUserId (int) Required FK Index, 3], [Property: TripShareModel.TripId (int) Required FK Index, 4] }
        SELECT t.Id, t.AccessLevel, t.OwnerId, t.SharedWithUserId, t.TripId
        FROM TripShares AS t
        WHERE (t.OwnerId == @__userId_0) || (t.SharedWithUserId == @__userId_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripShareModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 16:11:37.922 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:37.923 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:37.923 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:37.924 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:37.925 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:37.925 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessLevel], [t].[OwnerId], [t].[SharedWithUserId], [t].[TripId]
FROM [TripShares] AS [t]
WHERE [t].[OwnerId] = @__userId_0 OR [t].[SharedWithUserId] = @__userId_0
2025-08-12 16:11:37.930 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessLevel], [t].[OwnerId], [t].[SharedWithUserId], [t].[TripId]
FROM [TripShares] AS [t]
WHERE [t].[OwnerId] = @__userId_0 OR [t].[SharedWithUserId] = @__userId_0
2025-08-12 16:11:37.931 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:37.932 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:37.933 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:37.934 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:37.938 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-08-12 16:11:37.943 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 2], [Property: UserModel.Email (string) MaxLength(256), 3], [Property: UserModel.EmailConfirmed (bool) Required, 4], [Property: UserModel.IsActive (bool) Required, 5], [Property: UserModel.IsAdmin (bool) Required, 6], [Property: UserModel.LastLoginDate (DateTime) Required, 7], [Property: UserModel.LockoutEnabled (bool) Required, 8], [Property: UserModel.LockoutEnd (DateTimeOffset?), 9], [Property: UserModel.Name (string) Required, 10], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 11], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 12], [Property: UserModel.PasswordHash (string), 13], [Property: UserModel.PhoneNumber (string), 14], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 15], [Property: UserModel.Role (string) Required, 16], [Property: UserModel.SecurityStamp (string), 17], [Property: UserModel.TwoFactorEnabled (bool) Required, 18], [Property: UserModel.UserName (string) MaxLength(256), 19] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 16:11:37.946 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:37.948 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:37.949 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:37.950 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:37.951 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:37.952 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-08-12 16:11:37.955 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-08-12 16:11:37.957 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:37.958 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:37.959 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:11:37.961 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:37.961 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:37.965 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:37.967 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 16:11:37.968 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 16:11:37.969 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 16:11:37.977 +05:30 [DBG] Executing 6 update commands as a batch.
2025-08-12 16:11:37.978 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:37.979 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:37.980 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-12 16:11:37.981 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-12 16:11:37.982 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:37.982 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:11:37.983 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:11:37.985 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [ChecklistItems]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [reviews]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [reviews]
OUTPUT 1
WHERE [Id] = @p2;
DELETE FROM [Trips]
OUTPUT 1
WHERE [Id] = @p3;
DELETE FROM [Trips]
OUTPUT 1
WHERE [Id] = @p4;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p5 AND [ConcurrencyStamp] = @p6;
2025-08-12 16:11:38.011 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [ChecklistItems]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [reviews]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [reviews]
OUTPUT 1
WHERE [Id] = @p2;
DELETE FROM [Trips]
OUTPUT 1
WHERE [Id] = @p3;
DELETE FROM [Trips]
OUTPUT 1
WHERE [Id] = @p4;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p5 AND [ConcurrencyStamp] = @p6;
2025-08-12 16:11:38.013 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:38.014 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:11:38.015 +05:30 [DBG] Committing transaction.
2025-08-12 16:11:38.017 +05:30 [DBG] Committed transaction.
2025-08-12 16:11:38.017 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:38.018 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:11:38.019 +05:30 [DBG] Disposing transaction.
2025-08-12 16:11:38.020 +05:30 [DBG] An entity of type 'ReviewModel' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:38.021 +05:30 [DBG] An entity of type 'ReviewModel' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:38.022 +05:30 [DBG] An entity of type 'ChecklistItemModel' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:38.023 +05:30 [DBG] An entity of type 'TripModel' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:38.024 +05:30 [DBG] An entity of type 'TripModel' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:38.025 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:38.027 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 6 entities written to the database.
2025-08-12 16:11:38.028 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 16:11:38.029 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 16:11:38.029 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 16:11:38.030 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 0 entities written to the database.
2025-08-12 16:11:38.031 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-08-12 16:11:38.031 +05:30 [INF] Executed action AdminController.DeleteUser (TravelPlannerAPI) in 234.6672ms
2025-08-12 16:11:38.032 +05:30 [INF] Executed endpoint 'AdminController.DeleteUser (TravelPlannerAPI)'
2025-08-12 16:11:38.033 +05:30 [INF] Source:[::1] Request: DELETE http localhost:5276/api/v1/Admin/delete-user/15 ?id=15  Responded with [204] in 252ms
2025-08-12 16:11:38.034 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:11:38.036 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:11:38.037 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:38.038 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:11:38.039 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5276/api/v1/Admin/delete-user/15?id=15 - 204 null null 275.5074ms
2025-08-12 16:11:41.420 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 16:11:41.422 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 16:11:41.423 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:11:41.424 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:41.424 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:41.425 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:11:41.426 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/users   Responded with [204] in 2ms
2025-08-12 16:11:41.426 +05:30 [DBG] Connection id "0HNEPH6APMCVP" completed keep alive response.
2025-08-12 16:11:41.427 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - 204 null null 7.5557ms
2025-08-12 16:11:41.428 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 16:11:41.431 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 16:11:41.432 +05:30 [DBG] Endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/users' is valid for the request path '/api/v1/Admin/users'
2025-08-12 16:11:41.433 +05:30 [DBG] Request matched endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 16:11:41.434 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:11:41.434 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:11:41.436 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:11:41.437 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:11:41.438 +05:30 [DBG] Authorization was successful.
2025-08-12 16:11:41.438 +05:30 [INF] Executing endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 16:11:41.439 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller AdminController (TravelPlannerAPI).
2025-08-12 16:11:41.440 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:11:41.440 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:11:41.441 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:41.442 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:11:41.443 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:11:41.444 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 16:11:41.447 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:11:41.448 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 16:11:41.449 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:11:41.450 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:11:41.450 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:41.452 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:41.454 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:11:41.457 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:11:41.457 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 16:11:41.458 +05:30 [DBG] Executing DbCommand [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 16:11:41.472 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 16:11:41.476 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:41.477 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:41.478 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:41.479 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:41.480 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:41.481 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:41.482 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:41.483 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:41.486 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:41.487 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:41.493 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:41.495 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:41.496 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:41.497 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:41.497 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:41.498 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:41.499 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:41.501 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:41.503 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:41.504 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:41.505 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:11:41.507 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:41.507 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 32ms reading results.
2025-08-12 16:11:41.508 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:41.510 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:11:41.511 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:11:41.512 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:11:41.512 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:11:41.513 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:11:41.513 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:11:41.514 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.AdminUserDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:11:41.515 +05:30 [INF] Executed action AdminController.GetAllUsers (TravelPlannerAPI) in 70.3378ms
2025-08-12 16:11:41.516 +05:30 [INF] Executed endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 16:11:41.517 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Admin/users   Responded with [200] in 83ms
2025-08-12 16:11:41.519 +05:30 [DBG] Connection id "0HNEPH6APMCVF" completed keep alive response.
2025-08-12 16:11:41.520 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:11:41.521 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:11:41.523 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:11:41.524 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - 200 3325 application/json 96.1657ms
2025-08-12 16:11:47.347 +05:30 [DBG] Connection id "0HNEPH6APMCVF" received FIN.
2025-08-12 16:11:47.347 +05:30 [DBG] Connection id "0HNEPH6APMCVM" received FIN.
2025-08-12 16:11:47.348 +05:30 [DBG] Connection id "0HNEPH6APMCVI" received FIN.
2025-08-12 16:11:47.348 +05:30 [DBG] Connection id "0HNEPH6APMCVO" received FIN.
2025-08-12 16:11:47.354 +05:30 [DBG] Connection id "0HNEPH6APMCVL" received FIN.
2025-08-12 16:11:47.356 +05:30 [DBG] Connection id "0HNEPH6APMCVF" disconnecting.
2025-08-12 16:11:47.362 +05:30 [DBG] Connection id "0HNEPH6APMCVM" disconnecting.
2025-08-12 16:11:47.348 +05:30 [DBG] Connection id "0HNEPH6APMCVN" received FIN.
2025-08-12 16:11:47.347 +05:30 [DBG] Connection id "0HNEPH6APMCVH" received FIN.
2025-08-12 16:11:47.374 +05:30 [DBG] Connection id "0HNEPH6APMCVI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 16:11:47.376 +05:30 [DBG] Connection id "0HNEPH6APMCVO" disconnecting.
2025-08-12 16:11:47.382 +05:30 [DBG] Connection id "0HNEPH6APMCVI" disconnecting.
2025-08-12 16:11:47.354 +05:30 [DBG] Connection id "0HNEPH6APMCVP" received FIN.
2025-08-12 16:11:47.389 +05:30 [DBG] Connection id "0HNEPH6APMCVL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 16:11:47.390 +05:30 [DBG] Connection id "0HNEPH6APMCVN" disconnecting.
2025-08-12 16:11:47.369 +05:30 [DBG] Connection id "0HNEPH6APMCVF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 16:11:47.397 +05:30 [DBG] Connection id "0HNEPH6APMCVL" disconnecting.
2025-08-12 16:11:47.407 +05:30 [DBG] Connection id "0HNEPH6APMCVF" stopped.
2025-08-12 16:11:47.410 +05:30 [DBG] Connection id "0HNEPH6APMCVP" disconnecting.
2025-08-12 16:11:47.369 +05:30 [DBG] Connection id "0HNEPH6APMCVM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 16:11:47.389 +05:30 [DBG] Connection id "0HNEPH6APMCVI" stopped.
2025-08-12 16:11:47.383 +05:30 [DBG] Connection id "0HNEPH6APMCVO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 16:11:47.410 +05:30 [DBG] Connection id "0HNEPH6APMCVL" stopped.
2025-08-12 16:11:47.400 +05:30 [DBG] Connection id "0HNEPH6APMCVN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 16:11:47.403 +05:30 [DBG] Connection id "0HNEPH6APMCVH" disconnecting.
2025-08-12 16:11:47.418 +05:30 [DBG] Connection id "0HNEPH6APMCVP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 16:11:47.422 +05:30 [DBG] Connection id "0HNEPH6APMCVH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 16:11:47.422 +05:30 [DBG] Connection id "0HNEPH6APMCVO" stopped.
2025-08-12 16:11:47.422 +05:30 [DBG] Connection id "0HNEPH6APMCVM" stopped.
2025-08-12 16:11:47.422 +05:30 [DBG] Connection id "0HNEPH6APMCVN" stopped.
2025-08-12 16:11:47.439 +05:30 [DBG] Connection id "0HNEPH6APMCVP" stopped.
2025-08-12 16:11:47.439 +05:30 [DBG] Connection id "0HNEPH6APMCVH" stopped.
2025-08-12 16:12:21.069 +05:30 [DBG] Connection id "0HNEPH6APMCVQ" accepted.
2025-08-12 16:12:21.071 +05:30 [DBG] Connection id "0HNEPH6APMCVQ" started.
2025-08-12 16:12:21.072 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/delete-user/10?id=10 - null null
2025-08-12 16:12:21.075 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/delete-user/10'
2025-08-12 16:12:21.076 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:12:21.076 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:12:21.077 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:12:21.078 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:12:21.079 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/delete-user/10 ?id=10  Responded with [204] in 2ms
2025-08-12 16:12:21.079 +05:30 [DBG] Connection id "0HNEPH6APMCVQ" completed keep alive response.
2025-08-12 16:12:21.080 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/delete-user/10?id=10 - 204 null null 7.7435ms
2025-08-12 16:12:21.081 +05:30 [DBG] Connection id "0HNEPH6APMCVR" accepted.
2025-08-12 16:12:21.090 +05:30 [DBG] Connection id "0HNEPH6APMCVR" started.
2025-08-12 16:12:21.091 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5276/api/v1/Admin/delete-user/10?id=10 - null null
2025-08-12 16:12:21.093 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/delete-user/10'
2025-08-12 16:12:21.093 +05:30 [DBG] Endpoint 'AdminController.DeleteUser (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/delete-user/{id}' is valid for the request path '/api/v1/Admin/delete-user/10'
2025-08-12 16:12:21.094 +05:30 [DBG] Request matched endpoint 'AdminController.DeleteUser (TravelPlannerAPI)'
2025-08-12 16:12:21.095 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:12:21.096 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:12:21.097 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:12:21.097 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:12:21.098 +05:30 [DBG] Authorization was successful.
2025-08-12 16:12:21.098 +05:30 [INF] Executing endpoint 'AdminController.DeleteUser (TravelPlannerAPI)'
2025-08-12 16:12:21.101 +05:30 [INF] Route matched with {action = "DeleteUser", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(Int32) on controller AdminController (TravelPlannerAPI).
2025-08-12 16:12:21.103 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:12:21.104 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:12:21.105 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:12:21.106 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:12:21.107 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:12:21.108 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 16:12:21.110 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:12:21.111 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 16:12:21.112 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-12 16:12:21.113 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-12 16:12:21.113 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 16:12:21.114 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 16:12:21.116 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-12 16:12:21.118 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-12 16:12:21.120 +05:30 [DBG] Compiling query expression: 
'DbSet<ExpenseModel>()
    .Where(x => x.UserId == 10)'
2025-08-12 16:12:21.124 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ExpenseModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ExpenseModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ExpenseModel.Amount (decimal) Required, 1], [Property: ExpenseModel.Category (string) Required, 2], [Property: ExpenseModel.Date (DateTime) Required, 3], [Property: ExpenseModel.Description (string), 4], [Property: ExpenseModel.TripId (int) Required FK Index, 5], [Property: ExpenseModel.UserId (int) Required FK Index, 6] }
        SELECT e.Id, e.Amount, e.Category, e.Date, e.Description, e.TripId, e.UserId
        FROM Expenses AS e
        WHERE e.UserId == 10), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ExpenseModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 16:12:21.125 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:12:21.126 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:12:21.127 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.128 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.129 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:12:21.130 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:12:21.131 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:12:21.133 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[Category], [e].[Date], [e].[Description], [e].[TripId], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[UserId] = 10
2025-08-12 16:12:21.138 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[Category], [e].[Date], [e].[Description], [e].[TripId], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[UserId] = 10
2025-08-12 16:12:21.139 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.140 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:12:21.141 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.142 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:12:21.143 +05:30 [DBG] Compiling query expression: 
'DbSet<ReviewModel>()
    .Where(x => x.UserId == 10)'
2025-08-12 16:12:21.147 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewModel.Rating (int) Required, 1], [Property: ReviewModel.ReviewText (string) Required, 2], [Property: ReviewModel.TripId (int) Required FK Index, 3], [Property: ReviewModel.UserId (int) Required FK Index, 4] }
        SELECT r.Id, r.Rating, r.review, r.TripId, r.UserId
        FROM reviews AS r
        WHERE r.UserId == 10), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 16:12:21.149 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.150 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.151 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:12:21.152 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:12:21.153 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:12:21.154 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [reviews] AS [r]
WHERE [r].[UserId] = 10
2025-08-12 16:12:21.158 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [reviews] AS [r]
WHERE [r].[UserId] = 10
2025-08-12 16:12:21.159 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.160 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:12:21.161 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.162 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:12:21.165 +05:30 [DBG] Compiling query expression: 
'DbSet<ChecklistItemModel>()
    .Where(x => x.UserId == 10)'
2025-08-12 16:12:21.168 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChecklistItemModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ChecklistItemModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChecklistItemModel.Description (string) Required, 1], [Property: ChecklistItemModel.IsCompleted (bool) Required, 2], [Property: ChecklistItemModel.TripId (int) Required FK Index, 3], [Property: ChecklistItemModel.UserId (int) Required FK Index, 4] }
        SELECT c.Id, c.Description, c.IsCompleted, c.TripId, c.UserId
        FROM ChecklistItems AS c
        WHERE c.UserId == 10), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChecklistItemModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 16:12:21.170 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.171 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.172 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:12:21.172 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:12:21.173 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:12:21.174 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[UserId] = 10
2025-08-12 16:12:21.179 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[UserId] = 10
2025-08-12 16:12:21.181 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.182 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:12:21.183 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.184 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:12:21.186 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Where(x => x.UserId == 10)'
2025-08-12 16:12:21.190 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
        SELECT t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId
        FROM Trips AS t
        WHERE t.UserId == 10), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 16:12:21.191 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.192 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.193 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:12:21.194 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:12:21.196 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:12:21.197 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[UserId] = 10
2025-08-12 16:12:21.202 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[UserId] = 10
2025-08-12 16:12:21.204 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:12:21.205 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.206 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 16:12:21.207 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.208 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:12:21.209 +05:30 [DBG] An entity of type 'TripModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:12:21.212 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.213 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.213 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:12:21.214 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:12:21.215 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:12:21.216 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessLevel], [t].[OwnerId], [t].[SharedWithUserId], [t].[TripId]
FROM [TripShares] AS [t]
WHERE [t].[OwnerId] = @__userId_0 OR [t].[SharedWithUserId] = @__userId_0
2025-08-12 16:12:21.222 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessLevel], [t].[OwnerId], [t].[SharedWithUserId], [t].[TripId]
FROM [TripShares] AS [t]
WHERE [t].[OwnerId] = @__userId_0 OR [t].[SharedWithUserId] = @__userId_0
2025-08-12 16:12:21.223 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.224 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:12:21.225 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.226 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:12:21.227 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.228 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.229 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:12:21.230 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:12:21.230 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:12:21.231 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-08-12 16:12:21.236 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-08-12 16:12:21.237 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:12:21.238 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.239 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:12:21.240 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.240 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:12:21.242 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:12:21.243 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 16:12:21.243 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 16:12:21.244 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 16:12:21.245 +05:30 [DBG] Executing 2 update commands as a batch.
2025-08-12 16:12:21.246 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.247 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.247 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-12 16:12:21.248 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-12 16:12:21.251 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:12:21.251 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:12:21.252 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:12:21.253 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Trips]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p1 AND [ConcurrencyStamp] = @p2;
2025-08-12 16:12:21.267 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Trips]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p1 AND [ConcurrencyStamp] = @p2;
2025-08-12 16:12:21.268 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.269 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:12:21.270 +05:30 [DBG] Committing transaction.
2025-08-12 16:12:21.271 +05:30 [DBG] Committed transaction.
2025-08-12 16:12:21.272 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.273 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:12:21.274 +05:30 [DBG] Disposing transaction.
2025-08-12 16:12:21.274 +05:30 [DBG] An entity of type 'TripModel' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:12:21.276 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:12:21.277 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2025-08-12 16:12:21.277 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 16:12:21.278 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 16:12:21.279 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 16:12:21.279 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 0 entities written to the database.
2025-08-12 16:12:21.280 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-08-12 16:12:21.281 +05:30 [INF] Executed action AdminController.DeleteUser (TravelPlannerAPI) in 172.9224ms
2025-08-12 16:12:21.282 +05:30 [INF] Executed endpoint 'AdminController.DeleteUser (TravelPlannerAPI)'
2025-08-12 16:12:21.284 +05:30 [INF] Source:[::1] Request: DELETE http localhost:5276/api/v1/Admin/delete-user/10 ?id=10  Responded with [204] in 188ms
2025-08-12 16:12:21.285 +05:30 [DBG] Connection id "0HNEPH6APMCVR" completed keep alive response.
2025-08-12 16:12:21.285 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:12:21.286 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:21.287 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:12:21.288 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5276/api/v1/Admin/delete-user/10?id=10 - 204 null null 197.336ms
2025-08-12 16:12:26.797 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 16:12:26.799 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 16:12:26.800 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:12:26.803 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:12:26.804 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:12:26.805 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:12:26.806 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/users   Responded with [204] in 2ms
2025-08-12 16:12:26.808 +05:30 [DBG] Connection id "0HNEPH6APMCVQ" completed keep alive response.
2025-08-12 16:12:26.809 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - 204 null null 12.3768ms
2025-08-12 16:12:26.810 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 16:12:26.813 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 16:12:26.814 +05:30 [DBG] Endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/users' is valid for the request path '/api/v1/Admin/users'
2025-08-12 16:12:26.815 +05:30 [DBG] Request matched endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 16:12:26.816 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:12:26.817 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:12:26.818 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:12:26.819 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:12:26.819 +05:30 [DBG] Authorization was successful.
2025-08-12 16:12:26.820 +05:30 [INF] Executing endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 16:12:26.821 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller AdminController (TravelPlannerAPI).
2025-08-12 16:12:26.822 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:12:26.823 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:12:26.825 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:12:26.826 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:12:26.827 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:12:26.828 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 16:12:26.830 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:12:26.831 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 16:12:26.833 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:12:26.834 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 16:12:26.835 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:26.836 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:26.837 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:12:26.838 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:12:26.838 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:12:26.839 +05:30 [DBG] Executing DbCommand [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 16:12:26.853 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 16:12:26.855 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:12:26.856 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:12:26.857 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:12:26.859 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:12:26.860 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:12:26.861 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:12:26.862 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:12:26.863 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:12:26.864 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:12:26.867 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:12:26.873 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:12:26.874 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:12:26.875 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:12:26.876 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:12:26.877 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:12:26.878 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:12:26.879 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:12:26.880 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:12:26.881 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:12:26.883 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:12:26.885 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:26.886 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 30ms reading results.
2025-08-12 16:12:26.887 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:26.888 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:12:26.889 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:12:26.890 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:12:26.890 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:12:26.891 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:12:26.891 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:12:26.892 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.AdminUserDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:12:26.893 +05:30 [INF] Executed action AdminController.GetAllUsers (TravelPlannerAPI) in 65.126ms
2025-08-12 16:12:26.894 +05:30 [INF] Executed endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 16:12:26.895 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Admin/users   Responded with [200] in 78ms
2025-08-12 16:12:26.896 +05:30 [DBG] Connection id "0HNEPH6APMCVR" completed keep alive response.
2025-08-12 16:12:26.899 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:12:26.900 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:12:26.901 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:12:26.902 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - 200 3028 application/json 92.0648ms
2025-08-12 16:18:01.426 +05:30 [DBG] Connection id "0HNEPH6APMCVR" received FIN.
2025-08-12 16:18:01.429 +05:30 [DBG] Connection id "0HNEPH6APMCVQ" received FIN.
2025-08-12 16:22:52.550 +05:30 [DBG] Connection id "0HNEPH6APMCVR" disconnecting.
2025-08-12 16:22:52.556 +05:30 [DBG] Connection id "0HNEPH6APMCVR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 16:22:52.552 +05:30 [DBG] Connection id "0HNEPH6APMCVQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 16:22:52.572 +05:30 [DBG] Connection id "0HNEPH6APMCVQ" disconnecting.
2025-08-12 16:22:52.587 +05:30 [DBG] Connection id "0HNEPH6APMCVR" stopped.
2025-08-12 16:22:53.173 +05:30 [DBG] Connection id "0HNEPH6APMCVQ" stopped.
2025-08-12 16:23:04.913 +05:30 [DBG] Connection id "0HNEPH6APMCVS" accepted.
2025-08-12 16:23:04.921 +05:30 [DBG] Connection id "0HNEPH6APMCVS" started.
2025-08-12 16:23:04.922 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 16:23:04.926 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 16:23:04.930 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:23:04.931 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:23:04.932 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:23:04.933 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:23:04.934 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/users   Responded with [204] in 3ms
2025-08-12 16:23:04.935 +05:30 [DBG] Connection id "0HNEPH6APMCVS" completed keep alive response.
2025-08-12 16:23:04.937 +05:30 [DBG] Connection id "0HNEPH6APMCVT" accepted.
2025-08-12 16:23:04.938 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - 204 null null 15.6733ms
2025-08-12 16:23:04.939 +05:30 [DBG] Connection id "0HNEPH6APMCVT" started.
2025-08-12 16:23:04.943 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 16:23:04.946 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 16:23:04.947 +05:30 [DBG] Endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/users' is valid for the request path '/api/v1/Admin/users'
2025-08-12 16:23:04.948 +05:30 [DBG] Request matched endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 16:23:04.950 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:23:04.951 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:23:04.953 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:23:04.955 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:23:04.956 +05:30 [DBG] Authorization was successful.
2025-08-12 16:23:04.963 +05:30 [INF] Executing endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 16:23:04.964 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller AdminController (TravelPlannerAPI).
2025-08-12 16:23:04.966 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:23:04.967 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:23:04.969 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:23:04.970 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:23:04.971 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:23:04.973 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 16:23:04.974 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:23:04.975 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 16:23:04.978 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:23:04.980 +05:30 [DBG] Created DbConnection. (2ms).
2025-08-12 16:23:04.982 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:23:05.056 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:23:05.057 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:23:05.061 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-12 16:23:05.062 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-12 16:23:05.062 +05:30 [DBG] Executing DbCommand [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 16:23:05.095 +05:30 [INF] Executed DbCommand (33ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 16:23:05.098 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:23:05.099 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:23:05.100 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:23:05.102 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:23:05.104 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:23:05.107 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:23:05.108 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:23:05.109 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:23:05.110 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:23:05.112 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:23:05.123 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:23:05.124 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:23:05.125 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:23:05.127 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:23:05.128 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:23:05.129 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:23:05.132 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:23:05.134 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:23:05.136 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:23:05.137 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:23:05.139 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:23:05.140 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 42ms reading results.
2025-08-12 16:23:05.141 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:23:05.142 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:23:05.143 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:23:05.145 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:23:05.145 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:23:05.146 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:23:05.147 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:23:05.148 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.AdminUserDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:23:05.149 +05:30 [INF] Executed action AdminController.GetAllUsers (TravelPlannerAPI) in 176.2582ms
2025-08-12 16:23:05.150 +05:30 [INF] Executed endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 16:23:05.151 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Admin/users   Responded with [200] in 201ms
2025-08-12 16:23:05.152 +05:30 [DBG] Connection id "0HNEPH6APMCVT" completed keep alive response.
2025-08-12 16:23:05.153 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:23:05.156 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:23:05.158 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:23:05.164 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - 200 3028 application/json 220.9147ms
2025-08-12 16:28:05.855 +05:30 [DBG] Connection id "0HNEPH6APMCVT" received FIN.
2025-08-12 16:28:05.856 +05:30 [DBG] Connection id "0HNEPH6APMCVS" received FIN.
2025-08-12 16:28:05.858 +05:30 [DBG] Connection id "0HNEPH6APMCVT" disconnecting.
2025-08-12 16:28:05.868 +05:30 [DBG] Connection id "0HNEPH6APMCVT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 16:28:05.868 +05:30 [DBG] Connection id "0HNEPH6APMCVS" disconnecting.
2025-08-12 16:28:05.876 +05:30 [DBG] Connection id "0HNEPH6APMCVT" stopped.
2025-08-12 16:28:05.878 +05:30 [DBG] Connection id "0HNEPH6APMCVS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 16:28:05.896 +05:30 [DBG] Connection id "0HNEPH6APMCVS" stopped.
2025-08-12 16:29:26.899 +05:30 [DBG] Connection id "0HNEPH6APMCVU" accepted.
2025-08-12 16:29:26.908 +05:30 [DBG] Connection id "0HNEPH6APMCVU" started.
2025-08-12 16:29:26.911 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/signup - null null
2025-08-12 16:29:26.916 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/signup'
2025-08-12 16:29:26.917 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:29:26.919 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:29:26.919 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:29:26.920 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:29:26.921 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/signup   Responded with [204] in 2ms
2025-08-12 16:29:26.922 +05:30 [DBG] Connection id "0HNEPH6APMCVU" completed keep alive response.
2025-08-12 16:29:26.923 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/signup - 204 null null 12.3265ms
2025-08-12 16:29:26.931 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/signup - application/json 68
2025-08-12 16:29:26.934 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/signup'
2025-08-12 16:29:26.935 +05:30 [DBG] Endpoint 'AuthController.Signup (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/signup' is valid for the request path '/api/v1/Auth/signup'
2025-08-12 16:29:26.936 +05:30 [DBG] Request matched endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-12 16:29:26.937 +05:30 [DBG] Connection id "0HNEPH6APMCVU", Request id "0HNEPH6APMCVU:00000002": started reading request body.
2025-08-12 16:29:26.938 +05:30 [DBG] Connection id "0HNEPH6APMCVU", Request id "0HNEPH6APMCVU:00000002": done reading request body.
2025-08-12 16:29:26.939 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:29:26.939 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:29:26.940 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 16:29:26.941 +05:30 [INF] Executing endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-12 16:29:26.941 +05:30 [INF] Route matched with {action = "Signup", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Signup(TravelPlannerAPI.Dtos.SignupRequest) on controller AuthController (TravelPlannerAPI).
2025-08-12 16:29:26.944 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:29:26.945 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:29:26.947 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:29:26.949 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:29:26.950 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:29:26.951 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 16:29:26.952 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:29:26.954 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 16:29:26.955 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' ...
2025-08-12 16:29:26.956 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' using the name '' in request data ...
2025-08-12 16:29:26.957 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 16:29:26.959 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.SignupRequest'
2025-08-12 16:29:26.960 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-12 16:29:26.960 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-12 16:29:26.961 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' ...
2025-08-12 16:29:26.962 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-12 16:29:26.964 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:29:26.965 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 16:29:26.966 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:29:26.967 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:29:26.967 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:29:26.968 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:29:26.969 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:29:26.970 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 16:29:26.980 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 16:29:26.983 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:29:26.984 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:29:26.985 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 16:29:26.986 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:29:26.987 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:29:26.988 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:29:26.990 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:29:26.991 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:29:26.992 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:29:26.992 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:29:26.993 +05:30 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 16:29:26.994 +05:30 [INF] Executed action AuthController.Signup (TravelPlannerAPI) in 43.5939ms
2025-08-12 16:29:26.996 +05:30 [INF] Executed endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-12 16:29:26.998 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/signup  {"Name":"Jaggu","Email":"jaggu@gmail.com","Password":"Password@123"} Responded with [400] in 61ms
2025-08-12 16:29:26.999 +05:30 [DBG] Connection id "0HNEPH6APMCVU" completed keep alive response.
2025-08-12 16:29:27.000 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:29:27.001 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:29:27.002 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:29:27.004 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/signup - 400 134 application/json 72.2791ms
2025-08-12 16:32:22.098 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-12 16:32:22.108 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 16:32:22.111 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:32:22.112 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:32:22.113 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:32:22.113 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:32:22.114 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 2ms
2025-08-12 16:32:22.115 +05:30 [DBG] Connection id "0HNEPH6APMCVU" completed keep alive response.
2025-08-12 16:32:22.115 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 17.3999ms
2025-08-12 16:32:22.118 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 55
2025-08-12 16:32:22.119 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 16:32:22.120 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-12 16:32:22.121 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 16:32:22.122 +05:30 [DBG] Connection id "0HNEPH6APMCVU", Request id "0HNEPH6APMCVU:00000004": started reading request body.
2025-08-12 16:32:22.122 +05:30 [DBG] Connection id "0HNEPH6APMCVU", Request id "0HNEPH6APMCVU:00000004": done reading request body.
2025-08-12 16:32:22.124 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:32:22.126 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:32:22.126 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 16:32:22.127 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 16:32:22.128 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-12 16:32:22.129 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:32:22.130 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:32:22.131 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:32:22.132 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:32:22.133 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:32:22.134 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 16:32:22.136 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:32:22.137 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 16:32:22.138 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 16:32:22.139 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-12 16:32:22.140 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 16:32:22.141 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-12 16:32:22.142 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 16:32:22.143 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 16:32:22.144 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 16:32:22.144 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 16:32:22.146 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:32:22.146 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:32:22.147 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:32:22.148 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:32:22.148 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:32:22.149 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:32:22.150 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:32:22.151 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 16:32:22.161 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 16:32:22.162 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:32:22.163 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:32:22.164 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:32:22.165 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:32:22.166 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:32:22.218 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:32:22.220 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:32:22.221 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:32:22.221 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:32:22.222 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:32:22.223 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 16:32:22.227 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 16:32:22.229 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:32:22.229 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:32:22.230 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:32:22.231 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:32:22.232 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:32:22.234 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 16:32:22.235 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 16:32:22.236 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 16:32:22.237 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:32:22.238 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:32:22.239 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:32:22.240 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:32:22.240 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:32:22.241 +05:30 [DBG] Executing DbCommand [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 16:32:22.249 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 16:32:22.252 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:32:22.253 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:32:22.254 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:32:22.255 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:32:22.256 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:32:22.257 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 16:32:22.258 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:32:22.260 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:32:22.260 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:32:22.261 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:32:22.261 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:32:22.262 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:32:22.263 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 128.8674ms
2025-08-12 16:32:22.264 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 16:32:22.265 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"meghana@gmail.com","password":"Password@123"} Responded with [200] in 143ms
2025-08-12 16:32:22.267 +05:30 [DBG] Connection id "0HNEPH6APMCVU" completed keep alive response.
2025-08-12 16:32:22.268 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:32:22.268 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:32:22.270 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:32:22.271 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 903 application/json 153.6452ms
2025-08-12 16:32:22.324 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:32:22.329 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:32:22.330 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:32:22.331 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:32:22.332 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:32:22.333 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:32:22.334 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 2ms
2025-08-12 16:32:22.335 +05:30 [DBG] Connection id "0HNEPH6APMCVU" completed keep alive response.
2025-08-12 16:32:22.336 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 11.7088ms
2025-08-12 16:32:22.340 +05:30 [DBG] Connection id "0HNEPH6APMCVV" accepted.
2025-08-12 16:32:22.347 +05:30 [DBG] Connection id "0HNEPH6APMCVV" started.
2025-08-12 16:32:22.352 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:32:22.355 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:32:22.357 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:32:22.360 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:32:22.362 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:32:22.363 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:32:22.365 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:32:22.366 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:32:22.371 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:32:22.373 +05:30 [DBG] Authorization was successful.
2025-08-12 16:32:22.374 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:32:22.375 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:32:22.378 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:32:22.379 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:32:22.380 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:32:22.382 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:32:22.386 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:32:22.387 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:32:22.389 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:32:22.391 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:32:22.392 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:32:22.393 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:32:22.394 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:32:22.395 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:32:22.397 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:32:22.398 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:32:22.399 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:32:22.400 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:32:22.401 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:32:22.402 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:32:22.403 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:32:22.404 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:32:22.404 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:32:22.405 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:32:22.408 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:32:22.409 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:32:22.410 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:32:22.411 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:32:22.422 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:32:22.433 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:32:22.434 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:32:22.436 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:32:22.437 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:32:22.440 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:32:22.442 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:32:22.443 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:32:22.444 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:32:22.445 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:32:22.446 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:32:22.461 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:32:22.464 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:32:22.465 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:32:22.466 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:32:22.466 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:32:22.467 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:32:22.468 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:32:22.469 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:32:22.471 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:32:22.472 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:32:22.473 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:32:22.474 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:32:22.475 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:32:22.476 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:32:22.477 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:32:22.478 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:32:22.479 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:32:22.480 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:32:22.480 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:32:22.481 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:32:22.482 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:32:22.482 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:32:22.483 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 19ms reading results.
2025-08-12 16:32:22.485 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:32:22.486 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:32:22.487 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:32:22.488 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:32:22.489 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:32:22.489 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:32:22.490 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:32:22.491 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:32:22.492 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 105.4477ms
2025-08-12 16:32:22.493 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:32:22.494 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 130ms
2025-08-12 16:32:22.495 +05:30 [DBG] Connection id "0HNEPH6APMCVV" completed keep alive response.
2025-08-12 16:32:22.496 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:32:22.497 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:32:22.498 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:32:22.499 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 146.5668ms
2025-08-12 16:37:53.150 +05:30 [DBG] Connection id "0HNEPH6APMCVV" received FIN.
2025-08-12 16:37:53.151 +05:30 [DBG] Connection id "0HNEPH6APMCVU" received FIN.
2025-08-12 16:37:53.153 +05:30 [DBG] Connection id "0HNEPH6APMCVV" disconnecting.
2025-08-12 16:37:53.159 +05:30 [DBG] Connection id "0HNEPH6APMCVU" disconnecting.
2025-08-12 16:37:53.165 +05:30 [DBG] Connection id "0HNEPH6APMCVV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 16:37:53.167 +05:30 [DBG] Connection id "0HNEPH6APMCVU" stopped.
2025-08-12 16:37:53.173 +05:30 [DBG] Connection id "0HNEPH6APMCVV" stopped.
2025-08-12 16:37:53.178 +05:30 [DBG] Connection id "0HNEPH6APMCVU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 16:41:10.860 +05:30 [DBG] Connection id "0HNEPH6APMD00" accepted.
2025-08-12 16:41:10.865 +05:30 [DBG] Connection id "0HNEPH6APMD00" started.
2025-08-12 16:41:10.868 +05:30 [DBG] Connection id "0HNEPH6APMD01" accepted.
2025-08-12 16:41:10.870 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip - null null
2025-08-12 16:41:10.870 +05:30 [DBG] Connection id "0HNEPH6APMD01" started.
2025-08-12 16:41:10.876 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip'
2025-08-12 16:41:10.877 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Checklist/11?tripId=11 - null null
2025-08-12 16:41:10.877 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:41:10.879 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Checklist/11'
2025-08-12 16:41:10.880 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:41:10.880 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:41:10.881 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:41:10.881 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:41:10.885 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:41:10.885 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:41:10.884 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:41:10.886 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Checklist/11 ?tripId=11  Responded with [204] in 4ms
2025-08-12 16:41:10.887 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip   Responded with [204] in 7ms
2025-08-12 16:41:10.887 +05:30 [DBG] Connection id "0HNEPH6APMD01" completed keep alive response.
2025-08-12 16:41:10.888 +05:30 [DBG] Connection id "0HNEPH6APMD00" completed keep alive response.
2025-08-12 16:41:10.888 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Checklist/11?tripId=11 - 204 null null 11.7515ms
2025-08-12 16:41:10.890 +05:30 [DBG] Connection id "0HNEPH6APMD02" accepted.
2025-08-12 16:41:10.889 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip - 204 null null 19.412ms
2025-08-12 16:41:10.898 +05:30 [DBG] Connection id "0HNEPH6APMD02" started.
2025-08-12 16:41:10.898 +05:30 [DBG] Connection id "0HNEPH6APMD03" accepted.
2025-08-12 16:41:10.905 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Checklist/11?tripId=11 - null null
2025-08-12 16:41:10.906 +05:30 [DBG] Connection id "0HNEPH6APMD03" started.
2025-08-12 16:41:10.908 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Checklist/11'
2025-08-12 16:41:10.909 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip - null null
2025-08-12 16:41:10.909 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.ChecklistController.GetChecklist (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Checklist/{tripId}' is valid for the request path '/api/v1/Checklist/11'
2025-08-12 16:41:10.911 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip'
2025-08-12 16:41:10.912 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.ChecklistController.GetChecklist (TravelPlannerAPI)'
2025-08-12 16:41:10.913 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip' is valid for the request path '/api/v1/Trip'
2025-08-12 16:41:10.913 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:41:10.914 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:41:10.915 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:41:10.916 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:41:10.916 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:41:10.917 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:41:10.918 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:41:10.918 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:41:10.919 +05:30 [DBG] Authorization was successful.
2025-08-12 16:41:10.919 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:41:10.920 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.ChecklistController.GetChecklist (TravelPlannerAPI)'
2025-08-12 16:41:10.920 +05:30 [DBG] Authorization was successful.
2025-08-12 16:41:10.921 +05:30 [INF] Route matched with {action = "GetChecklist", controller = "Checklist"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChecklist(Int32) on controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI).
2025-08-12 16:41:10.922 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:41:10.924 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:41:10.924 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TravelPlannerAPI.Dtos.TripDto]]] GetTrips() on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:41:10.925 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:41:10.926 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:41:10.927 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:41:10.928 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:41:10.929 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:41:10.930 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:41:10.930 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:41:10.932 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:41:10.933 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI)
2025-08-12 16:41:10.933 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:41:10.935 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:41:10.936 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:41:10.937 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI)
2025-08-12 16:41:10.938 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:41:10.939 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:41:10.941 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:41:10.941 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' using the name 'tripId' in request data ...
2025-08-12 16:41:10.943 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:41:10.943 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:41:10.944 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 16:41:10.945 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:41:10.946 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:10.947 +05:30 [DBG] Attempting to validate the bound parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:41:10.949 +05:30 [DBG] Done attempting to validate the bound parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:41:10.956 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:41:10.957 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:41:10.957 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:10.964 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:10.965 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:41:10.966 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:41:10.967 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:10.972 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-08-12 16:41:10.973 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:41:10.974 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [Trips] AS [t]
LEFT JOIN [reviews] AS [r] ON [t].[Id] = [r].[TripId]
WHERE [t].[UserId] = @__userId_0
ORDER BY [t].[Id]
2025-08-12 16:41:10.974 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:41:10.976 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 16:41:10.977 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:41:10.983 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:41:10.983 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [Trips] AS [t]
LEFT JOIN [reviews] AS [r] ON [t].[Id] = [r].[TripId]
WHERE [t].[UserId] = @__userId_0
ORDER BY [t].[Id]
2025-08-12 16:41:10.985 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:10.986 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:10.987 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:10.988 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:10.989 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-12 16:41:10.990 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:10.991 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:10.992 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:10.993 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:41:10.994 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:10.995 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:10.995 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:10.996 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:10.997 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:10.998 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:41:11.000 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:11.001 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-12 16:41:11.002 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:11.002 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-12 16:41:11.003 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:11.004 +05:30 [DBG] Executing DbCommand [Parameters=[@__tripId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[TripId] = @__tripId_0 AND [c].[UserId] = @__userId_1
2025-08-12 16:41:11.005 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 18ms reading results.
2025-08-12 16:41:11.007 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:11.008 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:41:11.009 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:41:11.009 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__tripId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[TripId] = @__tripId_0 AND [c].[UserId] = @__userId_1
2025-08-12 16:41:11.011 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:41:11.012 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:11.012 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:41:11.013 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:41:11.014 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:41:11.016 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:11.017 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:41:11.017 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:41:11.018 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:41:11.020 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:41:11.021 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 85.2094ms
2025-08-12 16:41:11.022 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:41:11.023 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:41:11.024 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:41:11.025 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:41:11.025 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip   Responded with [200] in 109ms
2025-08-12 16:41:11.025 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:41:11.026 +05:30 [DBG] Connection id "0HNEPH6APMD03" completed keep alive response.
2025-08-12 16:41:11.027 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Dtos.ChecklistWithAccessDto'.
2025-08-12 16:41:11.028 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:41:11.029 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.ChecklistController.GetChecklist (TravelPlannerAPI) in 96.233ms
2025-08-12 16:41:11.029 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:11.030 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.ChecklistController.GetChecklist (TravelPlannerAPI)'
2025-08-12 16:41:11.031 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:41:11.033 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Checklist/11 ?tripId=11  Responded with [200] in 119ms
2025-08-12 16:41:11.034 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip - 200 5003 application/json 125.4328ms
2025-08-12 16:41:11.035 +05:30 [DBG] Connection id "0HNEPH6APMD02" completed keep alive response.
2025-08-12 16:41:11.038 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:41:11.038 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:11.039 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:41:11.040 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Checklist/11?tripId=11 - 200 110 application/json 135.0123ms
2025-08-12 16:41:17.672 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Checklist - null null
2025-08-12 16:41:17.675 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Checklist'
2025-08-12 16:41:17.676 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:41:17.677 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:41:17.677 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:41:17.678 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:41:17.679 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Checklist   Responded with [204] in 2ms
2025-08-12 16:41:17.679 +05:30 [DBG] Connection id "0HNEPH6APMD00" completed keep alive response.
2025-08-12 16:41:17.680 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Checklist - 204 null null 8.2297ms
2025-08-12 16:41:17.681 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Checklist - application/json 65
2025-08-12 16:41:17.685 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Checklist'
2025-08-12 16:41:17.686 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.ChecklistController.AddItem (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Checklist' is valid for the request path '/api/v1/Checklist'
2025-08-12 16:41:17.688 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.ChecklistController.AddItem (TravelPlannerAPI)'
2025-08-12 16:41:17.688 +05:30 [DBG] Connection id "0HNEPH6APMD02", Request id "0HNEPH6APMD02:00000002": started reading request body.
2025-08-12 16:41:17.690 +05:30 [DBG] Connection id "0HNEPH6APMD02", Request id "0HNEPH6APMD02:00000002": done reading request body.
2025-08-12 16:41:17.691 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:41:17.692 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:41:17.692 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:41:17.693 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:41:17.694 +05:30 [DBG] Authorization was successful.
2025-08-12 16:41:17.694 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.ChecklistController.AddItem (TravelPlannerAPI)'
2025-08-12 16:41:17.695 +05:30 [INF] Route matched with {action = "AddItem", controller = "Checklist"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItem(TravelPlannerAPI.Dtos.ChecklistItemDto) on controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI).
2025-08-12 16:41:17.696 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:41:17.699 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:41:17.701 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:41:17.702 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:41:17.703 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:41:17.704 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI)
2025-08-12 16:41:17.706 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:41:17.707 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI)
2025-08-12 16:41:17.708 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ChecklistItemDto' ...
2025-08-12 16:41:17.708 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ChecklistItemDto' using the name '' in request data ...
2025-08-12 16:41:17.709 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 16:41:17.711 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.ChecklistItemDto'
2025-08-12 16:41:17.712 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ChecklistItemDto'.
2025-08-12 16:41:17.712 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ChecklistItemDto'.
2025-08-12 16:41:17.714 +05:30 [DBG] Attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Dtos.ChecklistItemDto' ...
2025-08-12 16:41:17.715 +05:30 [DBG] Done attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Dtos.ChecklistItemDto'.
2025-08-12 16:41:17.717 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:41:17.718 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:41:17.718 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:17.719 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:17.720 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:41:17.720 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:41:17.721 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:41:17.722 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:41:17.724 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:41:17.726 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:17.727 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:17.728 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:41:17.730 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:17.731 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:41:17.732 +05:30 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'ChecklistItemModel.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:17.733 +05:30 [DBG] The navigation 'ChecklistItemModel.Trip' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:17.735 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ChecklistItemModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:17.736 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 16:41:17.736 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 16:41:17.737 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 16:41:17.738 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:17.739 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:17.740 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:41:17.741 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:41:17.742 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:41:17.743 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ChecklistItems] ([Description], [IsCompleted], [TripId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-08-12 16:41:17.753 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ChecklistItems] ([Description], [IsCompleted], [TripId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-08-12 16:41:17.754 +05:30 [DBG] The foreign key property 'ChecklistItemModel.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 16:41:17.755 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:17.756 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:41:17.757 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:17.758 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:41:17.759 +05:30 [DBG] An entity of type 'ChecklistItemModel' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:17.760 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 16:41:17.762 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:41:17.763 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:41:17.764 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:41:17.764 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:41:17.765 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:41:17.766 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Dtos.ChecklistItemDto'.
2025-08-12 16:41:17.767 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.ChecklistController.AddItem (TravelPlannerAPI) in 63.2504ms
2025-08-12 16:41:17.768 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.ChecklistController.AddItem (TravelPlannerAPI)'
2025-08-12 16:41:17.769 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Checklist  {"tripId":11,"userId":3,"description":"Soap","isCompleted":false} Responded with [200] in 80ms
2025-08-12 16:41:17.770 +05:30 [DBG] Connection id "0HNEPH6APMD02" completed keep alive response.
2025-08-12 16:41:17.771 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:41:17.772 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:17.773 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:41:17.774 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Checklist - 200 172 application/json 92.8652ms
2025-08-12 16:41:24.446 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Checklist/19?id=19 - null null
2025-08-12 16:41:24.450 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Checklist/19'
2025-08-12 16:41:24.452 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:41:24.453 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:41:24.454 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:41:24.454 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:41:24.456 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Checklist/19 ?id=19  Responded with [204] in 2ms
2025-08-12 16:41:24.456 +05:30 [DBG] Connection id "0HNEPH6APMD00" completed keep alive response.
2025-08-12 16:41:24.458 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Checklist/19?id=19 - 204 null null 11.8712ms
2025-08-12 16:41:24.458 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5276/api/v1/Checklist/19?id=19 - application/json 73
2025-08-12 16:41:24.462 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Checklist/19'
2025-08-12 16:41:24.462 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.ChecklistController.UpdateItem (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Checklist/{id}' is valid for the request path '/api/v1/Checklist/19'
2025-08-12 16:41:24.464 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.ChecklistController.UpdateItem (TravelPlannerAPI)'
2025-08-12 16:41:24.464 +05:30 [DBG] Connection id "0HNEPH6APMD02", Request id "0HNEPH6APMD02:00000003": started reading request body.
2025-08-12 16:41:24.465 +05:30 [DBG] Connection id "0HNEPH6APMD02", Request id "0HNEPH6APMD02:00000003": done reading request body.
2025-08-12 16:41:24.469 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:41:24.469 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:41:24.470 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:41:24.471 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:41:24.471 +05:30 [DBG] Authorization was successful.
2025-08-12 16:41:24.472 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.ChecklistController.UpdateItem (TravelPlannerAPI)'
2025-08-12 16:41:24.472 +05:30 [INF] Route matched with {action = "UpdateItem", controller = "Checklist"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateItem(Int32, TravelPlannerAPI.Dtos.ChecklistItemUpdateDto) on controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI).
2025-08-12 16:41:24.474 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:41:24.474 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:41:24.475 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:41:24.477 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:41:24.477 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:41:24.479 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI)
2025-08-12 16:41:24.480 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:41:24.482 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.ChecklistController (TravelPlannerAPI)
2025-08-12 16:41:24.483 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-12 16:41:24.485 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-12 16:41:24.486 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 16:41:24.487 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 16:41:24.488 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-12 16:41:24.489 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-12 16:41:24.490 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ChecklistItemUpdateDto' ...
2025-08-12 16:41:24.490 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ChecklistItemUpdateDto' using the name '' in request data ...
2025-08-12 16:41:24.491 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 16:41:24.492 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.ChecklistItemUpdateDto'
2025-08-12 16:41:24.493 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ChecklistItemUpdateDto'.
2025-08-12 16:41:24.494 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.ChecklistItemUpdateDto'.
2025-08-12 16:41:24.495 +05:30 [DBG] Attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Dtos.ChecklistItemUpdateDto' ...
2025-08-12 16:41:24.495 +05:30 [DBG] Done attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Dtos.ChecklistItemUpdateDto'.
2025-08-12 16:41:24.497 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:41:24.498 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 16:41:24.499 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:24.501 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:24.502 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:41:24.503 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:41:24.503 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:41:24.504 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[Id] = @__p_0
2025-08-12 16:41:24.508 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[Id] = @__p_0
2025-08-12 16:41:24.509 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ChecklistItemModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:24.510 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:24.511 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:41:24.512 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:24.514 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:41:24.517 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:24.518 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:24.519 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:41:24.520 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:41:24.522 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:41:24.523 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:41:24.526 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:41:24.528 +05:30 [DBG] The navigation 'ChecklistItemModel.Trip' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:24.530 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:24.531 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:24.532 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-12 16:41:24.534 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:24.535 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:41:24.536 +05:30 [DBG] An entity of type 'ChecklistItemModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:24.537 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 16:41:24.538 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 16:41:24.539 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 16:41:24.540 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:24.541 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:24.542 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:41:24.543 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:41:24.543 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:41:24.544 +05:30 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ChecklistItems] SET [Description] = @p0, [IsCompleted] = @p1, [TripId] = @p2, [UserId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-08-12 16:41:24.555 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ChecklistItems] SET [Description] = @p0, [IsCompleted] = @p1, [TripId] = @p2, [UserId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-08-12 16:41:24.557 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:24.557 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:41:24.558 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:24.559 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:41:24.560 +05:30 [DBG] An entity of type 'ChecklistItemModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:24.562 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 16:41:24.563 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:41:24.565 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:41:24.566 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:41:24.567 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:41:24.568 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:41:24.569 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Dtos.ChecklistItemDto'.
2025-08-12 16:41:24.570 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.ChecklistController.UpdateItem (TravelPlannerAPI) in 91.0032ms
2025-08-12 16:41:24.570 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.ChecklistController.UpdateItem (TravelPlannerAPI)'
2025-08-12 16:41:24.572 +05:30 [INF] Source:[::1] Request: PUT http localhost:5276/api/v1/Checklist/19 ?id=19 {"id":19,"tripId":11,"description":"Soap","isCompleted":false,"userId":3} Responded with [200] in 107ms
2025-08-12 16:41:24.573 +05:30 [DBG] Connection id "0HNEPH6APMD02" completed keep alive response.
2025-08-12 16:41:24.574 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:41:24.575 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:24.576 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:41:24.578 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5276/api/v1/Checklist/19?id=19 - 200 171 application/json 119.5636ms
2025-08-12 16:41:25.730 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:41:25.732 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:41:25.733 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:41:25.734 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:41:25.735 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:41:25.735 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:41:25.736 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 2ms
2025-08-12 16:41:25.737 +05:30 [DBG] Connection id "0HNEPH6APMD00" completed keep alive response.
2025-08-12 16:41:25.738 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 7.8579ms
2025-08-12 16:41:25.739 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:41:25.744 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:41:25.745 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:41:25.747 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:41:25.748 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:41:25.750 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:41:25.751 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:41:25.752 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:41:25.754 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:41:25.755 +05:30 [DBG] Authorization was successful.
2025-08-12 16:41:25.756 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:41:25.760 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:41:25.763 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:41:25.765 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:41:25.767 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:41:25.769 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:41:25.770 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:41:25.771 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:41:25.775 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:41:25.778 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:41:25.779 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:41:25.780 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:41:25.783 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:41:25.785 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:41:25.786 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:41:25.787 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:41:25.788 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:41:25.791 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:41:25.793 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:41:25.794 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:41:25.795 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:41:25.795 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:41:25.796 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:25.797 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:25.799 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:41:25.800 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:41:25.801 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:41:25.802 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:41:25.814 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:41:25.816 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:25.818 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:41:25.819 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:25.820 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:41:25.821 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:25.824 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:25.825 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:41:25.826 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:41:25.827 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:41:25.828 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:41:25.845 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:41:25.847 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:25.848 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:25.849 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:25.851 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:25.852 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:25.852 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:25.853 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:25.855 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:25.856 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:25.857 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:25.858 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:25.859 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:25.860 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:25.862 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:25.863 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:25.864 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:25.865 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:25.866 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:25.867 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:25.868 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:41:25.869 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:25.870 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 22ms reading results.
2025-08-12 16:41:25.872 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:25.873 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:41:25.874 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:41:25.875 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:41:25.876 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:41:25.876 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:41:25.877 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:41:25.878 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:41:25.879 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 107.7208ms
2025-08-12 16:41:25.880 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:41:25.881 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 131ms
2025-08-12 16:41:25.882 +05:30 [DBG] Connection id "0HNEPH6APMD02" completed keep alive response.
2025-08-12 16:41:25.883 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:41:25.884 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:41:25.885 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:41:25.886 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 147.6632ms
2025-08-12 16:41:47.131 +05:30 [DBG] Connection id "0HNEPH6APMD03" received FIN.
2025-08-12 16:41:47.132 +05:30 [DBG] Connection id "0HNEPH6APMD02" received FIN.
2025-08-12 16:41:47.133 +05:30 [DBG] Connection id "0HNEPH6APMD01" received FIN.
2025-08-12 16:41:47.137 +05:30 [DBG] Connection id "0HNEPH6APMD00" received FIN.
2025-08-12 16:41:47.139 +05:30 [DBG] Connection id "0HNEPH6APMD03" disconnecting.
2025-08-12 16:41:47.143 +05:30 [DBG] Connection id "0HNEPH6APMD02" disconnecting.
2025-08-12 16:41:47.146 +05:30 [DBG] Connection id "0HNEPH6APMD03" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 16:41:47.150 +05:30 [DBG] Connection id "0HNEPH6APMD02" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 16:41:47.155 +05:30 [DBG] Connection id "0HNEPH6APMD00" disconnecting.
2025-08-12 16:41:47.159 +05:30 [DBG] Connection id "0HNEPH6APMD02" stopped.
2025-08-12 16:41:47.159 +05:30 [DBG] Connection id "0HNEPH6APMD03" stopped.
2025-08-12 16:41:47.150 +05:30 [DBG] Connection id "0HNEPH6APMD01" disconnecting.
2025-08-12 16:41:47.160 +05:30 [DBG] Connection id "0HNEPH6APMD00" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 16:41:47.166 +05:30 [DBG] Connection id "0HNEPH6APMD01" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 16:41:47.175 +05:30 [DBG] Connection id "0HNEPH6APMD00" stopped.
2025-08-12 16:41:47.175 +05:30 [DBG] Connection id "0HNEPH6APMD01" stopped.
2025-08-12 16:50:08.295 +05:30 [DBG] Connection id "0HNEPH6APMD04" accepted.
2025-08-12 16:50:08.296 +05:30 [DBG] Connection id "0HNEPH6APMD04" started.
2025-08-12 16:50:08.297 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:50:08.299 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:50:08.299 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:50:08.300 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:50:08.301 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:50:08.301 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:50:08.302 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 1ms
2025-08-12 16:50:08.303 +05:30 [DBG] Connection id "0HNEPH6APMD04" completed keep alive response.
2025-08-12 16:50:08.303 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 5.977ms
2025-08-12 16:50:08.305 +05:30 [DBG] Connection id "0HNEPH6APMD05" accepted.
2025-08-12 16:50:08.309 +05:30 [DBG] Connection id "0HNEPH6APMD05" started.
2025-08-12 16:50:08.312 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:50:08.314 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:50:08.315 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:50:08.316 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:50:08.317 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:50:08.318 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:50:08.318 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:50:08.319 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:50:08.319 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:50:08.320 +05:30 [DBG] Authorization was successful.
2025-08-12 16:50:08.320 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:50:08.321 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:50:08.322 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:50:08.323 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:50:08.323 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:50:08.325 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:50:08.325 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:50:08.326 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:50:08.327 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:50:08.329 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:50:08.329 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:50:08.330 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:50:08.331 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:50:08.332 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:50:08.333 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:50:08.335 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:50:08.336 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:50:08.337 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:50:08.337 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:50:08.338 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:50:08.339 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:50:08.340 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:50:08.340 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:08.351 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:08.353 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:50:08.354 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:50:08.355 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:50:08.355 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:50:08.363 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:50:08.366 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:08.367 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 16:50:08.369 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:08.370 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:50:08.372 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:08.375 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:08.376 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:50:08.378 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:50:08.379 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:50:08.380 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:50:08.395 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:50:08.399 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:08.400 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:08.402 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:08.403 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:08.404 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:08.406 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:08.407 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:08.408 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:08.409 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:08.411 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:08.412 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:08.413 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:08.414 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:08.415 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:08.416 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:08.417 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:08.418 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:08.420 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:08.421 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:08.422 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:08.423 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:08.424 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 25ms reading results.
2025-08-12 16:50:08.425 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:08.427 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:50:08.428 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:50:08.431 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:50:08.431 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:50:08.432 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:50:08.432 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:50:08.434 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:50:08.435 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 108.7036ms
2025-08-12 16:50:08.436 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:50:08.437 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 118ms
2025-08-12 16:50:08.437 +05:30 [DBG] Connection id "0HNEPH6APMD05" completed keep alive response.
2025-08-12 16:50:08.438 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:50:08.438 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:08.439 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:50:08.440 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 127.5833ms
2025-08-12 16:50:15.492 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:50:15.494 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:50:15.495 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:50:15.496 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:50:15.497 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:50:15.498 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:50:15.498 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 2ms
2025-08-12 16:50:15.499 +05:30 [DBG] Connection id "0HNEPH6APMD04" completed keep alive response.
2025-08-12 16:50:15.499 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 7.4082ms
2025-08-12 16:50:15.501 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:50:15.509 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:50:15.510 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:50:15.511 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:50:15.512 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:50:15.513 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:50:15.513 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:50:15.514 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:50:15.514 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:50:15.515 +05:30 [DBG] Authorization was successful.
2025-08-12 16:50:15.516 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:50:15.516 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:50:15.518 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:50:15.519 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:50:15.520 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:50:15.522 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:50:15.523 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:50:15.524 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:50:15.525 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:50:15.527 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:50:15.527 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:50:15.528 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:50:15.529 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:50:15.530 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:50:15.531 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:50:15.532 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:50:15.533 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:50:15.534 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:50:15.535 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:50:15.536 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:50:15.537 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:50:15.537 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:50:15.538 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:15.539 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:15.539 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:50:15.540 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:50:15.541 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:50:15.541 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:50:15.544 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:50:15.546 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:15.546 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:50:15.547 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:15.548 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:50:15.549 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:15.549 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:15.550 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:50:15.551 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:50:15.551 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:50:15.552 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:50:15.555 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:50:15.558 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:15.559 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:15.559 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:15.560 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:15.561 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:15.561 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:15.562 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:15.562 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:15.563 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:15.564 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:15.565 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:15.565 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:15.566 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:15.566 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:15.568 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:15.569 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:15.570 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:15.571 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:15.572 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:15.573 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:15.574 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:15.575 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 16ms reading results.
2025-08-12 16:50:15.576 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:15.576 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:50:15.577 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:50:15.578 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:50:15.579 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:50:15.579 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:50:15.580 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:50:15.580 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:50:15.581 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 56.8906ms
2025-08-12 16:50:15.581 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:50:15.582 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 69ms
2025-08-12 16:50:15.583 +05:30 [DBG] Connection id "0HNEPH6APMD05" completed keep alive response.
2025-08-12 16:50:15.584 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:50:15.585 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:15.586 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:50:15.586 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 85.5931ms
2025-08-12 16:50:23.033 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip - null null
2025-08-12 16:50:23.035 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip'
2025-08-12 16:50:23.036 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:50:23.037 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:50:23.039 +05:30 [DBG] Connection id "0HNEPH6APMD06" accepted.
2025-08-12 16:50:23.040 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:50:23.041 +05:30 [DBG] Connection id "0HNEPH6APMD06" started.
2025-08-12 16:50:23.042 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:50:23.043 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Expense?tripId=9 - null null
2025-08-12 16:50:23.044 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip   Responded with [204] in 6ms
2025-08-12 16:50:23.045 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Expense'
2025-08-12 16:50:23.046 +05:30 [DBG] Connection id "0HNEPH6APMD04" completed keep alive response.
2025-08-12 16:50:23.047 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:50:23.047 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip - null null
2025-08-12 16:50:23.048 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip - 204 null null 14.59ms
2025-08-12 16:50:23.051 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:50:23.053 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip'
2025-08-12 16:50:23.055 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:50:23.056 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip' is valid for the request path '/api/v1/Trip'
2025-08-12 16:50:23.057 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:50:23.057 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:50:23.058 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Expense ?tripId=9  Responded with [204] in 7ms
2025-08-12 16:50:23.059 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:50:23.059 +05:30 [DBG] Connection id "0HNEPH6APMD06" completed keep alive response.
2025-08-12 16:50:23.060 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:50:23.061 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Expense?tripId=9 - 204 null null 17.9368ms
2025-08-12 16:50:23.061 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:50:23.061 +05:30 [DBG] Connection id "0HNEPH6APMD07" accepted.
2025-08-12 16:50:23.070 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:50:23.070 +05:30 [DBG] Connection id "0HNEPH6APMD07" started.
2025-08-12 16:50:23.071 +05:30 [DBG] Authorization was successful.
2025-08-12 16:50:23.072 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Expense?tripId=9 - null null
2025-08-12 16:50:23.073 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:50:23.074 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Expense'
2025-08-12 16:50:23.075 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TravelPlannerAPI.Dtos.TripDto]]] GetTrips() on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:50:23.076 +05:30 [DBG] Endpoint 'BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Expense' is valid for the request path '/api/v1/Expense'
2025-08-12 16:50:23.077 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:50:23.077 +05:30 [DBG] Request matched endpoint 'BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI)'
2025-08-12 16:50:23.078 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:50:23.079 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:50:23.080 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:50:23.080 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:50:23.081 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:50:23.082 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:50:23.083 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:50:23.083 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:50:23.084 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:50:23.085 +05:30 [DBG] Authorization was successful.
2025-08-12 16:50:23.086 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:50:23.086 +05:30 [INF] Executing endpoint 'BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI)'
2025-08-12 16:50:23.087 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:50:23.088 +05:30 [INF] Route matched with {action = "GetExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetExpenses(Int32) on controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI).
2025-08-12 16:50:23.090 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:50:23.091 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:50:23.091 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 16:50:23.092 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:50:23.093 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:23.094 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:50:23.095 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:23.096 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:50:23.097 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:50:23.098 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:50:23.099 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:50:23.100 +05:30 [DBG] Executing controller factory for controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI)
2025-08-12 16:50:23.101 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-12 16:50:23.102 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:50:23.103 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [Trips] AS [t]
LEFT JOIN [reviews] AS [r] ON [t].[Id] = [r].[TripId]
WHERE [t].[UserId] = @__userId_0
ORDER BY [t].[Id]
2025-08-12 16:50:23.104 +05:30 [DBG] Executed controller factory for controller BusinessAPI.Controllers.ExpenseController (TravelPlannerAPI)
2025-08-12 16:50:23.107 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:50:23.108 +05:30 [DBG] Attempting to bind parameter 'tripId' of type 'System.Int32' using the name 'tripId' in request data ...
2025-08-12 16:50:23.109 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [Trips] AS [t]
LEFT JOIN [reviews] AS [r] ON [t].[Id] = [r].[TripId]
WHERE [t].[UserId] = @__userId_0
ORDER BY [t].[Id]
2025-08-12 16:50:23.109 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:50:23.111 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:23.111 +05:30 [DBG] Done attempting to bind parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:50:23.113 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:23.114 +05:30 [DBG] Attempting to validate the bound parameter 'tripId' of type 'System.Int32' ...
2025-08-12 16:50:23.115 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:23.115 +05:30 [DBG] Done attempting to validate the bound parameter 'tripId' of type 'System.Int32'.
2025-08-12 16:50:23.116 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:23.117 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:50:23.118 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:23.118 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 16:50:23.119 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:23.120 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:23.120 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:23.123 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:23.127 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:23.129 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:23.130 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:23.131 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 20ms reading results.
2025-08-12 16:50:23.133 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:50:23.135 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:23.136 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:50:23.137 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-12 16:50:23.138 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-12 16:50:23.139 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:50:23.140 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:50:23.141 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:50:23.143 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:50:23.143 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:50:23.144 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-12 16:50:23.145 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:50:23.147 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:23.147 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:50:23.148 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:23.149 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 65.0749ms
2025-08-12 16:50:23.150 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-12 16:50:23.151 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:50:23.152 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:23.153 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip   Responded with [200] in 94ms
2025-08-12 16:50:23.153 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 16:50:23.154 +05:30 [DBG] Connection id "0HNEPH6APMD05" completed keep alive response.
2025-08-12 16:50:23.156 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:23.157 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:50:23.157 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:23.158 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:23.159 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:50:23.159 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:50:23.160 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:50:23.161 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip - 200 5003 application/json 113.3733ms
2025-08-12 16:50:23.161 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 16:50:23.164 +05:30 [DBG] Executing DbCommand [Parameters=[@__tripId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[Category], [e].[Date], [e].[Description], [e].[TripId], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[TripId] = @__tripId_0
2025-08-12 16:50:23.167 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__tripId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[Category], [e].[Date], [e].[Description], [e].[TripId], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[TripId] = @__tripId_0
2025-08-12 16:50:23.169 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ExpenseModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:23.169 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ExpenseModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:23.170 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ExpenseModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:50:23.171 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:23.172 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-12 16:50:23.173 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:23.174 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:50:23.174 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:50:23.176 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:50:23.176 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:50:23.177 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:50:23.177 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:50:23.178 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Models.ExpenseModel, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:50:23.179 +05:30 [INF] Executed action BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI) in 78.5055ms
2025-08-12 16:50:23.179 +05:30 [INF] Executed endpoint 'BusinessAPI.Controllers.ExpenseController.GetExpenses (TravelPlannerAPI)'
2025-08-12 16:50:23.180 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Expense ?tripId=9  Responded with [200] in 101ms
2025-08-12 16:50:23.181 +05:30 [DBG] Connection id "0HNEPH6APMD07" completed keep alive response.
2025-08-12 16:50:23.182 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:50:23.182 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:50:23.183 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 16:50:23.185 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Expense?tripId=9 - 200 640 application/json 113.2506ms
2025-08-12 16:53:49.587 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:53:49.599 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:53:49.601 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 16:53:49.603 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:53:49.604 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:53:49.605 +05:30 [DBG] The request is a preflight request.
2025-08-12 16:53:49.608 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 4ms
2025-08-12 16:53:49.612 +05:30 [DBG] Connection id "0HNEPH6APMD06" completed keep alive response.
2025-08-12 16:53:49.613 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 25.8878ms
2025-08-12 16:53:49.621 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 16:53:49.630 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 16:53:49.632 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:53:49.633 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 16:53:49.634 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:53:49.635 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 16:53:49.636 +05:30 [INF] CORS policy execution successful.
2025-08-12 16:53:49.637 +05:30 [DBG] Successfully validated the token.
2025-08-12 16:53:49.637 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 16:53:49.639 +05:30 [DBG] Authorization was successful.
2025-08-12 16:53:49.639 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:53:49.640 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 16:53:49.644 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 16:53:49.645 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 16:53:49.647 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:53:49.648 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 16:53:49.650 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 16:53:49.651 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:53:49.653 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 16:53:49.655 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 16:53:49.656 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:53:49.657 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 16:53:49.659 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 16:53:49.661 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 16:53:49.662 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 16:53:49.663 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 16:53:49.664 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:53:49.665 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:53:49.666 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 16:53:49.667 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 16:53:49.668 +05:30 [DBG] Creating DbConnection.
2025-08-12 16:53:49.669 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 16:53:49.670 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:53:49.671 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:53:49.672 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:53:49.672 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:53:49.673 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:53:49.676 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:53:49.683 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 16:53:49.685 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:53:49.686 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 16:53:49.687 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:53:49.688 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:53:49.690 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:53:49.692 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:53:49.693 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 16:53:49.694 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 16:53:49.695 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 16:53:49.696 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:53:49.706 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 16:53:49.709 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:53:49.710 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:53:49.711 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:53:49.712 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:53:49.713 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:53:49.714 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:53:49.715 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:53:49.716 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:53:49.717 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:53:49.718 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:53:49.719 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:53:49.719 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:53:49.720 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:53:49.721 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:53:49.722 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:53:49.724 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:53:49.725 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:53:49.726 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:53:49.727 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:53:49.728 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 16:53:49.729 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:53:49.730 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 20ms reading results.
2025-08-12 16:53:49.731 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:53:49.732 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 16:53:49.733 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 16:53:49.734 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 16:53:49.734 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 16:53:49.735 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 16:53:49.735 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 16:53:49.736 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 16:53:49.737 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 85.5287ms
2025-08-12 16:53:49.738 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 16:53:49.739 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 103ms
2025-08-12 16:53:49.740 +05:30 [DBG] Connection id "0HNEPH6APMD07" completed keep alive response.
2025-08-12 16:53:49.741 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 16:53:49.742 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 16:53:49.743 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 16:53:49.744 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 123.2603ms
2025-08-12 16:55:34.485 +05:30 [DBG] Connection id "0HNEPH6APMD05" received FIN.
2025-08-12 16:55:34.486 +05:30 [DBG] Connection id "0HNEPH6APMD04" received FIN.
2025-08-12 16:55:34.487 +05:30 [DBG] Connection id "0HNEPH6APMD05" disconnecting.
2025-08-12 16:55:34.493 +05:30 [DBG] Connection id "0HNEPH6APMD04" disconnecting.
2025-08-12 16:55:34.493 +05:30 [DBG] Connection id "0HNEPH6APMD05" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 16:55:34.497 +05:30 [DBG] Connection id "0HNEPH6APMD04" stopped.
2025-08-12 16:55:34.502 +05:30 [DBG] Connection id "0HNEPH6APMD05" stopped.
2025-08-12 16:55:34.502 +05:30 [DBG] Connection id "0HNEPH6APMD04" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 16:58:54.327 +05:30 [DBG] Connection id "0HNEPH6APMD07" received FIN.
2025-08-12 16:58:54.327 +05:30 [DBG] Connection id "0HNEPH6APMD06" received FIN.
2025-08-12 16:58:54.332 +05:30 [DBG] Connection id "0HNEPH6APMD07" disconnecting.
2025-08-12 16:58:54.334 +05:30 [DBG] Connection id "0HNEPH6APMD06" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 16:58:54.335 +05:30 [DBG] Connection id "0HNEPH6APMD07" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 16:58:54.340 +05:30 [DBG] Connection id "0HNEPH6APMD06" disconnecting.
2025-08-12 16:58:54.348 +05:30 [DBG] Connection id "0HNEPH6APMD06" stopped.
2025-08-12 16:58:54.356 +05:30 [DBG] Connection id "0HNEPH6APMD07" stopped.
2025-08-12 17:09:52.688 +05:30 [DBG] Connection id "0HNEPH6APMD08" accepted.
2025-08-12 17:09:52.694 +05:30 [DBG] Connection id "0HNEPH6APMD08" started.
2025-08-12 17:09:52.700 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:09:52.703 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:09:52.708 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:09:52.709 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:09:52.711 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:09:52.711 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:09:52.713 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 3ms
2025-08-12 17:09:52.714 +05:30 [DBG] Connection id "0HNEPH6APMD08" completed keep alive response.
2025-08-12 17:09:52.714 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 14.284ms
2025-08-12 17:09:52.716 +05:30 [DBG] Connection id "0HNEPH6APMD09" accepted.
2025-08-12 17:09:52.727 +05:30 [DBG] Connection id "0HNEPH6APMD09" started.
2025-08-12 17:09:52.728 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:09:52.730 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:09:52.731 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:09:52.732 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:09:52.734 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:09:52.735 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:09:52.735 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:09:52.736 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:09:52.737 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:09:52.739 +05:30 [DBG] Authorization was successful.
2025-08-12 17:09:52.739 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:09:52.740 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 17:09:52.741 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:09:52.743 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:09:52.744 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:09:52.747 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:09:52.748 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:09:52.749 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:09:52.751 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:09:52.754 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:09:52.755 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:09:52.756 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 17:09:52.757 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 17:09:52.759 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 17:09:52.760 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 17:09:52.762 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 17:09:52.763 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:09:52.763 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:09:52.764 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:09:52.765 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:09:52.767 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:09:52.767 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:09:52.768 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:09:52.785 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:09:52.789 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:09:52.790 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:09:52.790 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:09:52.791 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:09:52.800 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:09:52.803 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:09:52.804 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:09:52.805 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:09:52.806 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:09:52.808 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:09:52.810 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:09:52.811 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:09:52.812 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:09:52.813 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 17:09:52.814 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:09:52.827 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:09:52.829 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:09:52.830 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:09:52.831 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:09:52.832 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:09:52.833 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:09:52.836 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:09:52.838 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:09:52.840 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:09:52.841 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:09:52.842 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:09:52.844 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:09:52.845 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:09:52.847 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:09:52.848 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:09:52.849 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:09:52.850 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:09:52.853 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:09:52.854 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:09:52.855 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:09:52.856 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:09:52.857 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:09:52.858 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 29ms reading results.
2025-08-12 17:09:52.859 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:09:52.861 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:09:52.863 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:09:52.864 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:09:52.865 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:09:52.865 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:09:52.866 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:09:52.868 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:09:52.869 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 119.8675ms
2025-08-12 17:09:52.870 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:09:52.872 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 137ms
2025-08-12 17:09:52.873 +05:30 [DBG] Connection id "0HNEPH6APMD09" completed keep alive response.
2025-08-12 17:09:52.874 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:09:52.875 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:09:52.877 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 17:09:52.878 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 149.7312ms
2025-08-12 17:10:32.497 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:10:32.507 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:10:32.510 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:10:32.511 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:10:32.512 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:10:32.513 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:10:32.514 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 3ms
2025-08-12 17:10:32.515 +05:30 [DBG] Connection id "0HNEPH6APMD08" completed keep alive response.
2025-08-12 17:10:32.515 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 18.1284ms
2025-08-12 17:10:32.516 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:10:32.525 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:10:32.526 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:10:32.527 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:10:32.529 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:10:32.530 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:10:32.530 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:10:32.531 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:10:32.532 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:10:32.532 +05:30 [DBG] Authorization was successful.
2025-08-12 17:10:32.533 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:10:32.534 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 17:10:32.535 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:10:32.535 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:10:32.536 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:10:32.537 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:10:32.538 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:10:32.539 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:10:32.541 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:10:32.542 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:10:32.543 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:10:32.543 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 17:10:32.544 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 17:10:32.546 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 17:10:32.547 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 17:10:32.548 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 17:10:32.549 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:10:32.549 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:10:32.550 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:10:32.551 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:10:32.552 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:10:32.552 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:10:32.553 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:10:32.554 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:10:32.555 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:10:32.556 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:10:32.557 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 17:10:32.558 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:10:32.565 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:10:32.567 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:10:32.568 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:10:32.569 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:10:32.570 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:10:32.571 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:10:32.572 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:10:32.573 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:10:32.574 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:10:32.575 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:10:32.576 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:10:32.586 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:10:32.589 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:10:32.591 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:10:32.592 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:10:32.593 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:10:32.594 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:10:32.595 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:10:32.596 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:10:32.597 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:10:32.598 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:10:32.598 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:10:32.599 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:10:32.600 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:10:32.601 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:10:32.603 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:10:32.605 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:10:32.606 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:10:32.607 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:10:32.608 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:10:32.610 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:10:32.612 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:10:32.613 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:10:32.614 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 24ms reading results.
2025-08-12 17:10:32.615 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:10:32.616 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:10:32.618 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:10:32.620 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:10:32.620 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:10:32.621 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:10:32.621 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:10:32.622 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:10:32.623 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 84.4198ms
2025-08-12 17:10:32.624 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:10:32.626 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 96ms
2025-08-12 17:10:32.627 +05:30 [DBG] Connection id "0HNEPH6APMD09" completed keep alive response.
2025-08-12 17:10:32.628 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:10:32.629 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:10:32.630 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 17:10:32.631 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 114.7263ms
2025-08-12 17:11:47.236 +05:30 [DBG] Connection id "0HNEPH6APMD09" received FIN.
2025-08-12 17:11:47.241 +05:30 [DBG] Connection id "0HNEPH6APMD08" received FIN.
2025-08-12 17:11:47.242 +05:30 [DBG] Connection id "0HNEPH6APMD09" disconnecting.
2025-08-12 17:11:47.247 +05:30 [DBG] Connection id "0HNEPH6APMD08" disconnecting.
2025-08-12 17:11:47.248 +05:30 [DBG] Connection id "0HNEPH6APMD09" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 17:11:47.251 +05:30 [DBG] Connection id "0HNEPH6APMD08" stopped.
2025-08-12 17:11:47.259 +05:30 [DBG] Connection id "0HNEPH6APMD09" stopped.
2025-08-12 17:11:47.261 +05:30 [DBG] Connection id "0HNEPH6APMD08" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 17:11:55.971 +05:30 [DBG] Connection id "0HNEPH6APMD0A" accepted.
2025-08-12 17:11:55.973 +05:30 [DBG] Connection id "0HNEPH6APMD0A" started.
2025-08-12 17:11:55.974 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:11:55.977 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:11:55.978 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:11:55.979 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:11:55.980 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:11:55.981 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:11:55.982 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 3ms
2025-08-12 17:11:55.985 +05:30 [DBG] Connection id "0HNEPH6APMD0A" completed keep alive response.
2025-08-12 17:11:55.986 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 12.1521ms
2025-08-12 17:11:55.987 +05:30 [DBG] Connection id "0HNEPH6APMD0B" accepted.
2025-08-12 17:11:55.989 +05:30 [DBG] Connection id "0HNEPH6APMD0B" started.
2025-08-12 17:11:55.990 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:11:55.992 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:11:55.993 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:11:55.994 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:11:55.995 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:11:55.996 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:11:55.996 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:11:55.997 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:11:55.998 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:11:56.000 +05:30 [DBG] Authorization was successful.
2025-08-12 17:11:56.001 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:11:56.001 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 17:11:56.003 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:11:56.003 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:11:56.004 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:11:56.006 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:11:56.007 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:11:56.008 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:11:56.010 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:11:56.011 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:11:56.012 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:11:56.013 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 17:11:56.014 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 17:11:56.017 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 17:11:56.017 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 17:11:56.018 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 17:11:56.019 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:11:56.020 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:11:56.021 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:11:56.021 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:11:56.023 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:11:56.023 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:11:56.024 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:11:56.025 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:11:56.026 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:11:56.026 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:11:56.027 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:11:56.028 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:11:56.035 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:11:56.037 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:11:56.037 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:11:56.038 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:11:56.039 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:11:56.040 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:11:56.041 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:11:56.042 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:11:56.043 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:11:56.044 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:11:56.044 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:11:56.054 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:11:56.057 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:11:56.059 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:11:56.060 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:11:56.061 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:11:56.062 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:11:56.063 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:11:56.065 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:11:56.066 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:11:56.066 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:11:56.067 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:11:56.068 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:11:56.068 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:11:56.070 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:11:56.071 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:11:56.071 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:11:56.072 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:11:56.073 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:11:56.074 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:11:56.075 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:11:56.076 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:11:56.077 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:11:56.078 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 20ms reading results.
2025-08-12 17:11:56.078 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:11:56.079 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:11:56.081 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:11:56.082 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:11:56.083 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:11:56.084 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:11:56.084 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:11:56.085 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:11:56.086 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 77.784ms
2025-08-12 17:11:56.087 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:11:56.088 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 92ms
2025-08-12 17:11:56.089 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:11:56.089 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:11:56.090 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:11:56.091 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:11:56.093 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 102.4474ms
2025-08-12 17:13:29.493 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:13:29.507 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:13:29.508 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:13:29.509 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:13:29.510 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:13:29.510 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:13:29.511 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 2ms
2025-08-12 17:13:29.511 +05:30 [DBG] Connection id "0HNEPH6APMD0A" completed keep alive response.
2025-08-12 17:13:29.512 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 19.266ms
2025-08-12 17:13:29.513 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:13:29.515 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:13:29.516 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:13:29.517 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:13:29.518 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:13:29.518 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:13:29.519 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:13:29.519 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:13:29.520 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:13:29.520 +05:30 [DBG] Authorization was successful.
2025-08-12 17:13:29.523 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:13:29.523 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 17:13:29.524 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:13:29.525 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:13:29.526 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:13:29.527 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:13:29.528 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:13:29.529 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:13:29.530 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:13:29.531 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:13:29.532 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:13:29.533 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 17:13:29.533 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 17:13:29.534 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 17:13:29.535 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 17:13:29.536 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 17:13:29.538 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:13:29.539 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:13:29.540 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:13:29.540 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:13:29.542 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:13:29.543 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:13:29.544 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:13:29.545 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:13:29.547 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:13:29.548 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:13:29.548 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:13:29.549 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:13:29.558 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:13:29.560 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:13:29.561 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:13:29.562 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:13:29.562 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:13:29.564 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:13:29.565 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:13:29.565 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:13:29.566 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:13:29.567 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:13:29.567 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:13:29.579 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:13:29.581 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:13:29.582 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:13:29.583 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:13:29.584 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:13:29.585 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:13:29.586 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:13:29.587 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:13:29.588 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:13:29.589 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:13:29.590 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:13:29.591 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:13:29.592 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:13:29.592 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:13:29.593 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:13:29.594 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:13:29.595 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:13:29.596 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:13:29.596 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:13:29.597 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:13:29.598 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:13:29.599 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:13:29.600 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 18ms reading results.
2025-08-12 17:13:29.602 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:13:29.603 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:13:29.605 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:13:29.606 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:13:29.607 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:13:29.607 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:13:29.608 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:13:29.609 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:13:29.609 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 80.5285ms
2025-08-12 17:13:29.610 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:13:29.611 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 93ms
2025-08-12 17:13:29.612 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:13:29.613 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:13:29.614 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:13:29.615 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 17:13:29.616 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 103.4307ms
2025-08-12 17:14:20.187 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/signup - null null
2025-08-12 17:14:20.192 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/signup'
2025-08-12 17:14:20.193 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:14:20.194 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:20.195 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:20.196 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:14:20.197 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/signup   Responded with [204] in 2ms
2025-08-12 17:14:20.198 +05:30 [DBG] Connection id "0HNEPH6APMD0A" completed keep alive response.
2025-08-12 17:14:20.198 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/signup - 204 null null 11.6234ms
2025-08-12 17:14:20.205 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/signup - application/json 68
2025-08-12 17:14:20.207 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/signup'
2025-08-12 17:14:20.208 +05:30 [DBG] Endpoint 'AuthController.Signup (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/signup' is valid for the request path '/api/v1/Auth/signup'
2025-08-12 17:14:20.213 +05:30 [DBG] Request matched endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-12 17:14:20.213 +05:30 [DBG] Connection id "0HNEPH6APMD0A", Request id "0HNEPH6APMD0A:00000004": started reading request body.
2025-08-12 17:14:20.214 +05:30 [DBG] Connection id "0HNEPH6APMD0A", Request id "0HNEPH6APMD0A:00000004": done reading request body.
2025-08-12 17:14:20.215 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:20.216 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:20.217 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 17:14:20.217 +05:30 [INF] Executing endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-12 17:14:20.218 +05:30 [INF] Route matched with {action = "Signup", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Signup(TravelPlannerAPI.Dtos.SignupRequest) on controller AuthController (TravelPlannerAPI).
2025-08-12 17:14:20.219 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:14:20.220 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:14:20.221 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:20.223 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:14:20.224 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:20.226 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 17:14:20.228 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:14:20.230 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 17:14:20.231 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' ...
2025-08-12 17:14:20.232 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' using the name '' in request data ...
2025-08-12 17:14:20.233 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 17:14:20.234 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.SignupRequest'
2025-08-12 17:14:20.234 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-12 17:14:20.235 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-12 17:14:20.236 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' ...
2025-08-12 17:14:20.237 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-12 17:14:20.238 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:14:20.239 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:14:20.239 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:20.240 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:20.242 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:20.243 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:20.244 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 17:14:20.245 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 17:14:20.251 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 17:14:20.253 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:20.254 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:14:20.255 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:20.256 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:20.321 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:20.323 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:20.324 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:20.324 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:20.325 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:20.326 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 17:14:20.331 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 17:14:20.332 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:20.333 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:14:20.334 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:20.335 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:20.338 +05:30 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'UserModel.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:20.339 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:20.340 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 17:14:20.341 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 17:14:20.342 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 17:14:20.343 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:20.344 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:20.345 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:20.346 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:20.347 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:20.348 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [IsActive], [IsAdmin], [LastLoginDate], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-08-12 17:14:20.353 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [IsActive], [IsAdmin], [LastLoginDate], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-08-12 17:14:20.355 +05:30 [DBG] The foreign key property 'UserModel.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 17:14:20.356 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:20.357 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 17:14:20.358 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:20.359 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:14:20.360 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:20.362 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 17:14:20.363 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:14:20.365 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:14:20.365 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:14:20.366 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:14:20.366 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:14:20.367 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 17:14:20.368 +05:30 [INF] Executed action AuthController.Signup (TravelPlannerAPI) in 141.4486ms
2025-08-12 17:14:20.369 +05:30 [INF] Executed endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-12 17:14:20.370 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/signup  {"Name":"Reeba","Email":"reeba@gmail.com","Password":"Password@123"} Responded with [200] in 156ms
2025-08-12 17:14:20.371 +05:30 [DBG] Connection id "0HNEPH6APMD0A" completed keep alive response.
2025-08-12 17:14:20.372 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:14:20.373 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:20.374 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 17:14:20.375 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/signup - 200 120 application/json 169.4457ms
2025-08-12 17:14:25.965 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-12 17:14:25.972 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 17:14:25.973 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:14:25.973 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:25.974 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:25.975 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:14:25.978 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 4ms
2025-08-12 17:14:25.978 +05:30 [DBG] Connection id "0HNEPH6APMD0A" completed keep alive response.
2025-08-12 17:14:25.980 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 14.5688ms
2025-08-12 17:14:25.982 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 53
2025-08-12 17:14:25.985 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 17:14:25.986 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-12 17:14:25.987 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 17:14:25.988 +05:30 [DBG] Connection id "0HNEPH6APMD0A", Request id "0HNEPH6APMD0A:00000006": started reading request body.
2025-08-12 17:14:25.989 +05:30 [DBG] Connection id "0HNEPH6APMD0A", Request id "0HNEPH6APMD0A:00000006": done reading request body.
2025-08-12 17:14:25.990 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:25.990 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:25.991 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 17:14:25.992 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 17:14:25.993 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-12 17:14:25.995 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:14:25.996 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:14:25.996 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:25.998 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:14:25.999 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:26.000 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 17:14:26.001 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:14:26.003 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 17:14:26.004 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 17:14:26.004 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-12 17:14:26.005 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 17:14:26.006 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-12 17:14:26.007 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 17:14:26.009 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 17:14:26.010 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 17:14:26.010 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 17:14:26.011 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:14:26.012 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:14:26.012 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.013 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.014 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:26.015 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:26.015 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:26.016 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 17:14:26.019 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 17:14:26.021 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:26.021 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.022 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:14:26.024 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.025 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:26.074 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.076 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.077 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:26.077 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:26.078 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:26.079 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 17:14:26.081 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 17:14:26.083 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.084 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:14:26.085 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.086 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:26.087 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:26.089 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 17:14:26.090 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 17:14:26.090 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 17:14:26.091 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.092 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.093 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:26.094 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:26.094 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:26.095 +05:30 [DBG] Executing DbCommand [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 17:14:26.102 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 17:14:26.105 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.105 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:14:26.106 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.107 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:26.108 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:26.109 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 17:14:26.110 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:14:26.112 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:14:26.113 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:14:26.113 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:14:26.114 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:14:26.114 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:14:26.115 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 115.4259ms
2025-08-12 17:14:26.116 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 17:14:26.117 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"reeba@gmail.com","password":"Password@123"} Responded with [200] in 129ms
2025-08-12 17:14:26.118 +05:30 [DBG] Connection id "0HNEPH6APMD0A" completed keep alive response.
2025-08-12 17:14:26.121 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:14:26.122 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.123 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:14:26.126 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 895 application/json 143.8267ms
2025-08-12 17:14:26.130 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:14:26.134 +05:30 [DBG] Connection id "0HNEPH6APMD0C" accepted.
2025-08-12 17:14:26.143 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:14:26.143 +05:30 [DBG] Connection id "0HNEPH6APMD0C" started.
2025-08-12 17:14:26.144 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:14:26.145 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:14:26.145 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:26.148 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:14:26.149 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:26.150 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:14:26.150 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:14:26.151 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:26.152 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 6ms
2025-08-12 17:14:26.153 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:26.154 +05:30 [DBG] Connection id "0HNEPH6APMD0A" completed keep alive response.
2025-08-12 17:14:26.155 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:14:26.156 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:14:26.159 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 8ms
2025-08-12 17:14:26.156 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 26.665ms
2025-08-12 17:14:26.166 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:14:26.166 +05:30 [DBG] Connection id "0HNEPH6APMD0C" completed keep alive response.
2025-08-12 17:14:26.170 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:14:26.171 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 26.0391ms
2025-08-12 17:14:26.172 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:14:26.177 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:14:26.178 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:26.178 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:26.179 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:14:26.180 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:14:26.180 +05:30 [DBG] Authorization was successful.
2025-08-12 17:14:26.181 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:14:26.182 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 17:14:26.183 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:14:26.184 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:14:26.185 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:26.187 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:14:26.189 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:26.190 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:14:26.191 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:14:26.193 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:14:26.195 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:14:26.196 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 17:14:26.197 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 17:14:26.199 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 17:14:26.199 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 17:14:26.201 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 17:14:26.202 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:14:26.203 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:14:26.204 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:14:26.205 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:14:26.206 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:14:26.207 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:14:26.208 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.210 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.211 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:26.212 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:26.213 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:26.214 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:14:26.221 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:14:26.223 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.224 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:14:26.224 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.225 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:26.227 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.228 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.229 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:26.230 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:26.230 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:26.231 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:14:26.244 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:14:26.246 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.247 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:14:26.248 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.249 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:26.250 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:14:26.253 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:14:26.253 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:14:26.254 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:14:26.254 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:14:26.255 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:14:26.256 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 66.2756ms
2025-08-12 17:14:26.257 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:14:26.260 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 81ms
2025-08-12 17:14:26.261 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:14:26.262 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:14:26.263 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.264 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:14:26.264 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 108.181ms
2025-08-12 17:14:26.266 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:14:26.267 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:14:26.268 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:14:26.269 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:14:26.270 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:14:26.270 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:26.271 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:26.271 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:14:26.272 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:14:26.272 +05:30 [DBG] Authorization was successful.
2025-08-12 17:14:26.272 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:14:26.273 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 17:14:26.274 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:14:26.275 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:14:26.276 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:26.277 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:14:26.278 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:26.278 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:14:26.280 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:14:26.281 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:14:26.281 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:14:26.283 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 17:14:26.284 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 17:14:26.285 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 17:14:26.285 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 17:14:26.286 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 17:14:26.287 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:14:26.287 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:14:26.288 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:14:26.289 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:14:26.290 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:14:26.290 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:14:26.291 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.291 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.292 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:26.293 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:26.294 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:26.294 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:14:26.297 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:14:26.298 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.299 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:14:26.300 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.301 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:26.302 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.303 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.304 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:26.304 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:26.305 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:26.307 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:14:26.310 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:14:26.311 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.312 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:14:26.313 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.314 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:26.315 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:14:26.316 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:14:26.316 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:14:26.317 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:14:26.317 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:14:26.318 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:14:26.319 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 40.6983ms
2025-08-12 17:14:26.320 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:14:26.321 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 50ms
2025-08-12 17:14:26.323 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:14:26.324 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:14:26.325 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:26.326 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 17:14:26.326 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 60.1225ms
2025-08-12 17:14:28.062 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/101 - null null
2025-08-12 17:14:28.064 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/101'
2025-08-12 17:14:28.066 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:14:28.068 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:28.070 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:28.070 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:14:28.072 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/101   Responded with [204] in 3ms
2025-08-12 17:14:28.072 +05:30 [DBG] Connection id "0HNEPH6APMD0C" completed keep alive response.
2025-08-12 17:14:28.073 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/101 - 204 null null 10.638ms
2025-08-12 17:14:28.074 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/101 - null null
2025-08-12 17:14:28.077 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/101'
2025-08-12 17:14:28.078 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/101'
2025-08-12 17:14:28.079 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 17:14:28.080 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:28.080 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:28.081 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:14:28.081 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:14:28.082 +05:30 [DBG] Authorization was successful.
2025-08-12 17:14:28.083 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 17:14:28.084 +05:30 [INF] Route matched with {action = "GetTrip", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TravelPlannerAPI.Dtos.TripDto]] GetTrip(Int32) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 17:14:28.085 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:14:28.086 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:14:28.087 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:28.089 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:14:28.090 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:28.091 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:14:28.093 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:14:28.094 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:14:28.095 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-12 17:14:28.096 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-12 17:14:28.097 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 17:14:28.097 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 17:14:28.098 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-12 17:14:28.099 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-12 17:14:28.101 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:14:28.102 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:14:28.102 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:28.103 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:28.104 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:28.105 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:28.105 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:28.106 +05:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-12 17:14:28.112 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-12 17:14:28.115 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:28.115 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:14:28.116 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:28.117 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:28.118 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:14:28.120 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:14:28.120 +05:30 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-08-12 17:14:28.122 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-08-12 17:14:28.122 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-08-12 17:14:28.123 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI) in 32.4789ms
2025-08-12 17:14:28.124 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 17:14:28.125 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/101   Responded with [404] in 45ms
2025-08-12 17:14:28.126 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:14:28.127 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:14:28.129 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:28.130 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:14:28.131 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/101 - 404 285 application/json 57.7274ms
2025-08-12 17:14:30.108 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip - null null
2025-08-12 17:14:30.110 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip'
2025-08-12 17:14:30.111 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:14:30.112 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:30.113 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:30.113 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:14:30.114 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip   Responded with [204] in 2ms
2025-08-12 17:14:30.115 +05:30 [DBG] Connection id "0HNEPH6APMD0C" completed keep alive response.
2025-08-12 17:14:30.116 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip - 204 null null 7.5611ms
2025-08-12 17:14:30.116 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Trip - application/json 475
2025-08-12 17:14:30.121 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip'
2025-08-12 17:14:30.121 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.CreateTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip' is valid for the request path '/api/v1/Trip'
2025-08-12 17:14:30.122 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.CreateTrip (TravelPlannerAPI)'
2025-08-12 17:14:30.123 +05:30 [DBG] Connection id "0HNEPH6APMD0B", Request id "0HNEPH6APMD0B:00000006": started reading request body.
2025-08-12 17:14:30.124 +05:30 [DBG] Connection id "0HNEPH6APMD0B", Request id "0HNEPH6APMD0B:00000006": done reading request body.
2025-08-12 17:14:30.125 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:30.125 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:30.126 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:14:30.127 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:14:30.128 +05:30 [DBG] Authorization was successful.
2025-08-12 17:14:30.128 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.CreateTrip (TravelPlannerAPI)'
2025-08-12 17:14:30.129 +05:30 [INF] Route matched with {action = "CreateTrip", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TravelPlannerAPI.Dtos.TripDto]] CreateTrip(TravelPlannerAPI.Dtos.TripCreateDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 17:14:30.130 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:14:30.131 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:14:30.132 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:30.133 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:14:30.134 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:30.137 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:14:30.138 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:14:30.139 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:14:30.140 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripCreateDto' ...
2025-08-12 17:14:30.141 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripCreateDto' using the name '' in request data ...
2025-08-12 17:14:30.142 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 17:14:30.143 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TripCreateDto'
2025-08-12 17:14:30.144 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripCreateDto'.
2025-08-12 17:14:30.145 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripCreateDto'.
2025-08-12 17:14:30.146 +05:30 [DBG] Attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripCreateDto' ...
2025-08-12 17:14:30.147 +05:30 [DBG] Done attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripCreateDto'.
2025-08-12 17:14:30.148 +05:30 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'TripModel.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:30.150 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:30.151 +05:30 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'BudgetDetailsModel.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:30.152 +05:30 [DBG] The navigation 'BudgetDetailsModel.Trip' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:30.153 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:30.154 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 17:14:30.155 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 17:14:30.156 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 17:14:30.157 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:14:30.158 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:14:30.159 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:30.159 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:30.160 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-12 17:14:30.161 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-12 17:14:30.162 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:30.163 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:30.164 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:30.165 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Trips] ([BestTime], [Budget], [Description], [Destination], [Duration], [EndDate], [EssentialsJson], [Image], [Notes], [StartDate], [Title], [TouristSpotsJson], [TravelMode], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-08-12 17:14:30.170 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Trips] ([BestTime], [Budget], [Description], [Destination], [Duration], [EndDate], [EssentialsJson], [Image], [Notes], [StartDate], [Title], [TouristSpotsJson], [TravelMode], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-08-12 17:14:30.172 +05:30 [DBG] The foreign key property 'TripModel.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 17:14:30.173 +05:30 [DBG] The foreign key property 'BudgetDetailsModel.TripId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 17:14:30.174 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:30.175 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-12 17:14:30.176 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:30.177 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:30.178 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:30.179 +05:30 [DBG] Executing DbCommand [Parameters=[@p14='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p15='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [budgetdetails] ([Food], [Hotel], [TripId])
OUTPUT INSERTED.[Id]
VALUES (@p14, @p15, @p16);
2025-08-12 17:14:30.185 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p14='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p15='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [budgetdetails] ([Food], [Hotel], [TripId])
OUTPUT INSERTED.[Id]
VALUES (@p14, @p15, @p16);
2025-08-12 17:14:30.187 +05:30 [DBG] The foreign key property 'BudgetDetailsModel.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 17:14:30.188 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:30.189 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:14:30.190 +05:30 [DBG] Committing transaction.
2025-08-12 17:14:30.191 +05:30 [DBG] Committed transaction.
2025-08-12 17:14:30.192 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:30.193 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:30.194 +05:30 [DBG] Disposing transaction.
2025-08-12 17:14:30.194 +05:30 [DBG] An entity of type 'TripModel' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:30.195 +05:30 [DBG] An entity of type 'BudgetDetailsModel' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:30.197 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2025-08-12 17:14:30.199 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:14:30.201 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:14:30.201 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:14:30.202 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:14:30.202 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:14:30.203 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'TravelPlannerAPI.Dtos.TripDto'.
2025-08-12 17:14:30.204 +05:30 [DBG] Found the endpoints ["TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)"] for address (id=[27],version=[1],action=[GetTrip],controller=[Trip])
2025-08-12 17:14:30.206 +05:30 [DBG] Successfully processed template api/v{version:apiVersion}/Trip/{id} for TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI) resulting in /api/v1/Trip/27 and 
2025-08-12 17:14:30.207 +05:30 [DBG] Link generation succeeded for endpoints ["TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)"] with result /api/v1/Trip/27
2025-08-12 17:14:30.208 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.CreateTrip (TravelPlannerAPI) in 71.3135ms
2025-08-12 17:14:30.209 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.CreateTrip (TravelPlannerAPI)'
2025-08-12 17:14:30.210 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Trip  {"id":101,"title":"Beach Getaway","destination":"Goa, India","startDate":"2025-01-01","endDate":"2025-01-05","budget":0,"travelMode":"Not specified","notes":"","userId":16,"image":"trips/beach.jpg","description":"Relax on sunny beaches and enjoy seafood.","duration":"7 Days","bestTime":"October to March","essentials":["Sunscreen","Swimwear","Sunglasses","Flip-flops"],"touristSpots":["Baga Beach","Fort Aguada","Dudhsagar Falls"],"budgetDetails":{"food":3000,"hotel":6000}} Responded with [201] in 87ms
2025-08-12 17:14:30.211 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:14:30.212 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:14:30.215 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:30.216 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:14:30.217 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Trip - 201 781 application/json 101.0974ms
2025-08-12 17:14:30.221 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:14:30.225 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:14:30.228 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:14:30.229 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:14:30.230 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:14:30.231 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:30.232 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:30.233 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:14:30.234 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:14:30.235 +05:30 [DBG] Authorization was successful.
2025-08-12 17:14:30.235 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:14:30.236 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 17:14:30.239 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:14:30.240 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:14:30.241 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:30.242 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:14:30.243 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:30.245 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:14:30.247 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:14:30.248 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:14:30.249 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:14:30.251 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 17:14:30.252 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 17:14:30.254 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 17:14:30.255 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 17:14:30.257 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 17:14:30.258 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:14:30.260 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:14:30.261 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:14:30.262 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:14:30.263 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:14:30.263 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:14:30.264 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:30.265 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:30.266 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:30.266 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:30.267 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:30.268 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:14:30.270 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:14:30.272 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:30.273 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:14:30.274 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:30.275 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:30.276 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:30.277 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:30.278 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:30.278 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:30.279 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:30.280 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:14:30.283 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:14:30.284 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:30.285 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:30.286 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:30.287 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:30.288 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-12 17:14:30.288 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:30.289 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:30.290 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:14:30.292 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:14:30.292 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:14:30.292 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:14:30.294 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:14:30.294 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:14:30.295 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 50.7291ms
2025-08-12 17:14:30.296 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:14:30.297 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 65ms
2025-08-12 17:14:30.298 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:14:30.299 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:14:30.300 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:30.301 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:14:30.302 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 1029 application/json 80.6294ms
2025-08-12 17:14:31.770 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/101 - null null
2025-08-12 17:14:31.772 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/101'
2025-08-12 17:14:31.773 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/101'
2025-08-12 17:14:31.774 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 17:14:31.775 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:31.776 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:31.777 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:14:31.777 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:14:31.778 +05:30 [DBG] Authorization was successful.
2025-08-12 17:14:31.779 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 17:14:31.779 +05:30 [INF] Route matched with {action = "GetTrip", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TravelPlannerAPI.Dtos.TripDto]] GetTrip(Int32) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 17:14:31.781 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:14:31.782 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:14:31.783 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:31.784 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:14:31.787 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:31.788 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:14:31.790 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:14:31.791 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:14:31.792 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-12 17:14:31.793 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-12 17:14:31.795 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 17:14:31.795 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 17:14:31.796 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-12 17:14:31.797 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-12 17:14:31.798 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:14:31.798 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:14:31.799 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:31.799 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:31.800 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:31.801 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:31.802 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:31.802 +05:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-12 17:14:31.805 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-12 17:14:31.807 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:31.808 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:14:31.810 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:31.811 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:31.812 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:14:31.813 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:14:31.814 +05:30 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-08-12 17:14:31.815 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-08-12 17:14:31.816 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-08-12 17:14:31.817 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI) in 28.5289ms
2025-08-12 17:14:31.817 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 17:14:31.818 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/101   Responded with [404] in 43ms
2025-08-12 17:14:31.819 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:14:31.820 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:14:31.821 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:31.822 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 17:14:31.823 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/101 - 404 285 application/json 52.3203ms
2025-08-12 17:14:37.429 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:14:37.431 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:14:37.432 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:14:37.433 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:37.437 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:37.440 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:14:37.444 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 10ms
2025-08-12 17:14:37.445 +05:30 [DBG] Connection id "0HNEPH6APMD0C" completed keep alive response.
2025-08-12 17:14:37.446 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 17.0016ms
2025-08-12 17:14:37.449 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:14:37.454 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:14:37.455 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:14:37.459 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:14:37.462 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:14:37.463 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:37.464 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:37.465 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:14:37.466 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:14:37.467 +05:30 [DBG] Authorization was successful.
2025-08-12 17:14:37.467 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:14:37.468 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 17:14:37.471 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:14:37.473 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:14:37.475 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:37.478 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:14:37.480 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:37.482 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:14:37.484 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:14:37.486 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:14:37.488 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:14:37.489 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 17:14:37.491 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 17:14:37.493 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 17:14:37.495 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 17:14:37.496 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 17:14:37.498 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:14:37.499 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:14:37.501 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:14:37.502 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:14:37.504 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:14:37.505 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:14:37.506 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:37.507 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:37.509 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:37.510 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:37.511 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:37.512 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:14:37.514 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:14:37.518 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:37.520 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:14:37.521 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:37.522 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:14:37.524 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:37.526 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:37.527 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:37.528 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:37.529 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 17:14:37.530 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:14:37.535 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:14:37.537 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:37.538 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:37.539 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:37.541 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:37.542 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-12 17:14:37.543 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:37.544 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:37.545 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:14:37.547 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:14:37.549 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:14:37.549 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:14:37.550 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:14:37.550 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:14:37.551 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 69.872ms
2025-08-12 17:14:37.552 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:14:37.553 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 90ms
2025-08-12 17:14:37.554 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:14:37.555 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:14:37.556 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:37.557 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:14:37.559 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 1029 application/json 110.347ms
2025-08-12 17:14:45.814 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-12 17:14:45.816 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 17:14:45.817 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:14:45.818 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:45.819 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:45.819 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:14:45.820 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 2ms
2025-08-12 17:14:45.821 +05:30 [DBG] Connection id "0HNEPH6APMD0C" completed keep alive response.
2025-08-12 17:14:45.822 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 7.7743ms
2025-08-12 17:14:45.824 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 51
2025-08-12 17:14:45.828 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 17:14:45.829 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-12 17:14:45.830 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 17:14:45.831 +05:30 [DBG] Connection id "0HNEPH6APMD0C", Request id "0HNEPH6APMD0C:00000006": started reading request body.
2025-08-12 17:14:45.832 +05:30 [DBG] Connection id "0HNEPH6APMD0C", Request id "0HNEPH6APMD0C:00000006": done reading request body.
2025-08-12 17:14:45.833 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:45.834 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:45.834 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 17:14:45.835 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 17:14:45.836 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-12 17:14:45.837 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:14:45.838 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:14:45.839 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:45.840 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:14:45.842 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:45.844 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 17:14:45.845 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:14:45.847 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 17:14:45.848 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 17:14:45.849 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-12 17:14:45.850 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 17:14:45.851 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-12 17:14:45.852 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 17:14:45.852 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 17:14:45.853 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 17:14:45.854 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 17:14:45.855 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:14:45.856 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:14:45.858 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:45.859 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:45.860 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:45.861 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:45.862 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:45.862 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 17:14:45.867 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 17:14:45.869 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:45.870 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:45.871 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:14:45.872 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:45.874 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:14:45.928 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:45.929 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:45.930 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:45.930 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:45.931 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:45.932 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 17:14:45.937 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 17:14:45.939 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:45.940 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:14:45.941 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:45.942 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:45.943 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:45.944 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 17:14:45.945 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 17:14:45.946 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 17:14:45.947 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:45.948 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:45.949 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:45.949 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:45.950 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:45.952 +05:30 [DBG] Executing DbCommand [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 17:14:45.960 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 17:14:45.961 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:45.962 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:14:45.963 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:45.964 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:45.965 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:45.966 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 17:14:45.967 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:14:45.969 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:14:45.970 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:14:45.970 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:14:45.971 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:14:45.972 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:14:45.973 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 128.9977ms
2025-08-12 17:14:45.973 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 17:14:45.974 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"admin@gmail.com","password":"Admin@1234"} Responded with [200] in 143ms
2025-08-12 17:14:45.975 +05:30 [DBG] Connection id "0HNEPH6APMD0C" completed keep alive response.
2025-08-12 17:14:45.976 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:14:45.977 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:45.978 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:14:45.979 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:14:45.982 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 893 application/json 157.7455ms
2025-08-12 17:14:45.981 +05:30 [DBG] Connection id "0HNEPH6APMD0D" accepted.
2025-08-12 17:14:45.989 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:14:45.993 +05:30 [DBG] Connection id "0HNEPH6APMD0E" accepted.
2025-08-12 17:14:45.994 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:14:46.004 +05:30 [DBG] Connection id "0HNEPH6APMD0F" accepted.
2025-08-12 17:14:45.991 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:14:46.005 +05:30 [DBG] Connection id "0HNEPH6APMD0F" started.
2025-08-12 17:14:46.001 +05:30 [DBG] Connection id "0HNEPH6APMD0E" started.
2025-08-12 17:14:46.004 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:45.992 +05:30 [DBG] Connection id "0HNEPH6APMD0D" started.
2025-08-12 17:14:46.010 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:14:46.011 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:14:46.013 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:14:46.014 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:46.015 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:14:46.016 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:14:46.017 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:14:46.020 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:14:46.020 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:14:46.022 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:14:46.023 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:14:46.023 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:14:46.022 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:46.024 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 19ms
2025-08-12 17:14:46.025 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:14:46.026 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:46.027 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:46.029 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:46.031 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:46.034 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:14:46.028 +05:30 [DBG] Connection id "0HNEPH6APMD0A" completed keep alive response.
2025-08-12 17:14:46.036 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:14:46.027 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:46.037 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/users   Responded with [204] in 10ms
2025-08-12 17:14:46.037 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 57.6844ms
2025-08-12 17:14:46.038 +05:30 [DBG] Connection id "0HNEPH6APMD0F" completed keep alive response.
2025-08-12 17:14:46.038 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 10ms
2025-08-12 17:14:46.038 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:14:46.028 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:46.047 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - 204 null null 35.8998ms
2025-08-12 17:14:46.047 +05:30 [DBG] Connection id "0HNEPH6APMD0E" completed keep alive response.
2025-08-12 17:14:46.048 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 25ms
2025-08-12 17:14:46.048 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:46.029 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:14:46.040 +05:30 [DBG] Connection id "0HNEPH6APMD0G" accepted.
2025-08-12 17:14:46.051 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 38.0477ms
2025-08-12 17:14:46.054 +05:30 [DBG] Connection id "0HNEPH6APMD0G" started.
2025-08-12 17:14:46.051 +05:30 [DBG] Connection id "0HNEPH6APMD0C" completed keep alive response.
2025-08-12 17:14:46.052 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:14:46.053 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:14:46.057 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:14:46.057 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 66.2794ms
2025-08-12 17:14:46.058 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 29ms
2025-08-12 17:14:46.059 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:14:46.060 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:14:46.062 +05:30 [DBG] Connection id "0HNEPH6APMD0D" completed keep alive response.
2025-08-12 17:14:46.063 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:14:46.063 +05:30 [DBG] Endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/users' is valid for the request path '/api/v1/Admin/users'
2025-08-12 17:14:46.064 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 49.2416ms
2025-08-12 17:14:46.065 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:14:46.066 +05:30 [DBG] Request matched endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:14:46.068 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:46.068 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:46.069 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:46.070 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:46.071 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:14:46.071 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:14:46.072 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:14:46.072 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:14:46.073 +05:30 [DBG] Authorization was successful.
2025-08-12 17:14:46.073 +05:30 [DBG] Authorization was successful.
2025-08-12 17:14:46.074 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:14:46.074 +05:30 [INF] Executing endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:14:46.075 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 17:14:46.075 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller AdminController (TravelPlannerAPI).
2025-08-12 17:14:46.076 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:14:46.077 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:14:46.078 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:14:46.079 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:14:46.079 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:46.080 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:46.081 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:14:46.082 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:14:46.083 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:46.084 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:46.085 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:14:46.086 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:14:46.087 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:14:46.088 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:14:46.088 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:14:46.089 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:14:46.090 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:14:46.091 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 17:14:46.091 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:14:46.092 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 17:14:46.093 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 17:14:46.097 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 17:14:46.097 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.098 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 17:14:46.099 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.100 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 17:14:46.100 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:46.101 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:14:46.101 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:46.102 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:14:46.103 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 17:14:46.103 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:14:46.104 +05:30 [DBG] Executing DbCommand [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:14:46.105 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:14:46.109 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:14:46.109 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:14:46.110 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.124 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.124 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:14:46.127 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:46.129 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:46.129 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 17:14:46.130 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:46.131 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 17:14:46.132 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:46.132 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:14:46.134 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:46.135 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:46.136 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:46.137 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:46.138 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:46.138 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:46.139 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:14:46.139 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:46.142 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.143 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:14:46.144 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.145 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:46.147 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.148 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.149 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:46.150 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:46.150 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:46.150 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:46.151 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:46.152 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:14:46.153 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:46.155 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:46.157 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:46.158 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:46.159 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:46.159 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:46.160 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:46.161 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:46.162 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:46.163 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.164 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 35ms reading results.
2025-08-12 17:14:46.164 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:14:46.165 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.166 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.167 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-12 17:14:46.168 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:14:46.168 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:14:46.169 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.170 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:14:46.171 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:14:46.172 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:14:46.173 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:14:46.173 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:14:46.175 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:14:46.175 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:14:46.176 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:14:46.176 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.AdminUserDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:14:46.177 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:14:46.178 +05:30 [INF] Executed action AdminController.GetAllUsers (TravelPlannerAPI) in 91.9135ms
2025-08-12 17:14:46.178 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:14:46.179 +05:30 [INF] Executed endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:14:46.179 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:14:46.181 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Admin/users   Responded with [200] in 112ms
2025-08-12 17:14:46.181 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 96.2835ms
2025-08-12 17:14:46.182 +05:30 [DBG] Connection id "0HNEPH6APMD0G" completed keep alive response.
2025-08-12 17:14:46.183 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:14:46.185 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:14:46.186 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 117ms
2025-08-12 17:14:46.186 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.187 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:14:46.188 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:14:46.189 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:14:46.190 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - 200 3315 application/json 132.7311ms
2025-08-12 17:14:46.190 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.194 +05:30 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 17:14:46.196 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 166.5211ms
2025-08-12 17:14:46.198 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:14:46.202 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:14:46.202 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:14:46.203 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:14:46.204 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:14:46.205 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:46.206 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:46.206 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:14:46.207 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:14:46.209 +05:30 [DBG] Authorization was successful.
2025-08-12 17:14:46.209 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:14:46.210 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 17:14:46.211 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:14:46.212 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:14:46.212 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:46.214 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:14:46.214 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:46.215 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:14:46.217 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:14:46.218 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:14:46.219 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:14:46.220 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 17:14:46.220 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 17:14:46.221 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 17:14:46.222 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 17:14:46.223 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 17:14:46.224 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:14:46.225 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:14:46.226 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:14:46.226 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:14:46.227 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:14:46.228 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:14:46.228 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.229 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.230 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:46.230 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:46.231 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:46.232 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:14:46.235 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:14:46.236 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.237 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:14:46.238 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.239 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:46.240 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.241 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.241 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:46.242 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:46.243 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:46.243 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:14:46.246 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:14:46.247 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.248 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:14:46.250 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.250 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:46.251 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:14:46.253 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:14:46.253 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:14:46.253 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:14:46.254 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:14:46.255 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:14:46.255 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 40.12ms
2025-08-12 17:14:46.256 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:14:46.257 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 52ms
2025-08-12 17:14:46.258 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:14:46.259 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:14:46.261 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.261 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 17:14:46.262 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 63.857ms
2025-08-12 17:14:46.264 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:14:46.265 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:14:46.265 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:14:46.266 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:14:46.267 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:14:46.267 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:46.268 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:46.268 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:14:46.269 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:14:46.269 +05:30 [DBG] Authorization was successful.
2025-08-12 17:14:46.270 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:14:46.270 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 17:14:46.271 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:14:46.272 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:14:46.273 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:46.274 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:14:46.275 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:46.276 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:14:46.278 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:14:46.279 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:14:46.280 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:14:46.281 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 17:14:46.281 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 17:14:46.282 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 17:14:46.283 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 17:14:46.284 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 17:14:46.285 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:14:46.286 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:14:46.287 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:14:46.287 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:14:46.289 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:14:46.289 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:14:46.290 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.291 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.292 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:46.293 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:46.294 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:46.294 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:14:46.297 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:14:46.299 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.300 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:14:46.302 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.303 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:46.304 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.305 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.306 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:46.306 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:46.307 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:46.308 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:14:46.311 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:14:46.312 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.313 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:14:46.314 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.315 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:46.316 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:14:46.320 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:14:46.320 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:14:46.321 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:14:46.321 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:14:46.322 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:14:46.323 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 46.967ms
2025-08-12 17:14:46.325 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:14:46.326 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 58ms
2025-08-12 17:14:46.327 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:14:46.328 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:14:46.330 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.331 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:14:46.332 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 68.7828ms
2025-08-12 17:14:46.337 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:14:46.338 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:14:46.339 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:14:46.340 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:14:46.341 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:14:46.342 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:46.343 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:46.344 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:14:46.344 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:14:46.345 +05:30 [DBG] Authorization was successful.
2025-08-12 17:14:46.346 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:14:46.347 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 17:14:46.348 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:14:46.349 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:14:46.350 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:46.351 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:14:46.352 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:46.354 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:14:46.355 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:14:46.357 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:14:46.358 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:14:46.358 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 17:14:46.359 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 17:14:46.360 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 17:14:46.361 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 17:14:46.362 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 17:14:46.363 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:14:46.364 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:14:46.365 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:14:46.366 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:14:46.367 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:14:46.367 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:14:46.368 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.369 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.370 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:46.372 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:46.373 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 17:14:46.374 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:14:46.378 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:14:46.379 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.380 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:14:46.381 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.382 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:46.383 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.384 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.385 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:46.386 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:46.387 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 17:14:46.388 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:14:46.390 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:14:46.392 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.393 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:14:46.394 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.395 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:46.396 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:14:46.397 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:14:46.398 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:14:46.399 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:14:46.399 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:14:46.400 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:14:46.402 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 48.1982ms
2025-08-12 17:14:46.403 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:14:46.404 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 61ms
2025-08-12 17:14:46.404 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:14:46.405 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:14:46.406 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:46.407 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 17:14:46.408 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 71.5691ms
2025-08-12 17:14:50.757 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/delete-user/16?id=16 - null null
2025-08-12 17:14:50.761 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/delete-user/16'
2025-08-12 17:14:50.762 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:14:50.763 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:50.764 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:50.765 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:14:50.766 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/delete-user/16 ?id=16  Responded with [204] in 2ms
2025-08-12 17:14:50.767 +05:30 [DBG] Connection id "0HNEPH6APMD0D" completed keep alive response.
2025-08-12 17:14:50.768 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/delete-user/16?id=16 - 204 null null 10.9979ms
2025-08-12 17:14:50.768 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5276/api/v1/Admin/delete-user/16?id=16 - null null
2025-08-12 17:14:50.771 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/delete-user/16'
2025-08-12 17:14:50.772 +05:30 [DBG] Endpoint 'AdminController.DeleteUser (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/delete-user/{id}' is valid for the request path '/api/v1/Admin/delete-user/16'
2025-08-12 17:14:50.773 +05:30 [DBG] Request matched endpoint 'AdminController.DeleteUser (TravelPlannerAPI)'
2025-08-12 17:14:50.774 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:50.776 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:50.777 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:14:50.778 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:14:50.779 +05:30 [DBG] Authorization was successful.
2025-08-12 17:14:50.780 +05:30 [INF] Executing endpoint 'AdminController.DeleteUser (TravelPlannerAPI)'
2025-08-12 17:14:50.781 +05:30 [INF] Route matched with {action = "DeleteUser", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(Int32) on controller AdminController (TravelPlannerAPI).
2025-08-12 17:14:50.782 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:14:50.783 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:14:50.785 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:50.787 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:14:50.788 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:50.789 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:14:50.791 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:14:50.793 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:14:50.794 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-12 17:14:50.795 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-12 17:14:50.796 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 17:14:50.797 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 17:14:50.798 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-12 17:14:50.799 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-12 17:14:50.801 +05:30 [DBG] Compiling query expression: 
'DbSet<ExpenseModel>()
    .Where(x => x.UserId == 16)'
2025-08-12 17:14:50.806 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ExpenseModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ExpenseModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ExpenseModel.Amount (decimal) Required, 1], [Property: ExpenseModel.Category (string) Required, 2], [Property: ExpenseModel.Date (DateTime) Required, 3], [Property: ExpenseModel.Description (string), 4], [Property: ExpenseModel.TripId (int) Required FK Index, 5], [Property: ExpenseModel.UserId (int) Required FK Index, 6] }
        SELECT e.Id, e.Amount, e.Category, e.Date, e.Description, e.TripId, e.UserId
        FROM Expenses AS e
        WHERE e.UserId == 16), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ExpenseModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 17:14:50.808 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:14:50.809 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:14:50.810 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.812 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.813 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:50.814 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:50.815 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:50.815 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[Category], [e].[Date], [e].[Description], [e].[TripId], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[UserId] = 16
2025-08-12 17:14:50.820 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[Category], [e].[Date], [e].[Description], [e].[TripId], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[UserId] = 16
2025-08-12 17:14:50.823 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.824 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:14:50.826 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.827 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:14:50.828 +05:30 [DBG] Compiling query expression: 
'DbSet<ReviewModel>()
    .Where(x => x.UserId == 16)'
2025-08-12 17:14:50.831 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewModel.Rating (int) Required, 1], [Property: ReviewModel.ReviewText (string) Required, 2], [Property: ReviewModel.TripId (int) Required FK Index, 3], [Property: ReviewModel.UserId (int) Required FK Index, 4] }
        SELECT r.Id, r.Rating, r.review, r.TripId, r.UserId
        FROM reviews AS r
        WHERE r.UserId == 16), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 17:14:50.833 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.834 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.835 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:50.835 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:50.836 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:50.837 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [reviews] AS [r]
WHERE [r].[UserId] = 16
2025-08-12 17:14:50.844 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [reviews] AS [r]
WHERE [r].[UserId] = 16
2025-08-12 17:14:50.845 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.846 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:14:50.847 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.848 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:50.849 +05:30 [DBG] Compiling query expression: 
'DbSet<ChecklistItemModel>()
    .Where(x => x.UserId == 16)'
2025-08-12 17:14:50.853 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChecklistItemModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ChecklistItemModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChecklistItemModel.Description (string) Required, 1], [Property: ChecklistItemModel.IsCompleted (bool) Required, 2], [Property: ChecklistItemModel.TripId (int) Required FK Index, 3], [Property: ChecklistItemModel.UserId (int) Required FK Index, 4] }
        SELECT c.Id, c.Description, c.IsCompleted, c.TripId, c.UserId
        FROM ChecklistItems AS c
        WHERE c.UserId == 16), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChecklistItemModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 17:14:50.855 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.856 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.857 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:50.858 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:50.859 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 17:14:50.860 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[UserId] = 16
2025-08-12 17:14:50.865 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[UserId] = 16
2025-08-12 17:14:50.867 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.868 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:14:50.869 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.871 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-12 17:14:50.872 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Where(x => x.UserId == 16)'
2025-08-12 17:14:50.877 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
        SELECT t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId
        FROM Trips AS t
        WHERE t.UserId == 16), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 17:14:50.879 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.880 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.881 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:50.882 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:50.882 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:50.883 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[UserId] = 16
2025-08-12 17:14:50.887 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[UserId] = 16
2025-08-12 17:14:50.889 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:50.890 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.891 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 17:14:50.894 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.896 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:14:50.897 +05:30 [DBG] An entity of type 'TripModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:50.898 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.899 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.900 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:50.901 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:50.902 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:50.903 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessLevel], [t].[OwnerId], [t].[SharedWithUserId], [t].[TripId]
FROM [TripShares] AS [t]
WHERE [t].[OwnerId] = @__userId_0 OR [t].[SharedWithUserId] = @__userId_0
2025-08-12 17:14:50.907 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessLevel], [t].[OwnerId], [t].[SharedWithUserId], [t].[TripId]
FROM [TripShares] AS [t]
WHERE [t].[OwnerId] = @__userId_0 OR [t].[SharedWithUserId] = @__userId_0
2025-08-12 17:14:50.911 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.912 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:14:50.913 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.914 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:50.915 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.916 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.917 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:50.918 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:50.918 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:50.919 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-08-12 17:14:50.922 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-08-12 17:14:50.925 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:50.927 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.927 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 17:14:50.928 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.929 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:50.930 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:50.931 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 17:14:50.932 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 17:14:50.933 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 17:14:50.934 +05:30 [DBG] Executing 2 update commands as a batch.
2025-08-12 17:14:50.935 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.936 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.936 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-12 17:14:50.937 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-12 17:14:50.938 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:50.939 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:50.941 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 17:14:50.942 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Trips]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p1 AND [ConcurrencyStamp] = @p2;
2025-08-12 17:14:50.960 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Trips]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p1 AND [ConcurrencyStamp] = @p2;
2025-08-12 17:14:50.962 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.963 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:14:50.964 +05:30 [DBG] Committing transaction.
2025-08-12 17:14:50.965 +05:30 [DBG] Committed transaction.
2025-08-12 17:14:50.965 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.966 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:50.967 +05:30 [DBG] Disposing transaction.
2025-08-12 17:14:50.967 +05:30 [DBG] An entity of type 'TripModel' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:50.969 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:50.970 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2025-08-12 17:14:50.971 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 17:14:50.971 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 17:14:50.973 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 17:14:50.974 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 0 entities written to the database.
2025-08-12 17:14:50.975 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-08-12 17:14:50.976 +05:30 [INF] Executed action AdminController.DeleteUser (TravelPlannerAPI) in 187.1065ms
2025-08-12 17:14:50.977 +05:30 [INF] Executed endpoint 'AdminController.DeleteUser (TravelPlannerAPI)'
2025-08-12 17:14:50.978 +05:30 [INF] Source:[::1] Request: DELETE http localhost:5276/api/v1/Admin/delete-user/16 ?id=16  Responded with [204] in 203ms
2025-08-12 17:14:50.978 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:14:50.979 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:14:50.980 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:50.981 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:14:50.983 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5276/api/v1/Admin/delete-user/16?id=16 - 204 null null 214.5149ms
2025-08-12 17:14:57.409 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:14:57.412 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:14:57.413 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:14:57.414 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:57.415 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:57.416 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:14:57.417 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/users   Responded with [204] in 3ms
2025-08-12 17:14:57.418 +05:30 [DBG] Connection id "0HNEPH6APMD0D" completed keep alive response.
2025-08-12 17:14:57.419 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - 204 null null 9.6392ms
2025-08-12 17:14:57.420 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:14:57.423 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:14:57.426 +05:30 [DBG] Endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/users' is valid for the request path '/api/v1/Admin/users'
2025-08-12 17:14:57.427 +05:30 [DBG] Request matched endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:14:57.428 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:14:57.429 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:14:57.429 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:14:57.430 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:14:57.431 +05:30 [DBG] Authorization was successful.
2025-08-12 17:14:57.431 +05:30 [INF] Executing endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:14:57.432 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller AdminController (TravelPlannerAPI).
2025-08-12 17:14:57.433 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:14:57.434 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:14:57.435 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:57.436 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:14:57.437 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:14:57.438 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:14:57.439 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:14:57.442 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:14:57.443 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:14:57.444 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:14:57.445 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:57.446 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:57.446 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:14:57.447 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:14:57.448 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:14:57.449 +05:30 [DBG] Executing DbCommand [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:14:57.452 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:14:57.454 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:57.455 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:57.457 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:57.460 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:57.461 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:57.462 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:57.464 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:57.465 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:57.466 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:57.467 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:57.477 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:57.479 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:57.480 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:57.481 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:57.482 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:57.483 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:57.484 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:57.485 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:57.487 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:57.488 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:14:57.490 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:57.492 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 37ms reading results.
2025-08-12 17:14:57.493 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:57.494 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:14:57.495 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:14:57.497 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:14:57.497 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:14:57.498 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:14:57.499 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:14:57.500 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.AdminUserDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:14:57.500 +05:30 [INF] Executed action AdminController.GetAllUsers (TravelPlannerAPI) in 62.6453ms
2025-08-12 17:14:57.501 +05:30 [INF] Executed endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:14:57.503 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Admin/users   Responded with [200] in 74ms
2025-08-12 17:14:57.503 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:14:57.505 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:14:57.506 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:14:57.509 +05:30 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 17:14:57.511 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - 200 3028 application/json 91.1064ms
2025-08-12 17:15:12.465 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:15:12.468 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:15:12.468 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:15:12.469 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:15:12.470 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:15:12.471 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:15:12.472 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/users   Responded with [204] in 2ms
2025-08-12 17:15:12.472 +05:30 [DBG] Connection id "0HNEPH6APMD0D" completed keep alive response.
2025-08-12 17:15:12.473 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - 204 null null 7.8419ms
2025-08-12 17:15:12.474 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:15:12.477 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:15:12.478 +05:30 [DBG] Endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/users' is valid for the request path '/api/v1/Admin/users'
2025-08-12 17:15:12.478 +05:30 [DBG] Request matched endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:15:12.479 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:15:12.480 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:15:12.480 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:15:12.481 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:15:12.481 +05:30 [DBG] Authorization was successful.
2025-08-12 17:15:12.482 +05:30 [INF] Executing endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:15:12.483 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller AdminController (TravelPlannerAPI).
2025-08-12 17:15:12.486 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:15:12.487 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:15:12.488 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:15:12.489 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:15:12.490 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:15:12.491 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:15:12.493 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:15:12.494 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:15:12.496 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:15:12.496 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:15:12.497 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:15:12.498 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:15:12.498 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:15:12.499 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:15:12.501 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 17:15:12.502 +05:30 [DBG] Executing DbCommand [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:15:12.505 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:15:12.507 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:15:12.508 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:15:12.509 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:15:12.511 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:15:12.511 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:15:12.512 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:15:12.513 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:15:12.514 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:15:12.515 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:15:12.517 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:15:12.525 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:15:12.526 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:15:12.527 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:15:12.528 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:15:12.528 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:15:12.529 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:15:12.530 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:15:12.531 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:15:12.533 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:15:12.534 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:15:12.536 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:15:12.537 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 29ms reading results.
2025-08-12 17:15:12.538 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:15:12.538 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:15:12.539 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:15:12.541 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:15:12.541 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:15:12.542 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:15:12.543 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:15:12.543 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.AdminUserDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:15:12.544 +05:30 [INF] Executed action AdminController.GetAllUsers (TravelPlannerAPI) in 53.0182ms
2025-08-12 17:15:12.546 +05:30 [INF] Executed endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:15:12.547 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Admin/users   Responded with [200] in 68ms
2025-08-12 17:15:12.548 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:15:12.549 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:15:12.550 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:15:12.552 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:15:12.553 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - 200 3028 application/json 78.3741ms
2025-08-12 17:17:12.983 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/signup - null null
2025-08-12 17:17:12.989 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/signup'
2025-08-12 17:17:12.990 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:17:12.991 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:12.991 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:12.992 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:17:12.993 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/signup   Responded with [204] in 2ms
2025-08-12 17:17:12.994 +05:30 [DBG] Connection id "0HNEPH6APMD0D" completed keep alive response.
2025-08-12 17:17:12.995 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/signup - 204 null null 11.8328ms
2025-08-12 17:17:13.002 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/signup - application/json 72
2025-08-12 17:17:13.004 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/signup'
2025-08-12 17:17:13.005 +05:30 [DBG] Endpoint 'AuthController.Signup (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/signup' is valid for the request path '/api/v1/Auth/signup'
2025-08-12 17:17:13.006 +05:30 [DBG] Request matched endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-12 17:17:13.006 +05:30 [DBG] Connection id "0HNEPH6APMD0D", Request id "0HNEPH6APMD0D:00000006": started reading request body.
2025-08-12 17:17:13.007 +05:30 [DBG] Connection id "0HNEPH6APMD0D", Request id "0HNEPH6APMD0D:00000006": done reading request body.
2025-08-12 17:17:13.008 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:13.009 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:13.009 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 17:17:13.010 +05:30 [INF] Executing endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-12 17:17:13.010 +05:30 [INF] Route matched with {action = "Signup", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Signup(TravelPlannerAPI.Dtos.SignupRequest) on controller AuthController (TravelPlannerAPI).
2025-08-12 17:17:13.013 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:17:13.014 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:17:13.015 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:13.017 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:17:13.017 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:13.018 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 17:17:13.021 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:17:13.022 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 17:17:13.023 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' ...
2025-08-12 17:17:13.024 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' using the name '' in request data ...
2025-08-12 17:17:13.025 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 17:17:13.026 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.SignupRequest'
2025-08-12 17:17:13.026 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-12 17:17:13.027 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-12 17:17:13.029 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' ...
2025-08-12 17:17:13.031 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-12 17:17:13.032 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:17:13.033 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:17:13.034 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:13.035 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:13.036 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:13.036 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:13.037 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:13.038 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 17:17:13.043 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 17:17:13.047 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:13.048 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:17:13.049 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:13.050 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:17:13.112 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:13.114 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:13.115 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:13.116 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:13.117 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:13.117 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 17:17:13.121 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 17:17:13.124 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:13.125 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:17:13.126 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:13.127 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:13.128 +05:30 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'UserModel.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:13.129 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:13.130 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 17:17:13.131 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 17:17:13.132 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 17:17:13.134 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:13.135 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:13.136 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:13.136 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:13.137 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:13.138 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [IsActive], [IsAdmin], [LastLoginDate], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-08-12 17:17:13.143 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [IsActive], [IsAdmin], [LastLoginDate], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-08-12 17:17:13.145 +05:30 [DBG] The foreign key property 'UserModel.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 17:17:13.147 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:13.149 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-12 17:17:13.150 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:13.151 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:13.152 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:13.153 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 17:17:13.154 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:17:13.155 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:17:13.156 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:17:13.157 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:17:13.157 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:17:13.158 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 17:17:13.159 +05:30 [INF] Executed action AuthController.Signup (TravelPlannerAPI) in 140.2608ms
2025-08-12 17:17:13.160 +05:30 [INF] Executed endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-12 17:17:13.161 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/signup  {"Name":"Sidharth","Email":"sidharth@gmail.com","Password":"Admin@1234"} Responded with [200] in 154ms
2025-08-12 17:17:13.162 +05:30 [DBG] Connection id "0HNEPH6APMD0D" completed keep alive response.
2025-08-12 17:17:13.162 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:17:13.164 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:13.166 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:17:13.167 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/signup - 200 123 application/json 164.7151ms
2025-08-12 17:17:21.811 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-12 17:17:21.813 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 17:17:21.815 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:17:21.816 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:21.816 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:21.817 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:17:21.818 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 2ms
2025-08-12 17:17:21.818 +05:30 [DBG] Connection id "0HNEPH6APMD0D" completed keep alive response.
2025-08-12 17:17:21.819 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 8.7215ms
2025-08-12 17:17:21.826 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 54
2025-08-12 17:17:21.828 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 17:17:21.829 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-12 17:17:21.830 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 17:17:21.831 +05:30 [DBG] Connection id "0HNEPH6APMD0D", Request id "0HNEPH6APMD0D:00000008": started reading request body.
2025-08-12 17:17:21.832 +05:30 [DBG] Connection id "0HNEPH6APMD0D", Request id "0HNEPH6APMD0D:00000008": done reading request body.
2025-08-12 17:17:21.833 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:21.834 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:21.834 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 17:17:21.835 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 17:17:21.835 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-12 17:17:21.836 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:17:21.837 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:17:21.838 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:21.839 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:17:21.840 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:21.841 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 17:17:21.843 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:17:21.844 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 17:17:21.845 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 17:17:21.847 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-12 17:17:21.848 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 17:17:21.849 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-12 17:17:21.849 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 17:17:21.850 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 17:17:21.851 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 17:17:21.851 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 17:17:21.852 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:17:21.853 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:17:21.854 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:21.854 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:21.855 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:21.856 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:21.857 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:21.857 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 17:17:21.861 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 17:17:21.866 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:21.867 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:21.868 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:17:21.869 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:21.869 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:21.920 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:21.921 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:21.922 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:21.922 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:21.923 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:21.924 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 17:17:21.926 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 17:17:21.928 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:21.929 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:17:21.930 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:21.930 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:21.931 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:21.932 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 17:17:21.933 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 17:17:21.934 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 17:17:21.935 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:21.936 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:21.937 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:21.937 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:21.938 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:21.939 +05:30 [DBG] Executing DbCommand [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 17:17:21.949 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 17:17:21.951 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:21.951 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:17:21.952 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:21.953 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:21.954 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:21.955 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 17:17:21.957 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:17:21.959 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:17:21.959 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:17:21.960 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:17:21.960 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:17:21.961 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:17:21.962 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 120.6109ms
2025-08-12 17:17:21.963 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 17:17:21.964 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"sidharth@gmail.com","password":"Admin@1234"} Responded with [200] in 133ms
2025-08-12 17:17:21.965 +05:30 [DBG] Connection id "0HNEPH6APMD0D" completed keep alive response.
2025-08-12 17:17:21.966 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:17:21.969 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:21.971 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 17:17:21.972 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 913 application/json 145.9861ms
2025-08-12 17:17:21.995 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:17:22.002 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:17:22.004 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:17:22.005 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:22.007 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:22.008 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:17:22.011 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 5ms
2025-08-12 17:17:22.012 +05:30 [DBG] Connection id "0HNEPH6APMD0D" completed keep alive response.
2025-08-12 17:17:22.015 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:17:22.015 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 20.0938ms
2025-08-12 17:17:22.019 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:17:22.023 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:17:22.025 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:17:22.026 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:17:22.028 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:22.031 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:22.032 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:17:22.033 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:17:22.035 +05:30 [DBG] Authorization was successful.
2025-08-12 17:17:22.035 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:17:22.036 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 17:17:22.037 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:17:22.039 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:17:22.040 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:22.042 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:17:22.043 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:22.044 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:17:22.045 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:17:22.048 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:17:22.049 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:17:22.050 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 17:17:22.052 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 17:17:22.053 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 17:17:22.054 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 17:17:22.057 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 17:17:22.058 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:17:22.059 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:17:22.060 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:17:22.061 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:17:22.063 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:17:22.064 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:17:22.064 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:22.065 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:22.066 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:22.067 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:22.068 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 17:17:22.070 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:17:22.076 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:17:22.080 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:22.081 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:17:22.082 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:22.083 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:17:22.085 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:22.086 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:22.086 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:22.087 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:22.090 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 17:17:22.091 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:17:22.106 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:17:22.109 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:22.110 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:17:22.111 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:22.112 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:22.115 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:17:22.116 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:17:22.117 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:17:22.117 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:17:22.118 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:17:22.119 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:17:22.120 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 75.97ms
2025-08-12 17:17:22.121 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:17:22.122 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 93ms
2025-08-12 17:17:22.122 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:17:22.123 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:17:22.124 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:22.125 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:17:22.126 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 111.6405ms
2025-08-12 17:17:24.084 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/103 - null null
2025-08-12 17:17:24.088 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/103'
2025-08-12 17:17:24.090 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:17:24.091 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:24.092 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:24.094 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:17:24.095 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/103   Responded with [204] in 4ms
2025-08-12 17:17:24.096 +05:30 [DBG] Connection id "0HNEPH6APMD0D" completed keep alive response.
2025-08-12 17:17:24.097 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/103 - 204 null null 13.4479ms
2025-08-12 17:17:24.098 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/103 - null null
2025-08-12 17:17:24.101 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/103'
2025-08-12 17:17:24.102 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/103'
2025-08-12 17:17:24.102 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 17:17:24.103 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:24.104 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:24.104 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:17:24.105 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:17:24.105 +05:30 [DBG] Authorization was successful.
2025-08-12 17:17:24.106 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 17:17:24.107 +05:30 [INF] Route matched with {action = "GetTrip", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TravelPlannerAPI.Dtos.TripDto]] GetTrip(Int32) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 17:17:24.108 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:17:24.108 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:17:24.109 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:24.110 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:17:24.111 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:24.112 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:17:24.115 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:17:24.116 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:17:24.117 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-12 17:17:24.118 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-12 17:17:24.119 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 17:17:24.119 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 17:17:24.120 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-12 17:17:24.121 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-12 17:17:24.122 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:17:24.122 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:17:24.123 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:24.124 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:24.125 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:24.125 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:24.126 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:24.127 +05:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-12 17:17:24.132 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-12 17:17:24.134 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:24.135 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:17:24.136 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:24.137 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:24.138 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:17:24.139 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:17:24.140 +05:30 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-08-12 17:17:24.141 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-08-12 17:17:24.142 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-08-12 17:17:24.143 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI) in 30.9493ms
2025-08-12 17:17:24.144 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-12 17:17:24.146 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/103   Responded with [404] in 42ms
2025-08-12 17:17:24.147 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:17:24.147 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:17:24.148 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:24.149 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:17:24.150 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/103 - 404 285 application/json 52.1136ms
2025-08-12 17:17:26.112 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip - null null
2025-08-12 17:17:26.115 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip'
2025-08-12 17:17:26.116 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:17:26.117 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:26.118 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:26.118 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:17:26.119 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip   Responded with [204] in 2ms
2025-08-12 17:17:26.120 +05:30 [DBG] Connection id "0HNEPH6APMD0D" completed keep alive response.
2025-08-12 17:17:26.121 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip - 204 null null 8.5102ms
2025-08-12 17:17:26.121 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Trip - application/json 483
2025-08-12 17:17:26.124 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip'
2025-08-12 17:17:26.125 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.CreateTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip' is valid for the request path '/api/v1/Trip'
2025-08-12 17:17:26.126 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.CreateTrip (TravelPlannerAPI)'
2025-08-12 17:17:26.127 +05:30 [DBG] Connection id "0HNEPH6APMD0B", Request id "0HNEPH6APMD0B:00000013": started reading request body.
2025-08-12 17:17:26.127 +05:30 [DBG] Connection id "0HNEPH6APMD0B", Request id "0HNEPH6APMD0B:00000013": done reading request body.
2025-08-12 17:17:26.128 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:26.129 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:26.131 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:17:26.131 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:17:26.132 +05:30 [DBG] Authorization was successful.
2025-08-12 17:17:26.133 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.CreateTrip (TravelPlannerAPI)'
2025-08-12 17:17:26.133 +05:30 [INF] Route matched with {action = "CreateTrip", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TravelPlannerAPI.Dtos.TripDto]] CreateTrip(TravelPlannerAPI.Dtos.TripCreateDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 17:17:26.134 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:17:26.135 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:17:26.136 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:26.137 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:17:26.138 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:26.139 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:17:26.141 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:17:26.142 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:17:26.143 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripCreateDto' ...
2025-08-12 17:17:26.144 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripCreateDto' using the name '' in request data ...
2025-08-12 17:17:26.145 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 17:17:26.146 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TripCreateDto'
2025-08-12 17:17:26.147 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripCreateDto'.
2025-08-12 17:17:26.148 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripCreateDto'.
2025-08-12 17:17:26.148 +05:30 [DBG] Attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripCreateDto' ...
2025-08-12 17:17:26.149 +05:30 [DBG] Done attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripCreateDto'.
2025-08-12 17:17:26.150 +05:30 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'TripModel.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:26.151 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:26.151 +05:30 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'BudgetDetailsModel.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:26.152 +05:30 [DBG] The navigation 'BudgetDetailsModel.Trip' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:26.153 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:26.154 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 17:17:26.155 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 17:17:26.155 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 17:17:26.156 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:17:26.157 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:17:26.157 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:26.158 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:26.159 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-12 17:17:26.160 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-12 17:17:26.161 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:26.162 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:26.163 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 17:17:26.164 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Trips] ([BestTime], [Budget], [Description], [Destination], [Duration], [EndDate], [EssentialsJson], [Image], [Notes], [StartDate], [Title], [TouristSpotsJson], [TravelMode], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-08-12 17:17:26.169 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Trips] ([BestTime], [Budget], [Description], [Destination], [Duration], [EndDate], [EssentialsJson], [Image], [Notes], [StartDate], [Title], [TouristSpotsJson], [TravelMode], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-08-12 17:17:26.170 +05:30 [DBG] The foreign key property 'TripModel.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 17:17:26.171 +05:30 [DBG] The foreign key property 'BudgetDetailsModel.TripId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 17:17:26.172 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:26.173 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 17:17:26.174 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:26.174 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:26.175 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:26.176 +05:30 [DBG] Executing DbCommand [Parameters=[@p14='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p15='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [budgetdetails] ([Food], [Hotel], [TripId])
OUTPUT INSERTED.[Id]
VALUES (@p14, @p15, @p16);
2025-08-12 17:17:26.179 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p14='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p15='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [budgetdetails] ([Food], [Hotel], [TripId])
OUTPUT INSERTED.[Id]
VALUES (@p14, @p15, @p16);
2025-08-12 17:17:26.180 +05:30 [DBG] The foreign key property 'BudgetDetailsModel.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 17:17:26.181 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:26.182 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:17:26.182 +05:30 [DBG] Committing transaction.
2025-08-12 17:17:26.186 +05:30 [DBG] Committed transaction.
2025-08-12 17:17:26.186 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:26.187 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:26.188 +05:30 [DBG] Disposing transaction.
2025-08-12 17:17:26.188 +05:30 [DBG] An entity of type 'TripModel' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:26.189 +05:30 [DBG] An entity of type 'BudgetDetailsModel' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:26.190 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2025-08-12 17:17:26.191 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:17:26.192 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:17:26.194 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:17:26.194 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:17:26.195 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:17:26.196 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'TravelPlannerAPI.Dtos.TripDto'.
2025-08-12 17:17:26.197 +05:30 [DBG] Found the endpoints ["TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)"] for address (id=[28],version=[1],action=[GetTrip],controller=[Trip])
2025-08-12 17:17:26.198 +05:30 [DBG] Successfully processed template api/v{version:apiVersion}/Trip/{id} for TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI) resulting in /api/v1/Trip/28 and 
2025-08-12 17:17:26.198 +05:30 [DBG] Link generation succeeded for endpoints ["TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)"] with result /api/v1/Trip/28
2025-08-12 17:17:26.199 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.CreateTrip (TravelPlannerAPI) in 59.9108ms
2025-08-12 17:17:26.200 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.CreateTrip (TravelPlannerAPI)'
2025-08-12 17:17:26.201 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Trip  {"id":103,"title":"Cultural Expedition","destination":"Jaipur, India","startDate":"2025-01-01","endDate":"2025-01-05","budget":0,"travelMode":"Not specified","notes":"","userId":17,"image":"trips/culture.jpg","description":"Dive into Rajasthani culture, food, and architecture.","duration":"4 Days","bestTime":"November to February","essentials":["Camera","Ethnic Wear","Sunscreen"],"touristSpots":["Amber Fort","City Palace","Hawa Mahal"],"budgetDetails":{"food":2000,"hotel":3500}} Responded with [201] in 74ms
2025-08-12 17:17:26.202 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:17:26.202 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:17:26.203 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:26.206 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 17:17:26.207 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Trip - 201 781 application/json 85.8447ms
2025-08-12 17:17:26.210 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:17:26.214 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:17:26.216 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:17:26.218 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:17:26.219 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:17:26.220 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:26.220 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:26.221 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:17:26.221 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:17:26.222 +05:30 [DBG] Authorization was successful.
2025-08-12 17:17:26.223 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:17:26.223 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 17:17:26.224 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:17:26.225 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:17:26.226 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:26.227 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:17:26.228 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:26.229 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:17:26.230 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:17:26.232 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:17:26.233 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:17:26.233 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 17:17:26.234 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 17:17:26.235 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 17:17:26.236 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 17:17:26.236 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 17:17:26.237 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:17:26.238 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:17:26.238 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:17:26.239 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:17:26.240 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:17:26.241 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:17:26.241 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:26.242 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:26.242 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:26.243 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:26.244 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:26.244 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:17:26.251 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:17:26.252 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:26.253 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:17:26.254 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:26.254 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:26.256 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:26.256 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:26.257 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:26.257 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:26.258 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:26.259 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:17:26.267 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:17:26.269 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:26.270 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:26.271 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:26.272 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:26.272 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 17:17:26.273 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:26.274 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:26.275 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:17:26.276 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:17:26.276 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:17:26.277 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:17:26.277 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:17:26.278 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:17:26.278 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 50.0026ms
2025-08-12 17:17:26.279 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:17:26.280 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 60ms
2025-08-12 17:17:26.281 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:17:26.282 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:17:26.283 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:26.285 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:17:26.286 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 1025 application/json 75.5457ms
2025-08-12 17:17:38.136 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripShare/share - null null
2025-08-12 17:17:38.141 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripShare/share'
2025-08-12 17:17:38.142 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:17:38.142 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:38.143 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:38.144 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:17:38.145 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/TripShare/share   Responded with [204] in 2ms
2025-08-12 17:17:38.145 +05:30 [DBG] Connection id "0HNEPH6APMD0D" completed keep alive response.
2025-08-12 17:17:38.147 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/TripShare/share - application/json 71
2025-08-12 17:17:38.149 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripShare/share - 204 null null 12.2359ms
2025-08-12 17:17:38.151 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripShare/share'
2025-08-12 17:17:38.153 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripShareController.ShareTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/TripShare/share' is valid for the request path '/api/v1/TripShare/share'
2025-08-12 17:17:38.154 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripShareController.ShareTrip (TravelPlannerAPI)'
2025-08-12 17:17:38.155 +05:30 [DBG] Connection id "0HNEPH6APMD0B", Request id "0HNEPH6APMD0B:00000015": started reading request body.
2025-08-12 17:17:38.156 +05:30 [DBG] Connection id "0HNEPH6APMD0B", Request id "0HNEPH6APMD0B:00000015": done reading request body.
2025-08-12 17:17:38.156 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:38.157 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:38.158 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:17:38.158 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:17:38.159 +05:30 [DBG] Authorization was successful.
2025-08-12 17:17:38.160 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripShareController.ShareTrip (TravelPlannerAPI)'
2025-08-12 17:17:38.165 +05:30 [INF] Route matched with {action = "ShareTrip", controller = "TripShare"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShareTrip(TravelPlannerAPI.Dtos.TripShareRequestDto) on controller TravelPlannerAPI.Controllers.TripShareController (TravelPlannerAPI).
2025-08-12 17:17:38.166 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:17:38.167 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:17:38.168 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:38.169 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:17:38.170 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:38.171 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripShareController (TravelPlannerAPI)
2025-08-12 17:17:38.172 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:17:38.174 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripShareController (TravelPlannerAPI)
2025-08-12 17:17:38.175 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TripShareRequestDto' ...
2025-08-12 17:17:38.176 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TripShareRequestDto' using the name '' in request data ...
2025-08-12 17:17:38.176 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 17:17:38.179 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TripShareRequestDto'
2025-08-12 17:17:38.180 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TripShareRequestDto'.
2025-08-12 17:17:38.181 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TripShareRequestDto'.
2025-08-12 17:17:38.182 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TripShareRequestDto' ...
2025-08-12 17:17:38.185 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TripShareRequestDto'.
2025-08-12 17:17:38.190 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.Email == __email_0)'
2025-08-12 17:17:38.195 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 2], [Property: UserModel.Email (string) MaxLength(256), 3], [Property: UserModel.EmailConfirmed (bool) Required, 4], [Property: UserModel.IsActive (bool) Required, 5], [Property: UserModel.IsAdmin (bool) Required, 6], [Property: UserModel.LastLoginDate (DateTime) Required, 7], [Property: UserModel.LockoutEnabled (bool) Required, 8], [Property: UserModel.LockoutEnd (DateTimeOffset?), 9], [Property: UserModel.Name (string) Required, 10], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 11], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 12], [Property: UserModel.PasswordHash (string), 13], [Property: UserModel.PhoneNumber (string), 14], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 15], [Property: UserModel.Role (string) Required, 16], [Property: UserModel.SecurityStamp (string), 17], [Property: UserModel.TwoFactorEnabled (bool) Required, 18], [Property: UserModel.UserName (string) MaxLength(256), 19] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.Email == @__email_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 17:17:38.197 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:17:38.197 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:17:38.198 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:38.199 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:38.200 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:38.201 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:38.202 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:38.203 +05:30 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-08-12 17:17:38.208 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-08-12 17:17:38.211 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:38.212 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:38.213 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:17:38.214 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:38.215 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:17:38.219 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .FirstOrDefault(t => t.Id == __tripId_0 && t.UserId == __ownerId_1)'
2025-08-12 17:17:38.224 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<TripModel>(
    asyncEnumerable: new SingleQueryingEnumerable<TripModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
            SELECT TOP(1) t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId
            FROM Trips AS t
            WHERE (t.Id == @__tripId_0) && (t.UserId == @__ownerId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 17:17:38.227 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:38.228 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:38.228 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:38.229 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:38.230 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:38.231 +05:30 [DBG] Executing DbCommand [Parameters=[@__tripId_0='?' (DbType = Int32), @__ownerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__tripId_0 AND [t].[UserId] = @__ownerId_1
2025-08-12 17:17:38.235 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__tripId_0='?' (DbType = Int32), @__ownerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[Id] = @__tripId_0 AND [t].[UserId] = @__ownerId_1
2025-08-12 17:17:38.236 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:38.237 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:38.238 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:17:38.239 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:38.239 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:38.242 +05:30 [DBG] Compiling query expression: 
'DbSet<TripShareModel>()
    .FirstOrDefault(s => s.TripId == __tripId_0 && s.SharedWithUserId == __sharedWithUserId_1)'
2025-08-12 17:17:38.246 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<TripShareModel>(
    asyncEnumerable: new SingleQueryingEnumerable<TripShareModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TripShareModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripShareModel.AccessLevel (AccessLevel) Required, 1], [Property: TripShareModel.OwnerId (int) Required FK Index, 2], [Property: TripShareModel.SharedWithUserId (int) Required FK Index, 3], [Property: TripShareModel.TripId (int) Required FK Index, 4] }
            SELECT TOP(1) t.Id, t.AccessLevel, t.OwnerId, t.SharedWithUserId, t.TripId
            FROM TripShares AS t
            WHERE (t.TripId == @__tripId_0) && (t.SharedWithUserId == @__sharedWithUserId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripShareModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 17:17:38.248 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:38.249 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:38.250 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:38.250 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:38.251 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:38.252 +05:30 [DBG] Executing DbCommand [Parameters=[@__tripId_0='?' (DbType = Int32), @__sharedWithUserId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[AccessLevel], [t].[OwnerId], [t].[SharedWithUserId], [t].[TripId]
FROM [TripShares] AS [t]
WHERE [t].[TripId] = @__tripId_0 AND [t].[SharedWithUserId] = @__sharedWithUserId_1
2025-08-12 17:17:38.256 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__tripId_0='?' (DbType = Int32), @__sharedWithUserId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[AccessLevel], [t].[OwnerId], [t].[SharedWithUserId], [t].[TripId]
FROM [TripShares] AS [t]
WHERE [t].[TripId] = @__tripId_0 AND [t].[SharedWithUserId] = @__sharedWithUserId_1
2025-08-12 17:17:38.258 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:38.259 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:17:38.260 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:38.261 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:38.265 +05:30 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'TripShareModel.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:38.269 +05:30 [DBG] The navigation 'TripShareModel.SharedWithUser' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:38.271 +05:30 [DBG] The navigation 'TripShareModel.Trip' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:38.272 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripShareModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:38.274 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 17:17:38.275 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 17:17:38.278 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 17:17:38.279 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:38.281 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:38.282 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:38.283 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:38.285 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 17:17:38.286 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TripShares] ([AccessLevel], [OwnerId], [SharedWithUserId], [TripId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-08-12 17:17:38.291 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TripShares] ([AccessLevel], [OwnerId], [SharedWithUserId], [TripId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-08-12 17:17:38.293 +05:30 [DBG] The foreign key property 'TripShareModel.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 17:17:38.295 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:38.296 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-12 17:17:38.298 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:38.299 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:17:38.302 +05:30 [DBG] An entity of type 'TripShareModel' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:38.303 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 17:17:38.304 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:17:38.306 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:17:38.306 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:17:38.306 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:17:38.307 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-08-12 17:17:38.308 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-12 17:17:38.309 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripShareController.ShareTrip (TravelPlannerAPI) in 137.9131ms
2025-08-12 17:17:38.310 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripShareController.ShareTrip (TravelPlannerAPI)'
2025-08-12 17:17:38.311 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/TripShare/share  {"tripId":28,"sharedWithEmail":"lekhya@gmail.com","accessLevel":"View"} Responded with [200] in 156ms
2025-08-12 17:17:38.312 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:17:38.315 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:17:38.316 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:38.317 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 17:17:38.318 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/TripShare/share - 200 87 application/json 170.6621ms
2025-08-12 17:17:38.323 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:17:38.327 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:17:38.328 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:17:38.329 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:38.330 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:38.331 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:17:38.332 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 3ms
2025-08-12 17:17:38.333 +05:30 [DBG] Connection id "0HNEPH6APMD0D" completed keep alive response.
2025-08-12 17:17:38.334 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 11.098ms
2025-08-12 17:17:38.335 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:17:38.339 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:17:38.340 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:17:38.341 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:17:38.342 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:17:38.343 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:38.343 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:38.344 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:17:38.345 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:17:38.345 +05:30 [DBG] Authorization was successful.
2025-08-12 17:17:38.346 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:17:38.347 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 17:17:38.348 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:17:38.349 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:17:38.349 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:38.351 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:17:38.351 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:38.352 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:17:38.354 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:17:38.355 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:17:38.356 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:17:38.356 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 17:17:38.357 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 17:17:38.358 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 17:17:38.359 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 17:17:38.360 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 17:17:38.361 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:17:38.361 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:17:38.363 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:17:38.364 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:17:38.365 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:17:38.366 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:17:38.366 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:38.367 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:38.367 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:38.368 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:38.368 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:38.369 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:17:38.375 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:17:38.377 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:38.378 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:17:38.379 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:38.380 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:38.381 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:38.382 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:38.383 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:38.383 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:38.384 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:38.385 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:17:38.394 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:17:38.396 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:38.397 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:38.397 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:38.398 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:38.399 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 17:17:38.399 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:38.400 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:38.401 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:17:38.403 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:17:38.403 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:17:38.404 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:17:38.405 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:17:38.405 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:17:38.407 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 54.1072ms
2025-08-12 17:17:38.407 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:17:38.409 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 65ms
2025-08-12 17:17:38.409 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:17:38.411 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:17:38.414 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:38.415 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:17:38.416 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 1025 application/json 81.3933ms
2025-08-12 17:17:46.997 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-12 17:17:46.999 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 17:17:47.000 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:17:47.001 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:47.002 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:47.002 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:17:47.003 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 2ms
2025-08-12 17:17:47.004 +05:30 [DBG] Connection id "0HNEPH6APMD0D" completed keep alive response.
2025-08-12 17:17:47.005 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 7.8751ms
2025-08-12 17:17:47.008 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 51
2025-08-12 17:17:47.012 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 17:17:47.013 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-12 17:17:47.014 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 17:17:47.015 +05:30 [DBG] Connection id "0HNEPH6APMD0D", Request id "0HNEPH6APMD0D:0000000F": started reading request body.
2025-08-12 17:17:47.016 +05:30 [DBG] Connection id "0HNEPH6APMD0D", Request id "0HNEPH6APMD0D:0000000F": done reading request body.
2025-08-12 17:17:47.018 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:47.019 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:47.019 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 17:17:47.020 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 17:17:47.021 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-12 17:17:47.022 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:17:47.023 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:17:47.023 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:47.026 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:17:47.027 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:47.028 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 17:17:47.030 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:17:47.031 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 17:17:47.032 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 17:17:47.033 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-12 17:17:47.034 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 17:17:47.035 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-12 17:17:47.036 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 17:17:47.037 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 17:17:47.038 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 17:17:47.038 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 17:17:47.039 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:17:47.041 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 17:17:47.042 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.043 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.044 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:47.044 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:47.045 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:47.046 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 17:17:47.051 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 17:17:47.053 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:47.053 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.054 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:17:47.056 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.057 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:47.109 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.110 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.111 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:47.111 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:47.112 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:47.113 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 17:17:47.117 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 17:17:47.120 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.121 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:17:47.122 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.122 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:47.123 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:47.125 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 17:17:47.125 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 17:17:47.126 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 17:17:47.127 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.128 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.129 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:47.130 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:47.131 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:47.132 +05:30 [DBG] Executing DbCommand [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 17:17:47.141 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 17:17:47.143 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.144 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:17:47.145 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.146 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:47.147 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:47.148 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 17:17:47.149 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:17:47.152 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:17:47.152 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:17:47.152 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:17:47.153 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:17:47.154 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:17:47.155 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 126.6208ms
2025-08-12 17:17:47.155 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 17:17:47.156 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"admin@gmail.com","password":"Admin@1234"} Responded with [200] in 140ms
2025-08-12 17:17:47.157 +05:30 [DBG] Connection id "0HNEPH6APMD0D" completed keep alive response.
2025-08-12 17:17:47.158 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:17:47.159 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.161 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:17:47.163 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:17:47.167 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 893 application/json 159.2538ms
2025-08-12 17:17:47.161 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:17:47.171 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:17:47.172 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:17:47.176 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:17:47.180 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:17:47.182 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:17:47.183 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:17:47.185 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:17:47.185 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:17:47.186 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:17:47.187 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:47.188 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:17:47.188 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:47.189 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:47.189 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:47.190 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:47.190 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:47.191 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:47.191 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:17:47.192 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:47.193 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:17:47.192 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:17:47.194 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 6ms
2025-08-12 17:17:47.195 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:17:47.196 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/users   Responded with [204] in 6ms
2025-08-12 17:17:47.197 +05:30 [DBG] Connection id "0HNEPH6APMD0E" completed keep alive response.
2025-08-12 17:17:47.197 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 7ms
2025-08-12 17:17:47.199 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 36.7037ms
2025-08-12 17:17:47.202 +05:30 [DBG] Connection id "0HNEPH6APMD0D" completed keep alive response.
2025-08-12 17:17:47.198 +05:30 [DBG] Connection id "0HNEPH6APMD0F" completed keep alive response.
2025-08-12 17:17:47.196 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 7ms
2025-08-12 17:17:47.198 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:17:47.199 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:17:47.211 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 34.7741ms
2025-08-12 17:17:47.212 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - 204 null null 40.9135ms
2025-08-12 17:17:47.212 +05:30 [DBG] Connection id "0HNEPH6APMD0C" completed keep alive response.
2025-08-12 17:17:47.214 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:17:47.215 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:17:47.219 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 58.1132ms
2025-08-12 17:17:47.220 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:17:47.220 +05:30 [DBG] Endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/users' is valid for the request path '/api/v1/Admin/users'
2025-08-12 17:17:47.223 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:17:47.223 +05:30 [DBG] Request matched endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:17:47.224 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:17:47.225 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:47.225 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:47.226 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:47.227 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:47.228 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:17:47.229 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:17:47.229 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:17:47.230 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:17:47.230 +05:30 [DBG] Authorization was successful.
2025-08-12 17:17:47.231 +05:30 [DBG] Authorization was successful.
2025-08-12 17:17:47.231 +05:30 [INF] Executing endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:17:47.232 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:17:47.233 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller AdminController (TravelPlannerAPI).
2025-08-12 17:17:47.234 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 17:17:47.235 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:17:47.236 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:17:47.237 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:17:47.238 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:17:47.239 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:47.240 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:47.241 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:17:47.243 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:17:47.243 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:47.244 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:47.245 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:17:47.246 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:17:47.247 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:17:47.248 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:17:47.249 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:17:47.250 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:17:47.252 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:17:47.252 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:17:47.253 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:17:47.253 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 17:17:47.254 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.255 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 17:17:47.255 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.256 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 17:17:47.257 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:47.258 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 17:17:47.258 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:47.259 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 17:17:47.260 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 17:17:47.260 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:17:47.261 +05:30 [DBG] Executing DbCommand [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:17:47.262 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:17:47.265 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:17:47.267 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:17:47.268 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:17:47.268 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:17:47.269 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.269 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.270 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:47.271 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:47.271 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:47.272 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:17:47.275 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:17:47.276 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.277 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:17:47.277 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.278 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:47.279 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.280 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.281 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:47.282 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:17:47.282 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:47.284 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:47.285 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 17:17:47.285 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:47.286 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:17:47.287 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:47.289 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:17:47.290 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:47.291 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.292 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:47.292 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:17:47.293 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:47.293 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.294 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:47.295 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:17:47.296 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:47.296 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:17:47.297 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:47.299 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:17:47.300 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:47.300 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:17:47.302 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:17:47.302 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:17:47.303 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:17:47.304 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 58.0286ms
2025-08-12 17:17:47.305 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:17:47.306 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 80ms
2025-08-12 17:17:47.307 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:17:47.307 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:47.308 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:17:47.310 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:47.310 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.311 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:47.312 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:17:47.312 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:47.314 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 115.322ms
2025-08-12 17:17:47.315 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:47.316 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:17:47.317 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:47.319 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:17:47.319 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:47.320 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:17:47.321 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:47.321 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:17:47.322 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:47.323 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:17:47.324 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:47.324 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:47.325 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:47.326 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:47.326 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.327 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:17:47.327 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 43ms reading results.
2025-08-12 17:17:47.328 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:17:47.329 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.329 +05:30 [DBG] Authorization was successful.
2025-08-12 17:17:47.331 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-12 17:17:47.331 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:17:47.332 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:17:47.333 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 17:17:47.334 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:17:47.335 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:17:47.335 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:17:47.336 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:17:47.336 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:17:47.337 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:47.337 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:17:47.339 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:17:47.339 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.AdminUserDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:17:47.340 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:47.341 +05:30 [INF] Executed action AdminController.GetAllUsers (TravelPlannerAPI) in 95.7142ms
2025-08-12 17:17:47.342 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:17:47.343 +05:30 [INF] Executed endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:17:47.345 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:17:47.345 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Admin/users   Responded with [200] in 120ms
2025-08-12 17:17:47.346 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:17:47.347 +05:30 [DBG] Connection id "0HNEPH6APMD0G" completed keep alive response.
2025-08-12 17:17:47.348 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:17:47.348 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:17:47.349 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 17:17:47.350 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.351 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 17:17:47.351 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:17:47.352 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 17:17:47.353 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - 200 3327 application/json 154.0538ms
2025-08-12 17:17:47.354 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 17:17:47.358 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 17:17:47.360 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:17:47.361 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:17:47.362 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:17:47.364 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:17:47.366 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:17:47.367 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:17:47.367 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.368 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.369 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:47.369 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:47.370 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:47.371 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:17:47.377 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:17:47.380 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.381 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:17:47.382 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.383 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:47.384 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.386 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.387 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:47.387 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:47.388 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:47.389 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:17:47.392 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:17:47.394 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.394 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:17:47.395 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.396 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:47.398 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:17:47.400 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:17:47.400 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:17:47.401 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:17:47.401 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:17:47.402 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:17:47.403 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 60.5569ms
2025-08-12 17:17:47.404 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:17:47.404 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 80ms
2025-08-12 17:17:47.405 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:17:47.407 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:17:47.407 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.408 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 17:17:47.409 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 92.6469ms
2025-08-12 17:17:47.411 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-12 17:17:47.412 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-12 17:17:47.414 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:17:47.415 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-12 17:17:47.416 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:17:47.417 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:47.417 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:47.418 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:17:47.418 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:17:47.419 +05:30 [DBG] Authorization was successful.
2025-08-12 17:17:47.419 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:17:47.420 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-12 17:17:47.422 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:17:47.423 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:17:47.423 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:47.424 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:17:47.425 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:47.426 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:17:47.428 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:17:47.429 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-12 17:17:47.431 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:17:47.432 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-12 17:17:47.433 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-12 17:17:47.434 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-12 17:17:47.435 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 17:17:47.436 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-12 17:17:47.437 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:17:47.437 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:17:47.438 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-12 17:17:47.439 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-12 17:17:47.440 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:17:47.441 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:17:47.442 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.443 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.444 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:47.444 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:47.445 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:47.446 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:17:47.451 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-12 17:17:47.453 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.454 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:17:47.456 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.457 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:47.458 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.459 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.460 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:47.460 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:47.461 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:47.462 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:17:47.466 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-12 17:17:47.467 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.468 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:17:47.469 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.470 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:47.471 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:17:47.472 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:17:47.473 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:17:47.474 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:17:47.475 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:17:47.476 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:17:47.477 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 50.7861ms
2025-08-12 17:17:47.478 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-12 17:17:47.478 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 61ms
2025-08-12 17:17:47.479 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:17:47.480 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:17:47.481 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:47.482 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:17:47.483 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 72.7984ms
2025-08-12 17:17:52.996 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/delete-user/17?id=17 - null null
2025-08-12 17:17:53.000 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/delete-user/17'
2025-08-12 17:17:53.002 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:17:53.002 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:53.003 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:53.004 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:17:53.005 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/delete-user/17 ?id=17  Responded with [204] in 2ms
2025-08-12 17:17:53.006 +05:30 [DBG] Connection id "0HNEPH6APMD0C" completed keep alive response.
2025-08-12 17:17:53.006 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/delete-user/17?id=17 - 204 null null 10.4597ms
2025-08-12 17:17:53.007 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5276/api/v1/Admin/delete-user/17?id=17 - null null
2025-08-12 17:17:53.010 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/delete-user/17'
2025-08-12 17:17:53.011 +05:30 [DBG] Endpoint 'AdminController.DeleteUser (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/delete-user/{id}' is valid for the request path '/api/v1/Admin/delete-user/17'
2025-08-12 17:17:53.012 +05:30 [DBG] Request matched endpoint 'AdminController.DeleteUser (TravelPlannerAPI)'
2025-08-12 17:17:53.013 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:53.017 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:53.018 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:17:53.019 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:17:53.019 +05:30 [DBG] Authorization was successful.
2025-08-12 17:17:53.020 +05:30 [INF] Executing endpoint 'AdminController.DeleteUser (TravelPlannerAPI)'
2025-08-12 17:17:53.021 +05:30 [INF] Route matched with {action = "DeleteUser", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(Int32) on controller AdminController (TravelPlannerAPI).
2025-08-12 17:17:53.022 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:17:53.023 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:17:53.024 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:53.025 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:17:53.026 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:53.027 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:17:53.029 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:17:53.032 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:17:53.033 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-12 17:17:53.034 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-12 17:17:53.035 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 17:17:53.036 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 17:17:53.036 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-12 17:17:53.037 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-12 17:17:53.038 +05:30 [DBG] Compiling query expression: 
'DbSet<ExpenseModel>()
    .Where(x => x.UserId == 17)'
2025-08-12 17:17:53.042 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ExpenseModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ExpenseModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ExpenseModel.Amount (decimal) Required, 1], [Property: ExpenseModel.Category (string) Required, 2], [Property: ExpenseModel.Date (DateTime) Required, 3], [Property: ExpenseModel.Description (string), 4], [Property: ExpenseModel.TripId (int) Required FK Index, 5], [Property: ExpenseModel.UserId (int) Required FK Index, 6] }
        SELECT e.Id, e.Amount, e.Category, e.Date, e.Description, e.TripId, e.UserId
        FROM Expenses AS e
        WHERE e.UserId == 17), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ExpenseModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 17:17:53.043 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:17:53.044 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:17:53.046 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.047 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.048 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:53.049 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:53.050 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:53.051 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[Category], [e].[Date], [e].[Description], [e].[TripId], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[UserId] = 17
2025-08-12 17:17:53.055 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[Category], [e].[Date], [e].[Description], [e].[TripId], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[UserId] = 17
2025-08-12 17:17:53.056 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.057 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:17:53.058 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.059 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:53.061 +05:30 [DBG] Compiling query expression: 
'DbSet<ReviewModel>()
    .Where(x => x.UserId == 17)'
2025-08-12 17:17:53.065 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewModel.Rating (int) Required, 1], [Property: ReviewModel.ReviewText (string) Required, 2], [Property: ReviewModel.TripId (int) Required FK Index, 3], [Property: ReviewModel.UserId (int) Required FK Index, 4] }
        SELECT r.Id, r.Rating, r.review, r.TripId, r.UserId
        FROM reviews AS r
        WHERE r.UserId == 17), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 17:17:53.067 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.068 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.069 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:53.069 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:53.070 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:53.071 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [reviews] AS [r]
WHERE [r].[UserId] = 17
2025-08-12 17:17:53.077 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [reviews] AS [r]
WHERE [r].[UserId] = 17
2025-08-12 17:17:53.079 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.080 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:17:53.082 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.083 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:53.084 +05:30 [DBG] Compiling query expression: 
'DbSet<ChecklistItemModel>()
    .Where(x => x.UserId == 17)'
2025-08-12 17:17:53.087 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChecklistItemModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ChecklistItemModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChecklistItemModel.Description (string) Required, 1], [Property: ChecklistItemModel.IsCompleted (bool) Required, 2], [Property: ChecklistItemModel.TripId (int) Required FK Index, 3], [Property: ChecklistItemModel.UserId (int) Required FK Index, 4] }
        SELECT c.Id, c.Description, c.IsCompleted, c.TripId, c.UserId
        FROM ChecklistItems AS c
        WHERE c.UserId == 17), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChecklistItemModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 17:17:53.089 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.090 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.090 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:53.091 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:53.092 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:53.092 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[UserId] = 17
2025-08-12 17:17:53.098 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[UserId] = 17
2025-08-12 17:17:53.100 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.101 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:17:53.102 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.103 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:53.104 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Where(x => x.UserId == 17)'
2025-08-12 17:17:53.107 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
        SELECT t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId
        FROM Trips AS t
        WHERE t.UserId == 17), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 17:17:53.111 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.112 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.113 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:53.114 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:53.116 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 17:17:53.116 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[UserId] = 17
2025-08-12 17:17:53.121 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[UserId] = 17
2025-08-12 17:17:53.123 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:53.124 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.126 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 17:17:53.127 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.127 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:53.128 +05:30 [DBG] An entity of type 'TripModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:53.130 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.131 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.132 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:53.133 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:53.134 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:53.134 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessLevel], [t].[OwnerId], [t].[SharedWithUserId], [t].[TripId]
FROM [TripShares] AS [t]
WHERE [t].[OwnerId] = @__userId_0 OR [t].[SharedWithUserId] = @__userId_0
2025-08-12 17:17:53.138 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessLevel], [t].[OwnerId], [t].[SharedWithUserId], [t].[TripId]
FROM [TripShares] AS [t]
WHERE [t].[OwnerId] = @__userId_0 OR [t].[SharedWithUserId] = @__userId_0
2025-08-12 17:17:53.139 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripShareModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:53.141 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.142 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 17:17:53.143 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.144 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:53.145 +05:30 [DBG] An entity of type 'TripShareModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:53.147 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.148 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.149 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:53.150 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:53.151 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:53.152 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-08-12 17:17:53.155 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-08-12 17:17:53.158 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:53.159 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.160 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 17:17:53.161 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.162 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:53.163 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:53.164 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 17:17:53.165 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 17:17:53.166 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 17:17:53.168 +05:30 [DBG] Executing 3 update commands as a batch.
2025-08-12 17:17:53.168 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.169 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.170 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-12 17:17:53.171 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-12 17:17:53.171 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:53.172 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:53.173 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:53.173 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [TripShares]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [Trips]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p2 AND [ConcurrencyStamp] = @p3;
2025-08-12 17:17:53.189 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [TripShares]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [Trips]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p2 AND [ConcurrencyStamp] = @p3;
2025-08-12 17:17:53.191 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.192 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:17:53.194 +05:30 [DBG] Committing transaction.
2025-08-12 17:17:53.195 +05:30 [DBG] Committed transaction.
2025-08-12 17:17:53.197 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.198 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:17:53.199 +05:30 [DBG] Disposing transaction.
2025-08-12 17:17:53.202 +05:30 [DBG] The navigation 'TripShareModel.Trip' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:53.204 +05:30 [DBG] An entity of type 'TripModel' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:53.205 +05:30 [DBG] An entity of type 'TripShareModel' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:53.206 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:53.207 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 3 entities written to the database.
2025-08-12 17:17:53.208 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 17:17:53.209 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 17:17:53.210 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 17:17:53.210 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 0 entities written to the database.
2025-08-12 17:17:53.211 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-08-12 17:17:53.213 +05:30 [INF] Executed action AdminController.DeleteUser (TravelPlannerAPI) in 185.6905ms
2025-08-12 17:17:53.214 +05:30 [INF] Executed endpoint 'AdminController.DeleteUser (TravelPlannerAPI)'
2025-08-12 17:17:53.215 +05:30 [INF] Source:[::1] Request: DELETE http localhost:5276/api/v1/Admin/delete-user/17 ?id=17  Responded with [204] in 201ms
2025-08-12 17:17:53.216 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:17:53.217 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:17:53.217 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:53.218 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:17:53.220 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5276/api/v1/Admin/delete-user/17?id=17 - 204 null null 212.361ms
2025-08-12 17:17:56.299 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:17:56.302 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:17:56.303 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:17:56.304 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:56.304 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:56.305 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:17:56.306 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/users   Responded with [204] in 2ms
2025-08-12 17:17:56.307 +05:30 [DBG] Connection id "0HNEPH6APMD0C" completed keep alive response.
2025-08-12 17:17:56.308 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - 204 null null 8.8596ms
2025-08-12 17:17:56.308 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:17:56.315 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:17:56.316 +05:30 [DBG] Endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/users' is valid for the request path '/api/v1/Admin/users'
2025-08-12 17:17:56.317 +05:30 [DBG] Request matched endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:17:56.318 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:17:56.319 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:17:56.320 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:17:56.320 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:17:56.321 +05:30 [DBG] Authorization was successful.
2025-08-12 17:17:56.322 +05:30 [INF] Executing endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:17:56.322 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller AdminController (TravelPlannerAPI).
2025-08-12 17:17:56.324 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:17:56.325 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:17:56.326 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:56.327 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:17:56.328 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:17:56.331 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:17:56.332 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:17:56.334 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:17:56.335 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:17:56.335 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:17:56.336 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:56.337 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:56.338 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:17:56.339 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:17:56.340 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:17:56.341 +05:30 [DBG] Executing DbCommand [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:17:56.359 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:17:56.361 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:56.363 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:56.364 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:56.366 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:56.367 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:56.368 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:56.369 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:56.369 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:56.370 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:56.371 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:56.380 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:56.381 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:56.382 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:56.383 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:56.384 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:56.385 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:56.385 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:56.386 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:56.387 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:56.388 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:17:56.389 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:56.390 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 29ms reading results.
2025-08-12 17:17:56.391 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:56.392 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:17:56.393 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:17:56.395 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:17:56.396 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:17:56.396 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:17:56.397 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:17:56.397 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.AdminUserDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:17:56.399 +05:30 [INF] Executed action AdminController.GetAllUsers (TravelPlannerAPI) in 67.9451ms
2025-08-12 17:17:56.400 +05:30 [INF] Executed endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:17:56.401 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Admin/users   Responded with [200] in 82ms
2025-08-12 17:17:56.401 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:17:56.403 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:17:56.403 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:17:56.406 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 17:17:56.407 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - 200 3027 application/json 98.9933ms
2025-08-12 17:19:46.129 +05:30 [DBG] Connection id "0HNEPH6APMD0A" received FIN.
2025-08-12 17:19:46.134 +05:30 [DBG] Connection id "0HNEPH6APMD0A" disconnecting.
2025-08-12 17:19:46.136 +05:30 [DBG] Connection id "0HNEPH6APMD0A" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 17:19:46.149 +05:30 [DBG] Connection id "0HNEPH6APMD0A" stopped.
2025-08-12 17:21:44.636 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:21:44.645 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:21:44.645 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:21:44.646 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:21:44.647 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:21:44.647 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:21:44.648 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/users   Responded with [204] in 2ms
2025-08-12 17:21:44.649 +05:30 [DBG] Connection id "0HNEPH6APMD0C" completed keep alive response.
2025-08-12 17:21:44.650 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - 204 null null 13.9765ms
2025-08-12 17:21:44.657 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:21:44.662 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:21:44.663 +05:30 [DBG] Endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/users' is valid for the request path '/api/v1/Admin/users'
2025-08-12 17:21:44.664 +05:30 [DBG] Request matched endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:21:44.664 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:21:44.665 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:21:44.666 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:21:44.667 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:21:44.668 +05:30 [DBG] Authorization was successful.
2025-08-12 17:21:44.670 +05:30 [INF] Executing endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:21:44.671 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller AdminController (TravelPlannerAPI).
2025-08-12 17:21:44.672 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:21:44.673 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:21:44.674 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:21:44.675 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:21:44.676 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:21:44.677 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:21:44.679 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:21:44.680 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:21:44.682 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:21:44.682 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:21:44.683 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:21:44.684 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:21:44.687 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:21:44.687 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:21:44.688 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:21:44.690 +05:30 [DBG] Executing DbCommand [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:21:44.706 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:21:44.709 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:21:44.710 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:21:44.711 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:21:44.719 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:21:44.720 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:21:44.721 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:21:44.722 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:21:44.723 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:21:44.724 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:21:44.725 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:21:44.733 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:21:44.734 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:21:44.735 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:21:44.736 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:21:44.737 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:21:44.738 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:21:44.739 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:21:44.740 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:21:44.741 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:21:44.742 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:21:44.744 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:21:44.744 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 35ms reading results.
2025-08-12 17:21:44.745 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:21:44.746 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:21:44.747 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:21:44.750 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:21:44.750 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:21:44.751 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:21:44.751 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:21:44.752 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.AdminUserDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:21:44.754 +05:30 [INF] Executed action AdminController.GetAllUsers (TravelPlannerAPI) in 76.8619ms
2025-08-12 17:21:44.754 +05:30 [INF] Executed endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:21:44.755 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Admin/users   Responded with [200] in 91ms
2025-08-12 17:21:44.756 +05:30 [DBG] Connection id "0HNEPH6APMD0B" completed keep alive response.
2025-08-12 17:21:44.757 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:21:44.757 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:21:44.758 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 17:21:44.758 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - 200 3027 application/json 103.0921ms
2025-08-12 17:22:55.560 +05:30 [DBG] Connection id "0HNEPH6APMD0G" received FIN.
2025-08-12 17:22:55.560 +05:30 [DBG] Connection id "0HNEPH6APMD0E" received FIN.
2025-08-12 17:22:55.562 +05:30 [DBG] Connection id "0HNEPH6APMD0F" received FIN.
2025-08-12 17:22:55.567 +05:30 [DBG] Connection id "0HNEPH6APMD0D" received FIN.
2025-08-12 17:22:55.568 +05:30 [DBG] Connection id "0HNEPH6APMD0G" disconnecting.
2025-08-12 17:22:55.575 +05:30 [DBG] Connection id "0HNEPH6APMD0E" disconnecting.
2025-08-12 17:22:55.578 +05:30 [DBG] Connection id "0HNEPH6APMD0G" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 17:22:55.581 +05:30 [DBG] Connection id "0HNEPH6APMD0E" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 17:22:55.590 +05:30 [DBG] Connection id "0HNEPH6APMD0G" stopped.
2025-08-12 17:22:55.586 +05:30 [DBG] Connection id "0HNEPH6APMD0D" disconnecting.
2025-08-12 17:22:55.581 +05:30 [DBG] Connection id "0HNEPH6APMD0F" disconnecting.
2025-08-12 17:22:55.595 +05:30 [DBG] Connection id "0HNEPH6APMD0D" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 17:22:55.600 +05:30 [DBG] Connection id "0HNEPH6APMD0F" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 17:22:55.604 +05:30 [DBG] Connection id "0HNEPH6APMD0D" stopped.
2025-08-12 17:22:55.604 +05:30 [DBG] Connection id "0HNEPH6APMD0F" stopped.
2025-08-12 17:22:55.604 +05:30 [DBG] Connection id "0HNEPH6APMD0E" stopped.
2025-08-12 17:26:34.920 +05:30 [DBG] Connection id "0HNEPH6APMD0C" received FIN.
2025-08-12 17:26:34.922 +05:30 [DBG] Connection id "0HNEPH6APMD0B" received FIN.
2025-08-12 17:29:00.010 +05:30 [DBG] Connection id "0HNEPH6APMD0C" disconnecting.
2025-08-12 17:29:00.019 +05:30 [DBG] Connection id "0HNEPH6APMD0B" disconnecting.
2025-08-12 17:29:00.117 +05:30 [DBG] Connection id "0HNEPH6APMD0C" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 17:29:00.126 +05:30 [DBG] Connection id "0HNEPH6APMD0B" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 17:29:00.141 +05:30 [DBG] Connection id "0HNEPH6APMD0C" stopped.
2025-08-12 17:29:00.151 +05:30 [DBG] Connection id "0HNEPH6APMD0B" stopped.
2025-08-12 17:29:01.371 +05:30 [DBG] Connection id "0HNEPH6APMD0H" accepted.
2025-08-12 17:29:01.373 +05:30 [DBG] Connection id "0HNEPH6APMD0H" started.
2025-08-12 17:29:01.374 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:29:01.376 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:29:01.377 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:29:01.378 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:29:01.378 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:29:01.379 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:29:01.380 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/users   Responded with [204] in 2ms
2025-08-12 17:29:01.381 +05:30 [DBG] Connection id "0HNEPH6APMD0H" completed keep alive response.
2025-08-12 17:29:01.382 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - 204 null null 7.5627ms
2025-08-12 17:29:01.384 +05:30 [DBG] Connection id "0HNEPH6APMD0I" accepted.
2025-08-12 17:29:01.393 +05:30 [DBG] Connection id "0HNEPH6APMD0I" started.
2025-08-12 17:29:01.394 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:29:01.396 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:29:01.398 +05:30 [DBG] Endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/users' is valid for the request path '/api/v1/Admin/users'
2025-08-12 17:29:01.399 +05:30 [DBG] Request matched endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:29:01.402 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:29:01.404 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:29:01.405 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:29:01.406 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:29:01.407 +05:30 [DBG] Authorization was successful.
2025-08-12 17:29:01.408 +05:30 [INF] Executing endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:29:01.409 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller AdminController (TravelPlannerAPI).
2025-08-12 17:29:01.411 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:29:01.415 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:29:01.418 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:29:01.420 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:29:01.423 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:29:01.425 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:29:01.427 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:29:01.429 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:29:01.432 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:29:01.433 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 17:29:01.435 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:29:01.454 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:29:01.460 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:29:01.461 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:29:01.462 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 17:29:01.464 +05:30 [DBG] Executing DbCommand [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:29:01.486 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:29:01.489 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:29:01.491 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:29:01.493 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:29:01.497 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:29:01.499 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:29:01.500 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:29:01.501 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:29:01.503 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:29:01.507 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:29:01.510 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:29:01.526 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:29:01.527 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:29:01.529 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:29:01.531 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:29:01.532 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:29:01.534 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:29:01.535 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:29:01.539 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:29:01.541 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:29:01.543 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:29:01.546 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:29:01.547 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 58ms reading results.
2025-08-12 17:29:01.549 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:29:01.550 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:29:01.551 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:29:01.554 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:29:01.555 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:29:01.556 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:29:01.556 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:29:01.557 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.AdminUserDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:29:01.558 +05:30 [INF] Executed action AdminController.GetAllUsers (TravelPlannerAPI) in 133.5716ms
2025-08-12 17:29:01.559 +05:30 [INF] Executed endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:29:01.560 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Admin/users   Responded with [200] in 158ms
2025-08-12 17:29:01.561 +05:30 [DBG] Connection id "0HNEPH6APMD0I" completed keep alive response.
2025-08-12 17:29:01.562 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:29:01.563 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:29:01.564 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 17:29:01.565 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - 200 3027 application/json 171.1361ms
2025-08-12 17:31:28.682 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:31:28.692 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:31:28.693 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:31:28.694 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:31:28.695 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:31:28.695 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:31:28.697 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/users   Responded with [204] in 2ms
2025-08-12 17:31:28.699 +05:30 [DBG] Connection id "0HNEPH6APMD0H" completed keep alive response.
2025-08-12 17:31:28.700 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - 204 null null 17.9049ms
2025-08-12 17:31:28.701 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:31:28.712 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:31:28.714 +05:30 [DBG] Endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/users' is valid for the request path '/api/v1/Admin/users'
2025-08-12 17:31:28.715 +05:30 [DBG] Request matched endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:31:28.717 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:31:28.717 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:31:28.718 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:31:28.719 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:31:28.720 +05:30 [DBG] Authorization was successful.
2025-08-12 17:31:28.721 +05:30 [INF] Executing endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:31:28.723 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller AdminController (TravelPlannerAPI).
2025-08-12 17:31:28.725 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:31:28.726 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:31:28.727 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:31:28.729 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:31:28.730 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:31:28.732 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:31:28.734 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:31:28.736 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:31:28.737 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:31:28.738 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:31:28.739 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:31:28.740 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:31:28.741 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:31:28.742 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:31:28.743 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:31:28.743 +05:30 [DBG] Executing DbCommand [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:31:28.770 +05:30 [INF] Executed DbCommand (27ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:31:28.774 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:28.775 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:28.777 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:28.781 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:28.783 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:28.784 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:28.786 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:28.787 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:28.789 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:28.791 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:28.800 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:28.804 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:28.806 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:28.809 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:28.811 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:28.814 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:28.816 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:28.817 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:28.820 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:28.822 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:28.826 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:31:28.828 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 54ms reading results.
2025-08-12 17:31:28.829 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:31:28.830 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:31:28.832 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:31:28.835 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:31:28.836 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:31:28.837 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:31:28.837 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:31:28.838 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.AdminUserDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:31:28.840 +05:30 [INF] Executed action AdminController.GetAllUsers (TravelPlannerAPI) in 107.8806ms
2025-08-12 17:31:28.840 +05:30 [INF] Executed endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:31:28.841 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Admin/users   Responded with [200] in 124ms
2025-08-12 17:31:28.842 +05:30 [DBG] Connection id "0HNEPH6APMD0I" completed keep alive response.
2025-08-12 17:31:28.844 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:31:28.845 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:31:28.846 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:31:28.847 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - 200 3027 application/json 146.0039ms
2025-08-12 17:31:30.445 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:31:30.447 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:31:30.448 +05:30 [DBG] Endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/users' is valid for the request path '/api/v1/Admin/users'
2025-08-12 17:31:30.449 +05:30 [DBG] Request matched endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:31:30.449 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:31:30.450 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:31:30.451 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:31:30.451 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:31:30.452 +05:30 [DBG] Authorization was successful.
2025-08-12 17:31:30.452 +05:30 [INF] Executing endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:31:30.453 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller AdminController (TravelPlannerAPI).
2025-08-12 17:31:30.454 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:31:30.456 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:31:30.458 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:31:30.459 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:31:30.460 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:31:30.461 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:31:30.462 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:31:30.463 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:31:30.464 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:31:30.465 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:31:30.466 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:31:30.467 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:31:30.467 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:31:30.468 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:31:30.469 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:31:30.469 +05:30 [DBG] Executing DbCommand [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:31:30.474 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:31:30.475 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:30.476 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:30.478 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:30.479 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:30.480 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:30.481 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:30.482 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:30.483 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:30.484 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:30.486 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:30.493 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:30.494 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:30.495 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:30.496 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:30.497 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:30.498 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:30.501 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:30.505 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:30.509 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:30.511 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:31:30.513 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:31:30.516 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 40ms reading results.
2025-08-12 17:31:30.517 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:31:30.519 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:31:30.521 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:31:30.523 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:31:30.524 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:31:30.525 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:31:30.525 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:31:30.526 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.AdminUserDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:31:30.527 +05:30 [INF] Executed action AdminController.GetAllUsers (TravelPlannerAPI) in 66.4504ms
2025-08-12 17:31:30.529 +05:30 [INF] Executed endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:31:30.530 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Admin/users   Responded with [200] in 80ms
2025-08-12 17:31:30.531 +05:30 [DBG] Connection id "0HNEPH6APMD0I" completed keep alive response.
2025-08-12 17:31:30.532 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:31:30.532 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:31:30.533 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 17:31:30.534 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - 200 3027 application/json 88.7298ms
2025-08-12 17:32:02.094 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/signup - null null
2025-08-12 17:32:02.104 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/signup'
2025-08-12 17:32:02.104 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:32:02.106 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:32:02.109 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:32:02.109 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:32:02.110 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/signup   Responded with [204] in 4ms
2025-08-12 17:32:02.111 +05:30 [DBG] Connection id "0HNEPH6APMD0H" completed keep alive response.
2025-08-12 17:32:02.112 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/signup - 204 null null 17.4792ms
2025-08-12 17:32:02.119 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/signup - application/json 68
2025-08-12 17:32:02.120 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/signup'
2025-08-12 17:32:02.122 +05:30 [DBG] Endpoint 'AuthController.Signup (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/signup' is valid for the request path '/api/v1/Auth/signup'
2025-08-12 17:32:02.123 +05:30 [DBG] Request matched endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-12 17:32:02.124 +05:30 [DBG] Connection id "0HNEPH6APMD0H", Request id "0HNEPH6APMD0H:00000004": started reading request body.
2025-08-12 17:32:02.125 +05:30 [DBG] Connection id "0HNEPH6APMD0H", Request id "0HNEPH6APMD0H:00000004": done reading request body.
2025-08-12 17:32:02.126 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:32:02.127 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:32:02.127 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 17:32:02.128 +05:30 [INF] Executing endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-12 17:32:02.128 +05:30 [INF] Route matched with {action = "Signup", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Signup(TravelPlannerAPI.Dtos.SignupRequest) on controller AuthController (TravelPlannerAPI).
2025-08-12 17:32:02.129 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:32:02.130 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:32:02.131 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:32:02.132 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:32:02.133 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:32:02.134 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 17:32:02.135 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:32:02.137 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 17:32:02.139 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' ...
2025-08-12 17:32:02.140 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' using the name '' in request data ...
2025-08-12 17:32:02.143 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 17:32:02.144 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.SignupRequest'
2025-08-12 17:32:02.145 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-12 17:32:02.146 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-12 17:32:02.146 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' ...
2025-08-12 17:32:02.147 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-12 17:32:02.148 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:32:02.149 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:32:02.149 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:02.150 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:02.151 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:32:02.152 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:32:02.152 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:32:02.154 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 17:32:02.159 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 17:32:02.161 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:02.162 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:32:02.163 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:02.164 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:32:02.214 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:02.216 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:02.216 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:32:02.217 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:32:02.218 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:32:02.219 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 17:32:02.227 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 17:32:02.229 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:02.230 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:32:02.231 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:02.232 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:32:02.233 +05:30 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'UserModel.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:02.236 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:02.236 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 17:32:02.237 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 17:32:02.238 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 17:32:02.240 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:02.241 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:02.242 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:32:02.242 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:32:02.243 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:32:02.244 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [IsActive], [IsAdmin], [LastLoginDate], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-08-12 17:32:02.250 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [IsActive], [IsAdmin], [LastLoginDate], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-08-12 17:32:02.253 +05:30 [DBG] The foreign key property 'UserModel.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 17:32:02.253 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:02.254 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:32:02.256 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:02.256 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:32:02.258 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:02.259 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 17:32:02.260 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:32:02.261 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:32:02.261 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:32:02.262 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:32:02.262 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:32:02.263 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 17:32:02.264 +05:30 [INF] Executed action AuthController.Signup (TravelPlannerAPI) in 129.6553ms
2025-08-12 17:32:02.264 +05:30 [INF] Executed endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-12 17:32:02.265 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/signup  {"Name":"Petra","Email":"petra@gmail.com","Password":"Password@123"} Responded with [200] in 141ms
2025-08-12 17:32:02.267 +05:30 [DBG] Connection id "0HNEPH6APMD0H" completed keep alive response.
2025-08-12 17:32:02.268 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:32:02.269 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:02.270 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 17:32:02.272 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/signup - 200 120 application/json 153.6525ms
2025-08-12 17:32:12.165 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-12 17:32:12.168 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 17:32:12.169 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:32:12.170 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:32:12.171 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:32:12.173 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:32:12.175 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 5ms
2025-08-12 17:32:12.176 +05:30 [DBG] Connection id "0HNEPH6APMD0H" completed keep alive response.
2025-08-12 17:32:12.177 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 12.43ms
2025-08-12 17:32:12.180 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 51
2025-08-12 17:32:12.182 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 17:32:12.183 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-12 17:32:12.184 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 17:32:12.185 +05:30 [DBG] Connection id "0HNEPH6APMD0H", Request id "0HNEPH6APMD0H:00000006": started reading request body.
2025-08-12 17:32:12.188 +05:30 [DBG] Connection id "0HNEPH6APMD0H", Request id "0HNEPH6APMD0H:00000006": done reading request body.
2025-08-12 17:32:12.189 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:32:12.189 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:32:12.190 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 17:32:12.191 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 17:32:12.191 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-12 17:32:12.192 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:32:12.193 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:32:12.194 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:32:12.195 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:32:12.196 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:32:12.197 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 17:32:12.198 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:32:12.199 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 17:32:12.200 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 17:32:12.201 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-12 17:32:12.201 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 17:32:12.203 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-12 17:32:12.204 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 17:32:12.204 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 17:32:12.205 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 17:32:12.206 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 17:32:12.207 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:32:12.207 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:32:12.207 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:12.208 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:12.209 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:32:12.209 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:32:12.210 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:32:12.210 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 17:32:12.213 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 17:32:12.214 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:12.215 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:12.216 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:32:12.217 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:12.218 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:32:12.269 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:12.270 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:12.272 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:32:12.272 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:32:12.273 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:32:12.274 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 17:32:12.276 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 17:32:12.277 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:12.278 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:32:12.279 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:12.280 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:32:12.281 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:12.283 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 17:32:12.284 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 17:32:12.284 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 17:32:12.285 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:12.286 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:12.287 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:32:12.288 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:32:12.289 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:32:12.289 +05:30 [DBG] Executing DbCommand [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 17:32:12.296 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 17:32:12.298 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:12.300 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:32:12.300 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:12.301 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:32:12.302 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:12.303 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 17:32:12.304 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:32:12.306 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:32:12.306 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:32:12.307 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:32:12.307 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:32:12.308 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:32:12.309 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 112.2078ms
2025-08-12 17:32:12.310 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 17:32:12.310 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"admin@gmail.com","password":"Admin@1234"} Responded with [200] in 125ms
2025-08-12 17:32:12.311 +05:30 [DBG] Connection id "0HNEPH6APMD0H" completed keep alive response.
2025-08-12 17:32:12.312 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:32:12.313 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:12.315 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:32:12.318 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 893 application/json 137.6396ms
2025-08-12 17:32:12.338 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:32:12.343 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:32:12.344 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:32:12.345 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:32:12.346 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:32:12.347 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:32:12.348 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/users   Responded with [204] in 2ms
2025-08-12 17:32:12.351 +05:30 [DBG] Connection id "0HNEPH6APMD0H" completed keep alive response.
2025-08-12 17:32:12.353 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - 204 null null 14.5284ms
2025-08-12 17:32:12.355 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:32:12.367 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:32:12.368 +05:30 [DBG] Endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/users' is valid for the request path '/api/v1/Admin/users'
2025-08-12 17:32:12.370 +05:30 [DBG] Request matched endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:32:12.372 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:32:12.373 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:32:12.374 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:32:12.374 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:32:12.376 +05:30 [DBG] Authorization was successful.
2025-08-12 17:32:12.376 +05:30 [INF] Executing endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:32:12.377 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller AdminController (TravelPlannerAPI).
2025-08-12 17:32:12.378 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:32:12.379 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:32:12.380 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:32:12.381 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:32:12.382 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:32:12.383 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:32:12.384 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:32:12.385 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:32:12.386 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:32:12.388 +05:30 [DBG] Created DbConnection. (2ms).
2025-08-12 17:32:12.389 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:12.390 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:12.391 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:32:12.391 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:32:12.392 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:32:12.392 +05:30 [DBG] Executing DbCommand [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:32:12.396 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:32:12.398 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:12.399 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:12.400 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:12.402 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:12.404 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:12.405 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:12.407 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:12.408 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:12.409 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:12.410 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:12.415 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:12.417 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:12.418 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:12.418 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:12.420 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:12.422 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:12.423 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:12.424 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:12.425 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:12.426 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:12.427 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:12.428 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 29ms reading results.
2025-08-12 17:32:12.429 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:12.430 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:32:12.431 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:32:12.432 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:32:12.432 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:32:12.433 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:32:12.433 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:32:12.434 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.AdminUserDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:32:12.435 +05:30 [INF] Executed action AdminController.GetAllUsers (TravelPlannerAPI) in 52.1006ms
2025-08-12 17:32:12.437 +05:30 [INF] Executed endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:32:12.438 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Admin/users   Responded with [200] in 65ms
2025-08-12 17:32:12.438 +05:30 [DBG] Connection id "0HNEPH6APMD0I" completed keep alive response.
2025-08-12 17:32:12.439 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:32:12.440 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:12.442 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:32:12.443 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - 200 3282 application/json 88.3154ms
2025-08-12 17:32:17.070 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/delete-user/18?id=18 - null null
2025-08-12 17:32:17.074 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/delete-user/18'
2025-08-12 17:32:17.075 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:32:17.076 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:32:17.077 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:32:17.078 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:32:17.080 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/delete-user/18 ?id=18  Responded with [204] in 4ms
2025-08-12 17:32:17.083 +05:30 [DBG] Connection id "0HNEPH6APMD0H" completed keep alive response.
2025-08-12 17:32:17.084 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/delete-user/18?id=18 - 204 null null 13.8981ms
2025-08-12 17:32:17.085 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5276/api/v1/Admin/delete-user/18?id=18 - null null
2025-08-12 17:32:17.089 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/delete-user/18'
2025-08-12 17:32:17.091 +05:30 [DBG] Endpoint 'AdminController.DeleteUser (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/delete-user/{id}' is valid for the request path '/api/v1/Admin/delete-user/18'
2025-08-12 17:32:17.092 +05:30 [DBG] Request matched endpoint 'AdminController.DeleteUser (TravelPlannerAPI)'
2025-08-12 17:32:17.093 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:32:17.094 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:32:17.095 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:32:17.096 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:32:17.097 +05:30 [DBG] Authorization was successful.
2025-08-12 17:32:17.097 +05:30 [INF] Executing endpoint 'AdminController.DeleteUser (TravelPlannerAPI)'
2025-08-12 17:32:17.098 +05:30 [INF] Route matched with {action = "DeleteUser", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(Int32) on controller AdminController (TravelPlannerAPI).
2025-08-12 17:32:17.099 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:32:17.100 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:32:17.101 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:32:17.102 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:32:17.103 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:32:17.106 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:32:17.108 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:32:17.109 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:32:17.110 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-12 17:32:17.111 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-12 17:32:17.112 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 17:32:17.113 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 17:32:17.114 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-12 17:32:17.114 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-12 17:32:17.116 +05:30 [DBG] Compiling query expression: 
'DbSet<ExpenseModel>()
    .Where(x => x.UserId == 18)'
2025-08-12 17:32:17.120 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ExpenseModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ExpenseModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ExpenseModel.Amount (decimal) Required, 1], [Property: ExpenseModel.Category (string) Required, 2], [Property: ExpenseModel.Date (DateTime) Required, 3], [Property: ExpenseModel.Description (string), 4], [Property: ExpenseModel.TripId (int) Required FK Index, 5], [Property: ExpenseModel.UserId (int) Required FK Index, 6] }
        SELECT e.Id, e.Amount, e.Category, e.Date, e.Description, e.TripId, e.UserId
        FROM Expenses AS e
        WHERE e.UserId == 18), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ExpenseModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 17:32:17.124 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:32:17.125 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:32:17.126 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.127 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.128 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:32:17.128 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:32:17.129 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:32:17.130 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[Category], [e].[Date], [e].[Description], [e].[TripId], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[UserId] = 18
2025-08-12 17:32:17.137 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[Category], [e].[Date], [e].[Description], [e].[TripId], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[UserId] = 18
2025-08-12 17:32:17.139 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.140 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:32:17.141 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.142 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:32:17.143 +05:30 [DBG] Compiling query expression: 
'DbSet<ReviewModel>()
    .Where(x => x.UserId == 18)'
2025-08-12 17:32:17.146 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewModel.Rating (int) Required, 1], [Property: ReviewModel.ReviewText (string) Required, 2], [Property: ReviewModel.TripId (int) Required FK Index, 3], [Property: ReviewModel.UserId (int) Required FK Index, 4] }
        SELECT r.Id, r.Rating, r.review, r.TripId, r.UserId
        FROM reviews AS r
        WHERE r.UserId == 18), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 17:32:17.148 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.148 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.149 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:32:17.150 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:32:17.150 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:32:17.151 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [reviews] AS [r]
WHERE [r].[UserId] = 18
2025-08-12 17:32:17.156 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [reviews] AS [r]
WHERE [r].[UserId] = 18
2025-08-12 17:32:17.158 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.159 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:32:17.160 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.160 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:32:17.162 +05:30 [DBG] Compiling query expression: 
'DbSet<ChecklistItemModel>()
    .Where(x => x.UserId == 18)'
2025-08-12 17:32:17.165 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChecklistItemModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ChecklistItemModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChecklistItemModel.Description (string) Required, 1], [Property: ChecklistItemModel.IsCompleted (bool) Required, 2], [Property: ChecklistItemModel.TripId (int) Required FK Index, 3], [Property: ChecklistItemModel.UserId (int) Required FK Index, 4] }
        SELECT c.Id, c.Description, c.IsCompleted, c.TripId, c.UserId
        FROM ChecklistItems AS c
        WHERE c.UserId == 18), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChecklistItemModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 17:32:17.166 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.167 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.167 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:32:17.168 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:32:17.170 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 17:32:17.170 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[UserId] = 18
2025-08-12 17:32:17.176 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[UserId] = 18
2025-08-12 17:32:17.178 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.178 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:32:17.179 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.180 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:32:17.181 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Where(x => x.UserId == 18)'
2025-08-12 17:32:17.185 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
        SELECT t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId
        FROM Trips AS t
        WHERE t.UserId == 18), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 17:32:17.186 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.187 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.189 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:32:17.190 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:32:17.191 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:32:17.191 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[UserId] = 18
2025-08-12 17:32:17.195 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[UserId] = 18
2025-08-12 17:32:17.197 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.198 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:32:17.199 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.203 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (3ms).
2025-08-12 17:32:17.204 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.205 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.206 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:32:17.207 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:32:17.208 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:32:17.209 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessLevel], [t].[OwnerId], [t].[SharedWithUserId], [t].[TripId]
FROM [TripShares] AS [t]
WHERE [t].[OwnerId] = @__userId_0 OR [t].[SharedWithUserId] = @__userId_0
2025-08-12 17:32:17.213 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessLevel], [t].[OwnerId], [t].[SharedWithUserId], [t].[TripId]
FROM [TripShares] AS [t]
WHERE [t].[OwnerId] = @__userId_0 OR [t].[SharedWithUserId] = @__userId_0
2025-08-12 17:32:17.215 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.217 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 17:32:17.219 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.220 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:32:17.222 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.223 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.225 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:32:17.225 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:32:17.226 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:32:17.227 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-08-12 17:32:17.231 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-08-12 17:32:17.234 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:17.235 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.236 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:32:17.237 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.238 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:32:17.240 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:17.241 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 17:32:17.242 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 17:32:17.242 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 17:32:17.243 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.244 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.245 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:32:17.246 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:32:17.247 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:32:17.247 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
2025-08-12 17:32:17.260 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
2025-08-12 17:32:17.262 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.263 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:32:17.264 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.266 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:32:17.267 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:32:17.268 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 17:32:17.268 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 17:32:17.269 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 17:32:17.270 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 17:32:17.270 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 0 entities written to the database.
2025-08-12 17:32:17.271 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-08-12 17:32:17.272 +05:30 [INF] Executed action AdminController.DeleteUser (TravelPlannerAPI) in 166.2429ms
2025-08-12 17:32:17.273 +05:30 [INF] Executed endpoint 'AdminController.DeleteUser (TravelPlannerAPI)'
2025-08-12 17:32:17.274 +05:30 [INF] Source:[::1] Request: DELETE http localhost:5276/api/v1/Admin/delete-user/18 ?id=18  Responded with [204] in 180ms
2025-08-12 17:32:17.274 +05:30 [DBG] Connection id "0HNEPH6APMD0I" completed keep alive response.
2025-08-12 17:32:17.275 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:32:17.276 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:32:17.277 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 17:32:17.278 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5276/api/v1/Admin/delete-user/18?id=18 - 204 null null 193.1128ms
2025-08-12 17:36:27.682 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:36:27.698 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:36:27.699 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:36:27.700 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:36:27.701 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:36:27.701 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:36:27.702 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/users   Responded with [204] in 2ms
2025-08-12 17:36:27.703 +05:30 [DBG] Connection id "0HNEPH6APMD0H" completed keep alive response.
2025-08-12 17:36:27.705 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - 204 null null 22.4629ms
2025-08-12 17:36:27.706 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:36:27.725 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:36:27.727 +05:30 [DBG] Endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/users' is valid for the request path '/api/v1/Admin/users'
2025-08-12 17:36:27.728 +05:30 [DBG] Request matched endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:36:27.730 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:36:27.730 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:36:27.731 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:36:27.732 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:36:27.733 +05:30 [DBG] Authorization was successful.
2025-08-12 17:36:27.734 +05:30 [INF] Executing endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:36:27.735 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller AdminController (TravelPlannerAPI).
2025-08-12 17:36:27.736 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:36:27.737 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:36:27.738 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:36:27.740 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:36:27.741 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:36:27.745 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:36:27.748 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:36:27.750 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:36:27.753 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:36:27.755 +05:30 [DBG] Created DbConnection. (2ms).
2025-08-12 17:36:27.756 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:36:27.783 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:36:27.790 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:36:27.792 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:36:27.793 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 17:36:27.794 +05:30 [DBG] Executing DbCommand [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:36:27.824 +05:30 [INF] Executed DbCommand (29ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:36:27.828 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:36:27.829 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:36:27.831 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:36:27.833 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:36:27.835 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:36:27.836 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:36:27.837 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:36:27.838 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:36:27.839 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:36:27.842 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:36:27.853 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:36:27.855 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:36:27.858 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:36:27.860 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:36:27.861 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:36:27.863 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:36:27.865 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:36:27.866 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:36:27.871 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:36:27.873 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:36:27.875 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:36:27.877 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 49ms reading results.
2025-08-12 17:36:27.879 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:36:27.881 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:36:27.883 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:36:27.885 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:36:27.885 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:36:27.886 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:36:27.887 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:36:27.888 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.AdminUserDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:36:27.891 +05:30 [INF] Executed action AdminController.GetAllUsers (TravelPlannerAPI) in 145.5947ms
2025-08-12 17:36:27.893 +05:30 [INF] Executed endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:36:27.895 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Admin/users   Responded with [200] in 165ms
2025-08-12 17:36:27.897 +05:30 [DBG] Connection id "0HNEPH6APMD0I" completed keep alive response.
2025-08-12 17:36:27.898 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:36:27.900 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:36:27.903 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 17:36:27.904 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - 200 3028 application/json 198.5573ms
2025-08-12 17:37:00.377 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/signup - null null
2025-08-12 17:37:00.385 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/signup'
2025-08-12 17:37:00.387 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:37:00.388 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:37:00.389 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:37:00.389 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:37:00.390 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/signup   Responded with [204] in 2ms
2025-08-12 17:37:00.391 +05:30 [DBG] Connection id "0HNEPH6APMD0H" completed keep alive response.
2025-08-12 17:37:00.392 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/signup - 204 null null 14.4026ms
2025-08-12 17:37:00.399 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/signup - application/json 70
2025-08-12 17:37:00.403 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/signup'
2025-08-12 17:37:00.404 +05:30 [DBG] Endpoint 'AuthController.Signup (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/signup' is valid for the request path '/api/v1/Auth/signup'
2025-08-12 17:37:00.405 +05:30 [DBG] Request matched endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-12 17:37:00.405 +05:30 [DBG] Connection id "0HNEPH6APMD0H", Request id "0HNEPH6APMD0H:0000000B": started reading request body.
2025-08-12 17:37:00.406 +05:30 [DBG] Connection id "0HNEPH6APMD0H", Request id "0HNEPH6APMD0H:0000000B": done reading request body.
2025-08-12 17:37:00.407 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:37:00.407 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:37:00.408 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 17:37:00.408 +05:30 [INF] Executing endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-12 17:37:00.409 +05:30 [INF] Route matched with {action = "Signup", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Signup(TravelPlannerAPI.Dtos.SignupRequest) on controller AuthController (TravelPlannerAPI).
2025-08-12 17:37:00.410 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:37:00.411 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:37:00.411 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:37:00.413 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:37:00.413 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:37:00.414 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 17:37:00.417 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:37:00.419 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 17:37:00.419 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' ...
2025-08-12 17:37:00.420 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' using the name '' in request data ...
2025-08-12 17:37:00.421 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 17:37:00.422 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.SignupRequest'
2025-08-12 17:37:00.422 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-12 17:37:00.423 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-12 17:37:00.424 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' ...
2025-08-12 17:37:00.425 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-12 17:37:00.426 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:37:00.427 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:37:00.427 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:00.428 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:00.429 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:37:00.429 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:37:00.430 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:37:00.432 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 17:37:00.442 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 17:37:00.444 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:00.445 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:37:00.446 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:00.447 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:37:00.497 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:00.498 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:00.500 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:37:00.501 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:37:00.501 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:37:00.502 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 17:37:00.506 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 17:37:00.508 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:00.509 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:37:00.509 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:00.510 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:37:00.511 +05:30 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'UserModel.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:00.512 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:00.514 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 17:37:00.515 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 17:37:00.516 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 17:37:00.517 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:00.519 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:00.520 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:37:00.520 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:37:00.521 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:37:00.522 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [IsActive], [IsAdmin], [LastLoginDate], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-08-12 17:37:00.527 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [IsActive], [IsAdmin], [LastLoginDate], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-08-12 17:37:00.530 +05:30 [DBG] The foreign key property 'UserModel.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 17:37:00.531 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:00.532 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:37:00.533 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:00.534 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:37:00.536 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:00.537 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 17:37:00.538 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:37:00.540 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:37:00.540 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:37:00.541 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:37:00.541 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:37:00.542 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 17:37:00.543 +05:30 [INF] Executed action AuthController.Signup (TravelPlannerAPI) in 128.7415ms
2025-08-12 17:37:00.544 +05:30 [INF] Executed endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-12 17:37:00.546 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/signup  {"Name":"Sowmya","Email":"sowmya@gmail.com","Password":"Password@123"} Responded with [200] in 140ms
2025-08-12 17:37:00.547 +05:30 [DBG] Connection id "0HNEPH6APMD0H" completed keep alive response.
2025-08-12 17:37:00.548 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:37:00.549 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:00.550 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:37:00.552 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/signup - 200 121 application/json 153.9465ms
2025-08-12 17:37:05.265 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-12 17:37:05.269 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 17:37:05.270 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:37:05.271 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:37:05.272 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:37:05.273 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:37:05.275 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 3ms
2025-08-12 17:37:05.276 +05:30 [DBG] Connection id "0HNEPH6APMD0H" completed keep alive response.
2025-08-12 17:37:05.277 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 12.0052ms
2025-08-12 17:37:05.280 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 51
2025-08-12 17:37:05.283 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 17:37:05.284 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-12 17:37:05.285 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 17:37:05.286 +05:30 [DBG] Connection id "0HNEPH6APMD0H", Request id "0HNEPH6APMD0H:0000000D": started reading request body.
2025-08-12 17:37:05.286 +05:30 [DBG] Connection id "0HNEPH6APMD0H", Request id "0HNEPH6APMD0H:0000000D": done reading request body.
2025-08-12 17:37:05.287 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:37:05.288 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:37:05.288 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 17:37:05.289 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 17:37:05.290 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-12 17:37:05.291 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:37:05.292 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:37:05.293 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:37:05.294 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:37:05.295 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:37:05.297 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 17:37:05.299 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:37:05.300 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 17:37:05.301 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 17:37:05.301 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-12 17:37:05.302 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 17:37:05.303 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-12 17:37:05.304 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 17:37:05.304 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 17:37:05.305 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 17:37:05.306 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 17:37:05.307 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:37:05.307 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:37:05.308 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:05.308 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:05.309 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:37:05.310 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:37:05.310 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:37:05.311 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 17:37:05.315 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 17:37:05.317 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:05.318 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:05.318 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:37:05.319 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:05.320 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:37:05.372 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:05.373 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:05.374 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:37:05.375 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:37:05.376 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:37:05.376 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 17:37:05.378 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 17:37:05.380 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:05.381 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:37:05.382 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:05.384 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-12 17:37:05.386 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:05.389 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 17:37:05.389 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 17:37:05.390 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 17:37:05.392 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:05.394 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:05.395 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:37:05.395 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:37:05.396 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:37:05.397 +05:30 [DBG] Executing DbCommand [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 17:37:05.407 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 17:37:05.411 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:05.411 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:37:05.412 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:05.413 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:37:05.414 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:05.416 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 17:37:05.417 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:37:05.418 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:37:05.419 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:37:05.420 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:37:05.420 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:37:05.421 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:37:05.422 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 124.9842ms
2025-08-12 17:37:05.423 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 17:37:05.424 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"admin@gmail.com","password":"Admin@1234"} Responded with [200] in 138ms
2025-08-12 17:37:05.426 +05:30 [DBG] Connection id "0HNEPH6APMD0H" completed keep alive response.
2025-08-12 17:37:05.427 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:37:05.429 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:05.431 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:37:05.432 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 893 application/json 151.9787ms
2025-08-12 17:37:05.453 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:37:05.456 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:37:05.459 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:37:05.460 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:37:05.461 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:37:05.462 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:37:05.464 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/users   Responded with [204] in 3ms
2025-08-12 17:37:05.465 +05:30 [DBG] Connection id "0HNEPH6APMD0H" completed keep alive response.
2025-08-12 17:37:05.466 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - 204 null null 13.4056ms
2025-08-12 17:37:05.468 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:37:05.473 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:37:05.474 +05:30 [DBG] Endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/users' is valid for the request path '/api/v1/Admin/users'
2025-08-12 17:37:05.476 +05:30 [DBG] Request matched endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:37:05.477 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:37:05.478 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:37:05.478 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:37:05.479 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:37:05.479 +05:30 [DBG] Authorization was successful.
2025-08-12 17:37:05.480 +05:30 [INF] Executing endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:37:05.480 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller AdminController (TravelPlannerAPI).
2025-08-12 17:37:05.483 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:37:05.484 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:37:05.486 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:37:05.488 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:37:05.489 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:37:05.491 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:37:05.492 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:37:05.494 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:37:05.495 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:37:05.496 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:37:05.498 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:05.505 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:05.507 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:37:05.509 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 17:37:05.511 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-12 17:37:05.512 +05:30 [DBG] Executing DbCommand [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:37:05.534 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:37:05.537 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:05.539 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:05.541 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:05.543 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:05.544 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:05.545 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:05.546 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:05.548 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:05.549 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:05.552 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:05.562 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:05.565 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:05.566 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:05.567 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:05.569 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:05.570 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:05.571 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:05.573 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:05.574 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:05.575 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:05.576 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:05.577 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 40ms reading results.
2025-08-12 17:37:05.578 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:05.580 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:37:05.581 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:37:05.582 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:37:05.582 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:37:05.583 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:37:05.584 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:37:05.585 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.AdminUserDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:37:05.586 +05:30 [INF] Executed action AdminController.GetAllUsers (TravelPlannerAPI) in 94.7696ms
2025-08-12 17:37:05.586 +05:30 [INF] Executed endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:37:05.588 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Admin/users   Responded with [200] in 111ms
2025-08-12 17:37:05.589 +05:30 [DBG] Connection id "0HNEPH6APMD0I" completed keep alive response.
2025-08-12 17:37:05.590 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:37:05.591 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:05.592 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:37:05.593 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - 200 3285 application/json 125.3697ms
2025-08-12 17:37:10.771 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/delete-user/19?id=19 - null null
2025-08-12 17:37:10.774 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/delete-user/19'
2025-08-12 17:37:10.775 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:37:10.777 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:37:10.778 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:37:10.779 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:37:10.780 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/delete-user/19 ?id=19  Responded with [204] in 3ms
2025-08-12 17:37:10.781 +05:30 [DBG] Connection id "0HNEPH6APMD0H" completed keep alive response.
2025-08-12 17:37:10.782 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/delete-user/19?id=19 - 204 null null 11.1114ms
2025-08-12 17:37:10.783 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5276/api/v1/Admin/delete-user/19?id=19 - null null
2025-08-12 17:37:10.789 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/delete-user/19'
2025-08-12 17:37:10.790 +05:30 [DBG] Endpoint 'AdminController.DeleteUser (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/delete-user/{id}' is valid for the request path '/api/v1/Admin/delete-user/19'
2025-08-12 17:37:10.792 +05:30 [DBG] Request matched endpoint 'AdminController.DeleteUser (TravelPlannerAPI)'
2025-08-12 17:37:10.793 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:37:10.794 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:37:10.795 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:37:10.795 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:37:10.796 +05:30 [DBG] Authorization was successful.
2025-08-12 17:37:10.797 +05:30 [INF] Executing endpoint 'AdminController.DeleteUser (TravelPlannerAPI)'
2025-08-12 17:37:10.798 +05:30 [INF] Route matched with {action = "DeleteUser", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(Int32) on controller AdminController (TravelPlannerAPI).
2025-08-12 17:37:10.801 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:37:10.802 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:37:10.803 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:37:10.804 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:37:10.805 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:37:10.806 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:37:10.808 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:37:10.810 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:37:10.811 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-12 17:37:10.812 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-12 17:37:10.813 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 17:37:10.814 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 17:37:10.814 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-12 17:37:10.815 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-12 17:37:10.817 +05:30 [DBG] Compiling query expression: 
'DbSet<ExpenseModel>()
    .Where(x => x.UserId == 19)'
2025-08-12 17:37:10.822 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ExpenseModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ExpenseModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ExpenseModel.Amount (decimal) Required, 1], [Property: ExpenseModel.Category (string) Required, 2], [Property: ExpenseModel.Date (DateTime) Required, 3], [Property: ExpenseModel.Description (string), 4], [Property: ExpenseModel.TripId (int) Required FK Index, 5], [Property: ExpenseModel.UserId (int) Required FK Index, 6] }
        SELECT e.Id, e.Amount, e.Category, e.Date, e.Description, e.TripId, e.UserId
        FROM Expenses AS e
        WHERE e.UserId == 19), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ExpenseModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 17:37:10.823 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:37:10.824 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:37:10.826 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.827 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.828 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:37:10.829 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:37:10.829 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:37:10.830 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[Category], [e].[Date], [e].[Description], [e].[TripId], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[UserId] = 19
2025-08-12 17:37:10.837 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[Category], [e].[Date], [e].[Description], [e].[TripId], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[UserId] = 19
2025-08-12 17:37:10.839 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.840 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:37:10.841 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.843 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-12 17:37:10.844 +05:30 [DBG] Compiling query expression: 
'DbSet<ReviewModel>()
    .Where(x => x.UserId == 19)'
2025-08-12 17:37:10.847 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewModel.Rating (int) Required, 1], [Property: ReviewModel.ReviewText (string) Required, 2], [Property: ReviewModel.TripId (int) Required FK Index, 3], [Property: ReviewModel.UserId (int) Required FK Index, 4] }
        SELECT r.Id, r.Rating, r.review, r.TripId, r.UserId
        FROM reviews AS r
        WHERE r.UserId == 19), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 17:37:10.849 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.850 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.851 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:37:10.852 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:37:10.853 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:37:10.854 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [reviews] AS [r]
WHERE [r].[UserId] = 19
2025-08-12 17:37:10.859 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [reviews] AS [r]
WHERE [r].[UserId] = 19
2025-08-12 17:37:10.861 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.862 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:37:10.863 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.863 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:37:10.866 +05:30 [DBG] Compiling query expression: 
'DbSet<ChecklistItemModel>()
    .Where(x => x.UserId == 19)'
2025-08-12 17:37:10.870 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChecklistItemModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ChecklistItemModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChecklistItemModel.Description (string) Required, 1], [Property: ChecklistItemModel.IsCompleted (bool) Required, 2], [Property: ChecklistItemModel.TripId (int) Required FK Index, 3], [Property: ChecklistItemModel.UserId (int) Required FK Index, 4] }
        SELECT c.Id, c.Description, c.IsCompleted, c.TripId, c.UserId
        FROM ChecklistItems AS c
        WHERE c.UserId == 19), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChecklistItemModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 17:37:10.872 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.873 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.874 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:37:10.874 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:37:10.875 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:37:10.876 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[UserId] = 19
2025-08-12 17:37:10.880 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[UserId] = 19
2025-08-12 17:37:10.883 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.885 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:37:10.886 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.887 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:37:10.888 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Where(x => x.UserId == 19)'
2025-08-12 17:37:10.892 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
        SELECT t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId
        FROM Trips AS t
        WHERE t.UserId == 19), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 17:37:10.894 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.895 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.896 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:37:10.898 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 17:37:10.899 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 17:37:10.900 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[UserId] = 19
2025-08-12 17:37:10.904 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[UserId] = 19
2025-08-12 17:37:10.906 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.907 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:37:10.908 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.909 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:37:10.910 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.911 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.913 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:37:10.914 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:37:10.915 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:37:10.916 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessLevel], [t].[OwnerId], [t].[SharedWithUserId], [t].[TripId]
FROM [TripShares] AS [t]
WHERE [t].[OwnerId] = @__userId_0 OR [t].[SharedWithUserId] = @__userId_0
2025-08-12 17:37:10.921 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessLevel], [t].[OwnerId], [t].[SharedWithUserId], [t].[TripId]
FROM [TripShares] AS [t]
WHERE [t].[OwnerId] = @__userId_0 OR [t].[SharedWithUserId] = @__userId_0
2025-08-12 17:37:10.923 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.923 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:37:10.924 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.925 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:37:10.926 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.927 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.928 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:37:10.929 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:37:10.929 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:37:10.930 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-08-12 17:37:10.933 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-08-12 17:37:10.936 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:10.937 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.938 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 17:37:10.939 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.940 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:37:10.941 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:10.942 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 17:37:10.943 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 17:37:10.944 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 17:37:10.945 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.946 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.947 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:37:10.948 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:37:10.950 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 17:37:10.951 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
2025-08-12 17:37:10.963 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
2025-08-12 17:37:10.966 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.967 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:37:10.969 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.969 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:37:10.971 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:10.972 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 17:37:10.973 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 17:37:10.973 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 17:37:10.974 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 17:37:10.975 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 0 entities written to the database.
2025-08-12 17:37:10.976 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-08-12 17:37:10.977 +05:30 [INF] Executed action AdminController.DeleteUser (TravelPlannerAPI) in 170.4259ms
2025-08-12 17:37:10.978 +05:30 [INF] Executed endpoint 'AdminController.DeleteUser (TravelPlannerAPI)'
2025-08-12 17:37:10.979 +05:30 [INF] Source:[::1] Request: DELETE http localhost:5276/api/v1/Admin/delete-user/19 ?id=19  Responded with [204] in 185ms
2025-08-12 17:37:10.979 +05:30 [DBG] Connection id "0HNEPH6APMD0I" completed keep alive response.
2025-08-12 17:37:10.982 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:37:10.983 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:10.983 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 17:37:10.984 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5276/api/v1/Admin/delete-user/19?id=19 - 204 null null 201.4656ms
2025-08-12 17:37:15.087 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:37:15.089 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:37:15.090 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:37:15.091 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:37:15.093 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:37:15.095 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:37:15.096 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/users   Responded with [204] in 4ms
2025-08-12 17:37:15.097 +05:30 [DBG] Connection id "0HNEPH6APMD0H" completed keep alive response.
2025-08-12 17:37:15.098 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - 204 null null 11.1384ms
2025-08-12 17:37:15.100 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:37:15.103 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:37:15.104 +05:30 [DBG] Endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/users' is valid for the request path '/api/v1/Admin/users'
2025-08-12 17:37:15.105 +05:30 [DBG] Request matched endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:37:15.106 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:37:15.108 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:37:15.109 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:37:15.110 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:37:15.112 +05:30 [DBG] Authorization was successful.
2025-08-12 17:37:15.113 +05:30 [INF] Executing endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:37:15.114 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller AdminController (TravelPlannerAPI).
2025-08-12 17:37:15.115 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:37:15.117 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:37:15.118 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:37:15.120 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:37:15.121 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:37:15.122 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:37:15.124 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:37:15.126 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:37:15.127 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:37:15.128 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:37:15.128 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:15.129 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:15.130 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:37:15.131 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:37:15.133 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 17:37:15.134 +05:30 [DBG] Executing DbCommand [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:37:15.137 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:37:15.140 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:15.141 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:15.143 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:15.144 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:15.145 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:15.147 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:15.148 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:15.149 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:15.151 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:15.152 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:15.160 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:15.162 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:15.164 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:15.165 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:15.166 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:15.167 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:15.168 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:15.171 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:15.173 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:15.174 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:37:15.176 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:15.177 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 36ms reading results.
2025-08-12 17:37:15.178 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:15.180 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:37:15.189 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:37:15.195 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:37:15.198 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:37:15.198 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:37:15.204 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:37:15.205 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.AdminUserDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:37:15.207 +05:30 [INF] Executed action AdminController.GetAllUsers (TravelPlannerAPI) in 84.7488ms
2025-08-12 17:37:15.208 +05:30 [INF] Executed endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:37:15.211 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Admin/users   Responded with [200] in 104ms
2025-08-12 17:37:15.212 +05:30 [DBG] Connection id "0HNEPH6APMD0I" completed keep alive response.
2025-08-12 17:37:15.213 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:37:15.214 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:37:15.215 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:37:15.216 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - 200 3028 application/json 116.4681ms
2025-08-12 17:41:46.857 +05:30 [DBG] Connection id "0HNEPH6APMD0I" received FIN.
2025-08-12 17:41:46.858 +05:30 [DBG] Connection id "0HNEPH6APMD0H" received FIN.
2025-08-12 17:41:46.862 +05:30 [DBG] Connection id "0HNEPH6APMD0I" disconnecting.
2025-08-12 17:41:46.864 +05:30 [DBG] Connection id "0HNEPH6APMD0H" disconnecting.
2025-08-12 17:41:46.867 +05:30 [DBG] Connection id "0HNEPH6APMD0I" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 17:41:46.869 +05:30 [DBG] Connection id "0HNEPH6APMD0H" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 17:41:46.875 +05:30 [DBG] Connection id "0HNEPH6APMD0I" stopped.
2025-08-12 17:41:46.891 +05:30 [DBG] Connection id "0HNEPH6APMD0H" stopped.
2025-08-12 17:46:29.000 +05:30 [DBG] Connection id "0HNEPH6APMD0J" accepted.
2025-08-12 17:46:29.006 +05:30 [DBG] Connection id "0HNEPH6APMD0J" started.
2025-08-12 17:46:29.010 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:46:29.012 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:46:29.013 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:46:29.014 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:46:29.014 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:46:29.015 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:46:29.015 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/users   Responded with [204] in 1ms
2025-08-12 17:46:29.016 +05:30 [DBG] Connection id "0HNEPH6APMD0J" completed keep alive response.
2025-08-12 17:46:29.017 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - 204 null null 6.4388ms
2025-08-12 17:46:29.018 +05:30 [DBG] Connection id "0HNEPH6APMD0K" accepted.
2025-08-12 17:46:29.028 +05:30 [DBG] Connection id "0HNEPH6APMD0K" started.
2025-08-12 17:46:29.029 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:46:29.030 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:46:29.031 +05:30 [DBG] Endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/users' is valid for the request path '/api/v1/Admin/users'
2025-08-12 17:46:29.031 +05:30 [DBG] Request matched endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:46:29.032 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:46:29.033 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:46:29.034 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:46:29.034 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:46:29.035 +05:30 [DBG] Authorization was successful.
2025-08-12 17:46:29.036 +05:30 [INF] Executing endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:46:29.038 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller AdminController (TravelPlannerAPI).
2025-08-12 17:46:29.039 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:46:29.040 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:46:29.041 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:46:29.043 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:46:29.044 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:46:29.046 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:46:29.049 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:46:29.051 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:46:29.053 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:46:29.054 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 17:46:29.055 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:46:29.070 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:46:29.075 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:46:29.076 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:46:29.076 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:46:29.078 +05:30 [DBG] Executing DbCommand [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:46:29.097 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:46:29.100 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:29.100 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:29.102 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:29.104 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:29.104 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:29.105 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:29.107 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:29.108 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:29.109 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:29.110 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:29.117 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:29.119 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:29.120 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:29.121 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:29.122 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:29.124 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:29.125 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:29.126 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:29.127 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:29.128 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:29.129 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:46:29.130 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 30ms reading results.
2025-08-12 17:46:29.132 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:46:29.133 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:46:29.134 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:46:29.135 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:46:29.136 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:46:29.136 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:46:29.137 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:46:29.138 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.AdminUserDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:46:29.139 +05:30 [INF] Executed action AdminController.GetAllUsers (TravelPlannerAPI) in 92.9309ms
2025-08-12 17:46:29.139 +05:30 [INF] Executed endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:46:29.141 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Admin/users   Responded with [200] in 108ms
2025-08-12 17:46:29.141 +05:30 [DBG] Connection id "0HNEPH6APMD0K" completed keep alive response.
2025-08-12 17:46:29.142 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:46:29.143 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:46:29.144 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 17:46:29.145 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - 200 3028 application/json 116.365ms
2025-08-12 17:46:36.638 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:46:36.640 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:46:36.642 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:46:36.644 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:46:36.645 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:46:36.646 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:46:36.648 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/users   Responded with [204] in 3ms
2025-08-12 17:46:36.649 +05:30 [DBG] Connection id "0HNEPH6APMD0J" completed keep alive response.
2025-08-12 17:46:36.650 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - 204 null null 11.6123ms
2025-08-12 17:46:36.651 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:46:36.658 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:46:36.659 +05:30 [DBG] Endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/users' is valid for the request path '/api/v1/Admin/users'
2025-08-12 17:46:36.660 +05:30 [DBG] Request matched endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:46:36.660 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:46:36.661 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:46:36.662 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:46:36.663 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:46:36.664 +05:30 [DBG] Authorization was successful.
2025-08-12 17:46:36.665 +05:30 [INF] Executing endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:46:36.666 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller AdminController (TravelPlannerAPI).
2025-08-12 17:46:36.667 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:46:36.670 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:46:36.671 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:46:36.673 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:46:36.674 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:46:36.676 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:46:36.679 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:46:36.680 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:46:36.681 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:46:36.682 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:46:36.683 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:46:36.684 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:46:36.686 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:46:36.687 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:46:36.688 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 17:46:36.689 +05:30 [DBG] Executing DbCommand [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:46:36.692 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:46:36.694 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:36.695 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:36.696 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:36.697 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:36.700 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:36.701 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:36.703 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:36.704 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:36.706 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:36.707 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:36.720 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:36.722 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:36.724 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:36.725 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:36.727 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:36.729 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:36.730 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:36.732 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:36.734 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:36.735 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:46:36.736 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:46:36.737 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 43ms reading results.
2025-08-12 17:46:36.738 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:46:36.739 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:46:36.742 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:46:36.743 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:46:36.743 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:46:36.744 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:46:36.745 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:46:36.746 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.AdminUserDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:46:36.747 +05:30 [INF] Executed action AdminController.GetAllUsers (TravelPlannerAPI) in 70.6714ms
2025-08-12 17:46:36.748 +05:30 [INF] Executed endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:46:36.750 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Admin/users   Responded with [200] in 89ms
2025-08-12 17:46:36.751 +05:30 [DBG] Connection id "0HNEPH6APMD0K" completed keep alive response.
2025-08-12 17:46:36.752 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:46:36.753 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:46:36.754 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:46:36.757 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - 200 3028 application/json 105.4508ms
2025-08-12 17:47:11.434 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/signup - null null
2025-08-12 17:47:11.437 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/signup'
2025-08-12 17:47:11.438 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:47:11.439 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:47:11.440 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:47:11.441 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:47:11.443 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/signup   Responded with [204] in 3ms
2025-08-12 17:47:11.443 +05:30 [DBG] Connection id "0HNEPH6APMD0J" completed keep alive response.
2025-08-12 17:47:11.444 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/signup - 204 null null 10.0629ms
2025-08-12 17:47:11.453 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/signup - application/json 66
2025-08-12 17:47:11.455 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/signup'
2025-08-12 17:47:11.455 +05:30 [DBG] Endpoint 'AuthController.Signup (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/signup' is valid for the request path '/api/v1/Auth/signup'
2025-08-12 17:47:11.456 +05:30 [DBG] Request matched endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-12 17:47:11.457 +05:30 [DBG] Connection id "0HNEPH6APMD0J", Request id "0HNEPH6APMD0J:00000004": started reading request body.
2025-08-12 17:47:11.458 +05:30 [DBG] Connection id "0HNEPH6APMD0J", Request id "0HNEPH6APMD0J:00000004": done reading request body.
2025-08-12 17:47:11.459 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:47:11.459 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:47:11.460 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 17:47:11.462 +05:30 [INF] Executing endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-12 17:47:11.463 +05:30 [INF] Route matched with {action = "Signup", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Signup(TravelPlannerAPI.Dtos.SignupRequest) on controller AuthController (TravelPlannerAPI).
2025-08-12 17:47:11.465 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:47:11.465 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:47:11.466 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:47:11.468 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:47:11.468 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:47:11.470 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 17:47:11.471 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:47:11.472 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 17:47:11.473 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' ...
2025-08-12 17:47:11.474 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' using the name '' in request data ...
2025-08-12 17:47:11.475 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 17:47:11.478 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.SignupRequest'
2025-08-12 17:47:11.478 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-12 17:47:11.480 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-12 17:47:11.481 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' ...
2025-08-12 17:47:11.482 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-12 17:47:11.484 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:47:11.484 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:47:11.485 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:11.486 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:11.486 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:47:11.487 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:47:11.488 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:47:11.489 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 17:47:11.495 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 17:47:11.497 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:11.498 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:47:11.499 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:11.500 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:47:11.553 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:11.554 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:11.555 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:47:11.556 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:47:11.556 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:47:11.557 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 17:47:11.562 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 17:47:11.565 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:11.566 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:47:11.567 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:11.567 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:47:11.568 +05:30 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'UserModel.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:11.570 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:11.570 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 17:47:11.571 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 17:47:11.572 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 17:47:11.573 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:11.573 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:11.574 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:47:11.575 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:47:11.575 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:47:11.576 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [IsActive], [IsAdmin], [LastLoginDate], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-08-12 17:47:11.584 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [IsActive], [IsAdmin], [LastLoginDate], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-08-12 17:47:11.586 +05:30 [DBG] The foreign key property 'UserModel.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-12 17:47:11.587 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:11.589 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 17:47:11.589 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:11.590 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:47:11.591 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:11.592 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 17:47:11.593 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:47:11.594 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:47:11.594 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:47:11.595 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:47:11.595 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:47:11.596 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 17:47:11.597 +05:30 [INF] Executed action AuthController.Signup (TravelPlannerAPI) in 127.2729ms
2025-08-12 17:47:11.597 +05:30 [INF] Executed endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-12 17:47:11.599 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/signup  {"Name":"Fiza","Email":"fiza@gmail.com","Password":"Password@123"} Responded with [200] in 141ms
2025-08-12 17:47:11.600 +05:30 [DBG] Connection id "0HNEPH6APMD0J" completed keep alive response.
2025-08-12 17:47:11.601 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:47:11.601 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:11.603 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:47:11.605 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/signup - 200 119 application/json 151.9411ms
2025-08-12 17:47:23.696 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-12 17:47:23.701 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 17:47:23.702 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:47:23.702 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:47:23.703 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:47:23.704 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:47:23.705 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 2ms
2025-08-12 17:47:23.706 +05:30 [DBG] Connection id "0HNEPH6APMD0J" completed keep alive response.
2025-08-12 17:47:23.707 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 11.2297ms
2025-08-12 17:47:23.710 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 51
2025-08-12 17:47:23.715 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-12 17:47:23.716 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-12 17:47:23.717 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 17:47:23.719 +05:30 [DBG] Connection id "0HNEPH6APMD0J", Request id "0HNEPH6APMD0J:00000006": started reading request body.
2025-08-12 17:47:23.720 +05:30 [DBG] Connection id "0HNEPH6APMD0J", Request id "0HNEPH6APMD0J:00000006": done reading request body.
2025-08-12 17:47:23.721 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:47:23.722 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:47:23.722 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 17:47:23.723 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 17:47:23.724 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-12 17:47:23.725 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:47:23.726 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:47:23.727 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:47:23.728 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:47:23.729 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:47:23.730 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 17:47:23.732 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:47:23.733 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-12 17:47:23.734 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 17:47:23.735 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-12 17:47:23.736 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 17:47:23.737 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-12 17:47:23.738 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 17:47:23.739 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 17:47:23.740 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-12 17:47:23.741 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-12 17:47:23.742 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:47:23.744 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-12 17:47:23.745 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:23.746 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:23.746 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:47:23.747 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:47:23.748 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:47:23.749 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 17:47:23.752 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-12 17:47:23.753 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:23.754 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:23.755 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:47:23.756 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:23.757 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:47:23.809 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:23.810 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:23.811 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:47:23.812 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:47:23.813 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:47:23.813 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 17:47:23.815 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-12 17:47:23.817 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:23.818 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:47:23.819 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:23.819 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:47:23.820 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:23.822 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 17:47:23.823 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 17:47:23.824 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 17:47:23.825 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:23.826 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:23.826 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:47:23.827 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:47:23.828 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:47:23.829 +05:30 [DBG] Executing DbCommand [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 17:47:23.835 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-12 17:47:23.836 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:23.837 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:47:23.838 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:23.840 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:47:23.843 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:23.844 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 17:47:23.846 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:47:23.847 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:47:23.848 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:47:23.848 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:47:23.849 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:47:23.849 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:47:23.850 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 119.9326ms
2025-08-12 17:47:23.851 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-12 17:47:23.852 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"admin@gmail.com","password":"Admin@1234"} Responded with [200] in 132ms
2025-08-12 17:47:23.853 +05:30 [DBG] Connection id "0HNEPH6APMD0J" completed keep alive response.
2025-08-12 17:47:23.854 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:47:23.855 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:23.858 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 17:47:23.859 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 893 application/json 149.5711ms
2025-08-12 17:47:23.878 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:47:23.882 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:47:23.883 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:47:23.885 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:47:23.886 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:47:23.886 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:47:23.888 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/users   Responded with [204] in 2ms
2025-08-12 17:47:23.891 +05:30 [DBG] Connection id "0HNEPH6APMD0J" completed keep alive response.
2025-08-12 17:47:23.892 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - 204 null null 14.2786ms
2025-08-12 17:47:23.894 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:47:23.898 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:47:23.901 +05:30 [DBG] Endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/users' is valid for the request path '/api/v1/Admin/users'
2025-08-12 17:47:23.903 +05:30 [DBG] Request matched endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:47:23.905 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:47:23.905 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:47:23.906 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:47:23.907 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:47:23.908 +05:30 [DBG] Authorization was successful.
2025-08-12 17:47:23.908 +05:30 [INF] Executing endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:47:23.909 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller AdminController (TravelPlannerAPI).
2025-08-12 17:47:23.912 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:47:23.913 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:47:23.913 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:47:23.915 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:47:23.916 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:47:23.918 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:47:23.919 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:47:23.921 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:47:23.923 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:47:23.923 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:47:23.924 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:23.925 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:23.926 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:47:23.927 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:47:23.928 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:47:23.930 +05:30 [DBG] Executing DbCommand [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:47:23.948 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:47:23.950 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:23.953 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:23.955 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:23.957 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:23.958 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:23.960 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:23.961 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:23.962 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:23.964 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:23.965 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:23.975 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:23.977 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:23.979 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:23.981 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:23.983 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:23.984 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:23.985 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:23.985 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:23.987 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:23.988 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:23.990 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:23.991 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 40ms reading results.
2025-08-12 17:47:23.993 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:23.994 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:47:23.996 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:47:23.997 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:47:23.997 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:47:23.998 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:47:23.998 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:47:23.999 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.AdminUserDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:47:24.000 +05:30 [INF] Executed action AdminController.GetAllUsers (TravelPlannerAPI) in 82.6112ms
2025-08-12 17:47:24.001 +05:30 [INF] Executed endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:47:24.003 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Admin/users   Responded with [200] in 98ms
2025-08-12 17:47:24.003 +05:30 [DBG] Connection id "0HNEPH6APMD0K" completed keep alive response.
2025-08-12 17:47:24.004 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:47:24.005 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:24.006 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:47:24.010 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - 200 3281 application/json 116.1133ms
2025-08-12 17:47:27.371 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/delete-user/20?id=20 - null null
2025-08-12 17:47:27.373 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/delete-user/20'
2025-08-12 17:47:27.375 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:47:27.376 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:47:27.379 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:47:27.380 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:47:27.382 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/delete-user/20 ?id=20  Responded with [204] in 6ms
2025-08-12 17:47:27.383 +05:30 [DBG] Connection id "0HNEPH6APMD0J" completed keep alive response.
2025-08-12 17:47:27.384 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/delete-user/20?id=20 - 204 null null 13.2652ms
2025-08-12 17:47:27.387 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5276/api/v1/Admin/delete-user/20?id=20 - null null
2025-08-12 17:47:27.397 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/delete-user/20'
2025-08-12 17:47:27.398 +05:30 [DBG] Endpoint 'AdminController.DeleteUser (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/delete-user/{id}' is valid for the request path '/api/v1/Admin/delete-user/20'
2025-08-12 17:47:27.399 +05:30 [DBG] Request matched endpoint 'AdminController.DeleteUser (TravelPlannerAPI)'
2025-08-12 17:47:27.400 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:47:27.400 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:47:27.401 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:47:27.402 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:47:27.402 +05:30 [DBG] Authorization was successful.
2025-08-12 17:47:27.403 +05:30 [INF] Executing endpoint 'AdminController.DeleteUser (TravelPlannerAPI)'
2025-08-12 17:47:27.404 +05:30 [INF] Route matched with {action = "DeleteUser", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(Int32) on controller AdminController (TravelPlannerAPI).
2025-08-12 17:47:27.405 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:47:27.406 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:47:27.407 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:47:27.408 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:47:27.409 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:47:27.411 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:47:27.413 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:47:27.415 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:47:27.416 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-12 17:47:27.416 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-12 17:47:27.417 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 17:47:27.418 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-12 17:47:27.419 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-12 17:47:27.420 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-12 17:47:27.421 +05:30 [DBG] Compiling query expression: 
'DbSet<ExpenseModel>()
    .Where(x => x.UserId == 20)'
2025-08-12 17:47:27.425 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ExpenseModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ExpenseModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ExpenseModel.Amount (decimal) Required, 1], [Property: ExpenseModel.Category (string) Required, 2], [Property: ExpenseModel.Date (DateTime) Required, 3], [Property: ExpenseModel.Description (string), 4], [Property: ExpenseModel.TripId (int) Required FK Index, 5], [Property: ExpenseModel.UserId (int) Required FK Index, 6] }
        SELECT e.Id, e.Amount, e.Category, e.Date, e.Description, e.TripId, e.UserId
        FROM Expenses AS e
        WHERE e.UserId == 20), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ExpenseModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 17:47:27.428 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:47:27.429 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:47:27.430 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.431 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.432 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:47:27.432 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:47:27.433 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:47:27.434 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[Category], [e].[Date], [e].[Description], [e].[TripId], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[UserId] = 20
2025-08-12 17:47:27.441 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[Category], [e].[Date], [e].[Description], [e].[TripId], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[UserId] = 20
2025-08-12 17:47:27.444 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.445 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:47:27.447 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.447 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:47:27.449 +05:30 [DBG] Compiling query expression: 
'DbSet<ReviewModel>()
    .Where(x => x.UserId == 20)'
2025-08-12 17:47:27.452 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewModel.Rating (int) Required, 1], [Property: ReviewModel.ReviewText (string) Required, 2], [Property: ReviewModel.TripId (int) Required FK Index, 3], [Property: ReviewModel.UserId (int) Required FK Index, 4] }
        SELECT r.Id, r.Rating, r.review, r.TripId, r.UserId
        FROM reviews AS r
        WHERE r.UserId == 20), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 17:47:27.454 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.455 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.456 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:47:27.457 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:47:27.458 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:47:27.460 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [reviews] AS [r]
WHERE [r].[UserId] = 20
2025-08-12 17:47:27.465 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM [reviews] AS [r]
WHERE [r].[UserId] = 20
2025-08-12 17:47:27.467 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.468 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:47:27.469 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.470 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:47:27.471 +05:30 [DBG] Compiling query expression: 
'DbSet<ChecklistItemModel>()
    .Where(x => x.UserId == 20)'
2025-08-12 17:47:27.474 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ChecklistItemModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ChecklistItemModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ChecklistItemModel.Description (string) Required, 1], [Property: ChecklistItemModel.IsCompleted (bool) Required, 2], [Property: ChecklistItemModel.TripId (int) Required FK Index, 3], [Property: ChecklistItemModel.UserId (int) Required FK Index, 4] }
        SELECT c.Id, c.Description, c.IsCompleted, c.TripId, c.UserId
        FROM ChecklistItems AS c
        WHERE c.UserId == 20), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ChecklistItemModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 17:47:27.477 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.478 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.480 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:47:27.480 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:47:27.481 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:47:27.482 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[UserId] = 20
2025-08-12 17:47:27.486 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[IsCompleted], [c].[TripId], [c].[UserId]
FROM [ChecklistItems] AS [c]
WHERE [c].[UserId] = 20
2025-08-12 17:47:27.488 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.489 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:47:27.491 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.492 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:47:27.494 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Where(x => x.UserId == 20)'
2025-08-12 17:47:27.498 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
        SELECT t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId
        FROM Trips AS t
        WHERE t.UserId == 20), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-12 17:47:27.499 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.500 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.501 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:47:27.502 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:47:27.503 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:47:27.504 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[UserId] = 20
2025-08-12 17:47:27.509 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
FROM [Trips] AS [t]
WHERE [t].[UserId] = 20
2025-08-12 17:47:27.511 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.513 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-12 17:47:27.514 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.515 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:47:27.517 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.518 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.519 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:47:27.520 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:47:27.521 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:47:27.523 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessLevel], [t].[OwnerId], [t].[SharedWithUserId], [t].[TripId]
FROM [TripShares] AS [t]
WHERE [t].[OwnerId] = @__userId_0 OR [t].[SharedWithUserId] = @__userId_0
2025-08-12 17:47:27.528 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessLevel], [t].[OwnerId], [t].[SharedWithUserId], [t].[TripId]
FROM [TripShares] AS [t]
WHERE [t].[OwnerId] = @__userId_0 OR [t].[SharedWithUserId] = @__userId_0
2025-08-12 17:47:27.530 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.531 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:47:27.532 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.532 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:47:27.534 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.534 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.535 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:47:27.536 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:47:27.536 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:47:27.538 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-08-12 17:47:27.542 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-08-12 17:47:27.543 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:27.544 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.546 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-12 17:47:27.547 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.547 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:47:27.548 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:27.549 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 17:47:27.550 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 17:47:27.551 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 17:47:27.551 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.552 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.553 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:47:27.555 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:47:27.555 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 17:47:27.556 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
2025-08-12 17:47:27.568 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
2025-08-12 17:47:27.571 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.572 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-12 17:47:27.573 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.573 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-12 17:47:27.574 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:47:27.575 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-12 17:47:27.576 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-12 17:47:27.577 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-12 17:47:27.578 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-12 17:47:27.578 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 0 entities written to the database.
2025-08-12 17:47:27.579 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-08-12 17:47:27.579 +05:30 [INF] Executed action AdminController.DeleteUser (TravelPlannerAPI) in 168.0222ms
2025-08-12 17:47:27.580 +05:30 [INF] Executed endpoint 'AdminController.DeleteUser (TravelPlannerAPI)'
2025-08-12 17:47:27.581 +05:30 [INF] Source:[::1] Request: DELETE http localhost:5276/api/v1/Admin/delete-user/20 ?id=20  Responded with [204] in 181ms
2025-08-12 17:47:27.582 +05:30 [DBG] Connection id "0HNEPH6APMD0K" completed keep alive response.
2025-08-12 17:47:27.582 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:47:27.583 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:47:27.584 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 17:47:27.585 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5276/api/v1/Admin/delete-user/20?id=20 - 204 null null 198.8188ms
2025-08-12 17:48:18.461 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:48:18.468 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:48:18.469 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 17:48:18.470 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:48:18.470 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:48:18.471 +05:30 [DBG] The request is a preflight request.
2025-08-12 17:48:18.472 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/users   Responded with [204] in 2ms
2025-08-12 17:48:18.476 +05:30 [DBG] Connection id "0HNEPH6APMD0J" completed keep alive response.
2025-08-12 17:48:18.477 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - 204 null null 16.7277ms
2025-08-12 17:48:18.478 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - null null
2025-08-12 17:48:18.486 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-12 17:48:18.487 +05:30 [DBG] Endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/users' is valid for the request path '/api/v1/Admin/users'
2025-08-12 17:48:18.490 +05:30 [DBG] Request matched endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:48:18.490 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 17:48:18.491 +05:30 [INF] CORS policy execution successful.
2025-08-12 17:48:18.492 +05:30 [DBG] Successfully validated the token.
2025-08-12 17:48:18.493 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 17:48:18.494 +05:30 [DBG] Authorization was successful.
2025-08-12 17:48:18.495 +05:30 [INF] Executing endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:48:18.496 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller AdminController (TravelPlannerAPI).
2025-08-12 17:48:18.497 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 17:48:18.497 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 17:48:18.498 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:48:18.500 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-12 17:48:18.501 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-12 17:48:18.502 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:48:18.503 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-12 17:48:18.506 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-12 17:48:18.508 +05:30 [DBG] Creating DbConnection.
2025-08-12 17:48:18.509 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-12 17:48:18.510 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:48:18.511 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:48:18.512 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 17:48:18.512 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 17:48:18.513 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 17:48:18.514 +05:30 [DBG] Executing DbCommand [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:48:18.527 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-12 17:48:18.529 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:48:18.530 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:48:18.531 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:48:18.533 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:48:18.534 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:48:18.535 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:48:18.535 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:48:18.537 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:48:18.538 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:48:18.539 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:48:18.546 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:48:18.547 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:48:18.548 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:48:18.549 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:48:18.549 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:48:18.551 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:48:18.552 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:48:18.553 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:48:18.554 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:48:18.555 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 17:48:18.557 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:48:18.558 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 28ms reading results.
2025-08-12 17:48:18.560 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:48:18.561 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-12 17:48:18.563 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 17:48:18.566 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-12 17:48:18.566 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 17:48:18.567 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 17:48:18.567 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 17:48:18.568 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.AdminUserDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 17:48:18.569 +05:30 [INF] Executed action AdminController.GetAllUsers (TravelPlannerAPI) in 67.3717ms
2025-08-12 17:48:18.570 +05:30 [INF] Executed endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-12 17:48:18.571 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Admin/users   Responded with [200] in 80ms
2025-08-12 17:48:18.573 +05:30 [DBG] Connection id "0HNEPH6APMD0K" completed keep alive response.
2025-08-12 17:48:18.574 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-12 17:48:18.575 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-12 17:48:18.576 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 17:48:18.577 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - 200 3028 application/json 98.7908ms
