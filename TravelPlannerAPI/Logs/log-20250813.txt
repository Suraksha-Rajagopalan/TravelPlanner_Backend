2025-08-13 09:53:53.914 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-13 09:53:54.149 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-13 09:53:54.231 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-13 09:53:54.625 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 09:53:54.627 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 09:53:54.628 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 09:53:54.630 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 09:53:54.742 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 09:53:54.744 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 09:53:54.746 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 09:53:54.747 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 09:53:54.864 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 09:53:54.937 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-13 09:53:55.109 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 09:53:55.151 +05:30 [DBG] Creating DbConnection.
2025-08-13 09:53:55.176 +05:30 [DBG] Created DbConnection. (23ms).
2025-08-13 09:53:55.180 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:53:55.494 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:53:55.498 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:53:55.505 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-08-13 09:53:55.511 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-08-13 09:53:55.519 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 09:53:55.587 +05:30 [INF] Executed DbCommand (65ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 09:53:55.621 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:53:55.639 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:53:55.646 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 52ms reading results.
2025-08-13 09:53:55.651 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:53:55.656 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (5ms).
2025-08-13 09:53:55.660 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-13 09:53:55.669 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 2], [Property: UserModel.Email (string) MaxLength(256), 3], [Property: UserModel.EmailConfirmed (bool) Required, 4], [Property: UserModel.IsActive (bool) Required, 5], [Property: UserModel.IsAdmin (bool) Required, 6], [Property: UserModel.LastLoginDate (DateTime) Required, 7], [Property: UserModel.LockoutEnabled (bool) Required, 8], [Property: UserModel.LockoutEnd (DateTimeOffset?), 9], [Property: UserModel.Name (string) Required, 10], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 11], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 12], [Property: UserModel.PasswordHash (string), 13], [Property: UserModel.PhoneNumber (string), 14], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 15], [Property: UserModel.Role (string) Required, 16], [Property: UserModel.SecurityStamp (string), 17], [Property: UserModel.TwoFactorEnabled (bool) Required, 18], [Property: UserModel.UserName (string) MaxLength(256), 19] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 09:53:55.675 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:53:55.677 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:53:55.678 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:53:55.679 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:53:55.681 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 09:53:55.682 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 09:53:55.690 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 09:53:55.705 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:53:55.732 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:53:55.733 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 41ms reading results.
2025-08-13 09:53:55.735 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:53:55.736 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 09:53:55.740 +05:30 [INF] Admin user already exists.
2025-08-13 09:53:55.742 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 09:53:55.744 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:53:55.746 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 09:53:55.748 +05:30 [DBG] Hosting starting
2025-08-13 09:53:55.760 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-13 09:53:55.770 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-13 09:53:55.781 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-13 09:53:55.786 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 09:53:55.788 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-13 09:53:55.794 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 09:53:55.797 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-13 09:53:55.799 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-13 09:53:55.802 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-13 09:53:55.803 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-13 09:53:55.899 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-13 09:53:55.900 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-13 09:53:55.901 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-13 09:53:55.902 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-13 09:53:55.902 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-13 09:53:55.982 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-13 09:53:55.983 +05:30 [INF] Hosting environment: Development
2025-08-13 09:53:55.984 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-13 09:53:55.990 +05:30 [DBG] Hosting started
2025-08-13 09:53:56.106 +05:30 [DBG] Connection id "0HNEQ44RSCUML" accepted.
2025-08-13 09:53:56.106 +05:30 [DBG] Connection id "0HNEQ44RSCUMM" accepted.
2025-08-13 09:53:56.108 +05:30 [DBG] Connection id "0HNEQ44RSCUML" started.
2025-08-13 09:53:56.108 +05:30 [DBG] Connection id "0HNEQ44RSCUMM" started.
2025-08-13 09:53:56.135 +05:30 [DBG] Connection id "0HNEQ44RSCUML" received FIN.
2025-08-13 09:53:56.135 +05:30 [DBG] Connection id "0HNEQ44RSCUMM" received FIN.
2025-08-13 09:53:56.140 +05:30 [DBG] Connection id "0HNEQ44RSCUML" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 09:53:56.142 +05:30 [DBG] Connection id "0HNEQ44RSCUMM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 09:53:56.149 +05:30 [DBG] Connection id "0HNEQ44RSCUMM" disconnecting.
2025-08-13 09:53:56.149 +05:30 [DBG] Connection id "0HNEQ44RSCUML" disconnecting.
2025-08-13 09:53:56.151 +05:30 [DBG] Connection id "0HNEQ44RSCUMM" stopped.
2025-08-13 09:53:56.151 +05:30 [DBG] Connection id "0HNEQ44RSCUML" stopped.
2025-08-13 09:55:38.573 +05:30 [DBG] Connection id "0HNEQ44RSCUMN" accepted.
2025-08-13 09:55:38.574 +05:30 [DBG] Connection id "0HNEQ44RSCUMN" started.
2025-08-13 09:55:38.575 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" accepted.
2025-08-13 09:55:38.603 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" started.
2025-08-13 09:55:38.619 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - null null
2025-08-13 09:55:38.619 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_vs/browserLink - null null
2025-08-13 09:55:38.624 +05:30 [DBG] Connection id "0HNEQ44RSCUMN" completed keep alive response.
2025-08-13 09:55:38.626 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - 200 13768 application/javascript; charset=utf-8 13.7837ms
2025-08-13 09:55:38.698 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 09:55:38.699 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_vs/browserLink - 200 null text/javascript; charset=UTF-8 86.9158ms
2025-08-13 09:55:38.734 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - null null
2025-08-13 09:55:38.738 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-13 09:55:38.751 +05:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-13 09:55:38.752 +05:30 [DBG] Request did not match any endpoints
2025-08-13 09:55:38.774 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 09:55:38.776 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 42.7716ms
2025-08-13 09:55:58.622 +05:30 [DBG] Connection id "0HNEQ44RSCUMP" accepted.
2025-08-13 09:55:58.623 +05:30 [DBG] Connection id "0HNEQ44RSCUMP" started.
2025-08-13 09:55:58.624 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 09:55:58.631 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 09:55:58.632 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 09:55:58.647 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-13 09:55:58.648 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:55:58.649 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:55:58.650 +05:30 [DBG] The request is a preflight request.
2025-08-13 09:55:58.662 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 14ms
2025-08-13 09:55:58.663 +05:30 [DBG] Connection id "0HNEQ44RSCUMP" completed keep alive response.
2025-08-13 09:55:58.664 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 39.2812ms
2025-08-13 09:55:58.666 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 56
2025-08-13 09:55:58.669 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 09:55:58.672 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 09:55:58.674 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 09:55:58.677 +05:30 [DBG] Connection id "0HNEQ44RSCUMP", Request id "0HNEQ44RSCUMP:00000002": started reading request body.
2025-08-13 09:55:58.678 +05:30 [DBG] Connection id "0HNEQ44RSCUMP", Request id "0HNEQ44RSCUMP:00000002": done reading request body.
2025-08-13 09:55:58.681 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:55:58.682 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:55:58.724 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 09:55:58.726 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 09:55:58.741 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 09:55:58.744 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 09:55:58.745 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 09:55:58.746 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:55:58.747 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 09:55:58.748 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:55:58.750 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 09:55:58.782 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 09:55:58.785 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 09:55:58.790 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 09:55:58.793 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 09:55:58.795 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 09:55:58.808 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 09:55:58.809 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 09:55:58.810 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 09:55:58.811 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 09:55:58.818 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 09:55:58.824 +05:30 [DBG] Creating DbConnection.
2025-08-13 09:55:58.825 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 09:55:58.826 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:55:58.826 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:55:58.827 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:55:58.828 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 09:55:58.828 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:55:58.829 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 09:55:58.834 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 09:55:58.836 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:55:58.837 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:55:58.839 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-13 09:55:58.840 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:55:58.841 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 09:55:58.895 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-08-13 09:55:58.901 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 2], [Property: UserModel.Email (string) MaxLength(256), 3], [Property: UserModel.EmailConfirmed (bool) Required, 4], [Property: UserModel.IsActive (bool) Required, 5], [Property: UserModel.IsAdmin (bool) Required, 6], [Property: UserModel.LastLoginDate (DateTime) Required, 7], [Property: UserModel.LockoutEnabled (bool) Required, 8], [Property: UserModel.LockoutEnd (DateTimeOffset?), 9], [Property: UserModel.Name (string) Required, 10], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 11], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 12], [Property: UserModel.PasswordHash (string), 13], [Property: UserModel.PhoneNumber (string), 14], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 15], [Property: UserModel.Role (string) Required, 16], [Property: UserModel.SecurityStamp (string), 17], [Property: UserModel.TwoFactorEnabled (bool) Required, 18], [Property: UserModel.UserName (string) MaxLength(256), 19] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 09:55:58.904 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:55:58.907 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:55:58.907 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:55:58.908 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 09:55:58.909 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:55:58.909 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 09:55:58.914 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 09:55:58.916 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:55:58.917 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 09:55:58.918 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:55:58.919 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 09:55:58.932 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:55:58.936 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 09:55:58.939 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 09:55:58.949 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 09:55:58.995 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:55:58.996 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:55:58.999 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:55:59.000 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 09:55:59.002 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 09:55:59.003 +05:30 [DBG] Executing DbCommand [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-13 09:55:59.015 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-13 09:55:59.022 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:55:59.023 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-08-13 09:55:59.025 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:55:59.026 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 09:55:59.029 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:55:59.031 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 09:55:59.058 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 09:55:59.061 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 09:55:59.062 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 09:55:59.062 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 09:55:59.064 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 09:55:59.065 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 09:55:59.078 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 326.7242ms
2025-08-13 09:55:59.080 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 09:55:59.205 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"suraksha@gmail.com","password":"Password@123"} Responded with [200] in 530ms
2025-08-13 09:55:59.208 +05:30 [DBG] Connection id "0HNEQ44RSCUMP" completed keep alive response.
2025-08-13 09:55:59.210 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 09:55:59.215 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:55:59.216 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 09:55:59.217 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 908 application/json 550.9136ms
2025-08-13 09:55:59.252 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 09:55:59.255 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 09:55:59.257 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 09:55:59.259 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:55:59.260 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:55:59.261 +05:30 [DBG] The request is a preflight request.
2025-08-13 09:55:59.262 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 3ms
2025-08-13 09:55:59.263 +05:30 [DBG] Connection id "0HNEQ44RSCUMP" completed keep alive response.
2025-08-13 09:55:59.264 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 12.6409ms
2025-08-13 09:55:59.266 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 09:55:59.270 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 09:55:59.271 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 09:55:59.273 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 09:55:59.275 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:55:59.277 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:55:59.279 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:55:59.346 +05:30 [DBG] Successfully validated the token.
2025-08-13 09:55:59.348 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 09:55:59.352 +05:30 [DBG] Authorization was successful.
2025-08-13 09:55:59.353 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:55:59.358 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 09:55:59.360 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 09:55:59.361 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 09:55:59.362 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:55:59.364 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 09:55:59.366 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:55:59.367 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 09:55:59.376 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 09:55:59.467 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 09:55:59.471 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 09:55:59.473 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 09:55:59.476 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 09:55:59.479 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 09:55:59.481 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 09:55:59.482 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 09:55:59.484 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:55:59.484 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:55:59.485 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 09:55:59.487 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:55:59.502 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .Count()'
2025-08-13 09:55:59.535 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 09:55:59.543 +05:30 [DBG] Creating DbConnection.
2025-08-13 09:55:59.544 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 09:55:59.544 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:55:59.545 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:55:59.546 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:55:59.547 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 09:55:59.548 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:55:59.549 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 09:55:59.557 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 09:55:59.560 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:55:59.561 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 09:55:59.562 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:55:59.563 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 09:55:59.567 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .OrderBy(t => t.Title)
    .Skip(__p_1)
    .Take(__p_2)'
2025-08-13 09:55:59.574 +05:30 [DBG] Including navigation: 'TripModel.BudgetDetails'.
2025-08-13 09:55:59.576 +05:30 [DBG] Including navigation: 'TripModel.Reviews'.
2025-08-13 09:55:59.618 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
            1 -> Dictionary<IProperty, int> { [Property: BudgetDetailsModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: BudgetDetailsModel.Food (decimal) Required, 16], [Property: BudgetDetailsModel.Hotel (decimal) Required, 17], [Property: BudgetDetailsModel.TripId (int) Required FK Index, 18] }
            2 -> 0
            3 -> 15
            4 -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: ReviewModel.Rating (int) Required, 20], [Property: ReviewModel.ReviewText (string) Required, 21], [Property: ReviewModel.TripId (int) Required FK Index, 22], [Property: ReviewModel.UserId (int) Required FK Index, 23] }
            5 -> 19
        SELECT t1.Id, t1.BestTime, t1.Budget, t1.Description, t1.Destination, t1.Duration, t1.EndDate, t1.EssentialsJson, t1.Image, t1.Notes, t1.StartDate, t1.Title, t1.TouristSpotsJson, t1.TravelMode, t1.UserId, b.Id, b.Food, b.Hotel, b.TripId, r.Id, r.Rating, r.review, r.TripId, r.UserId
        FROM 
        (
            SELECT t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))
            ORDER BY t.Title ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS t1
        LEFT JOIN budgetdetails AS b ON t1.Id == b.TripId
        LEFT JOIN reviews AS r ON t1.Id == r.TripId
        ORDER BY t1.Title ASC, t1.Id ASC, b.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-13 09:55:59.623 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:55:59.624 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:55:59.625 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:55:59.626 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 09:55:59.626 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:55:59.627 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 09:55:59.641 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 09:55:59.654 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:55:59.674 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:55:59.676 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:55:59.684 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:55:59.689 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:55:59.690 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:55:59.691 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:55:59.692 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:55:59.693 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:55:59.694 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:55:59.696 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:55:59.697 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:55:59.697 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:55:59.698 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:55:59.699 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:55:59.700 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:55:59.701 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:55:59.702 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:55:59.703 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:55:59.704 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 60ms reading results.
2025-08-13 09:55:59.705 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:55:59.706 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 09:55:59.713 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 09:55:59.714 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 09:55:59.715 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 09:55:59.716 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 09:55:59.716 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 09:55:59.717 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 09:55:59.729 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 361.6671ms
2025-08-13 09:55:59.731 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:55:59.737 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 459ms
2025-08-13 09:55:59.738 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 09:55:59.739 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 09:55:59.740 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:55:59.741 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 09:55:59.742 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 475.7754ms
2025-08-13 09:56:12.086 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=delhi - null null
2025-08-13 09:56:12.091 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-13 09:56:12.092 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 09:56:12.094 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:56:12.095 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:56:12.095 +05:30 [DBG] The request is a preflight request.
2025-08-13 09:56:12.097 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/TripReviews/search ?destination=delhi  Responded with [204] in 3ms
2025-08-13 09:56:12.100 +05:30 [DBG] Connection id "0HNEQ44RSCUMP" completed keep alive response.
2025-08-13 09:56:12.101 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=delhi - 204 null null 14.8086ms
2025-08-13 09:56:12.101 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=delhi - null null
2025-08-13 09:56:12.105 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-13 09:56:12.105 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/TripReviews/search' is valid for the request path '/api/v1/TripReviews/search'
2025-08-13 09:56:12.107 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 09:56:12.107 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:56:12.108 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:56:12.111 +05:30 [DBG] Successfully validated the token.
2025-08-13 09:56:12.112 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 09:56:12.113 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 09:56:12.118 +05:30 [INF] Route matched with {action = "SearchTripReviews", controller = "TripReviews"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchTripReviews(System.String) on controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI).
2025-08-13 09:56:12.120 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 09:56:12.120 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 09:56:12.121 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:56:12.123 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 09:56:12.123 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:56:12.124 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-13 09:56:12.127 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 09:56:12.129 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-13 09:56:12.130 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' ...
2025-08-13 09:56:12.133 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' using the name 'destination' in request data ...
2025-08-13 09:56:12.134 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-13 09:56:12.135 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-13 09:56:12.135 +05:30 [DBG] Attempting to validate the bound parameter 'destination' of type 'System.String' ...
2025-08-13 09:56:12.136 +05:30 [DBG] Done attempting to validate the bound parameter 'destination' of type 'System.String'.
2025-08-13 09:56:12.150 +05:30 [DBG] Compiling query expression: 
'DbSet<ReviewModel>()
    .Include(r => r.Trip)
    .Include(r => r.User)
    .Where(r => r.Trip != null && __Functions_0
        .Like(
            matchExpression: r.Trip.Destination, 
            pattern: __Format_1))
    .Select(r => new TripReviewDto{ 
        TripId = r.TripId, 
        TripName = r.Trip != null ? r.Trip.Destination : "Unknown Trip", 
        Username = r.User != null ? r.User.Name : "Unknown User", 
        Rating = r.Rating, 
        Comment = r.ReviewText 
    }
    )'
2025-08-13 09:56:12.171 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripReviewDto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            TripId -> 0
            TripName -> 1
            Username -> 2
            Rating -> 3
            Comment -> 4
        SELECT r.TripId, CASE
            WHEN Not(t.Id == NULL) THEN t.Destination
            ELSE N'Unknown Trip'
        END AS TripName, CASE
            WHEN Not(u.Id == NULL) THEN u.Name
            ELSE N'Unknown User'
        END AS Username, r.Rating, r.review AS Comment
        FROM reviews AS r
        INNER JOIN Trips AS t ON r.TripId == t.Id
        INNER JOIN Users AS u ON r.UserId == u.Id
        WHERE Not(t.Id == NULL) && (t.Destination LIKE @__Format_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripReviewDto>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-13 09:56:12.176 +05:30 [DBG] Creating DbConnection.
2025-08-13 09:56:12.176 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 09:56:12.177 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:12.178 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:12.179 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:56:12.181 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-13 09:56:12.182 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 09:56:12.183 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-13 09:56:12.190 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-13 09:56:12.193 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:12.193 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 09:56:12.194 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:12.195 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 09:56:12.197 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 09:56:12.199 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 09:56:12.200 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 09:56:12.200 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 09:56:12.201 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 09:56:12.202 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.TripReviewDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 09:56:12.205 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI) in 80.4509ms
2025-08-13 09:56:12.206 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 09:56:12.219 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/TripReviews/search ?destination=delhi  Responded with [200] in 111ms
2025-08-13 09:56:12.220 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 09:56:12.221 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 09:56:12.222 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:12.223 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 09:56:12.224 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=delhi - 200 238 application/json 122.9294ms
2025-08-13 09:56:17.208 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/2 - null null
2025-08-13 09:56:17.211 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/2'
2025-08-13 09:56:17.212 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 09:56:17.214 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:56:17.215 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:56:17.216 +05:30 [DBG] The request is a preflight request.
2025-08-13 09:56:17.217 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/2   Responded with [204] in 3ms
2025-08-13 09:56:17.218 +05:30 [DBG] Connection id "0HNEQ44RSCUMP" completed keep alive response.
2025-08-13 09:56:17.219 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/2 - 204 null null 11.1169ms
2025-08-13 09:56:17.220 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/2 - null null
2025-08-13 09:56:17.223 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/2'
2025-08-13 09:56:17.224 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/2'
2025-08-13 09:56:17.225 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 09:56:17.226 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:56:17.226 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:56:17.227 +05:30 [DBG] Successfully validated the token.
2025-08-13 09:56:17.229 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 09:56:17.231 +05:30 [DBG] Authorization was successful.
2025-08-13 09:56:17.232 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 09:56:17.236 +05:30 [INF] Route matched with {action = "GetTrip", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TravelPlannerAPI.Dtos.TripDto]] GetTrip(Int32) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 09:56:17.237 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 09:56:17.237 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 09:56:17.238 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:56:17.240 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 09:56:17.241 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:56:17.242 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 09:56:17.245 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 09:56:17.247 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 09:56:17.248 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-13 09:56:17.249 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-13 09:56:17.250 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-13 09:56:17.250 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-13 09:56:17.251 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-13 09:56:17.252 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-13 09:56:17.255 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Include(t => t.SharedUsers)
    .FirstOrDefault(t => t.Id == __id_0)'
2025-08-13 09:56:17.258 +05:30 [DBG] Including navigation: 'TripModel.BudgetDetails'.
2025-08-13 09:56:17.258 +05:30 [DBG] Including navigation: 'TripModel.Reviews'.
2025-08-13 09:56:17.259 +05:30 [DBG] Including navigation: 'TripModel.SharedUsers'.
2025-08-13 09:56:17.270 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-13 09:56:17.274 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<TripModel>(
    asyncEnumerable: new SingleQueryingEnumerable<TripModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
                1 -> Dictionary<IProperty, int> { [Property: BudgetDetailsModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: BudgetDetailsModel.Food (decimal) Required, 16], [Property: BudgetDetailsModel.Hotel (decimal) Required, 17], [Property: BudgetDetailsModel.TripId (int) Required FK Index, 18] }
                2 -> 0
                3 -> 15
                4 -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: ReviewModel.Rating (int) Required, 20], [Property: ReviewModel.ReviewText (string) Required, 21], [Property: ReviewModel.TripId (int) Required FK Index, 22], [Property: ReviewModel.UserId (int) Required FK Index, 23] }
                5 -> 19
                6 -> Dictionary<IProperty, int> { [Property: TripShareModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 24], [Property: TripShareModel.AccessLevel (AccessLevel) Required, 25], [Property: TripShareModel.OwnerId (int) Required FK Index, 26], [Property: TripShareModel.SharedWithUserId (int) Required FK Index, 27], [Property: TripShareModel.TripId (int) Required FK Index, 28] }
                7 -> 24
            SELECT t0.Id, t0.BestTime, t0.Budget, t0.Description, t0.Destination, t0.Duration, t0.EndDate, t0.EssentialsJson, t0.Image, t0.Notes, t0.StartDate, t0.Title, t0.TouristSpotsJson, t0.TravelMode, t0.UserId, t0.Id0, t0.Food, t0.Hotel, t0.TripId, r.Id, r.Rating, r.review, r.TripId, r.UserId, t1.Id, t1.AccessLevel, t1.OwnerId, t1.SharedWithUserId, t1.TripId
            FROM 
            (
                SELECT TOP(1) t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId, b.Id AS Id0, b.Food, b.Hotel, b.TripId
                FROM Trips AS t
                LEFT JOIN budgetdetails AS b ON t.Id == b.TripId
                WHERE t.Id == @__id_0
            ) AS t0
            LEFT JOIN reviews AS r ON t0.Id == r.TripId
            LEFT JOIN TripShares AS t1 ON t0.Id == t1.TripId
            ORDER BY t0.Id ASC, t0.Id0 ASC, r.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 09:56:17.278 +05:30 [DBG] Creating DbConnection.
2025-08-13 09:56:17.278 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 09:56:17.279 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:17.280 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:17.280 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:56:17.281 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 09:56:17.281 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:56:17.282 +05:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-13 09:56:17.289 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-13 09:56:17.291 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:56:17.292 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:56:17.293 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:56:17.294 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:56:17.297 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripShareModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:56:17.301 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:17.302 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 10ms reading results.
2025-08-13 09:56:17.303 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:17.304 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 09:56:17.310 +05:30 [DBG] Compiling query expression: 
'DbSet<TripShareModel>()
    .Any(ts => ts.TripId == __tripId_0 && ts.SharedWithUserId == __userId_1)'
2025-08-13 09:56:17.314 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM TripShares AS t
                WHERE (t.TripId == @__tripId_0) && (t.SharedWithUserId == @__userId_1))), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 09:56:17.320 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:17.321 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:17.322 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:56:17.323 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:56:17.326 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 09:56:17.327 +05:30 [DBG] Executing DbCommand [Parameters=[@__tripId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TripShares] AS [t]
        WHERE [t].[TripId] = @__tripId_0 AND [t].[SharedWithUserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-13 09:56:17.331 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__tripId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TripShares] AS [t]
        WHERE [t].[TripId] = @__tripId_0 AND [t].[SharedWithUserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-13 09:56:17.334 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:17.334 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 09:56:17.335 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:17.336 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 09:56:17.343 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 09:56:17.345 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 09:56:17.345 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 09:56:17.346 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 09:56:17.346 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 09:56:17.347 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Dtos.TripDto'.
2025-08-13 09:56:17.348 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI) in 106.1161ms
2025-08-13 09:56:17.349 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 09:56:17.350 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/2   Responded with [200] in 124ms
2025-08-13 09:56:17.350 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 09:56:17.351 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 09:56:17.352 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:17.353 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 09:56:17.354 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/2 - 200 546 application/json 134.3716ms
2025-08-13 09:56:37.414 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=hyderabad - null null
2025-08-13 09:56:37.423 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-13 09:56:37.424 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 09:56:37.425 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:56:37.426 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:56:37.427 +05:30 [DBG] The request is a preflight request.
2025-08-13 09:56:37.428 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/TripReviews/search ?destination=hyderabad  Responded with [204] in 3ms
2025-08-13 09:56:37.430 +05:30 [DBG] Connection id "0HNEQ44RSCUMP" completed keep alive response.
2025-08-13 09:56:37.431 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=hyderabad - 204 null null 17.4391ms
2025-08-13 09:56:37.431 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=hyderabad - null null
2025-08-13 09:56:37.442 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-13 09:56:37.443 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/TripReviews/search' is valid for the request path '/api/v1/TripReviews/search'
2025-08-13 09:56:37.445 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 09:56:37.447 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:56:37.448 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:56:37.450 +05:30 [DBG] Successfully validated the token.
2025-08-13 09:56:37.451 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 09:56:37.453 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 09:56:37.454 +05:30 [INF] Route matched with {action = "SearchTripReviews", controller = "TripReviews"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchTripReviews(System.String) on controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI).
2025-08-13 09:56:37.456 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 09:56:37.457 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 09:56:37.459 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:56:37.462 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 09:56:37.465 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:56:37.468 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-13 09:56:37.470 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 09:56:37.472 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-13 09:56:37.474 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' ...
2025-08-13 09:56:37.475 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' using the name 'destination' in request data ...
2025-08-13 09:56:37.477 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-13 09:56:37.480 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-13 09:56:37.482 +05:30 [DBG] Attempting to validate the bound parameter 'destination' of type 'System.String' ...
2025-08-13 09:56:37.483 +05:30 [DBG] Done attempting to validate the bound parameter 'destination' of type 'System.String'.
2025-08-13 09:56:37.487 +05:30 [DBG] Creating DbConnection.
2025-08-13 09:56:37.487 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 09:56:37.489 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:37.490 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:37.491 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:56:37.492 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 09:56:37.493 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 09:56:37.495 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-13 09:56:37.500 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-13 09:56:37.503 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:37.504 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 09:56:37.506 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:37.507 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 09:56:37.509 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 09:56:37.513 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 09:56:37.514 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 09:56:37.515 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 09:56:37.516 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 09:56:37.517 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.TripReviewDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 09:56:37.518 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI) in 50.8486ms
2025-08-13 09:56:37.520 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 09:56:37.522 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/TripReviews/search ?destination=hyderabad  Responded with [200] in 74ms
2025-08-13 09:56:37.523 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 09:56:37.525 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 09:56:37.526 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:37.529 +05:30 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-13 09:56:37.531 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=hyderabad - 200 61 application/json 99.4373ms
2025-08-13 09:56:43.476 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=manali - null null
2025-08-13 09:56:43.484 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-13 09:56:43.485 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 09:56:43.486 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:56:43.487 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:56:43.488 +05:30 [DBG] The request is a preflight request.
2025-08-13 09:56:43.489 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/TripReviews/search ?destination=manali  Responded with [204] in 3ms
2025-08-13 09:56:43.491 +05:30 [DBG] Connection id "0HNEQ44RSCUMP" completed keep alive response.
2025-08-13 09:56:43.493 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=manali - null null
2025-08-13 09:56:43.494 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=manali - 204 null null 18.3187ms
2025-08-13 09:56:43.496 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-13 09:56:43.500 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/TripReviews/search' is valid for the request path '/api/v1/TripReviews/search'
2025-08-13 09:56:43.501 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 09:56:43.503 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:56:43.504 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:56:43.505 +05:30 [DBG] Successfully validated the token.
2025-08-13 09:56:43.506 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 09:56:43.509 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 09:56:43.510 +05:30 [INF] Route matched with {action = "SearchTripReviews", controller = "TripReviews"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchTripReviews(System.String) on controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI).
2025-08-13 09:56:43.512 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 09:56:43.513 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 09:56:43.515 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:56:43.517 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 09:56:43.518 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:56:43.520 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-13 09:56:43.533 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 09:56:43.536 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-13 09:56:43.538 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' ...
2025-08-13 09:56:43.539 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' using the name 'destination' in request data ...
2025-08-13 09:56:43.541 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-13 09:56:43.542 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-13 09:56:43.543 +05:30 [DBG] Attempting to validate the bound parameter 'destination' of type 'System.String' ...
2025-08-13 09:56:43.545 +05:30 [DBG] Done attempting to validate the bound parameter 'destination' of type 'System.String'.
2025-08-13 09:56:43.546 +05:30 [DBG] Creating DbConnection.
2025-08-13 09:56:43.547 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 09:56:43.548 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:43.550 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:43.552 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:56:43.553 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:56:43.554 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 09:56:43.556 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-13 09:56:43.565 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-13 09:56:43.568 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:43.569 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 09:56:43.571 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:43.572 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 09:56:43.575 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 09:56:43.577 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 09:56:43.577 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 09:56:43.578 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 09:56:43.579 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 09:56:43.580 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.TripReviewDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 09:56:43.583 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI) in 63.0034ms
2025-08-13 09:56:43.585 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 09:56:43.586 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/TripReviews/search ?destination=manali  Responded with [200] in 83ms
2025-08-13 09:56:43.588 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 09:56:43.589 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 09:56:43.590 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:43.592 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 09:56:43.594 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=manali - 200 61 application/json 101.2356ms
2025-08-13 09:56:49.857 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=Manali - null null
2025-08-13 09:56:49.860 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-13 09:56:49.861 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 09:56:49.862 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:56:49.863 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:56:49.864 +05:30 [DBG] The request is a preflight request.
2025-08-13 09:56:49.865 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/TripReviews/search ?destination=Manali  Responded with [204] in 2ms
2025-08-13 09:56:49.866 +05:30 [DBG] Connection id "0HNEQ44RSCUMP" completed keep alive response.
2025-08-13 09:56:49.867 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=Manali - 204 null null 10.1994ms
2025-08-13 09:56:49.869 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=Manali - null null
2025-08-13 09:56:49.873 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-13 09:56:49.874 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/TripReviews/search' is valid for the request path '/api/v1/TripReviews/search'
2025-08-13 09:56:49.875 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 09:56:49.876 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:56:49.876 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:56:49.877 +05:30 [DBG] Successfully validated the token.
2025-08-13 09:56:49.878 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 09:56:49.878 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 09:56:49.879 +05:30 [INF] Route matched with {action = "SearchTripReviews", controller = "TripReviews"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchTripReviews(System.String) on controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI).
2025-08-13 09:56:49.880 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 09:56:49.881 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 09:56:49.882 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:56:49.883 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 09:56:49.885 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:56:49.888 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-13 09:56:49.889 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 09:56:49.890 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-13 09:56:49.891 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' ...
2025-08-13 09:56:49.891 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' using the name 'destination' in request data ...
2025-08-13 09:56:49.892 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-13 09:56:49.893 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-13 09:56:49.894 +05:30 [DBG] Attempting to validate the bound parameter 'destination' of type 'System.String' ...
2025-08-13 09:56:49.894 +05:30 [DBG] Done attempting to validate the bound parameter 'destination' of type 'System.String'.
2025-08-13 09:56:49.896 +05:30 [DBG] Creating DbConnection.
2025-08-13 09:56:49.897 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 09:56:49.897 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:49.898 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:49.899 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:56:49.899 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 09:56:49.900 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:56:49.901 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-13 09:56:49.906 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-13 09:56:49.913 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:49.914 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 09:56:49.916 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:49.916 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 09:56:49.918 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 09:56:49.921 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 09:56:49.921 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 09:56:49.922 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 09:56:49.922 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 09:56:49.923 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.TripReviewDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 09:56:49.924 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI) in 36.1813ms
2025-08-13 09:56:49.925 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 09:56:49.926 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/TripReviews/search ?destination=Manali  Responded with [200] in 50ms
2025-08-13 09:56:49.927 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 09:56:49.928 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 09:56:49.929 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:49.930 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 09:56:49.931 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=Manali - 200 61 application/json 62.3732ms
2025-08-13 09:56:57.735 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=goa - null null
2025-08-13 09:56:57.737 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-13 09:56:57.738 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 09:56:57.739 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:56:57.740 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:56:57.741 +05:30 [DBG] The request is a preflight request.
2025-08-13 09:56:57.742 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/TripReviews/search ?destination=goa  Responded with [204] in 3ms
2025-08-13 09:56:57.744 +05:30 [DBG] Connection id "0HNEQ44RSCUMP" completed keep alive response.
2025-08-13 09:56:57.745 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=goa - 204 null null 9.7153ms
2025-08-13 09:56:57.746 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=goa - null null
2025-08-13 09:56:57.752 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-13 09:56:57.753 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/TripReviews/search' is valid for the request path '/api/v1/TripReviews/search'
2025-08-13 09:56:57.754 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 09:56:57.755 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:56:57.755 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:56:57.756 +05:30 [DBG] Successfully validated the token.
2025-08-13 09:56:57.757 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 09:56:57.757 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 09:56:57.758 +05:30 [INF] Route matched with {action = "SearchTripReviews", controller = "TripReviews"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchTripReviews(System.String) on controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI).
2025-08-13 09:56:57.760 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 09:56:57.761 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 09:56:57.762 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:56:57.763 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 09:56:57.764 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:56:57.767 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-13 09:56:57.769 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 09:56:57.770 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-13 09:56:57.772 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' ...
2025-08-13 09:56:57.772 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' using the name 'destination' in request data ...
2025-08-13 09:56:57.773 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-13 09:56:57.774 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-13 09:56:57.775 +05:30 [DBG] Attempting to validate the bound parameter 'destination' of type 'System.String' ...
2025-08-13 09:56:57.776 +05:30 [DBG] Done attempting to validate the bound parameter 'destination' of type 'System.String'.
2025-08-13 09:56:57.778 +05:30 [DBG] Creating DbConnection.
2025-08-13 09:56:57.778 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 09:56:57.779 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:57.780 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:57.783 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:56:57.784 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:56:57.786 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 09:56:57.787 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-13 09:56:57.790 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-13 09:56:57.794 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:57.796 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 09:56:57.797 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:57.798 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 09:56:57.801 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 09:56:57.803 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 09:56:57.803 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 09:56:57.804 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 09:56:57.805 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 09:56:57.806 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.TripReviewDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 09:56:57.809 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI) in 41.5676ms
2025-08-13 09:56:57.810 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 09:56:57.812 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/TripReviews/search ?destination=goa  Responded with [200] in 57ms
2025-08-13 09:56:57.813 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 09:56:57.814 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 09:56:57.816 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:56:57.817 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 09:56:57.819 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=goa - 200 61 application/json 73.1692ms
2025-08-13 09:57:02.701 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 09:57:02.704 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 09:57:02.705 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 09:57:02.706 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:57:02.707 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:57:02.708 +05:30 [DBG] The request is a preflight request.
2025-08-13 09:57:02.710 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 4ms
2025-08-13 09:57:02.711 +05:30 [DBG] Connection id "0HNEQ44RSCUMP" completed keep alive response.
2025-08-13 09:57:02.712 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 11.6328ms
2025-08-13 09:57:02.716 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 09:57:02.724 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 09:57:02.725 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 09:57:02.727 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 09:57:02.729 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:57:02.731 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:57:02.732 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:57:02.733 +05:30 [DBG] Successfully validated the token.
2025-08-13 09:57:02.734 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 09:57:02.738 +05:30 [DBG] Authorization was successful.
2025-08-13 09:57:02.739 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:57:02.742 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 09:57:02.744 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 09:57:02.745 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 09:57:02.746 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:57:02.750 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 09:57:02.752 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:57:02.754 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 09:57:02.761 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 09:57:02.765 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 09:57:02.767 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 09:57:02.768 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 09:57:02.770 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 09:57:02.773 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 09:57:02.776 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 09:57:02.778 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 09:57:02.781 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:57:02.782 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:57:02.784 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 09:57:02.786 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:57:02.792 +05:30 [DBG] Creating DbConnection.
2025-08-13 09:57:02.792 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 09:57:02.793 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:02.794 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:02.795 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:57:02.796 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:57:02.797 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 09:57:02.799 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 09:57:02.808 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 09:57:02.810 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:02.811 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 09:57:02.812 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:02.813 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 09:57:02.816 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:02.817 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:02.818 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:57:02.818 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 09:57:02.819 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:57:02.821 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 09:57:02.838 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 09:57:02.843 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:02.844 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:02.845 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:02.847 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:02.848 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:02.849 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:02.850 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:02.851 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:02.853 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:02.854 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:02.855 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:02.857 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:02.858 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:02.859 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:02.860 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:02.861 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:02.862 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:02.863 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:02.864 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:02.865 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 22ms reading results.
2025-08-13 09:57:02.866 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:02.867 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 09:57:02.868 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 09:57:02.869 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 09:57:02.870 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 09:57:02.871 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 09:57:02.871 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 09:57:02.872 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 09:57:02.875 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 120.9053ms
2025-08-13 09:57:02.876 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:57:02.878 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 147ms
2025-08-13 09:57:02.879 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 09:57:02.880 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 09:57:02.881 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:02.882 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 09:57:02.885 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 169.1334ms
2025-08-13 09:57:04.572 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 09:57:04.576 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 09:57:04.578 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 09:57:04.580 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 09:57:04.583 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:57:04.585 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:57:04.586 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:57:04.587 +05:30 [DBG] Successfully validated the token.
2025-08-13 09:57:04.589 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 09:57:04.590 +05:30 [DBG] Authorization was successful.
2025-08-13 09:57:04.591 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:57:04.595 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 09:57:04.598 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 09:57:04.601 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 09:57:04.604 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:57:04.609 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 09:57:04.616 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:57:04.620 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 09:57:04.625 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 09:57:04.631 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 09:57:04.634 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 09:57:04.637 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 09:57:04.640 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 09:57:04.647 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 09:57:04.650 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 09:57:04.653 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 09:57:04.656 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:57:04.659 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:57:04.662 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 09:57:04.665 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:57:04.668 +05:30 [DBG] Creating DbConnection.
2025-08-13 09:57:04.669 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 09:57:04.671 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:04.673 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:04.675 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:57:04.677 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-13 09:57:04.681 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-08-13 09:57:04.684 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 09:57:04.694 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 09:57:04.702 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:04.704 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 09:57:04.708 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:04.710 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 09:57:04.715 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:04.717 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:04.719 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:57:04.720 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:57:04.721 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 09:57:04.725 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 09:57:04.736 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 09:57:04.744 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:04.749 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:04.752 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:04.754 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:04.756 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:04.759 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:04.764 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:04.768 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:04.770 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:04.773 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:04.777 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:04.780 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:04.783 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:04.785 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:04.787 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:04.789 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:04.792 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:04.796 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:04.798 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:04.800 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 56ms reading results.
2025-08-13 09:57:04.803 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:04.804 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 09:57:04.806 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 09:57:04.810 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 09:57:04.811 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 09:57:04.815 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 09:57:04.816 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 09:57:04.819 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 09:57:04.822 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 201.6998ms
2025-08-13 09:57:04.823 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:57:04.826 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 241ms
2025-08-13 09:57:04.830 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 09:57:04.831 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 09:57:04.833 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:04.835 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 09:57:04.837 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 265.7252ms
2025-08-13 09:57:17.339 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=Goa - null null
2025-08-13 09:57:17.344 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-13 09:57:17.345 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 09:57:17.346 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:57:17.346 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:57:17.347 +05:30 [DBG] The request is a preflight request.
2025-08-13 09:57:17.349 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/TripReviews/search ?destination=Goa  Responded with [204] in 2ms
2025-08-13 09:57:17.350 +05:30 [DBG] Connection id "0HNEQ44RSCUMP" completed keep alive response.
2025-08-13 09:57:17.350 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=Goa - 204 null null 11.3839ms
2025-08-13 09:57:17.351 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=Goa - null null
2025-08-13 09:57:17.357 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-13 09:57:17.357 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/TripReviews/search' is valid for the request path '/api/v1/TripReviews/search'
2025-08-13 09:57:17.359 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 09:57:17.361 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:57:17.362 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:57:17.363 +05:30 [DBG] Successfully validated the token.
2025-08-13 09:57:17.364 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 09:57:17.365 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 09:57:17.366 +05:30 [INF] Route matched with {action = "SearchTripReviews", controller = "TripReviews"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchTripReviews(System.String) on controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI).
2025-08-13 09:57:17.367 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 09:57:17.370 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 09:57:17.371 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:57:17.373 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 09:57:17.374 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:57:17.375 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-13 09:57:17.377 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 09:57:17.378 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-13 09:57:17.378 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' ...
2025-08-13 09:57:17.379 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' using the name 'destination' in request data ...
2025-08-13 09:57:17.380 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-13 09:57:17.380 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-13 09:57:17.381 +05:30 [DBG] Attempting to validate the bound parameter 'destination' of type 'System.String' ...
2025-08-13 09:57:17.382 +05:30 [DBG] Done attempting to validate the bound parameter 'destination' of type 'System.String'.
2025-08-13 09:57:17.383 +05:30 [DBG] Creating DbConnection.
2025-08-13 09:57:17.383 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 09:57:17.384 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:17.385 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:17.387 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:57:17.387 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 09:57:17.388 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:57:17.388 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-13 09:57:17.391 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-13 09:57:17.393 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:17.394 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 09:57:17.395 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:17.396 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 09:57:17.397 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 09:57:17.399 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 09:57:17.399 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 09:57:17.400 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 09:57:17.402 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 09:57:17.403 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.TripReviewDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 09:57:17.404 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI) in 29.2203ms
2025-08-13 09:57:17.405 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 09:57:17.406 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/TripReviews/search ?destination=Goa  Responded with [200] in 45ms
2025-08-13 09:57:17.407 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 09:57:17.408 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 09:57:17.409 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:17.410 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-13 09:57:17.411 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=Goa - 200 61 application/json 59.6504ms
2025-08-13 09:57:22.914 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=India - null null
2025-08-13 09:57:22.918 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-13 09:57:22.919 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 09:57:22.920 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:57:22.921 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:57:22.922 +05:30 [DBG] The request is a preflight request.
2025-08-13 09:57:22.923 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/TripReviews/search ?destination=India  Responded with [204] in 2ms
2025-08-13 09:57:22.924 +05:30 [DBG] Connection id "0HNEQ44RSCUMP" completed keep alive response.
2025-08-13 09:57:22.925 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=India - 204 null null 10.9815ms
2025-08-13 09:57:22.926 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=India - null null
2025-08-13 09:57:22.932 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-13 09:57:22.933 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/TripReviews/search' is valid for the request path '/api/v1/TripReviews/search'
2025-08-13 09:57:22.934 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 09:57:22.935 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:57:22.936 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:57:22.937 +05:30 [DBG] Successfully validated the token.
2025-08-13 09:57:22.938 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 09:57:22.939 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 09:57:22.940 +05:30 [INF] Route matched with {action = "SearchTripReviews", controller = "TripReviews"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchTripReviews(System.String) on controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI).
2025-08-13 09:57:22.941 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 09:57:22.942 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 09:57:22.943 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:57:22.947 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 09:57:22.949 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:57:22.950 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-13 09:57:22.952 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 09:57:22.954 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-13 09:57:22.955 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' ...
2025-08-13 09:57:22.956 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' using the name 'destination' in request data ...
2025-08-13 09:57:22.957 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-13 09:57:22.958 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-13 09:57:22.959 +05:30 [DBG] Attempting to validate the bound parameter 'destination' of type 'System.String' ...
2025-08-13 09:57:22.960 +05:30 [DBG] Done attempting to validate the bound parameter 'destination' of type 'System.String'.
2025-08-13 09:57:22.961 +05:30 [DBG] Creating DbConnection.
2025-08-13 09:57:22.962 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 09:57:22.965 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:22.966 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:22.967 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:57:22.968 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:57:22.969 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 09:57:22.970 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-13 09:57:22.973 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-13 09:57:22.976 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:22.977 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 09:57:22.978 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:22.981 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 09:57:22.982 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 09:57:22.984 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 09:57:22.985 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 09:57:22.986 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 09:57:22.986 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 09:57:22.988 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.TripReviewDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 09:57:22.989 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI) in 38.9509ms
2025-08-13 09:57:22.990 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 09:57:22.993 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/TripReviews/search ?destination=India  Responded with [200] in 57ms
2025-08-13 09:57:22.996 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 09:57:22.997 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 09:57:22.998 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:23.000 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 09:57:23.001 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=India - 200 214 application/json 75.7953ms
2025-08-13 09:57:27.600 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 09:57:27.604 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 09:57:27.606 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 09:57:27.608 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:57:27.610 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:57:27.613 +05:30 [DBG] The request is a preflight request.
2025-08-13 09:57:27.616 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 7ms
2025-08-13 09:57:27.618 +05:30 [DBG] Connection id "0HNEQ44RSCUMP" completed keep alive response.
2025-08-13 09:57:27.620 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 20.5873ms
2025-08-13 09:57:27.620 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 09:57:27.631 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 09:57:27.632 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 09:57:27.635 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 09:57:27.638 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:57:27.640 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:57:27.642 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:57:27.643 +05:30 [DBG] Successfully validated the token.
2025-08-13 09:57:27.645 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 09:57:27.647 +05:30 [DBG] Authorization was successful.
2025-08-13 09:57:27.648 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:57:27.650 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 09:57:27.656 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 09:57:27.659 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 09:57:27.661 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:57:27.666 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 09:57:27.669 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:57:27.675 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 09:57:27.677 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 09:57:27.679 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 09:57:27.681 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 09:57:27.682 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 09:57:27.684 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 09:57:27.686 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 09:57:27.689 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 09:57:27.692 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 09:57:27.695 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:57:27.697 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:57:27.699 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 09:57:27.701 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:57:27.706 +05:30 [DBG] Creating DbConnection.
2025-08-13 09:57:27.707 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 09:57:27.709 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:27.711 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:27.713 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:57:27.714 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:57:27.716 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 09:57:27.718 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 09:57:27.725 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 09:57:27.729 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:27.731 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 09:57:27.732 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:27.734 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 09:57:27.736 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:27.739 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:27.741 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:57:27.743 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:57:27.744 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 09:57:27.745 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 09:57:27.751 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 09:57:27.758 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:27.759 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:27.760 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:27.762 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:27.763 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:27.765 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:27.766 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:27.768 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:27.769 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:27.770 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:27.773 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:27.775 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:27.777 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:27.779 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:27.781 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:27.783 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:27.785 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:27.789 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:27.792 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:27.793 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 36ms reading results.
2025-08-13 09:57:27.795 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:27.797 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 09:57:27.798 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 09:57:27.800 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 09:57:27.801 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 09:57:27.802 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 09:57:27.803 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 09:57:27.806 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 09:57:27.808 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 133.6282ms
2025-08-13 09:57:27.809 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:57:27.811 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 170ms
2025-08-13 09:57:27.813 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 09:57:27.814 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 09:57:27.815 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:27.817 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 09:57:27.819 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 198.6455ms
2025-08-13 09:57:44.177 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 09:57:44.179 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 09:57:44.180 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 09:57:44.181 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:57:44.181 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:57:44.182 +05:30 [DBG] The request is a preflight request.
2025-08-13 09:57:44.183 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 2ms
2025-08-13 09:57:44.184 +05:30 [DBG] Connection id "0HNEQ44RSCUMP" completed keep alive response.
2025-08-13 09:57:44.185 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 7.6042ms
2025-08-13 09:57:44.187 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 55
2025-08-13 09:57:44.188 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 09:57:44.189 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 09:57:44.190 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 09:57:44.193 +05:30 [DBG] Connection id "0HNEQ44RSCUMP", Request id "0HNEQ44RSCUMP:0000000F": started reading request body.
2025-08-13 09:57:44.194 +05:30 [DBG] Connection id "0HNEQ44RSCUMP", Request id "0HNEQ44RSCUMP:0000000F": done reading request body.
2025-08-13 09:57:44.195 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:57:44.196 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:57:44.196 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 09:57:44.197 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 09:57:44.198 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 09:57:44.200 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 09:57:44.201 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 09:57:44.202 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:57:44.204 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 09:57:44.205 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:57:44.206 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 09:57:44.208 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 09:57:44.210 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 09:57:44.211 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 09:57:44.212 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 09:57:44.213 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 09:57:44.215 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 09:57:44.216 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 09:57:44.217 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 09:57:44.218 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 09:57:44.219 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 09:57:44.221 +05:30 [DBG] Creating DbConnection.
2025-08-13 09:57:44.222 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 09:57:44.223 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.224 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.225 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:57:44.226 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 09:57:44.227 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:57:44.228 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 09:57:44.233 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 09:57:44.236 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.238 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.240 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-13 09:57:44.242 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.244 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 09:57:44.301 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.302 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.303 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:57:44.304 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 09:57:44.305 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:57:44.306 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 09:57:44.311 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 09:57:44.313 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.314 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 09:57:44.316 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.317 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 09:57:44.318 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.320 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 09:57:44.321 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 09:57:44.322 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 09:57:44.323 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.324 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.326 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:57:44.327 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 09:57:44.328 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:57:44.329 +05:30 [DBG] Executing DbCommand [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-13 09:57:44.336 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p19='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsActive] = @p4, [IsAdmin] = @p5, [LastLoginDate] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [Role] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-08-13 09:57:44.339 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.341 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 09:57:44.343 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.344 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 09:57:44.345 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.346 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 09:57:44.348 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 09:57:44.350 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 09:57:44.351 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 09:57:44.351 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 09:57:44.352 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 09:57:44.353 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 09:57:44.355 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 149.1033ms
2025-08-13 09:57:44.356 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 09:57:44.358 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"meghana@gmail.com","password":"Password@123"} Responded with [200] in 165ms
2025-08-13 09:57:44.359 +05:30 [DBG] Connection id "0HNEQ44RSCUMP" completed keep alive response.
2025-08-13 09:57:44.360 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 09:57:44.362 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.362 +05:30 [DBG] Connection id "0HNEQ44RSCUMQ" accepted.
2025-08-13 09:57:44.364 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 09:57:44.365 +05:30 [DBG] Connection id "0HNEQ44RSCUMQ" started.
2025-08-13 09:57:44.368 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 903 application/json 181.7651ms
2025-08-13 09:57:44.371 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 09:57:44.370 +05:30 [DBG] Connection id "0HNEQ44RSCUMR" accepted.
2025-08-13 09:57:44.381 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 09:57:44.383 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 09:57:44.385 +05:30 [DBG] Connection id "0HNEQ44RSCUMR" started.
2025-08-13 09:57:44.387 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 09:57:44.388 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 09:57:44.389 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 09:57:44.391 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 09:57:44.392 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:57:44.394 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 09:57:44.395 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:57:44.396 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:57:44.397 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 09:57:44.398 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:57:44.399 +05:30 [DBG] The request is a preflight request.
2025-08-13 09:57:44.401 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:57:44.402 +05:30 [DBG] The request is a preflight request.
2025-08-13 09:57:44.403 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 10ms
2025-08-13 09:57:44.403 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:57:44.405 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 9ms
2025-08-13 09:57:44.405 +05:30 [DBG] Connection id "0HNEQ44RSCUMQ" completed keep alive response.
2025-08-13 09:57:44.407 +05:30 [DBG] The request is a preflight request.
2025-08-13 09:57:44.407 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 09:57:44.409 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 38.8994ms
2025-08-13 09:57:44.408 +05:30 [DBG] Connection id "0HNEQ44RSCUMP" completed keep alive response.
2025-08-13 09:57:44.412 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 09:57:44.410 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 9ms
2025-08-13 09:57:44.416 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 35.1238ms
2025-08-13 09:57:44.417 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 09:57:44.418 +05:30 [DBG] Connection id "0HNEQ44RSCUMR" completed keep alive response.
2025-08-13 09:57:44.422 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 09:57:44.423 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 33.6915ms
2025-08-13 09:57:44.424 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:57:44.428 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:57:44.429 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:57:44.430 +05:30 [DBG] Successfully validated the token.
2025-08-13 09:57:44.430 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 09:57:44.431 +05:30 [DBG] Authorization was successful.
2025-08-13 09:57:44.432 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:57:44.433 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 09:57:44.436 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 09:57:44.437 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 09:57:44.438 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:57:44.442 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 09:57:44.444 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:57:44.447 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 09:57:44.449 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 09:57:44.451 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 09:57:44.452 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 09:57:44.453 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 09:57:44.454 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 09:57:44.456 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 09:57:44.457 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 09:57:44.459 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 09:57:44.460 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:57:44.461 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:57:44.462 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 09:57:44.463 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:57:44.465 +05:30 [DBG] Creating DbConnection.
2025-08-13 09:57:44.466 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 09:57:44.467 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.468 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.469 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:57:44.470 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 09:57:44.471 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:57:44.472 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 09:57:44.475 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 09:57:44.478 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.479 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 09:57:44.480 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.482 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 09:57:44.484 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.484 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.485 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:57:44.486 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 09:57:44.487 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 09:57:44.488 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 09:57:44.493 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 09:57:44.496 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.498 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.499 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.501 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.502 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.503 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.504 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.505 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.506 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.508 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.509 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.510 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.511 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.514 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.515 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.516 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.517 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.519 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.520 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.521 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.523 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.524 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 27ms reading results.
2025-08-13 09:57:44.525 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.526 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 09:57:44.527 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 09:57:44.530 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 09:57:44.531 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 09:57:44.531 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 09:57:44.532 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 09:57:44.533 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 09:57:44.535 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 88.3774ms
2025-08-13 09:57:44.536 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:57:44.538 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 109ms
2025-08-13 09:57:44.539 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 09:57:44.539 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 09:57:44.541 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 09:57:44.543 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 09:57:44.544 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.545 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 09:57:44.546 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 09:57:44.547 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 09:57:44.548 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 141.1193ms
2025-08-13 09:57:44.550 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:57:44.557 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:57:44.557 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:57:44.559 +05:30 [DBG] Successfully validated the token.
2025-08-13 09:57:44.559 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 09:57:44.560 +05:30 [DBG] Authorization was successful.
2025-08-13 09:57:44.561 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:57:44.562 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 09:57:44.564 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 09:57:44.567 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 09:57:44.569 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:57:44.571 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 09:57:44.573 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:57:44.575 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 09:57:44.577 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 09:57:44.579 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 09:57:44.580 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 09:57:44.581 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 09:57:44.584 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 09:57:44.586 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 09:57:44.587 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 09:57:44.588 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 09:57:44.590 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:57:44.591 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:57:44.592 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 09:57:44.593 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:57:44.595 +05:30 [DBG] Creating DbConnection.
2025-08-13 09:57:44.595 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 09:57:44.596 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.597 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.599 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:57:44.600 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 09:57:44.601 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 09:57:44.602 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 09:57:44.605 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 09:57:44.608 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.609 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 09:57:44.610 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.611 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 09:57:44.613 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.613 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.614 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:57:44.615 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 09:57:44.616 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:57:44.617 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 09:57:44.621 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 09:57:44.624 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.625 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.626 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.627 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.628 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.629 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.630 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.631 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.632 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.633 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.634 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.635 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.636 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.637 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.638 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.639 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.640 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.641 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.642 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.643 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.644 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.645 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 20ms reading results.
2025-08-13 09:57:44.646 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.647 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 09:57:44.648 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 09:57:44.650 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 09:57:44.651 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 09:57:44.652 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 09:57:44.653 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 09:57:44.654 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 09:57:44.656 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 80.6689ms
2025-08-13 09:57:44.657 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:57:44.660 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 103ms
2025-08-13 09:57:44.661 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 09:57:44.661 +05:30 [DBG] Connection id "0HNEQ44RSCUMN" completed keep alive response.
2025-08-13 09:57:44.664 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 09:57:44.665 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 09:57:44.666 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 09:57:44.666 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.667 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 09:57:44.668 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 09:57:44.669 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:57:44.670 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 130.4263ms
2025-08-13 09:57:44.670 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:57:44.672 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:57:44.673 +05:30 [DBG] Successfully validated the token.
2025-08-13 09:57:44.674 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 09:57:44.674 +05:30 [DBG] Authorization was successful.
2025-08-13 09:57:44.675 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:57:44.675 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 09:57:44.676 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 09:57:44.677 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 09:57:44.678 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:57:44.679 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 09:57:44.680 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:57:44.681 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 09:57:44.683 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 09:57:44.685 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 09:57:44.686 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 09:57:44.686 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 09:57:44.687 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 09:57:44.688 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 09:57:44.689 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 09:57:44.690 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 09:57:44.691 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:57:44.692 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:57:44.693 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 09:57:44.694 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:57:44.695 +05:30 [DBG] Creating DbConnection.
2025-08-13 09:57:44.695 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 09:57:44.696 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.697 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.698 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:57:44.698 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 09:57:44.699 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:57:44.701 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 09:57:44.704 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 09:57:44.706 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.706 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 09:57:44.707 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.708 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 09:57:44.710 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.710 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.711 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:57:44.712 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 09:57:44.713 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:57:44.713 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 09:57:44.717 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 09:57:44.720 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.721 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.721 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.722 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.723 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.724 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.725 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.726 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.727 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.727 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.728 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.729 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.730 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.732 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.732 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.733 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.734 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.735 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.736 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.737 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:57:44.738 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.738 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 18ms reading results.
2025-08-13 09:57:44.739 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.740 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 09:57:44.741 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 09:57:44.742 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 09:57:44.742 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 09:57:44.743 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 09:57:44.743 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 09:57:44.744 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 09:57:44.745 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 64.1179ms
2025-08-13 09:57:44.746 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:57:44.748 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 77ms
2025-08-13 09:57:44.749 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 09:57:44.750 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 09:57:44.751 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:57:44.752 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-13 09:57:44.753 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 91.6741ms
2025-08-13 09:59:48.467 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=2&PageSize=6 - null null
2025-08-13 09:59:48.473 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 09:59:48.474 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 09:59:48.475 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:59:48.476 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:59:48.476 +05:30 [DBG] The request is a preflight request.
2025-08-13 09:59:48.477 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=2&PageSize=6  Responded with [204] in 2ms
2025-08-13 09:59:48.479 +05:30 [DBG] Connection id "0HNEQ44RSCUMR" completed keep alive response.
2025-08-13 09:59:48.480 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=2&PageSize=6 - 204 null null 14.8948ms
2025-08-13 09:59:48.483 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=2&PageSize=6 - null null
2025-08-13 09:59:48.512 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 09:59:48.513 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 09:59:48.514 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 09:59:48.515 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:59:48.516 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:59:48.516 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:59:48.517 +05:30 [DBG] Successfully validated the token.
2025-08-13 09:59:48.518 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 09:59:48.519 +05:30 [DBG] Authorization was successful.
2025-08-13 09:59:48.519 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:59:48.520 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 09:59:48.521 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 09:59:48.522 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 09:59:48.524 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:59:48.525 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 09:59:48.526 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:59:48.528 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 09:59:48.530 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 09:59:48.531 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 09:59:48.532 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 09:59:48.533 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 09:59:48.534 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 09:59:48.535 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 09:59:48.536 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 09:59:48.537 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 09:59:48.540 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:59:48.541 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:59:48.541 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 09:59:48.542 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:59:48.544 +05:30 [DBG] Creating DbConnection.
2025-08-13 09:59:48.545 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 09:59:48.545 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:59:48.547 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:59:48.547 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:59:48.548 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 09:59:48.548 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:59:48.549 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 09:59:48.557 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 09:59:48.559 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:59:48.559 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 09:59:48.560 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:59:48.561 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 09:59:48.562 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .OrderBy(t => t.Title)
    .Skip(__p_1)
    .Take(__p_1)'
2025-08-13 09:59:48.563 +05:30 [DBG] Including navigation: 'TripModel.BudgetDetails'.
2025-08-13 09:59:48.564 +05:30 [DBG] Including navigation: 'TripModel.Reviews'.
2025-08-13 09:59:48.572 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
            1 -> Dictionary<IProperty, int> { [Property: BudgetDetailsModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: BudgetDetailsModel.Food (decimal) Required, 16], [Property: BudgetDetailsModel.Hotel (decimal) Required, 17], [Property: BudgetDetailsModel.TripId (int) Required FK Index, 18] }
            2 -> 0
            3 -> 15
            4 -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: ReviewModel.Rating (int) Required, 20], [Property: ReviewModel.ReviewText (string) Required, 21], [Property: ReviewModel.TripId (int) Required FK Index, 22], [Property: ReviewModel.UserId (int) Required FK Index, 23] }
            5 -> 19
        SELECT t1.Id, t1.BestTime, t1.Budget, t1.Description, t1.Destination, t1.Duration, t1.EndDate, t1.EssentialsJson, t1.Image, t1.Notes, t1.StartDate, t1.Title, t1.TouristSpotsJson, t1.TravelMode, t1.UserId, b.Id, b.Food, b.Hotel, b.TripId, r.Id, r.Rating, r.review, r.TripId, r.UserId
        FROM 
        (
            SELECT t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))
            ORDER BY t.Title ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t1
        LEFT JOIN budgetdetails AS b ON t1.Id == b.TripId
        LEFT JOIN reviews AS r ON t1.Id == r.TripId
        ORDER BY t1.Title ASC, t1.Id ASC, b.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-13 09:59:48.575 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:59:48.576 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:59:48.576 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:59:48.577 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 09:59:48.578 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:59:48.579 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 09:59:48.588 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 09:59:48.591 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:48.592 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:48.593 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:48.594 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:48.595 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:48.596 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:48.597 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:48.597 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:59:48.598 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-08-13 09:59:48.599 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:59:48.600 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 09:59:48.602 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 09:59:48.604 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 09:59:48.605 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 09:59:48.606 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 09:59:48.606 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 09:59:48.608 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 09:59:48.610 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 82.3645ms
2025-08-13 09:59:48.611 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:59:48.612 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=2&PageSize=6  Responded with [200] in 96ms
2025-08-13 09:59:48.613 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 09:59:48.614 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 09:59:48.615 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:59:48.616 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 09:59:48.618 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=2&PageSize=6 - 200 1390 application/json 134.917ms
2025-08-13 09:59:50.800 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 09:59:50.803 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 09:59:50.804 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 09:59:50.806 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:59:50.807 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:59:50.807 +05:30 [DBG] The request is a preflight request.
2025-08-13 09:59:50.809 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 2ms
2025-08-13 09:59:50.809 +05:30 [DBG] Connection id "0HNEQ44RSCUMR" completed keep alive response.
2025-08-13 09:59:50.810 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 10.0371ms
2025-08-13 09:59:50.811 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 09:59:50.820 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 09:59:50.821 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 09:59:50.822 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 09:59:50.823 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:59:50.824 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 09:59:50.825 +05:30 [INF] CORS policy execution successful.
2025-08-13 09:59:50.826 +05:30 [DBG] Successfully validated the token.
2025-08-13 09:59:50.826 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 09:59:50.827 +05:30 [DBG] Authorization was successful.
2025-08-13 09:59:50.828 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:59:50.829 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 09:59:50.831 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 09:59:50.832 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 09:59:50.834 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:59:50.835 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 09:59:50.836 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 09:59:50.837 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 09:59:50.839 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 09:59:50.840 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 09:59:50.841 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 09:59:50.842 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 09:59:50.843 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 09:59:50.844 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 09:59:50.845 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 09:59:50.847 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 09:59:50.848 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:59:50.848 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:59:50.849 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 09:59:50.850 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 09:59:50.851 +05:30 [DBG] Creating DbConnection.
2025-08-13 09:59:50.852 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 09:59:50.853 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:59:50.854 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:59:50.855 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:59:50.855 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 09:59:50.856 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:59:50.857 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 09:59:50.859 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 09:59:50.862 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:59:50.863 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 09:59:50.864 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:59:50.865 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 09:59:50.866 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:59:50.867 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:59:50.868 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 09:59:50.868 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 09:59:50.869 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 09:59:50.870 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 09:59:50.879 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 09:59:50.881 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:50.882 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:50.883 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:50.884 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:50.885 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:50.886 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:50.887 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:50.888 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:50.889 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:50.890 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:50.891 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:50.891 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:50.892 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:50.894 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:50.894 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:50.895 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:50.896 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:50.897 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:50.898 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:50.899 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 09:59:50.900 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:59:50.901 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 19ms reading results.
2025-08-13 09:59:50.902 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:59:50.903 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 09:59:50.904 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 09:59:50.905 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 09:59:50.905 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 09:59:50.906 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 09:59:50.907 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 09:59:50.908 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 09:59:50.909 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 71.1521ms
2025-08-13 09:59:50.910 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 09:59:50.911 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 86ms
2025-08-13 09:59:50.912 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 09:59:50.913 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 09:59:50.914 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 09:59:50.915 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-13 09:59:50.916 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 104.8966ms
2025-08-13 10:03:22.205 +05:30 [DBG] Connection id "0HNEQ44RSCUMN" received FIN.
2025-08-13 10:03:22.209 +05:30 [DBG] Connection id "0HNEQ44RSCUMQ" received FIN.
2025-08-13 10:03:22.210 +05:30 [DBG] Connection id "0HNEQ44RSCUMP" received FIN.
2025-08-13 10:03:22.214 +05:30 [DBG] Connection id "0HNEQ44RSCUMN" disconnecting.
2025-08-13 10:03:22.219 +05:30 [DBG] Connection id "0HNEQ44RSCUMQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 10:03:22.220 +05:30 [DBG] Connection id "0HNEQ44RSCUMN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 10:03:22.226 +05:30 [DBG] Connection id "0HNEQ44RSCUMQ" disconnecting.
2025-08-13 10:03:22.223 +05:30 [DBG] Connection id "0HNEQ44RSCUMP" disconnecting.
2025-08-13 10:03:22.233 +05:30 [DBG] Connection id "0HNEQ44RSCUMQ" stopped.
2025-08-13 10:03:22.236 +05:30 [DBG] Connection id "0HNEQ44RSCUMP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 10:03:22.237 +05:30 [DBG] Connection id "0HNEQ44RSCUMN" stopped.
2025-08-13 10:03:22.248 +05:30 [DBG] Connection id "0HNEQ44RSCUMP" stopped.
2025-08-13 10:03:27.769 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 10:03:27.773 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 10:03:27.775 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 10:03:27.776 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 10:03:27.777 +05:30 [INF] CORS policy execution successful.
2025-08-13 10:03:27.778 +05:30 [DBG] The request is a preflight request.
2025-08-13 10:03:27.780 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 3ms
2025-08-13 10:03:27.781 +05:30 [DBG] Connection id "0HNEQ44RSCUMR" completed keep alive response.
2025-08-13 10:03:27.782 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 10:03:27.782 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 12.9872ms
2025-08-13 10:03:27.786 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 10:03:27.794 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 10:03:27.797 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 10:03:27.800 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 10:03:27.802 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 10:03:27.806 +05:30 [INF] CORS policy execution successful.
2025-08-13 10:03:27.808 +05:30 [DBG] Successfully validated the token.
2025-08-13 10:03:27.811 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 10:03:27.813 +05:30 [DBG] Authorization was successful.
2025-08-13 10:03:27.815 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 10:03:27.820 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 10:03:27.825 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 10:03:27.826 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 10:03:27.828 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 10:03:27.833 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 10:03:27.836 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 10:03:27.838 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 10:03:27.840 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 10:03:27.843 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 10:03:27.844 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 10:03:27.846 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 10:03:27.847 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 10:03:27.849 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 10:03:27.850 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 10:03:27.852 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 10:03:27.854 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 10:03:27.855 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 10:03:27.856 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 10:03:27.857 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 10:03:27.861 +05:30 [DBG] Creating DbConnection.
2025-08-13 10:03:27.861 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 10:03:27.862 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:27.881 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:27.887 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:03:27.888 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 10:03:27.890 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 10:03:27.892 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 10:03:27.901 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 10:03:27.904 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:27.906 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 10:03:27.907 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:27.908 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 10:03:27.910 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:27.911 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:27.912 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:03:27.913 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 10:03:27.915 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 10:03:27.916 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 10:03:27.930 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 10:03:27.935 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:27.936 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:27.938 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:27.939 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:27.940 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:27.942 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:27.945 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:27.946 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:27.948 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:27.949 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:27.951 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:27.952 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:27.953 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:27.954 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:27.955 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:27.957 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:27.958 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:27.961 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:27.963 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:27.964 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:27.965 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:27.966 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 31ms reading results.
2025-08-13 10:03:27.968 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:27.969 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 10:03:27.970 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 10:03:27.972 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 10:03:27.973 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 10:03:27.974 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 10:03:27.974 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 10:03:27.977 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 10:03:27.979 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 141.1201ms
2025-08-13 10:03:27.980 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 10:03:27.981 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 179ms
2025-08-13 10:03:27.982 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 10:03:27.983 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 10:03:27.984 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:27.986 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 10:03:27.987 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 204.8945ms
2025-08-13 10:03:29.670 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/9 - null null
2025-08-13 10:03:29.672 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/9'
2025-08-13 10:03:29.675 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 10:03:29.676 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 10:03:29.677 +05:30 [INF] CORS policy execution successful.
2025-08-13 10:03:29.678 +05:30 [DBG] The request is a preflight request.
2025-08-13 10:03:29.679 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/9   Responded with [204] in 2ms
2025-08-13 10:03:29.680 +05:30 [DBG] Connection id "0HNEQ44RSCUMR" completed keep alive response.
2025-08-13 10:03:29.680 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/9 - 204 null null 10.1407ms
2025-08-13 10:03:29.681 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/9 - null null
2025-08-13 10:03:29.683 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/9'
2025-08-13 10:03:29.684 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/9'
2025-08-13 10:03:29.686 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 10:03:29.687 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 10:03:29.687 +05:30 [INF] CORS policy execution successful.
2025-08-13 10:03:29.688 +05:30 [DBG] Successfully validated the token.
2025-08-13 10:03:29.688 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 10:03:29.689 +05:30 [DBG] Authorization was successful.
2025-08-13 10:03:29.689 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 10:03:29.690 +05:30 [INF] Route matched with {action = "GetTrip", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TravelPlannerAPI.Dtos.TripDto]] GetTrip(Int32) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 10:03:29.691 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 10:03:29.692 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 10:03:29.693 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 10:03:29.694 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 10:03:29.695 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 10:03:29.696 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 10:03:29.698 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 10:03:29.699 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 10:03:29.701 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-13 10:03:29.702 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-13 10:03:29.703 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-13 10:03:29.704 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-13 10:03:29.705 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-13 10:03:29.706 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-13 10:03:29.708 +05:30 [DBG] Creating DbConnection.
2025-08-13 10:03:29.709 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 10:03:29.710 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:29.712 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:29.713 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:03:29.713 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 10:03:29.714 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 10:03:29.715 +05:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-13 10:03:29.720 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-13 10:03:29.722 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:29.723 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:29.724 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:29.725 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:29.725 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:29.726 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-13 10:03:29.728 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:29.729 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 10:03:29.731 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 10:03:29.733 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 10:03:29.734 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 10:03:29.734 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 10:03:29.735 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 10:03:29.736 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Dtos.TripDto'.
2025-08-13 10:03:29.736 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI) in 39.9957ms
2025-08-13 10:03:29.737 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 10:03:29.738 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/9   Responded with [200] in 51ms
2025-08-13 10:03:29.739 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 10:03:29.740 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 10:03:29.740 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:29.741 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-13 10:03:29.742 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/9 - 200 812 application/json 61.3723ms
2025-08-13 10:03:35.058 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 10:03:35.060 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 10:03:35.061 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 10:03:35.062 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 10:03:35.063 +05:30 [INF] CORS policy execution successful.
2025-08-13 10:03:35.064 +05:30 [DBG] The request is a preflight request.
2025-08-13 10:03:35.065 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 3ms
2025-08-13 10:03:35.066 +05:30 [DBG] Connection id "0HNEQ44RSCUMR" completed keep alive response.
2025-08-13 10:03:35.067 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 9.0246ms
2025-08-13 10:03:35.067 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 10:03:35.074 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 10:03:35.074 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 10:03:35.076 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 10:03:35.078 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 10:03:35.079 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 10:03:35.080 +05:30 [INF] CORS policy execution successful.
2025-08-13 10:03:35.081 +05:30 [DBG] Successfully validated the token.
2025-08-13 10:03:35.082 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 10:03:35.083 +05:30 [DBG] Authorization was successful.
2025-08-13 10:03:35.084 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 10:03:35.085 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 10:03:35.086 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 10:03:35.087 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 10:03:35.088 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 10:03:35.089 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 10:03:35.090 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 10:03:35.091 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 10:03:35.093 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 10:03:35.094 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 10:03:35.095 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 10:03:35.096 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 10:03:35.097 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 10:03:35.100 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 10:03:35.101 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 10:03:35.103 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 10:03:35.104 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 10:03:35.104 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 10:03:35.105 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 10:03:35.106 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 10:03:35.108 +05:30 [DBG] Creating DbConnection.
2025-08-13 10:03:35.108 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 10:03:35.109 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:35.110 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:35.110 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:03:35.111 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 10:03:35.112 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 10:03:35.113 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 10:03:35.117 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 10:03:35.120 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:35.121 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 10:03:35.122 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:35.123 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 10:03:35.125 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:35.126 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:35.126 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:03:35.127 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 10:03:35.128 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 10:03:35.129 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 10:03:35.135 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 10:03:35.139 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:35.141 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:35.143 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:35.144 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:35.146 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:35.147 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:35.149 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:35.150 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:35.151 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:35.152 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:35.153 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:35.154 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:35.155 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:35.156 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:35.157 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:35.158 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:35.159 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:35.161 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:35.162 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:35.163 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:35.164 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:35.166 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 27ms reading results.
2025-08-13 10:03:35.167 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:35.168 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 10:03:35.169 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 10:03:35.171 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 10:03:35.172 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 10:03:35.173 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 10:03:35.173 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 10:03:35.175 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 10:03:35.176 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 84.5255ms
2025-08-13 10:03:35.177 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 10:03:35.178 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 99ms
2025-08-13 10:03:35.179 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 10:03:35.180 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 10:03:35.182 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:35.184 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 10:03:35.185 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 117.8469ms
2025-08-13 10:03:36.768 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/11 - null null
2025-08-13 10:03:36.770 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/11'
2025-08-13 10:03:36.772 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 10:03:36.773 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 10:03:36.774 +05:30 [INF] CORS policy execution successful.
2025-08-13 10:03:36.774 +05:30 [DBG] The request is a preflight request.
2025-08-13 10:03:36.775 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/11   Responded with [204] in 2ms
2025-08-13 10:03:36.776 +05:30 [DBG] Connection id "0HNEQ44RSCUMR" completed keep alive response.
2025-08-13 10:03:36.777 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/11 - 204 null null 8.2038ms
2025-08-13 10:03:36.777 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/11 - null null
2025-08-13 10:03:36.780 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/11'
2025-08-13 10:03:36.781 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/11'
2025-08-13 10:03:36.784 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 10:03:36.785 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 10:03:36.786 +05:30 [INF] CORS policy execution successful.
2025-08-13 10:03:36.787 +05:30 [DBG] Successfully validated the token.
2025-08-13 10:03:36.787 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 10:03:36.789 +05:30 [DBG] Authorization was successful.
2025-08-13 10:03:36.789 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 10:03:36.790 +05:30 [INF] Route matched with {action = "GetTrip", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TravelPlannerAPI.Dtos.TripDto]] GetTrip(Int32) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 10:03:36.792 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 10:03:36.793 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 10:03:36.794 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 10:03:36.795 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 10:03:36.796 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 10:03:36.799 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 10:03:36.801 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 10:03:36.802 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 10:03:36.803 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-13 10:03:36.803 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-13 10:03:36.804 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-13 10:03:36.805 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-13 10:03:36.806 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-13 10:03:36.806 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-13 10:03:36.808 +05:30 [DBG] Creating DbConnection.
2025-08-13 10:03:36.808 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 10:03:36.809 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:36.809 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:36.810 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:03:36.811 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 10:03:36.811 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 10:03:36.812 +05:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-13 10:03:36.816 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-13 10:03:36.819 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:36.819 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:36.820 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:36.821 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:36.822 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-13 10:03:36.823 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:36.823 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 10:03:36.824 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 10:03:36.825 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 10:03:36.826 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 10:03:36.826 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 10:03:36.827 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 10:03:36.827 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Dtos.TripDto'.
2025-08-13 10:03:36.828 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI) in 29.4731ms
2025-08-13 10:03:36.829 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 10:03:36.829 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/11   Responded with [200] in 44ms
2025-08-13 10:03:36.830 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 10:03:36.833 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 10:03:36.834 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:36.835 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 10:03:36.836 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/11 - 200 785 application/json 59.1379ms
2025-08-13 10:03:38.313 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 10:03:38.315 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 10:03:38.316 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 10:03:38.318 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 10:03:38.319 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 10:03:38.320 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 10:03:38.321 +05:30 [INF] CORS policy execution successful.
2025-08-13 10:03:38.323 +05:30 [DBG] Successfully validated the token.
2025-08-13 10:03:38.324 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 10:03:38.325 +05:30 [DBG] Authorization was successful.
2025-08-13 10:03:38.325 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 10:03:38.326 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 10:03:38.328 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 10:03:38.329 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 10:03:38.329 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 10:03:38.331 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 10:03:38.332 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 10:03:38.333 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 10:03:38.334 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 10:03:38.337 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 10:03:38.338 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 10:03:38.338 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 10:03:38.339 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 10:03:38.341 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 10:03:38.342 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 10:03:38.343 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 10:03:38.344 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 10:03:38.344 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 10:03:38.345 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 10:03:38.346 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 10:03:38.347 +05:30 [DBG] Creating DbConnection.
2025-08-13 10:03:38.348 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 10:03:38.349 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:38.349 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:38.351 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:03:38.352 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 10:03:38.353 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 10:03:38.354 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 10:03:38.356 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 10:03:38.358 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:38.359 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 10:03:38.360 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:38.361 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 10:03:38.362 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:38.363 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:38.364 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:03:38.364 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 10:03:38.365 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 10:03:38.367 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 10:03:38.371 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 10:03:38.373 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:38.374 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:38.375 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:38.377 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:38.377 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:38.378 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:38.379 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:38.380 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:38.381 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:38.381 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:38.382 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:38.383 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:38.385 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:38.386 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:38.387 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:38.388 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:38.389 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:38.390 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:38.391 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:38.392 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:38.393 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:38.394 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 20ms reading results.
2025-08-13 10:03:38.395 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:38.396 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 10:03:38.397 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 10:03:38.398 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 10:03:38.399 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 10:03:38.399 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 10:03:38.400 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 10:03:38.402 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 10:03:38.403 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 70.1212ms
2025-08-13 10:03:38.404 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 10:03:38.405 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 84ms
2025-08-13 10:03:38.406 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 10:03:38.407 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 10:03:38.408 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:38.409 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 10:03:38.410 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 97.099ms
2025-08-13 10:03:39.355 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/9 - null null
2025-08-13 10:03:39.357 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/9'
2025-08-13 10:03:39.358 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 10:03:39.360 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 10:03:39.362 +05:30 [INF] CORS policy execution successful.
2025-08-13 10:03:39.363 +05:30 [DBG] The request is a preflight request.
2025-08-13 10:03:39.364 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/9   Responded with [204] in 3ms
2025-08-13 10:03:39.364 +05:30 [DBG] Connection id "0HNEQ44RSCUMR" completed keep alive response.
2025-08-13 10:03:39.365 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/9 - 204 null null 9.9088ms
2025-08-13 10:03:39.365 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/9 - null null
2025-08-13 10:03:39.369 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/9'
2025-08-13 10:03:39.370 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/9'
2025-08-13 10:03:39.370 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 10:03:39.371 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 10:03:39.371 +05:30 [INF] CORS policy execution successful.
2025-08-13 10:03:39.373 +05:30 [DBG] Successfully validated the token.
2025-08-13 10:03:39.374 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 10:03:39.375 +05:30 [DBG] Authorization was successful.
2025-08-13 10:03:39.375 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 10:03:39.376 +05:30 [INF] Route matched with {action = "GetTrip", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TravelPlannerAPI.Dtos.TripDto]] GetTrip(Int32) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 10:03:39.378 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 10:03:39.380 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 10:03:39.381 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 10:03:39.383 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 10:03:39.384 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 10:03:39.385 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 10:03:39.387 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 10:03:39.389 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 10:03:39.390 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-13 10:03:39.390 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-13 10:03:39.391 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-13 10:03:39.392 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-13 10:03:39.393 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-13 10:03:39.394 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-13 10:03:39.395 +05:30 [DBG] Creating DbConnection.
2025-08-13 10:03:39.396 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 10:03:39.396 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:39.397 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:39.398 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:03:39.398 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 10:03:39.399 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 10:03:39.399 +05:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-13 10:03:39.403 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-13 10:03:39.406 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:39.407 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:39.407 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:39.408 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:39.409 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:39.410 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-13 10:03:39.411 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:39.411 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 10:03:39.412 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 10:03:39.414 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 10:03:39.414 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 10:03:39.415 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 10:03:39.415 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 10:03:39.416 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Dtos.TripDto'.
2025-08-13 10:03:39.417 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI) in 31.2854ms
2025-08-13 10:03:39.420 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 10:03:39.421 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/9   Responded with [200] in 50ms
2025-08-13 10:03:39.422 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 10:03:39.423 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 10:03:39.424 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:39.425 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 10:03:39.426 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/9 - 200 812 application/json 60.5761ms
2025-08-13 10:03:42.181 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 10:03:42.182 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 10:03:42.183 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 10:03:42.184 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 10:03:42.184 +05:30 [INF] CORS policy execution successful.
2025-08-13 10:03:42.185 +05:30 [DBG] The request is a preflight request.
2025-08-13 10:03:42.186 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 1ms
2025-08-13 10:03:42.187 +05:30 [DBG] Connection id "0HNEQ44RSCUMR" completed keep alive response.
2025-08-13 10:03:42.188 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 10:03:42.188 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 7.5095ms
2025-08-13 10:03:42.190 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 10:03:42.195 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 10:03:42.196 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 10:03:42.197 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 10:03:42.198 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 10:03:42.198 +05:30 [INF] CORS policy execution successful.
2025-08-13 10:03:42.199 +05:30 [DBG] Successfully validated the token.
2025-08-13 10:03:42.200 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 10:03:42.200 +05:30 [DBG] Authorization was successful.
2025-08-13 10:03:42.201 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 10:03:42.201 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 10:03:42.203 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 10:03:42.204 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 10:03:42.204 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 10:03:42.208 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 10:03:42.208 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 10:03:42.210 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 10:03:42.211 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 10:03:42.212 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 10:03:42.213 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 10:03:42.213 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 10:03:42.214 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 10:03:42.216 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 10:03:42.217 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 10:03:42.218 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 10:03:42.218 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 10:03:42.219 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 10:03:42.220 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 10:03:42.222 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 10:03:42.223 +05:30 [DBG] Creating DbConnection.
2025-08-13 10:03:42.224 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 10:03:42.225 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:42.225 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:42.226 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:03:42.227 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 10:03:42.227 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 10:03:42.228 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 10:03:42.231 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 10:03:42.233 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:42.234 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 10:03:42.235 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:42.237 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 10:03:42.239 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:42.240 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:42.241 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:03:42.241 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 10:03:42.242 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 10:03:42.243 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 10:03:42.246 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 10:03:42.248 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:42.249 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:42.250 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:42.251 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:42.252 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:42.254 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:42.255 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:42.256 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:42.257 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:42.258 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:42.259 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:42.259 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:42.260 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:42.261 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:42.262 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:42.263 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:42.263 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:42.264 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:42.265 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:42.266 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:42.267 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:42.268 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 19ms reading results.
2025-08-13 10:03:42.268 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:42.270 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 10:03:42.271 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 10:03:42.273 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 10:03:42.273 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 10:03:42.274 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 10:03:42.274 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 10:03:42.275 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 10:03:42.276 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 66.6008ms
2025-08-13 10:03:42.277 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 10:03:42.278 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 80ms
2025-08-13 10:03:42.279 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 10:03:42.280 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 10:03:42.281 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:42.282 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-13 10:03:42.283 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 95.1085ms
2025-08-13 10:03:44.123 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/9 - null null
2025-08-13 10:03:44.126 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/9'
2025-08-13 10:03:44.127 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/9'
2025-08-13 10:03:44.128 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 10:03:44.129 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 10:03:44.129 +05:30 [INF] CORS policy execution successful.
2025-08-13 10:03:44.130 +05:30 [DBG] Successfully validated the token.
2025-08-13 10:03:44.130 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 10:03:44.131 +05:30 [DBG] Authorization was successful.
2025-08-13 10:03:44.131 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 10:03:44.132 +05:30 [INF] Route matched with {action = "GetTrip", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TravelPlannerAPI.Dtos.TripDto]] GetTrip(Int32) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 10:03:44.133 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 10:03:44.134 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 10:03:44.135 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 10:03:44.137 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 10:03:44.138 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 10:03:44.139 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 10:03:44.141 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 10:03:44.142 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 10:03:44.143 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-13 10:03:44.144 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-13 10:03:44.144 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-13 10:03:44.145 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-13 10:03:44.146 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-13 10:03:44.146 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-13 10:03:44.147 +05:30 [DBG] Creating DbConnection.
2025-08-13 10:03:44.148 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 10:03:44.148 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:44.149 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:44.150 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:03:44.150 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 10:03:44.151 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 10:03:44.152 +05:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-13 10:03:44.156 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-13 10:03:44.158 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:44.159 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:44.160 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:44.161 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:44.162 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:44.162 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-13 10:03:44.163 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:44.164 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 10:03:44.165 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 10:03:44.166 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 10:03:44.166 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 10:03:44.167 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 10:03:44.167 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 10:03:44.168 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Dtos.TripDto'.
2025-08-13 10:03:44.169 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI) in 29.5728ms
2025-08-13 10:03:44.170 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 10:03:44.171 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/9   Responded with [200] in 42ms
2025-08-13 10:03:44.172 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 10:03:44.172 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 10:03:44.173 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:44.174 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-13 10:03:44.175 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/9 - 200 812 application/json 51.928ms
2025-08-13 10:03:47.532 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 10:03:47.534 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 10:03:47.535 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 10:03:47.536 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 10:03:47.536 +05:30 [INF] CORS policy execution successful.
2025-08-13 10:03:47.537 +05:30 [DBG] The request is a preflight request.
2025-08-13 10:03:47.538 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 2ms
2025-08-13 10:03:47.538 +05:30 [DBG] Connection id "0HNEQ44RSCUMR" completed keep alive response.
2025-08-13 10:03:47.539 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 7.9607ms
2025-08-13 10:03:47.540 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 10:03:47.544 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 10:03:47.547 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 10:03:47.548 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 10:03:47.550 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 10:03:47.550 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 10:03:47.551 +05:30 [INF] CORS policy execution successful.
2025-08-13 10:03:47.552 +05:30 [DBG] Successfully validated the token.
2025-08-13 10:03:47.553 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 10:03:47.554 +05:30 [DBG] Authorization was successful.
2025-08-13 10:03:47.554 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 10:03:47.555 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 10:03:47.556 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 10:03:47.557 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 10:03:47.559 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 10:03:47.561 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 10:03:47.562 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 10:03:47.563 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 10:03:47.564 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 10:03:47.566 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 10:03:47.567 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 10:03:47.568 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 10:03:47.569 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 10:03:47.570 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 10:03:47.571 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 10:03:47.574 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 10:03:47.576 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 10:03:47.577 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 10:03:47.577 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 10:03:47.579 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 10:03:47.580 +05:30 [DBG] Creating DbConnection.
2025-08-13 10:03:47.581 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 10:03:47.582 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:47.583 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:47.584 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:03:47.584 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 10:03:47.585 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 10:03:47.586 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 10:03:47.589 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 10:03:47.593 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:47.593 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 10:03:47.595 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:47.595 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 10:03:47.597 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:47.598 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:47.599 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:03:47.599 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 10:03:47.600 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 10:03:47.601 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 10:03:47.604 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 10:03:47.606 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:47.608 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:47.609 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:47.610 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:47.611 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:47.612 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:47.613 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:47.614 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:47.615 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:47.616 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:47.617 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:47.618 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:47.619 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:47.620 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:47.621 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:47.622 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:47.623 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:47.624 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:47.626 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:47.627 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:47.628 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:47.630 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 23ms reading results.
2025-08-13 10:03:47.631 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:47.633 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 10:03:47.634 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 10:03:47.636 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 10:03:47.637 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 10:03:47.637 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 10:03:47.638 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 10:03:47.639 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 10:03:47.640 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 76.8625ms
2025-08-13 10:03:47.642 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 10:03:47.645 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 94ms
2025-08-13 10:03:47.646 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 10:03:47.647 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 10:03:47.648 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:47.649 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 10:03:47.651 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 110.7809ms
2025-08-13 10:03:52.221 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 10:03:52.223 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 10:03:52.224 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 10:03:52.225 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 10:03:52.227 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 10:03:52.228 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 10:03:52.229 +05:30 [INF] CORS policy execution successful.
2025-08-13 10:03:52.230 +05:30 [DBG] Successfully validated the token.
2025-08-13 10:03:52.232 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 10:03:52.233 +05:30 [DBG] Authorization was successful.
2025-08-13 10:03:52.234 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 10:03:52.235 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 10:03:52.237 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 10:03:52.238 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 10:03:52.239 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 10:03:52.241 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 10:03:52.242 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 10:03:52.244 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 10:03:52.247 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 10:03:52.248 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 10:03:52.249 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 10:03:52.250 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 10:03:52.251 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 10:03:52.252 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 10:03:52.253 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 10:03:52.254 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 10:03:52.255 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 10:03:52.255 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 10:03:52.256 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 10:03:52.257 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 10:03:52.259 +05:30 [DBG] Creating DbConnection.
2025-08-13 10:03:52.259 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 10:03:52.260 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:52.262 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:52.263 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:03:52.264 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 10:03:52.264 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 10:03:52.265 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 10:03:52.268 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 10:03:52.270 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:52.271 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 10:03:52.272 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:52.272 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 10:03:52.274 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:52.275 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:52.276 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:03:52.276 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 10:03:52.278 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 10:03:52.279 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 10:03:52.282 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 10:03:52.284 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:52.285 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:52.286 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:52.287 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:52.288 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:52.289 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:52.290 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:52.291 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:52.291 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:52.293 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:52.294 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:52.295 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:52.296 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:52.297 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:52.298 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:52.299 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:52.300 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:52.301 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:52.301 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:52.302 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:52.303 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:52.304 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 19ms reading results.
2025-08-13 10:03:52.305 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:52.305 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 10:03:52.306 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 10:03:52.308 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 10:03:52.309 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 10:03:52.309 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 10:03:52.310 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 10:03:52.311 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 10:03:52.312 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 68.6361ms
2025-08-13 10:03:52.313 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 10:03:52.314 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 86ms
2025-08-13 10:03:52.315 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 10:03:52.316 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 10:03:52.317 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:52.318 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-13 10:03:52.319 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 98.4232ms
2025-08-13 10:03:53.740 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 10:03:53.743 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 10:03:53.744 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 10:03:53.744 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 10:03:53.746 +05:30 [INF] CORS policy execution successful.
2025-08-13 10:03:53.746 +05:30 [DBG] The request is a preflight request.
2025-08-13 10:03:53.748 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 3ms
2025-08-13 10:03:53.751 +05:30 [DBG] Connection id "0HNEQ44RSCUMR" completed keep alive response.
2025-08-13 10:03:53.752 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 11.4916ms
2025-08-13 10:03:53.752 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 10:03:53.759 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 10:03:53.760 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 10:03:53.761 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 10:03:53.764 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 10:03:53.765 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 10:03:53.766 +05:30 [INF] CORS policy execution successful.
2025-08-13 10:03:53.767 +05:30 [DBG] Successfully validated the token.
2025-08-13 10:03:53.768 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 10:03:53.769 +05:30 [DBG] Authorization was successful.
2025-08-13 10:03:53.769 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 10:03:53.770 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 10:03:53.772 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 10:03:53.773 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 10:03:53.774 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 10:03:53.778 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 10:03:53.780 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 10:03:53.781 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 10:03:53.784 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 10:03:53.785 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 10:03:53.786 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 10:03:53.787 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 10:03:53.788 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 10:03:53.790 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 10:03:53.793 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 10:03:53.794 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 10:03:53.795 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 10:03:53.796 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 10:03:53.797 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 10:03:53.798 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 10:03:53.800 +05:30 [DBG] Creating DbConnection.
2025-08-13 10:03:53.800 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 10:03:53.801 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:53.802 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:53.803 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:03:53.804 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 10:03:53.805 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 10:03:53.806 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 10:03:53.811 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 10:03:53.814 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:53.815 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 10:03:53.816 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:53.817 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 10:03:53.819 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:53.820 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:53.821 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:03:53.824 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-13 10:03:53.825 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 10:03:53.826 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 10:03:53.833 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 10:03:53.837 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:53.840 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:53.841 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:53.842 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:53.843 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:53.845 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:53.846 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:53.848 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:53.849 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:53.850 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:53.851 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:53.853 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:53.855 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:53.856 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:53.857 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:53.858 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:53.859 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:53.860 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:53.861 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:53.863 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:03:53.864 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:53.865 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 27ms reading results.
2025-08-13 10:03:53.866 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:53.867 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 10:03:53.868 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 10:03:53.869 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 10:03:53.870 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 10:03:53.870 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 10:03:53.871 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 10:03:53.871 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 10:03:53.873 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 91.2481ms
2025-08-13 10:03:53.873 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 10:03:53.875 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 110ms
2025-08-13 10:03:53.876 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 10:03:53.878 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 10:03:53.879 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:03:53.880 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-13 10:03:53.881 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 129.5299ms
2025-08-13 10:06:24.858 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 10:06:24.866 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 10:06:24.868 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 10:06:24.869 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 10:06:24.870 +05:30 [INF] CORS policy execution successful.
2025-08-13 10:06:24.873 +05:30 [DBG] The request is a preflight request.
2025-08-13 10:06:24.874 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 4ms
2025-08-13 10:06:24.874 +05:30 [DBG] Connection id "0HNEQ44RSCUMR" completed keep alive response.
2025-08-13 10:06:24.875 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 17.1162ms
2025-08-13 10:06:24.876 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 10:06:24.886 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 10:06:24.888 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 10:06:24.890 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 10:06:24.892 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 10:06:24.893 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 10:06:24.894 +05:30 [INF] CORS policy execution successful.
2025-08-13 10:06:24.895 +05:30 [DBG] Successfully validated the token.
2025-08-13 10:06:24.896 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 10:06:24.897 +05:30 [DBG] Authorization was successful.
2025-08-13 10:06:24.898 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 10:06:24.899 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 10:06:24.903 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 10:06:24.905 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 10:06:24.907 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 10:06:24.910 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 10:06:24.913 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 10:06:24.916 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 10:06:24.924 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 10:06:24.927 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 10:06:24.928 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 10:06:24.930 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 10:06:24.934 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 10:06:24.937 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 10:06:24.939 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 10:06:24.941 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 10:06:24.944 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 10:06:24.946 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 10:06:24.947 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 10:06:24.951 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 10:06:24.954 +05:30 [DBG] Creating DbConnection.
2025-08-13 10:06:24.956 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 10:06:24.957 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:06:24.959 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:06:24.960 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:06:24.962 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 10:06:24.964 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 10:06:24.968 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 10:06:24.981 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 10:06:24.987 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:06:24.989 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 10:06:24.991 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:06:24.993 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 10:06:24.996 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:06:25.000 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:06:25.003 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:06:25.004 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 10:06:25.006 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 10:06:25.007 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 10:06:25.025 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 10:06:25.032 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:06:25.034 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:06:25.038 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:06:25.040 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:06:25.042 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:06:25.044 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:06:25.045 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:06:25.047 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:06:25.048 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:06:25.050 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:06:25.054 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:06:25.055 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:06:25.057 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:06:25.058 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:06:25.060 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:06:25.061 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:06:25.062 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:06:25.064 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:06:25.066 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:06:25.070 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:06:25.073 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:06:25.074 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 41ms reading results.
2025-08-13 10:06:25.076 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:06:25.077 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 10:06:25.078 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 10:06:25.082 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 10:06:25.083 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 10:06:25.084 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 10:06:25.085 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 10:06:25.088 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 10:06:25.089 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 172.5842ms
2025-08-13 10:06:25.090 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 10:06:25.092 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 199ms
2025-08-13 10:06:25.095 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" completed keep alive response.
2025-08-13 10:06:25.096 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 10:06:25.097 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:06:25.098 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 10:06:25.100 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 223.92ms
2025-08-13 10:12:11.132 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" received FIN.
2025-08-13 10:12:11.133 +05:30 [DBG] Connection id "0HNEQ44RSCUMR" received FIN.
2025-08-13 10:12:11.137 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" disconnecting.
2025-08-13 10:12:11.138 +05:30 [DBG] Connection id "0HNEQ44RSCUMR" disconnecting.
2025-08-13 10:12:11.142 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 10:12:11.144 +05:30 [DBG] Connection id "0HNEQ44RSCUMR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 10:12:11.162 +05:30 [DBG] Connection id "0HNEQ44RSCUMO" stopped.
2025-08-13 10:12:11.162 +05:30 [DBG] Connection id "0HNEQ44RSCUMR" stopped.
2025-08-13 10:18:02.798 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-13 10:18:03.115 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 10:18:03.121 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 10:18:03.125 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 10:18:03.129 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 10:18:03.223 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:18:03.227 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:18:03.229 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:18:03.232 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:18:03.310 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 10:18:03.354 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 10:18:03.356 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 10:18:03.359 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 10:18:03.362 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 10:18:03.377 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:18:03.380 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:18:03.383 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:18:03.385 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:18:03.819 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 10:18:37.367 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-13 10:18:37.709 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 10:18:37.715 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 10:18:37.717 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 10:18:37.720 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 10:18:37.836 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:18:37.839 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:18:37.842 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:18:37.844 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:18:37.960 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 10:18:37.982 +05:30 [DBG] Creating DbConnection.
2025-08-13 10:18:38.023 +05:30 [DBG] Created DbConnection. (37ms).
2025-08-13 10:18:38.029 +05:30 [DBG] Migrating using database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:18:38.037 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:18:38.240 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:18:38.249 +05:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-13 10:18:38.257 +05:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (8ms).
2025-08-13 10:18:38.261 +05:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (15ms).
2025-08-13 10:18:38.269 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-13 10:18:38.296 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-13 10:18:38.301 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:18:38.311 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (6ms).
2025-08-13 10:18:38.317 +05:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-13 10:18:38.318 +05:30 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-08-13 10:18:38.320 +05:30 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-08-13 10:18:38.322 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:18:38.326 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:18:38.329 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-13 10:18:38.345 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-13 10:18:38.349 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:18:38.352 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 10:18:38.356 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:18:38.359 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:18:38.362 +05:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-13 10:18:38.364 +05:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-08-13 10:18:38.367 +05:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2025-08-13 10:18:38.369 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-13 10:18:38.374 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-13 10:18:38.379 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:18:38.382 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 10:18:38.385 +05:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-13 10:18:38.387 +05:30 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-08-13 10:18:38.390 +05:30 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2025-08-13 10:18:38.392 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:18:38.395 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:18:38.398 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-13 10:18:38.402 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-13 10:18:38.406 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:18:38.408 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 10:18:38.422 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:18:38.425 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:18:38.427 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:18:38.429 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-13 10:18:38.432 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-13 10:18:38.435 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-13 10:18:38.444 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-13 10:18:38.450 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:18:38.454 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-13 10:18:38.457 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:18:38.459 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 10:18:38.478 +05:30 [INF] Applying migration '20250807171448_UpdatedExpenseDatabase'.
2025-08-13 10:18:38.542 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:18:38.545 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:18:38.550 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-13 10:18:38.559 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-13 10:18:38.562 +05:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-13 10:18:38.564 +05:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-08-13 10:18:38.568 +05:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (6ms).
2025-08-13 10:18:38.570 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Expenses_UserId] ON [Expenses] ([UserId]);
2025-08-13 10:18:38.596 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Expenses_UserId] ON [Expenses] ([UserId]);
2025-08-13 10:18:38.601 +05:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-13 10:18:38.602 +05:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-08-13 10:18:38.605 +05:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2025-08-13 10:18:38.607 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Expenses] ADD CONSTRAINT [FK_Expenses_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2025-08-13 10:18:38.623 +05:30 [ERR] Failed executing DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Expenses] ADD CONSTRAINT [FK_Expenses_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2025-08-13 10:18:38.628 +05:30 [DBG] Disposing transaction.
2025-08-13 10:18:38.630 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:18:38.632 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 10:18:38.636 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 10:18:38.640 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:18:38.643 +05:30 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-13 10:22:44.889 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-13 10:22:45.200 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 10:22:45.205 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 10:22:45.208 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 10:22:45.211 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 10:22:45.313 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:22:45.316 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:22:45.317 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:22:45.319 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:22:45.392 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 10:22:45.406 +05:30 [DBG] Creating DbConnection.
2025-08-13 10:22:45.430 +05:30 [DBG] Created DbConnection. (21ms).
2025-08-13 10:22:45.434 +05:30 [DBG] Migrating using database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:22:45.439 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:22:45.584 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:22:45.593 +05:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-13 10:22:45.599 +05:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2025-08-13 10:22:45.602 +05:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2025-08-13 10:22:45.609 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-13 10:22:45.628 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-13 10:22:45.632 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:22:45.640 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (4ms).
2025-08-13 10:22:45.643 +05:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-13 10:22:45.644 +05:30 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-08-13 10:22:45.645 +05:30 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2025-08-13 10:22:45.646 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:22:45.649 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:22:45.651 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-13 10:22:45.662 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-13 10:22:45.665 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:22:45.668 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 10:22:45.670 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:22:45.672 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:22:45.674 +05:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-13 10:22:45.676 +05:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-08-13 10:22:45.677 +05:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2025-08-13 10:22:45.679 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-13 10:22:45.683 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-13 10:22:45.686 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:22:45.688 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 10:22:45.690 +05:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-13 10:22:45.692 +05:30 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-08-13 10:22:45.694 +05:30 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-08-13 10:22:45.695 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:22:45.697 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:22:45.699 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-13 10:22:45.703 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-13 10:22:45.705 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:22:45.707 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 10:22:45.720 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:22:45.722 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:22:45.724 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:22:45.725 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 10:22:45.727 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 10:22:45.729 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-13 10:22:45.735 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-13 10:22:45.740 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:22:45.743 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-13 10:22:45.745 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:22:45.748 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 10:22:45.759 +05:30 [INF] Applying migration '20250807171448_UpdatedExpenseDatabase'.
2025-08-13 10:22:45.789 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:22:45.791 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:22:45.795 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-13 10:22:45.800 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-13 10:22:45.802 +05:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-13 10:22:45.804 +05:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-08-13 10:22:45.806 +05:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2025-08-13 10:22:45.808 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Expenses_UserId] ON [Expenses] ([UserId]);
2025-08-13 10:22:45.815 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Expenses_UserId] ON [Expenses] ([UserId]);
2025-08-13 10:22:45.818 +05:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-13 10:22:45.820 +05:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-08-13 10:22:45.822 +05:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2025-08-13 10:22:45.823 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Expenses] ADD CONSTRAINT [FK_Expenses_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2025-08-13 10:22:45.830 +05:30 [ERR] Failed executing DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Expenses] ADD CONSTRAINT [FK_Expenses_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2025-08-13 10:22:45.834 +05:30 [DBG] Disposing transaction.
2025-08-13 10:22:45.836 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:22:45.838 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 10:22:45.841 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 10:22:45.845 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:22:45.848 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 10:36:27.598 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-13 10:36:27.992 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 10:36:27.998 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 10:36:28.001 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 10:36:28.004 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 10:36:28.128 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:36:28.132 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:36:28.135 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:36:28.138 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:36:28.247 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 10:36:28.311 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 10:36:28.319 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 10:36:28.323 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 10:36:28.328 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 10:36:28.351 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:36:28.354 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:36:28.356 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:36:28.359 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:36:28.838 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 10:36:44.301 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-13 10:36:44.553 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 10:36:44.558 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 10:36:44.560 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 10:36:44.562 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 10:36:44.638 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:36:44.641 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:36:44.643 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:36:44.644 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:36:44.708 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 10:36:44.723 +05:30 [DBG] Creating DbConnection.
2025-08-13 10:36:44.746 +05:30 [DBG] Created DbConnection. (21ms).
2025-08-13 10:36:44.749 +05:30 [DBG] Migrating using database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:36:44.755 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:36:44.895 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:36:44.902 +05:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-13 10:36:44.908 +05:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2025-08-13 10:36:44.911 +05:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2025-08-13 10:36:44.917 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-13 10:36:44.936 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-13 10:36:44.941 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:36:44.948 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (4ms).
2025-08-13 10:36:44.952 +05:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-13 10:36:44.953 +05:30 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-08-13 10:36:44.955 +05:30 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-08-13 10:36:44.956 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:36:44.959 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:36:44.961 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-13 10:36:44.972 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-13 10:36:44.975 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:36:44.977 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 10:36:44.980 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:36:44.982 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:36:44.984 +05:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-13 10:36:44.985 +05:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-08-13 10:36:44.987 +05:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2025-08-13 10:36:44.989 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-13 10:36:44.993 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-13 10:36:44.996 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:36:44.998 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 10:36:45.001 +05:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-13 10:36:45.003 +05:30 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-08-13 10:36:45.005 +05:30 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-08-13 10:36:45.007 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:36:45.009 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:36:45.011 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-13 10:36:45.015 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-13 10:36:45.019 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:36:45.022 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 10:36:45.034 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:36:45.037 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:36:45.039 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:36:45.041 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 10:36:45.044 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-13 10:36:45.047 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-13 10:36:45.053 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-13 10:36:45.059 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:36:45.062 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-13 10:36:45.065 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:36:45.068 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 10:36:45.080 +05:30 [INF] Applying migration '20250807171448_UpdatedExpenseDatabase'.
2025-08-13 10:36:45.119 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:36:45.122 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:36:45.126 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-13 10:36:45.132 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-13 10:36:45.135 +05:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-13 10:36:45.136 +05:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-08-13 10:36:45.139 +05:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2025-08-13 10:36:45.141 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Expenses_UserId] ON [Expenses] ([UserId]);
2025-08-13 10:36:45.149 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Expenses_UserId] ON [Expenses] ([UserId]);
2025-08-13 10:36:45.152 +05:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-13 10:36:45.153 +05:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-08-13 10:36:45.155 +05:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2025-08-13 10:36:45.157 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Expenses] ADD CONSTRAINT [FK_Expenses_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2025-08-13 10:36:45.164 +05:30 [ERR] Failed executing DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Expenses] ADD CONSTRAINT [FK_Expenses_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2025-08-13 10:36:45.167 +05:30 [DBG] Disposing transaction.
2025-08-13 10:36:45.169 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:36:45.171 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 10:36:45.174 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 10:36:45.178 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:36:45.180 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 10:45:20.466 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-13 10:45:20.608 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-13 10:45:20.677 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-13 10:45:21.063 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 10:45:21.066 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 10:45:21.067 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 10:45:21.068 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 10:45:21.175 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:45:21.177 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:45:21.179 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:45:21.180 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:45:21.276 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 10:45:21.339 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-13 10:45:21.492 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 10:45:21.526 +05:30 [DBG] Creating DbConnection.
2025-08-13 10:45:21.548 +05:30 [DBG] Created DbConnection. (19ms).
2025-08-13 10:45:21.555 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:45:21.897 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:45:21.902 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:45:21.911 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-08-13 10:45:21.920 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-08-13 10:45:21.928 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 10:45:21.991 +05:30 [INF] Executed DbCommand (63ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 10:45:22.032 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:45:22.049 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:45:22.058 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 58ms reading results.
2025-08-13 10:45:22.062 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:45:22.067 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (5ms).
2025-08-13 10:45:22.071 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-13 10:45:22.081 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.Role (string) Required, 19], [Property: UserModel.SecurityStamp (string), 20], [Property: UserModel.TwoFactorEnabled (bool) Required, 21], [Property: UserModel.UserName (string) MaxLength(256), 22] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 10:45:22.086 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:45:22.088 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:45:22.090 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:45:22.091 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 10:45:22.092 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 10:45:22.093 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 10:45:22.100 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 10:45:22.118 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:45:22.154 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:45:22.155 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 53ms reading results.
2025-08-13 10:45:22.157 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:45:22.158 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 10:45:22.163 +05:30 [INF] Admin user already exists.
2025-08-13 10:45:22.165 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 10:45:22.168 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:45:22.169 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 10:45:22.172 +05:30 [DBG] Hosting starting
2025-08-13 10:45:22.184 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-13 10:45:22.194 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-13 10:45:22.202 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-13 10:45:22.206 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 10:45:22.209 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-13 10:45:22.213 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 10:45:22.215 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-13 10:45:22.217 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-13 10:45:22.220 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-13 10:45:22.222 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-13 10:45:22.311 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-13 10:45:22.312 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-13 10:45:22.313 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-13 10:45:22.313 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-13 10:45:22.314 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-13 10:45:22.411 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-13 10:45:22.416 +05:30 [INF] Hosting environment: Development
2025-08-13 10:45:22.417 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-13 10:45:22.423 +05:30 [DBG] Hosting started
2025-08-13 10:45:22.436 +05:30 [DBG] Connection id "0HNEQ51JLVO1F" accepted.
2025-08-13 10:45:22.438 +05:30 [DBG] Connection id "0HNEQ51JLVO1F" started.
2025-08-13 10:45:22.439 +05:30 [DBG] Connection id "0HNEQ51JLVO1G" accepted.
2025-08-13 10:45:22.441 +05:30 [DBG] Connection id "0HNEQ51JLVO1G" received FIN.
2025-08-13 10:45:22.447 +05:30 [DBG] Connection id "0HNEQ51JLVO1G" started.
2025-08-13 10:45:22.450 +05:30 [DBG] Connection id "0HNEQ51JLVO1G" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 10:45:22.455 +05:30 [DBG] Connection id "0HNEQ51JLVO1G" disconnecting.
2025-08-13 10:45:22.458 +05:30 [DBG] Connection id "0HNEQ51JLVO1H" accepted.
2025-08-13 10:45:22.483 +05:30 [DBG] Connection id "0HNEQ51JLVO1H" started.
2025-08-13 10:45:22.485 +05:30 [DBG] Connection id "0HNEQ51JLVO1G" stopped.
2025-08-13 10:45:22.500 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_vs/browserLink - null null
2025-08-13 10:45:22.500 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - null null
2025-08-13 10:45:22.512 +05:30 [DBG] Connection id "0HNEQ51JLVO1I" accepted.
2025-08-13 10:45:22.513 +05:30 [DBG] Connection id "0HNEQ51JLVO1I" started.
2025-08-13 10:45:22.515 +05:30 [DBG] Connection id "0HNEQ51JLVO1F" completed keep alive response.
2025-08-13 10:45:22.523 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - 200 13768 application/javascript; charset=utf-8 26.1065ms
2025-08-13 10:45:22.587 +05:30 [DBG] Connection id "0HNEQ51JLVO1H" completed keep alive response.
2025-08-13 10:45:22.589 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_vs/browserLink - 200 null text/javascript; charset=UTF-8 99.0784ms
2025-08-13 10:45:22.629 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - null null
2025-08-13 10:45:22.637 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-13 10:45:22.657 +05:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-13 10:45:22.659 +05:30 [DBG] Request did not match any endpoints
2025-08-13 10:45:22.683 +05:30 [DBG] Connection id "0HNEQ51JLVO1H" completed keep alive response.
2025-08-13 10:45:22.685 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 56.0502ms
2025-08-13 10:46:57.257 +05:30 [DBG] Connection id "0HNEQ51JLVO1I" received FIN.
2025-08-13 10:46:57.259 +05:30 [DBG] Connection id "0HNEQ51JLVO1I" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 10:46:57.263 +05:30 [DBG] Connection id "0HNEQ51JLVO1I" disconnecting.
2025-08-13 10:46:57.264 +05:30 [DBG] Connection id "0HNEQ51JLVO1I" stopped.
2025-08-13 10:52:15.408 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-13 10:52:15.563 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-13 10:52:15.621 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-13 10:52:15.942 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 10:52:15.944 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 10:52:15.945 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 10:52:15.945 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 10:52:16.036 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:52:16.038 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:52:16.039 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:52:16.040 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 10:52:16.118 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 10:52:16.175 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-13 10:52:16.320 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 10:52:16.361 +05:30 [DBG] Creating DbConnection.
2025-08-13 10:52:16.382 +05:30 [DBG] Created DbConnection. (19ms).
2025-08-13 10:52:16.390 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:52:16.685 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:52:16.688 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:52:16.695 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-13 10:52:16.703 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-08-13 10:52:16.709 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 10:52:16.750 +05:30 [INF] Executed DbCommand (41ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 10:52:16.777 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:52:16.792 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:52:16.798 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 42ms reading results.
2025-08-13 10:52:16.802 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:52:16.807 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (5ms).
2025-08-13 10:52:16.811 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-13 10:52:16.818 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.Role (string) Required, 19], [Property: UserModel.SecurityStamp (string), 20], [Property: UserModel.TwoFactorEnabled (bool) Required, 21], [Property: UserModel.UserName (string) MaxLength(256), 22] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 10:52:16.824 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:52:16.826 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:52:16.827 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 10:52:16.828 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 10:52:16.829 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 10:52:16.830 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 10:52:16.848 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 10:52:16.881 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 10:52:16.933 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:52:16.935 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 78ms reading results.
2025-08-13 10:52:16.937 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:52:16.938 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 10:52:16.942 +05:30 [INF] Admin user already exists.
2025-08-13 10:52:16.944 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 10:52:16.947 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 10:52:16.949 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 10:52:16.952 +05:30 [DBG] Hosting starting
2025-08-13 10:52:16.967 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-13 10:52:16.982 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-13 10:52:16.996 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-13 10:52:17.001 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 10:52:17.003 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-13 10:52:17.006 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 10:52:17.008 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-13 10:52:17.010 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-13 10:52:17.013 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-13 10:52:17.014 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-13 10:52:17.169 +05:30 [DBG] Connection id "0HNEQ55F961IE" accepted.
2025-08-13 10:52:17.169 +05:30 [DBG] Connection id "0HNEQ55F961ID" accepted.
2025-08-13 10:52:17.170 +05:30 [DBG] Connection id "0HNEQ55F961IE" started.
2025-08-13 10:52:17.171 +05:30 [DBG] Connection id "0HNEQ55F961ID" started.
2025-08-13 10:52:17.172 +05:30 [DBG] Connection id "0HNEQ55F961IE" received FIN.
2025-08-13 10:52:17.172 +05:30 [DBG] Connection id "0HNEQ55F961ID" received FIN.
2025-08-13 10:52:17.178 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-13 10:52:17.182 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-13 10:52:17.186 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-13 10:52:17.188 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-13 10:52:17.185 +05:30 [DBG] Connection id "0HNEQ55F961IE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 10:52:17.185 +05:30 [DBG] Connection id "0HNEQ55F961ID" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 10:52:17.188 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-13 10:52:17.191 +05:30 [DBG] Connection id "0HNEQ55F961IE" disconnecting.
2025-08-13 10:52:17.191 +05:30 [DBG] Connection id "0HNEQ55F961ID" disconnecting.
2025-08-13 10:52:17.198 +05:30 [DBG] Connection id "0HNEQ55F961IE" stopped.
2025-08-13 10:52:17.198 +05:30 [DBG] Connection id "0HNEQ55F961ID" stopped.
2025-08-13 10:52:17.285 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-13 10:52:17.286 +05:30 [INF] Hosting environment: Development
2025-08-13 10:52:17.287 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-13 10:52:17.289 +05:30 [DBG] Hosting started
2025-08-13 11:44:49.212 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-13 11:44:49.375 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-13 11:44:49.484 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-13 11:44:49.965 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 11:44:49.968 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 11:44:49.970 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 11:44:49.972 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 11:44:50.184 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 11:44:50.186 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 11:44:50.190 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 11:44:50.193 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 11:44:50.366 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 11:44:50.482 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-13 11:44:50.660 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 11:44:50.696 +05:30 [DBG] Creating DbConnection.
2025-08-13 11:44:50.723 +05:30 [DBG] Created DbConnection. (25ms).
2025-08-13 11:44:50.730 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:44:51.089 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:44:51.094 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:44:51.100 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-13 11:44:51.110 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-08-13 11:44:51.119 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 11:44:51.177 +05:30 [INF] Executed DbCommand (59ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 11:44:51.219 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:44:51.238 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:44:51.247 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 62ms reading results.
2025-08-13 11:44:51.251 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:44:51.258 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (6ms).
2025-08-13 11:44:51.264 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-13 11:44:51.275 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.Role (string) Required, 19], [Property: UserModel.SecurityStamp (string), 20], [Property: UserModel.TwoFactorEnabled (bool) Required, 21], [Property: UserModel.UserName (string) MaxLength(256), 22] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 11:44:51.280 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:44:51.282 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:44:51.283 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:44:51.284 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 11:44:51.285 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 11:44:51.286 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 11:44:51.293 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 11:44:51.315 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:44:51.355 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:44:51.357 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 61ms reading results.
2025-08-13 11:44:51.359 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:44:51.360 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 11:44:51.365 +05:30 [INF] Admin user already exists.
2025-08-13 11:44:51.367 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 11:44:51.371 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:44:51.373 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 11:44:51.376 +05:30 [DBG] Hosting starting
2025-08-13 11:44:51.391 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-13 11:44:51.403 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-13 11:44:51.414 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-13 11:44:51.420 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 11:44:51.422 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-13 11:44:51.425 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 11:44:51.428 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-13 11:44:51.430 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-13 11:44:51.434 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-13 11:44:51.435 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-13 11:44:51.583 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-13 11:44:51.584 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-13 11:44:51.585 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-13 11:44:51.586 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-13 11:44:51.587 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-13 11:44:51.695 +05:30 [DBG] Connection id "0HNEQ62RD338O" accepted.
2025-08-13 11:44:51.697 +05:30 [DBG] Connection id "0HNEQ62RD338O" started.
2025-08-13 11:44:51.701 +05:30 [DBG] Connection id "0HNEQ62RD338P" accepted.
2025-08-13 11:44:51.710 +05:30 [DBG] Connection id "0HNEQ62RD338P" started.
2025-08-13 11:44:51.721 +05:30 [DBG] Connection id "0HNEQ62RD338O" received FIN.
2025-08-13 11:44:51.721 +05:30 [DBG] Connection id "0HNEQ62RD338P" received FIN.
2025-08-13 11:44:51.726 +05:30 [DBG] Connection id "0HNEQ62RD338O" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 11:44:51.726 +05:30 [DBG] Connection id "0HNEQ62RD338P" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 11:44:51.741 +05:30 [DBG] Connection id "0HNEQ62RD338O" disconnecting.
2025-08-13 11:44:51.742 +05:30 [DBG] Connection id "0HNEQ62RD338P" disconnecting.
2025-08-13 11:44:51.746 +05:30 [DBG] Connection id "0HNEQ62RD338O" stopped.
2025-08-13 11:44:51.747 +05:30 [DBG] Connection id "0HNEQ62RD338P" stopped.
2025-08-13 11:44:51.870 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-13 11:44:51.871 +05:30 [INF] Hosting environment: Development
2025-08-13 11:44:51.872 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-13 11:44:51.874 +05:30 [DBG] Hosting started
2025-08-13 11:44:57.473 +05:30 [DBG] Connection id "0HNEQ62RD338Q" accepted.
2025-08-13 11:44:57.474 +05:30 [DBG] Connection id "0HNEQ62RD338Q" started.
2025-08-13 11:44:57.474 +05:30 [DBG] Connection id "0HNEQ62RD338R" accepted.
2025-08-13 11:44:57.476 +05:30 [DBG] Connection id "0HNEQ62RD338R" started.
2025-08-13 11:44:57.504 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/index.html - null null
2025-08-13 11:44:57.660 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-13 11:44:57.687 +05:30 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-13 11:44:57.688 +05:30 [DBG] Request did not match any endpoints
2025-08-13 11:44:57.757 +05:30 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-13 11:44:57.759 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-13 11:44:57.776 +05:30 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-13 11:44:57.779 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-13 11:44:57.779 +05:30 [DBG] Connection id "0HNEQ62RD338S" accepted.
2025-08-13 11:44:57.779 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - null null
2025-08-13 11:44:57.782 +05:30 [DBG] Connection id "0HNEQ62RD338S" started.
2025-08-13 11:44:57.781 +05:30 [DBG] Connection id "0HNEQ62RD338Q" completed keep alive response.
2025-08-13 11:44:57.787 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_vs/browserLink - null null
2025-08-13 11:44:57.788 +05:30 [DBG] Connection id "0HNEQ62RD338R" completed keep alive response.
2025-08-13 11:44:57.792 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/index.html - 200 null text/html;charset=utf-8 298.2667ms
2025-08-13 11:44:57.795 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - 200 13768 application/javascript; charset=utf-8 16.4722ms
2025-08-13 11:44:57.834 +05:30 [DBG] Connection id "0HNEQ62RD338S" completed keep alive response.
2025-08-13 11:44:57.835 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.9576ms
2025-08-13 11:44:57.980 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - null null
2025-08-13 11:44:57.984 +05:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-13 11:44:57.985 +05:30 [DBG] Request did not match any endpoints
2025-08-13 11:44:58.006 +05:30 [DBG] Connection id "0HNEQ62RD338S" completed keep alive response.
2025-08-13 11:44:58.008 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.1811ms
2025-08-13 11:45:03.418 +05:30 [DBG] Connection id "0HNEQ62RD338T" accepted.
2025-08-13 11:45:03.419 +05:30 [DBG] Connection id "0HNEQ62RD338T" started.
2025-08-13 11:45:03.421 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 11:45:03.427 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 11:45:03.430 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 11:45:03.442 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-13 11:45:03.444 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:45:03.445 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:45:03.446 +05:30 [DBG] The request is a preflight request.
2025-08-13 11:45:03.458 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 15ms
2025-08-13 11:45:03.459 +05:30 [DBG] Connection id "0HNEQ62RD338T" completed keep alive response.
2025-08-13 11:45:03.461 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 39.9879ms
2025-08-13 11:45:03.463 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 55
2025-08-13 11:45:03.466 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 11:45:03.468 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 11:45:03.470 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 11:45:03.474 +05:30 [DBG] Connection id "0HNEQ62RD338T", Request id "0HNEQ62RD338T:00000002": started reading request body.
2025-08-13 11:45:03.474 +05:30 [DBG] Connection id "0HNEQ62RD338T", Request id "0HNEQ62RD338T:00000002": done reading request body.
2025-08-13 11:45:03.477 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:45:03.477 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:45:03.520 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 11:45:03.522 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 11:45:03.539 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 11:45:03.541 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 11:45:03.542 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 11:45:03.543 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:45:03.544 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 11:45:03.546 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:45:03.548 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 11:45:03.576 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 11:45:03.580 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 11:45:03.585 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 11:45:03.588 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 11:45:03.590 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 11:45:03.602 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 11:45:03.603 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 11:45:03.604 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 11:45:03.605 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 11:45:03.612 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 11:45:03.618 +05:30 [DBG] Creating DbConnection.
2025-08-13 11:45:03.619 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 11:45:03.620 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:03.620 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:03.621 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:45:03.622 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 11:45:03.623 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 11:45:03.624 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 11:45:03.626 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 11:45:03.629 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:03.630 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:03.631 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 11:45:03.632 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:03.633 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 11:45:03.685 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-08-13 11:45:03.692 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.Role (string) Required, 19], [Property: UserModel.SecurityStamp (string), 20], [Property: UserModel.TwoFactorEnabled (bool) Required, 21], [Property: UserModel.UserName (string) MaxLength(256), 22] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 11:45:03.695 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:03.696 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:03.697 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:45:03.697 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 11:45:03.698 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 11:45:03.698 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 11:45:03.703 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 11:45:03.705 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:03.705 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 11:45:03.706 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:03.707 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 11:45:03.718 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:03.722 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 11:45:03.724 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 11:45:03.734 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 11:45:03.782 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:03.784 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:03.789 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:45:03.791 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-13 11:45:03.794 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-13 11:45:03.796 +05:30 [DBG] Executing DbCommand [Parameters=[@p22='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p23='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [Role] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-08-13 11:45:03.804 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p22='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p23='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [Role] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-08-13 11:45:03.812 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:03.813 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-08-13 11:45:03.815 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:03.816 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 11:45:03.818 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:03.822 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 11:45:03.846 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 11:45:03.850 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 11:45:03.851 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 11:45:03.851 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 11:45:03.853 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 11:45:03.854 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 11:45:03.867 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 318.1718ms
2025-08-13 11:45:03.868 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 11:45:04.002 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"meghana@gmail.com","password":"Password@123"} Responded with [200] in 530ms
2025-08-13 11:45:04.004 +05:30 [DBG] Connection id "0HNEQ62RD338T" completed keep alive response.
2025-08-13 11:45:04.006 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 11:45:04.009 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:04.010 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-13 11:45:04.010 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 903 application/json 546.8986ms
2025-08-13 11:45:04.042 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 11:45:04.047 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 11:45:04.049 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 11:45:04.051 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:45:04.052 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:45:04.053 +05:30 [DBG] The request is a preflight request.
2025-08-13 11:45:04.054 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 3ms
2025-08-13 11:45:04.055 +05:30 [DBG] Connection id "0HNEQ62RD338T" completed keep alive response.
2025-08-13 11:45:04.056 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 14.0035ms
2025-08-13 11:45:04.058 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 11:45:04.062 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 11:45:04.063 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 11:45:04.066 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 11:45:04.068 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 11:45:04.069 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:45:04.071 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:45:04.123 +05:30 [DBG] Successfully validated the token.
2025-08-13 11:45:04.127 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 11:45:04.135 +05:30 [DBG] Authorization was successful.
2025-08-13 11:45:04.136 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 11:45:04.144 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 11:45:04.146 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 11:45:04.148 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 11:45:04.149 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:45:04.151 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 11:45:04.153 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:45:04.154 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 11:45:04.166 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 11:45:04.276 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 11:45:04.281 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 11:45:04.283 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 11:45:04.287 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 11:45:04.289 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 11:45:04.291 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 11:45:04.292 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 11:45:04.293 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 11:45:04.294 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 11:45:04.295 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 11:45:04.297 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 11:45:04.316 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .Count()'
2025-08-13 11:45:04.343 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 11:45:04.351 +05:30 [DBG] Creating DbConnection.
2025-08-13 11:45:04.352 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 11:45:04.353 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:04.354 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:04.354 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:45:04.355 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 11:45:04.356 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 11:45:04.357 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 11:45:04.363 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 11:45:04.367 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:04.367 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 11:45:04.369 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:04.370 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 11:45:04.374 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .OrderBy(t => t.Title)
    .Skip(__p_1)
    .Take(__p_2)'
2025-08-13 11:45:04.382 +05:30 [DBG] Including navigation: 'TripModel.BudgetDetails'.
2025-08-13 11:45:04.383 +05:30 [DBG] Including navigation: 'TripModel.Reviews'.
2025-08-13 11:45:04.429 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
            1 -> Dictionary<IProperty, int> { [Property: BudgetDetailsModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: BudgetDetailsModel.Food (decimal) Required, 16], [Property: BudgetDetailsModel.Hotel (decimal) Required, 17], [Property: BudgetDetailsModel.TripId (int) Required FK Index, 18] }
            2 -> 0
            3 -> 15
            4 -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: ReviewModel.Rating (int) Required, 20], [Property: ReviewModel.ReviewText (string) Required, 21], [Property: ReviewModel.TripId (int) Required FK Index, 22], [Property: ReviewModel.UserId (int) Required FK Index, 23] }
            5 -> 19
        SELECT t1.Id, t1.BestTime, t1.Budget, t1.Description, t1.Destination, t1.Duration, t1.EndDate, t1.EssentialsJson, t1.Image, t1.Notes, t1.StartDate, t1.Title, t1.TouristSpotsJson, t1.TravelMode, t1.UserId, b.Id, b.Food, b.Hotel, b.TripId, r.Id, r.Rating, r.review, r.TripId, r.UserId
        FROM 
        (
            SELECT t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))
            ORDER BY t.Title ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS t1
        LEFT JOIN budgetdetails AS b ON t1.Id == b.TripId
        LEFT JOIN reviews AS r ON t1.Id == r.TripId
        ORDER BY t1.Title ASC, t1.Id ASC, b.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-13 11:45:04.435 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:04.436 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:04.436 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:45:04.437 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 11:45:04.438 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 11:45:04.438 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 11:45:04.449 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 11:45:04.462 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:04.482 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:04.484 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:04.493 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:04.497 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:04.498 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:04.500 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:04.503 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:04.505 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:04.506 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:04.507 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:04.507 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:04.508 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:04.509 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:04.510 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:04.511 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:04.512 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:04.513 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:04.514 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:04.515 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:04.516 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:04.517 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 65ms reading results.
2025-08-13 11:45:04.518 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:04.519 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 11:45:04.528 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 11:45:04.530 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 11:45:04.530 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 11:45:04.531 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 11:45:04.531 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 11:45:04.533 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 11:45:04.545 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 389.7763ms
2025-08-13 11:45:04.546 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 11:45:04.550 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 480ms
2025-08-13 11:45:04.552 +05:30 [DBG] Connection id "0HNEQ62RD338S" completed keep alive response.
2025-08-13 11:45:04.553 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 11:45:04.553 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:04.555 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 11:45:04.556 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 497.4127ms
2025-08-13 11:45:28.581 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/update-profile - null null
2025-08-13 11:45:28.584 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/update-profile'
2025-08-13 11:45:28.585 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 11:45:28.586 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:45:28.586 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:45:28.587 +05:30 [DBG] The request is a preflight request.
2025-08-13 11:45:28.588 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/update-profile   Responded with [204] in 2ms
2025-08-13 11:45:28.589 +05:30 [DBG] Connection id "0HNEQ62RD338T" completed keep alive response.
2025-08-13 11:45:28.590 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/update-profile - 204 null null 8.987ms
2025-08-13 11:45:28.590 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5276/api/v1/Auth/update-profile - application/json 155
2025-08-13 11:45:28.599 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/update-profile'
2025-08-13 11:45:28.600 +05:30 [DBG] Endpoint 'AuthController.UpdateProfile (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/update-profile' is valid for the request path '/api/v1/Auth/update-profile'
2025-08-13 11:45:28.601 +05:30 [DBG] Request matched endpoint 'AuthController.UpdateProfile (TravelPlannerAPI)'
2025-08-13 11:45:28.602 +05:30 [DBG] Connection id "0HNEQ62RD338S", Request id "0HNEQ62RD338S:00000004": started reading request body.
2025-08-13 11:45:28.603 +05:30 [DBG] Connection id "0HNEQ62RD338S", Request id "0HNEQ62RD338S:00000004": done reading request body.
2025-08-13 11:45:28.604 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:45:28.604 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:45:28.607 +05:30 [DBG] Successfully validated the token.
2025-08-13 11:45:28.609 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 11:45:28.612 +05:30 [DBG] Authorization was successful.
2025-08-13 11:45:28.613 +05:30 [INF] Executing endpoint 'AuthController.UpdateProfile (TravelPlannerAPI)'
2025-08-13 11:45:28.619 +05:30 [INF] Route matched with {action = "UpdateProfile", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProfile(TravelPlannerAPI.Dtos.UpdateProfileDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 11:45:28.621 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 11:45:28.622 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 11:45:28.623 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:45:28.626 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 11:45:28.627 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:45:28.629 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 11:45:28.638 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 11:45:28.640 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 11:45:28.641 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.UpdateProfileDto' ...
2025-08-13 11:45:28.645 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.UpdateProfileDto' using the name '' in request data ...
2025-08-13 11:45:28.646 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 11:45:28.651 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.UpdateProfileDto'
2025-08-13 11:45:28.651 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.UpdateProfileDto'.
2025-08-13 11:45:28.653 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.UpdateProfileDto'.
2025-08-13 11:45:28.654 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.UpdateProfileDto' ...
2025-08-13 11:45:28.656 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.UpdateProfileDto'.
2025-08-13 11:45:28.668 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-08-13 11:45:28.675 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.Role (string) Required, 19], [Property: UserModel.SecurityStamp (string), 20], [Property: UserModel.TwoFactorEnabled (bool) Required, 21], [Property: UserModel.UserName (string) MaxLength(256), 22] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 11:45:28.681 +05:30 [DBG] Creating DbConnection.
2025-08-13 11:45:28.682 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 11:45:28.683 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:28.684 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:28.685 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:45:28.686 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 11:45:28.686 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 11:45:28.687 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-08-13 11:45:28.693 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-08-13 11:45:28.698 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:28.700 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:28.701 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-13 11:45:28.704 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:28.705 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 11:45:28.711 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:28.713 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:28.714 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:45:28.715 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 11:45:28.716 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 11:45:28.717 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 11:45:28.723 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 11:45:28.725 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:28.726 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 11:45:28.730 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:28.732 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 11:45:28.734 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:28.736 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 11:45:28.737 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 11:45:28.738 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 11:45:28.740 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:28.742 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:28.742 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:45:28.745 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-13 11:45:28.746 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 11:45:28.747 +05:30 [DBG] Executing DbCommand [Parameters=[@p22='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p23='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [Role] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-08-13 11:45:28.754 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p22='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p23='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [Role] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-08-13 11:45:28.757 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:28.759 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 11:45:28.760 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:28.761 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 11:45:28.763 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:28.764 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 11:45:28.766 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 11:45:28.767 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 11:45:28.770 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 11:45:28.771 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 0 entities written to the database.
2025-08-13 11:45:28.772 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 11:45:28.775 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 11:45:28.776 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 11:45:28.777 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 11:45:28.777 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2025-08-13 11:45:28.778 +05:30 [INF] Executing OkObjectResult, writing value of type 'null'.
2025-08-13 11:45:28.779 +05:30 [INF] Executed action AuthController.UpdateProfile (TravelPlannerAPI) in 150.0747ms
2025-08-13 11:45:28.780 +05:30 [INF] Executed endpoint 'AuthController.UpdateProfile (TravelPlannerAPI)'
2025-08-13 11:45:28.781 +05:30 [INF] Source:[::1] Request: PUT http localhost:5276/api/v1/Auth/update-profile  {"username":"Meghana","email":"meghana@gmail.com","phone":"12334556789","profileImage":"","address":"TechnoPark Phase 1 ClubHouse","bio":"Musical Meghana"} Responded with [204] in 179ms
2025-08-13 11:45:28.782 +05:30 [DBG] Connection id "0HNEQ62RD338S" completed keep alive response.
2025-08-13 11:45:28.784 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 11:45:28.785 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:28.786 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 11:45:28.788 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5276/api/v1/Auth/update-profile - 204 null null 197.9819ms
2025-08-13 11:45:40.194 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 11:45:40.197 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 11:45:40.198 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 11:45:40.199 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:45:40.200 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:45:40.201 +05:30 [DBG] The request is a preflight request.
2025-08-13 11:45:40.203 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 3ms
2025-08-13 11:45:40.206 +05:30 [DBG] Connection id "0HNEQ62RD338T" completed keep alive response.
2025-08-13 11:45:40.208 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 13.7085ms
2025-08-13 11:45:40.208 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 11:45:40.212 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 11:45:40.214 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 11:45:40.217 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 11:45:40.220 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 11:45:40.222 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:45:40.223 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:45:40.224 +05:30 [DBG] Successfully validated the token.
2025-08-13 11:45:40.226 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 11:45:40.230 +05:30 [DBG] Authorization was successful.
2025-08-13 11:45:40.231 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 11:45:40.233 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 11:45:40.236 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 11:45:40.237 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 11:45:40.237 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:45:40.239 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 11:45:40.240 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:45:40.242 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 11:45:40.244 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 11:45:40.246 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 11:45:40.247 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 11:45:40.248 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 11:45:40.249 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 11:45:40.251 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 11:45:40.252 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 11:45:40.253 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 11:45:40.254 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 11:45:40.255 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 11:45:40.256 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 11:45:40.257 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 11:45:40.260 +05:30 [DBG] Creating DbConnection.
2025-08-13 11:45:40.261 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 11:45:40.261 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:40.264 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:40.264 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:45:40.265 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 11:45:40.266 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 11:45:40.267 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 11:45:40.275 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 11:45:40.278 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:40.278 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 11:45:40.280 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:40.281 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 11:45:40.283 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:40.284 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:40.286 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:45:40.287 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 11:45:40.287 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 11:45:40.288 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 11:45:40.302 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 11:45:40.306 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:40.308 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:40.310 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:40.311 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:40.313 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:40.315 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:40.316 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:40.317 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:40.319 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:40.320 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:40.321 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:40.322 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:40.323 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:40.324 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:40.325 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:40.327 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:40.328 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:40.331 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:40.332 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:40.334 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:40.335 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:40.336 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 30ms reading results.
2025-08-13 11:45:40.338 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:40.339 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 11:45:40.340 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 11:45:40.342 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 11:45:40.343 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 11:45:40.344 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 11:45:40.346 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 11:45:40.348 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 11:45:40.349 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 107.4208ms
2025-08-13 11:45:40.350 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 11:45:40.353 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 130ms
2025-08-13 11:45:40.354 +05:30 [DBG] Connection id "0HNEQ62RD338S" completed keep alive response.
2025-08-13 11:45:40.356 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 11:45:40.356 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:40.358 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 11:45:40.360 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 150.8372ms
2025-08-13 11:45:44.132 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 11:45:44.134 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 11:45:44.135 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 11:45:44.136 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 11:45:44.138 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 11:45:44.138 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:45:44.139 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:45:44.140 +05:30 [DBG] Successfully validated the token.
2025-08-13 11:45:44.141 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 11:45:44.142 +05:30 [DBG] Authorization was successful.
2025-08-13 11:45:44.143 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 11:45:44.145 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 11:45:44.146 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 11:45:44.148 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 11:45:44.149 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:45:44.152 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 11:45:44.154 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:45:44.156 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 11:45:44.159 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 11:45:44.163 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 11:45:44.165 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 11:45:44.167 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 11:45:44.169 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 11:45:44.172 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 11:45:44.174 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 11:45:44.177 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 11:45:44.178 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 11:45:44.179 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 11:45:44.180 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 11:45:44.182 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 11:45:44.184 +05:30 [DBG] Creating DbConnection.
2025-08-13 11:45:44.184 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 11:45:44.185 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:44.186 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:44.187 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:45:44.188 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 11:45:44.190 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 11:45:44.191 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 11:45:44.195 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 11:45:44.198 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:44.199 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 11:45:44.200 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:44.201 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 11:45:44.203 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:44.204 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:44.205 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:45:44.206 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 11:45:44.207 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 11:45:44.209 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 11:45:44.213 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 11:45:44.216 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:44.218 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:44.219 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:44.220 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:44.221 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:44.222 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:44.224 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:44.226 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:44.227 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:44.228 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:44.230 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:44.231 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:44.232 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:44.233 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:44.234 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:44.235 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:44.236 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:44.238 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:44.239 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:44.240 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:45:44.243 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:44.244 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 27ms reading results.
2025-08-13 11:45:44.245 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:44.246 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 11:45:44.247 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 11:45:44.249 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 11:45:44.250 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 11:45:44.251 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 11:45:44.251 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 11:45:44.253 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 11:45:44.254 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 98.2158ms
2025-08-13 11:45:44.255 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 11:45:44.258 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 119ms
2025-08-13 11:45:44.260 +05:30 [DBG] Connection id "0HNEQ62RD338S" completed keep alive response.
2025-08-13 11:45:44.261 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 11:45:44.262 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:45:44.263 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 11:45:44.264 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 132.2851ms
2025-08-13 11:47:45.808 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/v2/swagger.json - null null
2025-08-13 11:47:45.815 +05:30 [DBG] No candidates found for the request path '/swagger/v2/swagger.json'
2025-08-13 11:47:45.816 +05:30 [DBG] Request did not match any endpoints
2025-08-13 11:47:45.827 +05:30 [DBG] Connection id "0HNEQ62RD338S" completed keep alive response.
2025-08-13 11:47:45.829 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/v2/swagger.json - 200 null application/json;charset=utf-8 21.1827ms
2025-08-13 11:47:49.353 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - null null
2025-08-13 11:47:49.358 +05:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-13 11:47:49.359 +05:30 [DBG] Request did not match any endpoints
2025-08-13 11:47:49.372 +05:30 [DBG] Connection id "0HNEQ62RD338S" completed keep alive response.
2025-08-13 11:47:49.374 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 21.5231ms
2025-08-13 11:49:51.248 +05:30 [DBG] Connection id "0HNEQ62RD338Q" received FIN.
2025-08-13 11:49:51.248 +05:30 [DBG] Connection id "0HNEQ62RD338R" received FIN.
2025-08-13 11:49:51.250 +05:30 [DBG] Connection id "0HNEQ62RD338S" received FIN.
2025-08-13 11:49:51.255 +05:30 [DBG] Connection id "0HNEQ62RD338Q" disconnecting.
2025-08-13 11:49:51.254 +05:30 [DBG] Connection id "0HNEQ62RD338T" received FIN.
2025-08-13 11:49:51.276 +05:30 [DBG] Connection id "0HNEQ62RD338Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 11:49:51.281 +05:30 [DBG] Connection id "0HNEQ62RD338S" disconnecting.
2025-08-13 11:49:51.275 +05:30 [DBG] Connection id "0HNEQ62RD338R" disconnecting.
2025-08-13 11:49:51.290 +05:30 [DBG] Connection id "0HNEQ62RD338Q" stopped.
2025-08-13 11:49:51.287 +05:30 [DBG] Connection id "0HNEQ62RD338T" disconnecting.
2025-08-13 11:49:51.292 +05:30 [DBG] Connection id "0HNEQ62RD338R" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 11:49:51.287 +05:30 [DBG] Connection id "0HNEQ62RD338S" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 11:49:51.297 +05:30 [DBG] Connection id "0HNEQ62RD338T" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 11:49:51.306 +05:30 [DBG] Connection id "0HNEQ62RD338R" stopped.
2025-08-13 11:49:51.306 +05:30 [DBG] Connection id "0HNEQ62RD338S" stopped.
2025-08-13 11:49:51.321 +05:30 [DBG] Connection id "0HNEQ62RD338T" stopped.
2025-08-13 11:53:52.150 +05:30 [DBG] Connection id "0HNEQ62RD338U" accepted.
2025-08-13 11:53:52.159 +05:30 [DBG] Connection id "0HNEQ62RD338U" started.
2025-08-13 11:53:52.172 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 11:53:52.175 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 11:53:52.176 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 11:53:52.177 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:53:52.179 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:53:52.180 +05:30 [DBG] The request is a preflight request.
2025-08-13 11:53:52.182 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 4ms
2025-08-13 11:53:52.183 +05:30 [DBG] Connection id "0HNEQ62RD338U" completed keep alive response.
2025-08-13 11:53:52.184 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 11.8188ms
2025-08-13 11:53:52.186 +05:30 [DBG] Connection id "0HNEQ62RD338V" accepted.
2025-08-13 11:53:52.188 +05:30 [DBG] Connection id "0HNEQ62RD338V" started.
2025-08-13 11:53:52.198 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 11:53:52.200 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 11:53:52.201 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 11:53:52.202 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 11:53:52.203 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 11:53:52.204 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:53:52.204 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:53:52.206 +05:30 [DBG] Successfully validated the token.
2025-08-13 11:53:52.206 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 11:53:52.207 +05:30 [DBG] Authorization was successful.
2025-08-13 11:53:52.207 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 11:53:52.208 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 11:53:52.210 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 11:53:52.212 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 11:53:52.213 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:53:52.215 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 11:53:52.217 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:53:52.218 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 11:53:52.221 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 11:53:52.222 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 11:53:52.223 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 11:53:52.224 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 11:53:52.225 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 11:53:52.228 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 11:53:52.229 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 11:53:52.231 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 11:53:52.232 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 11:53:52.233 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 11:53:52.234 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 11:53:52.235 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 11:53:52.237 +05:30 [DBG] Creating DbConnection.
2025-08-13 11:53:52.238 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 11:53:52.239 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:53:52.255 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:53:52.260 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:53:52.260 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 11:53:52.261 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 11:53:52.263 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 11:53:52.273 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 11:53:52.275 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:53:52.276 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 11:53:52.277 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:53:52.278 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 11:53:52.284 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:53:52.286 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:53:52.287 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:53:52.288 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 11:53:52.289 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 11:53:52.290 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 11:53:52.308 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 11:53:52.312 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:53:52.315 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:53:52.317 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:53:52.318 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:53:52.320 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:53:52.321 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:53:52.322 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:53:52.324 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:53:52.325 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:53:52.326 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:53:52.328 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:53:52.330 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:53:52.331 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:53:52.333 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:53:52.334 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:53:52.335 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:53:52.337 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:53:52.338 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:53:52.339 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:53:52.341 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:53:52.342 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:53:52.343 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 31ms reading results.
2025-08-13 11:53:52.345 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:53:52.347 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 11:53:52.348 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 11:53:52.350 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 11:53:52.351 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 11:53:52.352 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 11:53:52.353 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 11:53:52.354 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 11:53:52.356 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 137.6692ms
2025-08-13 11:53:52.357 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 11:53:52.359 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 155ms
2025-08-13 11:53:52.363 +05:30 [DBG] Connection id "0HNEQ62RD338V" completed keep alive response.
2025-08-13 11:53:52.364 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 11:53:52.366 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:53:52.367 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 11:53:52.368 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5340 application/json 170.1308ms
2025-08-13 11:54:43.711 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/10 - null null
2025-08-13 11:54:43.722 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/10'
2025-08-13 11:54:43.723 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 11:54:43.725 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:54:43.726 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:54:43.727 +05:30 [DBG] The request is a preflight request.
2025-08-13 11:54:43.729 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/10   Responded with [204] in 3ms
2025-08-13 11:54:43.730 +05:30 [DBG] Connection id "0HNEQ62RD338U" completed keep alive response.
2025-08-13 11:54:43.733 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/10 - null null
2025-08-13 11:54:43.735 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/10 - 204 null null 24.4938ms
2025-08-13 11:54:43.742 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/10'
2025-08-13 11:54:43.744 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/10'
2025-08-13 11:54:43.747 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 11:54:43.748 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:54:43.749 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:54:43.750 +05:30 [DBG] Successfully validated the token.
2025-08-13 11:54:43.751 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 11:54:43.752 +05:30 [DBG] Authorization was successful.
2025-08-13 11:54:43.753 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 11:54:43.758 +05:30 [INF] Route matched with {action = "GetTrip", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TravelPlannerAPI.Dtos.TripDto]] GetTrip(Int32) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 11:54:43.760 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 11:54:43.761 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 11:54:43.763 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:54:43.765 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 11:54:43.766 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:54:43.768 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 11:54:43.770 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 11:54:43.772 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 11:54:43.773 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-13 11:54:43.775 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-13 11:54:43.777 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-13 11:54:43.780 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-13 11:54:43.781 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-13 11:54:43.782 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-13 11:54:43.787 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Include(t => t.SharedUsers)
    .FirstOrDefault(t => t.Id == __id_0)'
2025-08-13 11:54:43.790 +05:30 [DBG] Including navigation: 'TripModel.BudgetDetails'.
2025-08-13 11:54:43.791 +05:30 [DBG] Including navigation: 'TripModel.Reviews'.
2025-08-13 11:54:43.791 +05:30 [DBG] Including navigation: 'TripModel.SharedUsers'.
2025-08-13 11:54:43.802 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-13 11:54:43.808 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<TripModel>(
    asyncEnumerable: new SingleQueryingEnumerable<TripModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
                1 -> Dictionary<IProperty, int> { [Property: BudgetDetailsModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: BudgetDetailsModel.Food (decimal) Required, 16], [Property: BudgetDetailsModel.Hotel (decimal) Required, 17], [Property: BudgetDetailsModel.TripId (int) Required FK Index, 18] }
                2 -> 0
                3 -> 15
                4 -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: ReviewModel.Rating (int) Required, 20], [Property: ReviewModel.ReviewText (string) Required, 21], [Property: ReviewModel.TripId (int) Required FK Index, 22], [Property: ReviewModel.UserId (int) Required FK Index, 23] }
                5 -> 19
                6 -> Dictionary<IProperty, int> { [Property: TripShareModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 24], [Property: TripShareModel.AccessLevel (AccessLevel) Required, 25], [Property: TripShareModel.OwnerId (int) Required FK Index, 26], [Property: TripShareModel.SharedWithUserId (int) Required FK Index, 27], [Property: TripShareModel.TripId (int) Required FK Index, 28] }
                7 -> 24
            SELECT t0.Id, t0.BestTime, t0.Budget, t0.Description, t0.Destination, t0.Duration, t0.EndDate, t0.EssentialsJson, t0.Image, t0.Notes, t0.StartDate, t0.Title, t0.TouristSpotsJson, t0.TravelMode, t0.UserId, t0.Id0, t0.Food, t0.Hotel, t0.TripId, r.Id, r.Rating, r.review, r.TripId, r.UserId, t1.Id, t1.AccessLevel, t1.OwnerId, t1.SharedWithUserId, t1.TripId
            FROM 
            (
                SELECT TOP(1) t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId, b.Id AS Id0, b.Food, b.Hotel, b.TripId
                FROM Trips AS t
                LEFT JOIN budgetdetails AS b ON t.Id == b.TripId
                WHERE t.Id == @__id_0
            ) AS t0
            LEFT JOIN reviews AS r ON t0.Id == r.TripId
            LEFT JOIN TripShares AS t1 ON t0.Id == t1.TripId
            ORDER BY t0.Id ASC, t0.Id0 ASC, r.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 11:54:43.814 +05:30 [DBG] Creating DbConnection.
2025-08-13 11:54:43.815 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 11:54:43.816 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:54:43.817 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:54:43.817 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:54:43.818 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 11:54:43.819 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 11:54:43.820 +05:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-13 11:54:43.836 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-13 11:54:43.839 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:43.841 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:43.842 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:43.844 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:54:43.845 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-08-13 11:54:43.846 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:54:43.847 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 11:54:43.861 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 11:54:43.864 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 11:54:43.864 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 11:54:43.865 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 11:54:43.866 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 11:54:43.867 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Dtos.TripDto'.
2025-08-13 11:54:43.868 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI) in 99.8264ms
2025-08-13 11:54:43.869 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 11:54:43.870 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/10   Responded with [200] in 122ms
2025-08-13 11:54:43.871 +05:30 [DBG] Connection id "0HNEQ62RD338V" completed keep alive response.
2025-08-13 11:54:43.873 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 11:54:43.874 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:54:43.875 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 11:54:43.876 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/10 - 200 792 application/json 143.5137ms
2025-08-13 11:54:56.814 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/10?tripId=10 - null null
2025-08-13 11:54:56.817 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/10'
2025-08-13 11:54:56.818 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 11:54:56.819 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:54:56.820 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:54:56.820 +05:30 [DBG] The request is a preflight request.
2025-08-13 11:54:56.821 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/10 ?tripId=10  Responded with [204] in 2ms
2025-08-13 11:54:56.822 +05:30 [DBG] Connection id "0HNEQ62RD338U" completed keep alive response.
2025-08-13 11:54:56.823 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/10?tripId=10 - 204 null null 8.5464ms
2025-08-13 11:54:56.824 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5276/api/v1/Trip/10?tripId=10 - application/json 492
2025-08-13 11:54:56.829 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/10'
2025-08-13 11:54:56.829 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.UpdateTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/10'
2025-08-13 11:54:56.831 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.UpdateTrip (TravelPlannerAPI)'
2025-08-13 11:54:56.833 +05:30 [DBG] Connection id "0HNEQ62RD338V", Request id "0HNEQ62RD338V:00000003": started reading request body.
2025-08-13 11:54:56.833 +05:30 [DBG] Connection id "0HNEQ62RD338V", Request id "0HNEQ62RD338V:00000003": done reading request body.
2025-08-13 11:54:56.835 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:54:56.835 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:54:56.836 +05:30 [DBG] Successfully validated the token.
2025-08-13 11:54:56.837 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 11:54:56.838 +05:30 [DBG] Authorization was successful.
2025-08-13 11:54:56.838 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.UpdateTrip (TravelPlannerAPI)'
2025-08-13 11:54:56.843 +05:30 [INF] Route matched with {action = "UpdateTrip", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateTrip(Int32, TravelPlannerAPI.Dtos.TripUpdateDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 11:54:56.845 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 11:54:56.846 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 11:54:56.847 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:54:56.850 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 11:54:56.851 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:54:56.852 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 11:54:56.854 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 11:54:56.856 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 11:54:56.857 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-13 11:54:56.857 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-13 11:54:56.858 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-13 11:54:56.859 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-13 11:54:56.860 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-13 11:54:56.861 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-13 11:54:56.862 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripUpdateDto' ...
2025-08-13 11:54:56.864 +05:30 [DBG] Attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripUpdateDto' using the name '' in request data ...
2025-08-13 11:54:56.866 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 11:54:56.879 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TripUpdateDto'
2025-08-13 11:54:56.881 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripUpdateDto'.
2025-08-13 11:54:56.882 +05:30 [DBG] Done attempting to bind parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripUpdateDto'.
2025-08-13 11:54:56.883 +05:30 [DBG] Attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripUpdateDto' ...
2025-08-13 11:54:56.893 +05:30 [DBG] Done attempting to validate the bound parameter 'dto' of type 'TravelPlannerAPI.Dtos.TripUpdateDto'.
2025-08-13 11:54:56.897 +05:30 [DBG] Creating DbConnection.
2025-08-13 11:54:56.898 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 11:54:56.899 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:54:56.900 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:54:56.901 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:54:56.902 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 11:54:56.903 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 11:54:56.904 +05:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-13 11:54:56.907 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-13 11:54:56.910 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:56.912 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:56.912 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:56.916 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:54:56.917 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-08-13 11:54:56.918 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:54:56.919 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 11:54:56.922 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 11:54:56.923 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 11:54:56.930 +05:30 [DBG] The unchanged property 'TripModel.Budget' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-13 11:54:56.932 +05:30 [DBG] An entity of type 'TripModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:56.941 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 11:54:56.943 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:54:56.944 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:54:56.946 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:54:56.947 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 11:54:56.950 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-13 11:54:56.951 +05:30 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Trips] SET [Budget] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-08-13 11:54:56.962 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Trips] SET [Budget] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-08-13 11:54:56.965 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:54:56.966 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 11:54:56.968 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:54:56.969 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 11:54:56.971 +05:30 [DBG] An entity of type 'TripModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:56.973 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 11:54:56.976 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-08-13 11:54:56.977 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.UpdateTrip (TravelPlannerAPI) in 125.1426ms
2025-08-13 11:54:56.978 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.UpdateTrip (TravelPlannerAPI)'
2025-08-13 11:54:56.980 +05:30 [INF] Source:[::1] Request: PUT http localhost:5276/api/v1/Trip/10 ?tripId=10 {"title":"Desert Safari","destination":"Jaisalmer, Rajasthan","startDate":"2025-01-01","endDate":"2025-01-05","budget":15000,"travelMode":"Not specified","notes":"","duration":"2 Days","bestTime":"October to March","image":"trips/desert.jpg","description":"Enjoy camel rides, folk music, and camping in the desert.","userId":3,"essentials":["Hat","Scarf","Water Bottle"],"touristSpots":["Sam Sand Dunes","Jaisalmer Fort","Patwon Ki Haveli"],"budgetDetails":{"food":1800,"hotel":3000},"id":10} Responded with [204] in 147ms
2025-08-13 11:54:56.983 +05:30 [DBG] Connection id "0HNEQ62RD338V" completed keep alive response.
2025-08-13 11:54:56.984 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 11:54:56.986 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:54:56.987 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 11:54:56.989 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5276/api/v1/Trip/10?tripId=10 - 204 null null 165.9186ms
2025-08-13 11:54:56.996 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 11:54:56.999 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 11:54:57.000 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 11:54:57.002 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:54:57.003 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:54:57.004 +05:30 [DBG] The request is a preflight request.
2025-08-13 11:54:57.005 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 3ms
2025-08-13 11:54:57.006 +05:30 [DBG] Connection id "0HNEQ62RD338U" completed keep alive response.
2025-08-13 11:54:57.007 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 10.6289ms
2025-08-13 11:54:57.008 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 11:54:57.012 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 11:54:57.013 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 11:54:57.016 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 11:54:57.017 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 11:54:57.018 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:54:57.019 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:54:57.020 +05:30 [DBG] Successfully validated the token.
2025-08-13 11:54:57.021 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 11:54:57.022 +05:30 [DBG] Authorization was successful.
2025-08-13 11:54:57.023 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 11:54:57.024 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 11:54:57.025 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 11:54:57.026 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 11:54:57.027 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:54:57.031 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 11:54:57.032 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:54:57.034 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 11:54:57.036 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 11:54:57.037 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 11:54:57.039 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 11:54:57.040 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 11:54:57.041 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 11:54:57.042 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 11:54:57.045 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 11:54:57.047 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 11:54:57.048 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 11:54:57.049 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 11:54:57.050 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 11:54:57.051 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 11:54:57.053 +05:30 [DBG] Creating DbConnection.
2025-08-13 11:54:57.053 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 11:54:57.054 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:54:57.055 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:54:57.056 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:54:57.057 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 11:54:57.059 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 11:54:57.060 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 11:54:57.072 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 11:54:57.074 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:54:57.075 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 11:54:57.076 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:54:57.077 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 11:54:57.080 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:54:57.081 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:54:57.082 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:54:57.083 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 11:54:57.084 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 11:54:57.085 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 11:54:57.104 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 11:54:57.108 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:57.110 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:57.111 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:57.112 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:57.114 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:57.115 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:57.116 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:57.117 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:57.118 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:57.119 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:57.120 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:57.121 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:57.122 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:57.123 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:57.124 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:57.126 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:57.127 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:57.128 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:57.129 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:57.131 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:54:57.132 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:54:57.133 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 25ms reading results.
2025-08-13 11:54:57.134 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:54:57.135 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 11:54:57.136 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 11:54:57.138 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 11:54:57.139 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 11:54:57.139 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 11:54:57.140 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 11:54:57.142 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 11:54:57.143 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 109.6849ms
2025-08-13 11:54:57.144 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 11:54:57.146 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 127ms
2025-08-13 11:54:57.147 +05:30 [DBG] Connection id "0HNEQ62RD338V" completed keep alive response.
2025-08-13 11:54:57.148 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 11:54:57.149 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:54:57.151 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 11:54:57.152 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5344 application/json 144.0535ms
2025-08-13 11:55:11.534 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 11:55:11.537 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 11:55:11.538 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 11:55:11.539 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:55:11.540 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:55:11.540 +05:30 [DBG] The request is a preflight request.
2025-08-13 11:55:11.541 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 2ms
2025-08-13 11:55:11.542 +05:30 [DBG] Connection id "0HNEQ62RD338U" completed keep alive response.
2025-08-13 11:55:11.543 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 9.252ms
2025-08-13 11:55:11.548 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 51
2025-08-13 11:55:11.550 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 11:55:11.550 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 11:55:11.552 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 11:55:11.553 +05:30 [DBG] Connection id "0HNEQ62RD338U", Request id "0HNEQ62RD338U:00000006": started reading request body.
2025-08-13 11:55:11.554 +05:30 [DBG] Connection id "0HNEQ62RD338U", Request id "0HNEQ62RD338U:00000006": done reading request body.
2025-08-13 11:55:11.556 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:55:11.556 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:55:11.557 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 11:55:11.558 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 11:55:11.559 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 11:55:11.560 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 11:55:11.561 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 11:55:11.563 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:55:11.565 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 11:55:11.566 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:55:11.568 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 11:55:11.575 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 11:55:11.577 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 11:55:11.579 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 11:55:11.580 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 11:55:11.582 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 11:55:11.583 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 11:55:11.584 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 11:55:11.585 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 11:55:11.586 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 11:55:11.587 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 11:55:11.588 +05:30 [DBG] Creating DbConnection.
2025-08-13 11:55:11.589 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 11:55:11.590 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:11.591 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:11.592 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:55:11.594 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 11:55:11.595 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 11:55:11.596 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 11:55:11.607 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 11:55:11.611 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:11.613 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:11.614 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-13 11:55:11.616 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:11.617 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 11:55:11.671 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:11.672 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:11.673 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:55:11.674 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 11:55:11.675 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 11:55:11.675 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 11:55:11.681 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 11:55:11.683 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:11.684 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 11:55:11.685 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:11.686 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 11:55:11.687 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:11.689 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 11:55:11.689 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 11:55:11.690 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 11:55:11.692 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:11.692 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:11.693 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:55:11.694 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 11:55:11.696 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 11:55:11.697 +05:30 [DBG] Executing DbCommand [Parameters=[@p22='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p23='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [Role] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-08-13 11:55:11.708 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p22='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p23='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [Role] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-08-13 11:55:11.712 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:11.713 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 11:55:11.715 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:11.716 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 11:55:11.717 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:11.718 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 11:55:11.720 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 11:55:11.722 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 11:55:11.723 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 11:55:11.724 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 11:55:11.725 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 11:55:11.726 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 11:55:11.729 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 161.3475ms
2025-08-13 11:55:11.730 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 11:55:11.731 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"admin@gmail.com","password":"Admin@1234"} Responded with [200] in 178ms
2025-08-13 11:55:11.733 +05:30 [DBG] Connection id "0HNEQ62RD338U" completed keep alive response.
2025-08-13 11:55:11.734 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 11:55:11.735 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:11.738 +05:30 [DBG] Connection id "0HNEQ62RD3390" accepted.
2025-08-13 11:55:11.741 +05:30 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-13 11:55:11.742 +05:30 [DBG] Connection id "0HNEQ62RD3390" started.
2025-08-13 11:55:11.744 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 893 application/json 196.1595ms
2025-08-13 11:55:11.745 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 11:55:11.749 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 11:55:11.751 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 11:55:11.754 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 11:55:11.755 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 11:55:11.757 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 11:55:11.759 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:55:11.759 +05:30 [DBG] Connection id "0HNEQ62RD3391" accepted.
2025-08-13 11:55:11.760 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:55:11.771 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:55:11.772 +05:30 [DBG] Connection id "0HNEQ62RD3391" started.
2025-08-13 11:55:11.773 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:55:11.774 +05:30 [DBG] The request is a preflight request.
2025-08-13 11:55:11.775 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - null null
2025-08-13 11:55:11.776 +05:30 [DBG] The request is a preflight request.
2025-08-13 11:55:11.778 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 19ms
2025-08-13 11:55:11.781 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-13 11:55:11.782 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 22ms
2025-08-13 11:55:11.783 +05:30 [DBG] Connection id "0HNEQ62RD3390" completed keep alive response.
2025-08-13 11:55:11.785 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 11:55:11.787 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 40.8398ms
2025-08-13 11:55:11.785 +05:30 [DBG] Connection id "0HNEQ62RD338U" completed keep alive response.
2025-08-13 11:55:11.793 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 11:55:11.784 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 11:55:11.796 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 47.7362ms
2025-08-13 11:55:11.797 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 11:55:11.798 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:55:11.801 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 11:55:11.802 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:55:11.804 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 11:55:11.805 +05:30 [DBG] The request is a preflight request.
2025-08-13 11:55:11.806 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:55:11.806 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/users   Responded with [204] in 8ms
2025-08-13 11:55:11.807 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:55:11.807 +05:30 [DBG] Connection id "0HNEQ62RD3391" completed keep alive response.
2025-08-13 11:55:11.808 +05:30 [DBG] Successfully validated the token.
2025-08-13 11:55:11.809 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - 204 null null 33.6909ms
2025-08-13 11:55:11.810 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 11:55:11.810 +05:30 [DBG] Connection id "0HNEQ62RD3392" accepted.
2025-08-13 11:55:11.814 +05:30 [DBG] Authorization was successful.
2025-08-13 11:55:11.815 +05:30 [DBG] Connection id "0HNEQ62RD3392" started.
2025-08-13 11:55:11.815 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 11:55:11.817 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - null null
2025-08-13 11:55:11.817 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 11:55:11.820 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-13 11:55:11.822 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 11:55:11.824 +05:30 [DBG] Endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/users' is valid for the request path '/api/v1/Admin/users'
2025-08-13 11:55:11.825 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 11:55:11.827 +05:30 [DBG] Request matched endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-13 11:55:11.829 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:55:11.830 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:55:11.831 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 11:55:11.832 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:55:11.833 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:55:11.834 +05:30 [DBG] Successfully validated the token.
2025-08-13 11:55:11.835 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 11:55:11.835 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 11:55:11.837 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 11:55:11.839 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 11:55:11.839 +05:30 [DBG] Authorization was successful.
2025-08-13 11:55:11.840 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 11:55:11.840 +05:30 [INF] Executing endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-13 11:55:11.841 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 11:55:11.843 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 11:55:11.845 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller AdminController (TravelPlannerAPI).
2025-08-13 11:55:11.845 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 11:55:11.846 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 11:55:11.848 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 11:55:11.849 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 11:55:11.850 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 11:55:11.851 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:55:11.853 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 11:55:11.855 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 11:55:11.856 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 11:55:11.857 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:55:11.858 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 11:55:11.859 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-13 11:55:11.860 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 11:55:11.862 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 11:55:11.862 +05:30 [DBG] Creating DbConnection.
2025-08-13 11:55:11.864 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-13 11:55:11.864 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 11:55:11.865 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:11.866 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:11.868 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:55:11.869 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 11:55:11.870 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 11:55:11.872 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 11:55:11.876 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .Include(u => u.Trips)
    .Select(u => new AdminUserDto{ 
        Id = u.Id, 
        Name = u.UserName ?? "", 
        Email = u.Email ?? "", 
        LastLoginDate = (DateTime?)u.LastLoginDate, 
        IsActive = u.LastLoginDate > __sixMonthsAgo_0, 
        NumberOfTrips = u.Trips != null ? u.Trips.Count : 0, 
        TripTitles = u.Trips != null ? u.Trips
            .Where(t => t.Title != null)
            .Select(t => t.Title)
            .ToList() : new List<string>(), 
        Role = u.Role ?? "User" 
    }
    )'
2025-08-13 11:55:11.881 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 11:55:11.885 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:11.886 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 11:55:11.888 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:11.889 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 11:55:11.891 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:11.893 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:11.894 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:55:11.895 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 11:55:11.896 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 11:55:11.897 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 11:55:11.912 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-13 11:55:11.912 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 11:55:11.917 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:11.918 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 11:55:11.919 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<AdminUserDto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
            5 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: TripModel.BestTime (string), 6], [Property: TripModel.Budget (decimal) Required, 7], [Property: TripModel.Description (string), 8], [Property: TripModel.Destination (string) Required, 9], [Property: TripModel.Duration (string), 10], [Property: TripModel.EndDate (DateTime) Required, 11], [Property: TripModel.EssentialsJson (string), 12], [Property: TripModel.Image (string), 13], [Property: TripModel.Notes (string) Required, 14], [Property: TripModel.StartDate (DateTime) Required, 15], [Property: TripModel.Title (string) Required, 16], [Property: TripModel.TouristSpotsJson (string), 17], [Property: TripModel.TravelMode (string) Required, 18], [Property: TripModel.UserId (int) Required FK Index, 19] }
            6 -> 5
            7 -> 20
            8 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 21], [Property: TripModel.BestTime (string), 22], [Property: TripModel.Budget (decimal) Required, 23], [Property: TripModel.Description (string), 24], [Property: TripModel.Destination (string) Required, 25], [Property: TripModel.Duration (string), 26], [Property: TripModel.EndDate (DateTime) Required, 27], [Property: TripModel.EssentialsJson (string), 28], [Property: TripModel.Image (string), 29], [Property: TripModel.Notes (string) Required, 30], [Property: TripModel.StartDate (DateTime) Required, 31], [Property: TripModel.Title (string) Required, 32], [Property: TripModel.TouristSpotsJson (string), 33], [Property: TripModel.TravelMode (string) Required, 34], [Property: TripModel.UserId (int) Required FK Index, 35] }
            9 -> 21
            10 -> 36
            11 -> 37
            12 -> 38
        SELECT u.Id, COALESCE(u.UserName, N''), COALESCE(u.Email, N''), u.LastLoginDate, u.LastLoginDate > @__sixMonthsAgo_0, t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId, (
            SELECT COUNT(*)
            FROM Trips AS t0
            WHERE (u.Id != NULL) && (u.Id == t0.UserId)), t1.Id, t1.BestTime, t1.Budget, t1.Description, t1.Destination, t1.Duration, t1.EndDate, t1.EssentialsJson, t1.Image, t1.Notes, t1.StartDate, t1.Title, t1.TouristSpotsJson, t1.TravelMode, t1.UserId, t2.Title, t2.Id, COALESCE(u.Role, N'User')
        FROM Users AS u
        LEFT JOIN Trips AS t ON u.Id == t.UserId
        LEFT JOIN Trips AS t1 ON u.Id == t1.UserId
        LEFT JOIN 
        (
            SELECT t3.Title, t3.Id, t3.UserId
            FROM Trips AS t3
            WHERE t3.Title != NULL
        ) AS t2 ON u.Id == t2.UserId
        ORDER BY u.Id ASC, t.Id ASC, t1.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AdminUserDto>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-13 11:55:11.919 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:11.924 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (4ms).
2025-08-13 11:55:11.925 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 11:55:11.927 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 11:55:11.927 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 11:55:11.928 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 11:55:11.929 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 11:55:11.929 +05:30 [DBG] Creating DbConnection.
2025-08-13 11:55:11.931 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 11:55:11.932 +05:30 [DBG] Created DbConnection. (2ms).
2025-08-13 11:55:11.933 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 98.1187ms
2025-08-13 11:55:11.934 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:11.934 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 11:55:11.935 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:11.937 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 131ms
2025-08-13 11:55:11.937 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:55:11.938 +05:30 [DBG] Connection id "0HNEQ62RD338V" completed keep alive response.
2025-08-13 11:55:11.939 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-13 11:55:11.941 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 11:55:11.942 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-13 11:55:11.942 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:11.943 +05:30 [DBG] Executing DbCommand [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-13 11:55:11.944 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 11:55:11.949 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 164.0352ms
2025-08-13 11:55:11.952 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 11:55:11.954 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 11:55:11.954 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 11:55:11.955 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 11:55:11.958 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 11:55:11.959 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:55:11.961 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:55:11.962 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-13 11:55:11.963 +05:30 [DBG] Successfully validated the token.
2025-08-13 11:55:11.966 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 11:55:11.967 +05:30 [DBG] Authorization was successful.
2025-08-13 11:55:11.968 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 11:55:11.969 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 11:55:11.969 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:11.970 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 11:55:11.972 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:11.973 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 11:55:11.976 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:55:11.978 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 11:55:11.978 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:11.979 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:55:11.981 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:11.982 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 11:55:11.983 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:11.985 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 11:55:11.985 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:11.986 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 11:55:11.987 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:11.988 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 11:55:11.990 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:11.991 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 11:55:11.992 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:11.993 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 11:55:11.994 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:11.995 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 11:55:11.998 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 11:55:11.999 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 11:55:12.001 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 11:55:12.002 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 11:55:12.003 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 11:55:12.004 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:12.004 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 11:55:12.005 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:12.007 +05:30 [DBG] Creating DbConnection.
2025-08-13 11:55:12.008 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:12.009 +05:30 [DBG] Created DbConnection. (2ms).
2025-08-13 11:55:12.010 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:12.012 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:12.013 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:12.017 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:12.021 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:12.023 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:12.024 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:12.025 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:12.027 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:12.030 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:12.031 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:55:12.032 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 66ms reading results.
2025-08-13 11:55:12.033 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 11:55:12.034 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:12.036 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-13 11:55:12.037 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 11:55:12.039 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 11:55:12.041 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 11:55:12.044 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 11:55:12.046 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 11:55:12.048 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:12.048 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 11:55:12.049 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 11:55:12.050 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 11:55:12.051 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:12.051 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 11:55:12.052 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 11:55:12.053 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.AdminUserDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 11:55:12.055 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:12.056 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:12.057 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:55:12.057 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 11:55:12.058 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 11:55:12.059 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 11:55:12.063 +05:30 [INF] Executed action AdminController.GetAllUsers (TravelPlannerAPI) in 204.114ms
2025-08-13 11:55:12.064 +05:30 [INF] Executed endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-13 11:55:12.065 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 11:55:12.067 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:12.068 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 11:55:12.069 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:12.070 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 11:55:12.072 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 11:55:12.073 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 11:55:12.074 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 11:55:12.076 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 11:55:12.077 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 11:55:12.078 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 11:55:12.079 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 97.6775ms
2025-08-13 11:55:12.079 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Admin/users   Responded with [200] in 249ms
2025-08-13 11:55:12.080 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 11:55:12.081 +05:30 [DBG] Connection id "0HNEQ62RD3392" completed keep alive response.
2025-08-13 11:55:12.083 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 123ms
2025-08-13 11:55:12.083 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 11:55:12.085 +05:30 [DBG] Connection id "0HNEQ62RD338V" completed keep alive response.
2025-08-13 11:55:12.085 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:12.086 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 11:55:12.087 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 11:55:12.088 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:12.089 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - 200 3028 application/json 272.3428ms
2025-08-13 11:55:12.090 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 11:55:12.096 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 144.0485ms
2025-08-13 11:55:29.988 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - null null
2025-08-13 11:55:29.990 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-13 11:55:29.992 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 11:55:29.993 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:55:29.994 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:55:29.995 +05:30 [DBG] The request is a preflight request.
2025-08-13 11:55:29.997 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/users   Responded with [204] in 3ms
2025-08-13 11:55:30.000 +05:30 [DBG] Connection id "0HNEQ62RD3391" completed keep alive response.
2025-08-13 11:55:30.001 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - 204 null null 13.5615ms
2025-08-13 11:55:30.003 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - null null
2025-08-13 11:55:30.006 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-13 11:55:30.007 +05:30 [DBG] Endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/users' is valid for the request path '/api/v1/Admin/users'
2025-08-13 11:55:30.009 +05:30 [DBG] Request matched endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-13 11:55:30.010 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 11:55:30.011 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:55:30.012 +05:30 [DBG] Successfully validated the token.
2025-08-13 11:55:30.013 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 11:55:30.016 +05:30 [DBG] Authorization was successful.
2025-08-13 11:55:30.017 +05:30 [INF] Executing endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-13 11:55:30.018 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller AdminController (TravelPlannerAPI).
2025-08-13 11:55:30.021 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 11:55:30.022 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 11:55:30.023 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:55:30.025 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 11:55:30.027 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 11:55:30.028 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-13 11:55:30.031 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 11:55:30.034 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-13 11:55:30.038 +05:30 [DBG] Creating DbConnection.
2025-08-13 11:55:30.039 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 11:55:30.040 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:30.041 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:30.043 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 11:55:30.044 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 11:55:30.045 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 11:55:30.047 +05:30 [DBG] Executing DbCommand [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-13 11:55:30.055 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-13 11:55:30.059 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:30.060 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:30.062 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:30.067 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:30.069 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:30.070 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:30.074 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:30.075 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:30.077 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:30.080 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:30.088 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:30.090 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:30.091 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:30.093 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:30.095 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:30.097 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:30.099 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:30.100 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:30.101 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:30.103 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 11:55:30.105 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:30.106 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 47ms reading results.
2025-08-13 11:55:30.107 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:30.108 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 11:55:30.110 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 11:55:30.112 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 11:55:30.113 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 11:55:30.117 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 11:55:30.118 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 11:55:30.119 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.AdminUserDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 11:55:30.121 +05:30 [INF] Executed action AdminController.GetAllUsers (TravelPlannerAPI) in 92.5482ms
2025-08-13 11:55:30.122 +05:30 [INF] Executed endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-13 11:55:30.124 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Admin/users   Responded with [200] in 113ms
2025-08-13 11:55:30.124 +05:30 [DBG] Connection id "0HNEQ62RD338V" completed keep alive response.
2025-08-13 11:55:30.125 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 11:55:30.126 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 11:55:30.127 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 11:55:30.128 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - 200 3028 application/json 125.6483ms
2025-08-13 12:00:29.781 +05:30 [DBG] Connection id "0HNEQ62RD3392" received FIN.
2025-08-13 12:00:29.782 +05:30 [DBG] Connection id "0HNEQ62RD3390" received FIN.
2025-08-13 12:00:29.784 +05:30 [DBG] Connection id "0HNEQ62RD338U" received FIN.
2025-08-13 12:00:29.788 +05:30 [DBG] Connection id "0HNEQ62RD3392" disconnecting.
2025-08-13 12:00:29.792 +05:30 [DBG] Connection id "0HNEQ62RD3390" disconnecting.
2025-08-13 12:00:29.796 +05:30 [DBG] Connection id "0HNEQ62RD3392" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 12:00:29.798 +05:30 [DBG] Connection id "0HNEQ62RD3390" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 12:00:29.798 +05:30 [DBG] Connection id "0HNEQ62RD338U" disconnecting.
2025-08-13 12:00:29.808 +05:30 [DBG] Connection id "0HNEQ62RD3392" stopped.
2025-08-13 12:00:29.809 +05:30 [DBG] Connection id "0HNEQ62RD338U" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 12:00:29.823 +05:30 [DBG] Connection id "0HNEQ62RD338U" stopped.
2025-08-13 12:00:29.823 +05:30 [DBG] Connection id "0HNEQ62RD3390" stopped.
2025-08-13 12:03:55.758 +05:30 [DBG] Connection id "0HNEQ62RD338V" received FIN.
2025-08-13 12:03:55.759 +05:30 [DBG] Connection id "0HNEQ62RD3391" received FIN.
2025-08-13 12:03:55.765 +05:30 [DBG] Connection id "0HNEQ62RD338V" disconnecting.
2025-08-13 12:03:55.767 +05:30 [DBG] Connection id "0HNEQ62RD3391" disconnecting.
2025-08-13 12:03:55.773 +05:30 [DBG] Connection id "0HNEQ62RD338V" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 12:03:55.775 +05:30 [DBG] Connection id "0HNEQ62RD3391" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 12:03:55.786 +05:30 [DBG] Connection id "0HNEQ62RD338V" stopped.
2025-08-13 12:03:55.786 +05:30 [DBG] Connection id "0HNEQ62RD3391" stopped.
2025-08-13 12:04:36.456 +05:30 [DBG] Connection id "0HNEQ62RD3393" accepted.
2025-08-13 12:04:36.457 +05:30 [DBG] Connection id "0HNEQ62RD3393" started.
2025-08-13 12:04:36.464 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/signup - null null
2025-08-13 12:04:36.465 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/signup'
2025-08-13 12:04:36.468 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 12:04:36.469 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:04:36.470 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:04:36.471 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:04:36.473 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/signup   Responded with [204] in 3ms
2025-08-13 12:04:36.473 +05:30 [DBG] Connection id "0HNEQ62RD3393" completed keep alive response.
2025-08-13 12:04:36.474 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/signup - 204 null null 10.9237ms
2025-08-13 12:04:36.484 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/signup - application/json 70
2025-08-13 12:04:36.486 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/signup'
2025-08-13 12:04:36.488 +05:30 [DBG] Endpoint 'AuthController.Signup (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/signup' is valid for the request path '/api/v1/Auth/signup'
2025-08-13 12:04:36.489 +05:30 [DBG] Request matched endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-13 12:04:36.490 +05:30 [DBG] Connection id "0HNEQ62RD3393", Request id "0HNEQ62RD3393:00000002": started reading request body.
2025-08-13 12:04:36.491 +05:30 [DBG] Connection id "0HNEQ62RD3393", Request id "0HNEQ62RD3393:00000002": done reading request body.
2025-08-13 12:04:36.492 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:04:36.492 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:04:36.493 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 12:04:36.494 +05:30 [INF] Executing endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-13 12:04:36.498 +05:30 [INF] Route matched with {action = "Signup", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Signup(TravelPlannerAPI.Dtos.SignupRequest) on controller AuthController (TravelPlannerAPI).
2025-08-13 12:04:36.501 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 12:04:36.502 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 12:04:36.504 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:04:36.506 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 12:04:36.507 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:04:36.509 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 12:04:36.510 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 12:04:36.512 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 12:04:36.513 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' ...
2025-08-13 12:04:36.515 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' using the name '' in request data ...
2025-08-13 12:04:36.516 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 12:04:36.519 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.SignupRequest'
2025-08-13 12:04:36.520 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-13 12:04:36.521 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-13 12:04:36.522 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest' ...
2025-08-13 12:04:36.524 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.SignupRequest'.
2025-08-13 12:04:36.527 +05:30 [DBG] Creating DbConnection.
2025-08-13 12:04:36.528 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 12:04:36.529 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:04:36.547 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:04:36.550 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:04:36.551 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:04:36.552 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:04:36.555 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 12:04:36.565 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 12:04:36.567 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:04:36.568 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 12:04:36.571 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:04:36.572 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 12:04:36.629 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:04:36.630 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:04:36.631 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:04:36.632 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:04:36.633 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:04:36.634 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 12:04:36.639 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 12:04:36.643 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:04:36.644 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 12:04:36.646 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:04:36.647 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 12:04:36.665 +05:30 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'UserModel.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:04:36.670 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:04:36.673 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 12:04:36.674 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 12:04:36.675 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 12:04:36.687 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:04:36.690 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:04:36.691 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:04:36.691 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:04:36.693 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 12:04:36.693 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([AccessFailedCount], [Address], [Bio], [ConcurrencyStamp], [Email], [EmailConfirmed], [IsActive], [IsAdmin], [LastLoginDate], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [ProfileImage], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2025-08-13 12:04:36.703 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([AccessFailedCount], [Address], [Bio], [ConcurrencyStamp], [Email], [EmailConfirmed], [IsActive], [IsAdmin], [LastLoginDate], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [ProfileImage], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2025-08-13 12:04:36.715 +05:30 [DBG] The foreign key property 'UserModel.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-08-13 12:04:36.721 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:04:36.722 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 14ms reading results.
2025-08-13 12:04:36.723 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:04:36.724 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 12:04:36.727 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:04:36.729 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 12:04:36.731 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 12:04:36.734 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 12:04:36.734 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 12:04:36.735 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 12:04:36.736 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 12:04:36.737 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 12:04:36.740 +05:30 [INF] Executed action AuthController.Signup (TravelPlannerAPI) in 231.5305ms
2025-08-13 12:04:36.742 +05:30 [INF] Executed endpoint 'AuthController.Signup (TravelPlannerAPI)'
2025-08-13 12:04:36.743 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/signup  {"Name":"Govind","Email":"govind@gmail.com","Password":"Password@123"} Responded with [200] in 253ms
2025-08-13 12:04:36.744 +05:30 [DBG] Connection id "0HNEQ62RD3393" completed keep alive response.
2025-08-13 12:04:36.745 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 12:04:36.747 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:04:36.748 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 12:04:36.750 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/signup - 200 121 application/json 265.4021ms
2025-08-13 12:09:12.209 +05:30 [DBG] Connection id "0HNEQ62RD3393" received FIN.
2025-08-13 12:11:48.961 +05:30 [DBG] Connection id "0HNEQ62RD3393" disconnecting.
2025-08-13 12:11:49.000 +05:30 [DBG] Connection id "0HNEQ62RD3393" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 12:11:49.023 +05:30 [DBG] Connection id "0HNEQ62RD3393" stopped.
2025-08-13 12:12:04.479 +05:30 [DBG] Connection id "0HNEQ62RD3394" accepted.
2025-08-13 12:12:04.480 +05:30 [DBG] Connection id "0HNEQ62RD3394" started.
2025-08-13 12:12:04.482 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 12:12:04.484 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 12:12:04.485 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 12:12:04.486 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:12:04.487 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:12:04.488 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:12:04.491 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 5ms
2025-08-13 12:12:04.492 +05:30 [DBG] Connection id "0HNEQ62RD3394" completed keep alive response.
2025-08-13 12:12:04.493 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 10.727ms
2025-08-13 12:12:04.501 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 54
2025-08-13 12:12:04.504 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 12:12:04.506 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 12:12:04.508 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 12:12:04.509 +05:30 [DBG] Connection id "0HNEQ62RD3394", Request id "0HNEQ62RD3394:00000002": started reading request body.
2025-08-13 12:12:04.510 +05:30 [DBG] Connection id "0HNEQ62RD3394", Request id "0HNEQ62RD3394:00000002": done reading request body.
2025-08-13 12:12:04.511 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:12:04.511 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:12:04.512 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 12:12:04.514 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 12:12:04.515 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 12:12:04.517 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 12:12:04.519 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 12:12:04.520 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:12:04.522 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 12:12:04.524 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:12:04.526 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 12:12:04.528 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 12:12:04.531 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 12:12:04.532 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 12:12:04.533 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 12:12:04.534 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 12:12:04.535 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 12:12:04.536 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 12:12:04.537 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 12:12:04.538 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 12:12:04.539 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 12:12:04.540 +05:30 [DBG] Creating DbConnection.
2025-08-13 12:12:04.541 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 12:12:04.542 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:04.543 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:04.543 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:12:04.545 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:12:04.546 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 12:12:04.547 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 12:12:04.556 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 12:12:04.558 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:12:04.560 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:04.562 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-13 12:12:04.563 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:04.564 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 12:12:04.620 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:04.621 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:04.622 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:12:04.623 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:12:04.624 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:12:04.625 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 12:12:04.629 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 12:12:04.632 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:04.632 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 12:12:04.633 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:04.634 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 12:12:04.635 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:12:04.637 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 12:12:04.638 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 12:12:04.639 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 12:12:04.641 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:04.642 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:04.643 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:12:04.643 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:12:04.644 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:12:04.645 +05:30 [DBG] Executing DbCommand [Parameters=[@p22='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p23='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [Role] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-08-13 12:12:04.653 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p22='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p23='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [Role] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-08-13 12:12:04.657 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:04.658 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 12:12:04.659 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:04.660 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 12:12:04.661 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:12:04.662 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 12:12:04.663 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 12:12:04.665 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 12:12:04.665 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 12:12:04.666 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 12:12:04.667 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 12:12:04.668 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 12:12:04.671 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 145.0626ms
2025-08-13 12:12:04.672 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 12:12:04.673 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"govind@gmail.com","password":"Password@123"} Responded with [200] in 164ms
2025-08-13 12:12:04.674 +05:30 [DBG] Connection id "0HNEQ62RD3394" completed keep alive response.
2025-08-13 12:12:04.675 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 12:12:04.676 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:04.678 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 12:12:04.679 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 899 application/json 178.0551ms
2025-08-13 12:12:04.717 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:12:04.724 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:12:04.726 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 12:12:04.727 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:12:04.728 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:12:04.729 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:12:04.731 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 3ms
2025-08-13 12:12:04.732 +05:30 [DBG] Connection id "0HNEQ62RD3394" completed keep alive response.
2025-08-13 12:12:04.733 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 15.9525ms
2025-08-13 12:12:04.742 +05:30 [DBG] Connection id "0HNEQ62RD3395" accepted.
2025-08-13 12:12:04.750 +05:30 [DBG] Connection id "0HNEQ62RD3395" started.
2025-08-13 12:12:04.752 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:12:04.756 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:12:04.758 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:12:04.760 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:12:04.763 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:12:04.764 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:12:04.765 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:12:04.766 +05:30 [DBG] Successfully validated the token.
2025-08-13 12:12:04.766 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 12:12:04.767 +05:30 [DBG] Authorization was successful.
2025-08-13 12:12:04.770 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:12:04.771 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 12:12:04.772 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 12:12:04.773 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 12:12:04.774 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:12:04.777 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 12:12:04.778 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:12:04.779 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 12:12:04.781 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 12:12:04.783 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 12:12:04.785 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 12:12:04.787 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 12:12:04.788 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 12:12:04.790 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 12:12:04.791 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 12:12:04.792 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 12:12:04.793 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:12:04.795 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:12:04.796 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 12:12:04.797 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:12:04.800 +05:30 [DBG] Creating DbConnection.
2025-08-13 12:12:04.801 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 12:12:04.803 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:04.805 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:04.806 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:12:04.806 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:12:04.808 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:12:04.809 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 12:12:04.851 +05:30 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 12:12:04.855 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:04.857 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 12:12:04.858 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:04.861 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 12:12:04.865 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:04.866 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:04.867 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:12:04.868 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:12:04.869 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:12:04.870 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 12:12:04.893 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 12:12:04.897 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:04.898 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 12:12:04.900 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:04.903 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 12:12:04.904 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 12:12:04.906 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 12:12:04.907 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 12:12:04.909 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 12:12:04.910 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 12:12:04.911 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 12:12:04.913 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 133.9011ms
2025-08-13 12:12:04.915 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:12:04.917 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 153ms
2025-08-13 12:12:04.921 +05:30 [DBG] Connection id "0HNEQ62RD3395" completed keep alive response.
2025-08-13 12:12:04.924 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 12:12:04.925 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:04.927 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 12:12:04.929 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 176.9456ms
2025-08-13 12:12:19.551 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 12:12:19.553 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 12:12:19.554 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 12:12:19.555 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:12:19.556 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:12:19.557 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:12:19.558 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 2ms
2025-08-13 12:12:19.559 +05:30 [DBG] Connection id "0HNEQ62RD3394" completed keep alive response.
2025-08-13 12:12:19.560 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 8.9251ms
2025-08-13 12:12:19.564 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 51
2025-08-13 12:12:19.566 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 12:12:19.567 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 12:12:19.568 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 12:12:19.569 +05:30 [DBG] Connection id "0HNEQ62RD3394", Request id "0HNEQ62RD3394:00000005": started reading request body.
2025-08-13 12:12:19.570 +05:30 [DBG] Connection id "0HNEQ62RD3394", Request id "0HNEQ62RD3394:00000005": done reading request body.
2025-08-13 12:12:19.571 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:12:19.572 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:12:19.573 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 12:12:19.574 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 12:12:19.575 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 12:12:19.577 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 12:12:19.578 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 12:12:19.580 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:12:19.581 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 12:12:19.583 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:12:19.584 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 12:12:19.586 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 12:12:19.588 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 12:12:19.589 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 12:12:19.589 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 12:12:19.591 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 12:12:19.592 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 12:12:19.592 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 12:12:19.593 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 12:12:19.595 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 12:12:19.597 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 12:12:19.598 +05:30 [DBG] Creating DbConnection.
2025-08-13 12:12:19.599 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 12:12:19.600 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.601 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.602 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:12:19.603 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:12:19.603 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:12:19.604 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 12:12:19.608 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 12:12:19.611 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:12:19.613 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.613 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 12:12:19.615 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.616 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 12:12:19.666 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.667 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.668 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:12:19.669 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:12:19.670 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:12:19.671 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 12:12:19.675 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 12:12:19.677 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.677 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 12:12:19.678 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.679 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 12:12:19.680 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:12:19.682 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 12:12:19.682 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 12:12:19.683 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 12:12:19.684 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.685 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.686 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:12:19.687 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:12:19.689 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 12:12:19.690 +05:30 [DBG] Executing DbCommand [Parameters=[@p22='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p23='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [Role] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-08-13 12:12:19.694 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p22='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p23='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [Role] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-08-13 12:12:19.697 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.698 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 12:12:19.699 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.700 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 12:12:19.702 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:12:19.703 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 12:12:19.705 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 12:12:19.707 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 12:12:19.708 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 12:12:19.709 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 12:12:19.709 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 12:12:19.711 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 12:12:19.713 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 128.4513ms
2025-08-13 12:12:19.714 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 12:12:19.715 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"admin@gmail.com","password":"Admin@1234"} Responded with [200] in 145ms
2025-08-13 12:12:19.716 +05:30 [DBG] Connection id "0HNEQ62RD3394" completed keep alive response.
2025-08-13 12:12:19.717 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 12:12:19.719 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.722 +05:30 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-13 12:12:19.724 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 893 application/json 159.7555ms
2025-08-13 12:12:19.728 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:12:19.732 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:12:19.734 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 12:12:19.737 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:12:19.738 +05:30 [DBG] Connection id "0HNEQ62RD3396" accepted.
2025-08-13 12:12:19.739 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:12:19.740 +05:30 [DBG] Connection id "0HNEQ62RD3396" started.
2025-08-13 12:12:19.741 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:12:19.743 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - null null
2025-08-13 12:12:19.746 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 8ms
2025-08-13 12:12:19.747 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-13 12:12:19.749 +05:30 [DBG] Connection id "0HNEQ62RD3394" completed keep alive response.
2025-08-13 12:12:19.750 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 12:12:19.751 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:12:19.755 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:12:19.751 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 23.1105ms
2025-08-13 12:12:19.760 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:12:19.761 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:12:19.764 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:12:19.764 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:12:19.766 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:12:19.767 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Admin/users   Responded with [204] in 13ms
2025-08-13 12:12:19.769 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:12:19.770 +05:30 [DBG] Connection id "0HNEQ62RD3396" completed keep alive response.
2025-08-13 12:12:19.771 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:12:19.772 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Admin/users - 204 null null 28.745ms
2025-08-13 12:12:19.773 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:12:19.773 +05:30 [DBG] Connection id "0HNEQ62RD3397" accepted.
2025-08-13 12:12:19.780 +05:30 [DBG] Successfully validated the token.
2025-08-13 12:12:19.781 +05:30 [DBG] Connection id "0HNEQ62RD3397" started.
2025-08-13 12:12:19.782 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 12:12:19.783 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - null null
2025-08-13 12:12:19.783 +05:30 [DBG] Authorization was successful.
2025-08-13 12:12:19.785 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Admin/users'
2025-08-13 12:12:19.786 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:12:19.787 +05:30 [DBG] Endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Admin/users' is valid for the request path '/api/v1/Admin/users'
2025-08-13 12:12:19.788 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 12:12:19.789 +05:30 [DBG] Request matched endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-13 12:12:19.790 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 12:12:19.791 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:12:19.792 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 12:12:19.793 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:12:19.793 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:12:19.794 +05:30 [DBG] Successfully validated the token.
2025-08-13 12:12:19.795 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 12:12:19.796 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 12:12:19.797 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:12:19.798 +05:30 [DBG] Authorization was successful.
2025-08-13 12:12:19.799 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 12:12:19.800 +05:30 [INF] Executing endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-13 12:12:19.801 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 12:12:19.801 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller AdminController (TravelPlannerAPI).
2025-08-13 12:12:19.803 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 12:12:19.804 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 12:12:19.805 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 12:12:19.806 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 12:12:19.807 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 12:12:19.809 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:12:19.810 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 12:12:19.811 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 12:12:19.812 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 12:12:19.813 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:12:19.814 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 12:12:19.816 +05:30 [DBG] Executing controller factory for controller AdminController (TravelPlannerAPI)
2025-08-13 12:12:19.817 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 12:12:19.819 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:12:19.819 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 12:12:19.819 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:12:19.821 +05:30 [DBG] Executed controller factory for controller AdminController (TravelPlannerAPI)
2025-08-13 12:12:19.822 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 12:12:19.823 +05:30 [DBG] Creating DbConnection.
2025-08-13 12:12:19.824 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:12:19.825 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 12:12:19.826 +05:30 [DBG] Creating DbConnection.
2025-08-13 12:12:19.826 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.827 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 12:12:19.828 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.828 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.829 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:12:19.831 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:12:19.835 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-08-13 12:12:19.836 +05:30 [DBG] Executing DbCommand [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-13 12:12:19.856 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], COALESCE([u].[UserName], N''), COALESCE([u].[Email], N''), [u].[LastLoginDate], CASE
    WHEN [u].[LastLoginDate] > @__sixMonthsAgo_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], (
    SELECT COUNT(*)
    FROM [Trips] AS [t0]
    WHERE [u].[Id] = [t0].[UserId]), [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [t2].[Title], [t2].[Id], COALESCE([u].[Role], N'User')
FROM [Users] AS [u]
LEFT JOIN [Trips] AS [t] ON [u].[Id] = [t].[UserId]
LEFT JOIN [Trips] AS [t1] ON [u].[Id] = [t1].[UserId]
LEFT JOIN (
    SELECT [t3].[Title], [t3].[Id], [t3].[UserId]
    FROM [Trips] AS [t3]
) AS [t2] ON [u].[Id] = [t2].[UserId]
ORDER BY [u].[Id], [t].[Id], [t1].[Id]
2025-08-13 12:12:19.856 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.862 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:12:19.862 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:12:19.865 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:12:19.865 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-13 12:12:19.867 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:12:19.868 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-13 12:12:19.869 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:12:19.870 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 12:12:19.871 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:12:19.873 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 12:12:19.874 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:12:19.876 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.877 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:12:19.878 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 12:12:19.880 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:12:19.882 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.884 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:12:19.885 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (3ms).
2025-08-13 12:12:19.887 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:12:19.889 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.891 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.892 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:12:19.893 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:12:19.895 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 12:12:19.896 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:12:19.897 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 12:12:19.898 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:12:19.903 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 12:12:19.903 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:12:19.906 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.907 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:12:19.908 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 12:12:19.910 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:12:19.912 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.913 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:12:19.914 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 12:12:19.915 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:12:19.917 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 12:12:19.918 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:12:19.920 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 12:12:19.921 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:12:19.922 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 12:12:19.923 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:12:19.924 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 12:12:19.928 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.928 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 12:12:19.929 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 67ms reading results.
2025-08-13 12:12:19.930 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 12:12:19.932 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.934 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 134.9136ms
2025-08-13 12:12:19.935 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (3ms).
2025-08-13 12:12:19.937 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:12:19.939 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 12:12:19.941 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 170ms
2025-08-13 12:12:19.945 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 12:12:19.946 +05:30 [DBG] Connection id "0HNEQ62RD3395" completed keep alive response.
2025-08-13 12:12:19.948 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 12:12:19.950 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 12:12:19.951 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 12:12:19.952 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.953 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 12:12:19.954 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 12:12:19.955 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.AdminUserDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 12:12:19.956 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 168 application/json 205.3208ms
2025-08-13 12:12:19.959 +05:30 [INF] Executed action AdminController.GetAllUsers (TravelPlannerAPI) in 143.118ms
2025-08-13 12:12:19.962 +05:30 [INF] Executed endpoint 'AdminController.GetAllUsers (TravelPlannerAPI)'
2025-08-13 12:12:19.964 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Admin/users   Responded with [200] in 172ms
2025-08-13 12:12:19.965 +05:30 [DBG] Connection id "0HNEQ62RD3397" completed keep alive response.
2025-08-13 12:12:19.966 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 12:12:19.967 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:12:19.968 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 12:12:19.970 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Admin/users - 200 3284 application/json 187.2522ms
2025-08-13 12:19:49.134 +05:30 [DBG] Connection id "0HNEQ62RD3395" received FIN.
2025-08-13 12:19:49.135 +05:30 [DBG] Connection id "0HNEQ62RD3397" received FIN.
2025-08-13 12:19:49.141 +05:30 [DBG] Connection id "0HNEQ62RD3394" received FIN.
2025-08-13 12:19:49.143 +05:30 [DBG] Connection id "0HNEQ62RD3395" disconnecting.
2025-08-13 12:19:49.143 +05:30 [DBG] Connection id "0HNEQ62RD3396" received FIN.
2025-08-13 12:19:49.150 +05:30 [DBG] Connection id "0HNEQ62RD3395" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 12:19:49.156 +05:30 [DBG] Connection id "0HNEQ62RD3394" disconnecting.
2025-08-13 12:19:49.162 +05:30 [DBG] Connection id "0HNEQ62RD3396" disconnecting.
2025-08-13 12:19:49.149 +05:30 [DBG] Connection id "0HNEQ62RD3397" disconnecting.
2025-08-13 12:19:49.168 +05:30 [DBG] Connection id "0HNEQ62RD3395" stopped.
2025-08-13 12:19:49.168 +05:30 [DBG] Connection id "0HNEQ62RD3396" stopped.
2025-08-13 12:19:49.173 +05:30 [DBG] Connection id "0HNEQ62RD3397" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 12:19:49.178 +05:30 [DBG] Connection id "0HNEQ62RD3396" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 12:19:49.164 +05:30 [DBG] Connection id "0HNEQ62RD3394" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 12:19:49.185 +05:30 [DBG] Connection id "0HNEQ62RD3397" stopped.
2025-08-13 12:19:49.185 +05:30 [DBG] Connection id "0HNEQ62RD3394" stopped.
2025-08-13 12:19:57.511 +05:30 [DBG] Connection id "0HNEQ62RD3398" accepted.
2025-08-13 12:19:57.515 +05:30 [DBG] Connection id "0HNEQ62RD3398" started.
2025-08-13 12:19:57.517 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 12:19:57.519 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 12:19:57.520 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 12:19:57.521 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:19:57.521 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:19:57.522 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:19:57.525 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 4ms
2025-08-13 12:19:57.526 +05:30 [DBG] Connection id "0HNEQ62RD3398" completed keep alive response.
2025-08-13 12:19:57.527 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 10.2336ms
2025-08-13 12:19:57.529 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 56
2025-08-13 12:19:57.531 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 12:19:57.532 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 12:19:57.533 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 12:19:57.534 +05:30 [DBG] Connection id "0HNEQ62RD3398", Request id "0HNEQ62RD3398:00000002": started reading request body.
2025-08-13 12:19:57.535 +05:30 [DBG] Connection id "0HNEQ62RD3398", Request id "0HNEQ62RD3398:00000002": done reading request body.
2025-08-13 12:19:57.537 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:19:57.538 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:19:57.539 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 12:19:57.540 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 12:19:57.541 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 12:19:57.542 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 12:19:57.544 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 12:19:57.545 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:19:57.547 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 12:19:57.548 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:19:57.550 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 12:19:57.552 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 12:19:57.554 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 12:19:57.555 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 12:19:57.557 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 12:19:57.558 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 12:19:57.560 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 12:19:57.561 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 12:19:57.562 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 12:19:57.563 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 12:19:57.564 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 12:19:57.566 +05:30 [DBG] Creating DbConnection.
2025-08-13 12:19:57.567 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 12:19:57.568 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:57.585 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:57.587 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:19:57.588 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:19:57.589 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:19:57.590 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 12:19:57.599 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 12:19:57.602 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:57.604 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:57.605 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 12:19:57.606 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:57.607 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 12:19:57.662 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:57.663 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:57.664 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:19:57.665 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:19:57.666 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 12:19:57.667 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 12:19:57.673 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 12:19:57.676 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:57.677 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 12:19:57.680 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:57.680 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 12:19:57.682 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:57.683 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 12:19:57.684 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 12:19:57.685 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 12:19:57.686 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:57.687 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:57.688 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:19:57.689 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:19:57.690 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:19:57.691 +05:30 [DBG] Executing DbCommand [Parameters=[@p22='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p23='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [Role] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-08-13 12:19:57.701 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p22='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p23='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [Role] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-08-13 12:19:57.704 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:57.705 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 12:19:57.706 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:57.707 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 12:19:57.708 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:57.710 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 12:19:57.712 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 12:19:57.714 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 12:19:57.714 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 12:19:57.715 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 12:19:57.716 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 12:19:57.717 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 12:19:57.719 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 169.5352ms
2025-08-13 12:19:57.720 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 12:19:57.722 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"suraksha@gmail.com","password":"Password@123"} Responded with [200] in 187ms
2025-08-13 12:19:57.723 +05:30 [DBG] Connection id "0HNEQ62RD3398" completed keep alive response.
2025-08-13 12:19:57.724 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 12:19:57.726 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:57.728 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 12:19:57.730 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 907 application/json 200.5961ms
2025-08-13 12:19:57.734 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:19:57.737 +05:30 [DBG] Connection id "0HNEQ62RD3399" accepted.
2025-08-13 12:19:57.737 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:19:57.741 +05:30 [DBG] Connection id "0HNEQ62RD3399" started.
2025-08-13 12:19:57.742 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 12:19:57.745 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:19:57.746 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:19:57.749 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:19:57.751 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:19:57.752 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 12:19:57.753 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:19:57.755 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:19:57.759 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 13ms
2025-08-13 12:19:57.760 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:19:57.763 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:19:57.762 +05:30 [DBG] Connection id "0HNEQ62RD3398" completed keep alive response.
2025-08-13 12:19:57.765 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 10ms
2025-08-13 12:19:57.768 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 34.4799ms
2025-08-13 12:19:57.769 +05:30 [DBG] Connection id "0HNEQ62RD339A" accepted.
2025-08-13 12:19:57.770 +05:30 [DBG] Connection id "0HNEQ62RD3399" completed keep alive response.
2025-08-13 12:19:57.778 +05:30 [DBG] Connection id "0HNEQ62RD339A" started.
2025-08-13 12:19:57.779 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 33.9996ms
2025-08-13 12:19:57.781 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:19:57.786 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:19:57.788 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:19:57.791 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:19:57.793 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:19:57.795 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:19:57.796 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:19:57.798 +05:30 [DBG] Successfully validated the token.
2025-08-13 12:19:57.799 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 12:19:57.800 +05:30 [DBG] Authorization was successful.
2025-08-13 12:19:57.802 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:19:57.803 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 12:19:57.805 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 12:19:57.808 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 12:19:57.810 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:19:57.811 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 12:19:57.813 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:19:57.815 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 12:19:57.817 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 12:19:57.819 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 12:19:57.820 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 12:19:57.822 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 12:19:57.824 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 12:19:57.826 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 12:19:57.827 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 12:19:57.829 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 12:19:57.830 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:19:57.831 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:19:57.832 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 12:19:57.833 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:19:57.835 +05:30 [DBG] Creating DbConnection.
2025-08-13 12:19:57.837 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 12:19:57.838 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:57.839 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:57.840 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:19:57.841 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:19:57.842 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 12:19:57.843 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 12:19:57.856 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 12:19:57.859 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:57.861 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 12:19:57.862 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:57.864 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 12:19:57.866 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:57.867 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:57.868 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:19:57.869 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:19:57.870 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:19:57.874 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 12:19:57.900 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 12:19:57.904 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:57.907 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:57.908 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:57.909 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:57.910 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:57.912 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:57.914 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:57.915 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:57.916 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:57.917 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:57.919 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:57.920 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:57.922 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:57.926 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:57.927 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:57.929 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:57.930 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:57.931 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:57.933 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:57.937 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 33ms reading results.
2025-08-13 12:19:57.938 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:57.942 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (3ms).
2025-08-13 12:19:57.944 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 12:19:57.947 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 12:19:57.948 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 12:19:57.949 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 12:19:57.950 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 12:19:57.951 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 12:19:57.953 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 137.9255ms
2025-08-13 12:19:57.955 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:19:57.958 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 162ms
2025-08-13 12:19:57.959 +05:30 [DBG] Connection id "0HNEQ62RD339A" completed keep alive response.
2025-08-13 12:19:57.960 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 12:19:57.961 +05:30 [DBG] Connection id "0HNEQ62RD339B" accepted.
2025-08-13 12:19:57.961 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:57.962 +05:30 [DBG] Connection id "0HNEQ62RD339B" started.
2025-08-13 12:19:57.964 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 12:19:57.966 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 184.4325ms
2025-08-13 12:19:57.968 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:19:57.970 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:19:57.971 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:19:57.974 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:19:57.976 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:19:57.977 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:19:57.977 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:19:57.978 +05:30 [DBG] Successfully validated the token.
2025-08-13 12:19:57.979 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 12:19:57.980 +05:30 [DBG] Authorization was successful.
2025-08-13 12:19:57.981 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:19:57.982 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 12:19:57.984 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 12:19:57.985 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 12:19:57.986 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:19:57.988 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 12:19:57.989 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:19:57.992 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 12:19:57.994 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 12:19:57.996 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 12:19:57.996 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 12:19:57.997 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 12:19:57.999 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 12:19:58.000 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 12:19:58.002 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 12:19:58.003 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 12:19:58.006 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:19:58.007 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:19:58.008 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 12:19:58.009 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:19:58.011 +05:30 [DBG] Creating DbConnection.
2025-08-13 12:19:58.011 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 12:19:58.012 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:58.013 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:58.014 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:19:58.015 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:19:58.016 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:19:58.017 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 12:19:58.020 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 12:19:58.023 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:58.024 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 12:19:58.025 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:58.026 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 12:19:58.028 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:58.030 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:58.031 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:19:58.032 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:19:58.033 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:19:58.034 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 12:19:58.039 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 12:19:58.043 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:58.044 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:58.045 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:58.046 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:58.048 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:58.051 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:58.052 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:58.053 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:58.054 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:58.055 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:58.057 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:58.058 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:58.059 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:58.060 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:58.061 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:58.062 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:58.063 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:58.065 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:19:58.066 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:58.067 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 24ms reading results.
2025-08-13 12:19:58.068 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:58.069 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 12:19:58.071 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 12:19:58.073 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 12:19:58.074 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 12:19:58.075 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 12:19:58.075 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 12:19:58.077 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 12:19:58.078 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 86.4445ms
2025-08-13 12:19:58.079 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:19:58.082 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 105ms
2025-08-13 12:19:58.083 +05:30 [DBG] Connection id "0HNEQ62RD339A" completed keep alive response.
2025-08-13 12:19:58.084 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 12:19:58.085 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:19:58.087 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 12:19:58.088 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 120.08ms
2025-08-13 12:21:49.194 +05:30 [DBG] Connection id "0HNEQ62RD339B" received FIN.
2025-08-13 12:21:49.196 +05:30 [DBG] Connection id "0HNEQ62RD339B" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 12:21:49.201 +05:30 [DBG] Connection id "0HNEQ62RD339B" disconnecting.
2025-08-13 12:21:49.204 +05:30 [DBG] Connection id "0HNEQ62RD339B" stopped.
2025-08-13 12:25:41.811 +05:30 [DBG] Connection id "0HNEQ62RD339A" received FIN.
2025-08-13 12:28:25.783 +05:30 [DBG] Connection id "0HNEQ62RD3399" received FIN.
2025-08-13 12:28:26.261 +05:30 [DBG] Connection id "0HNEQ62RD339A" disconnecting.
2025-08-13 12:28:26.317 +05:30 [DBG] Connection id "0HNEQ62RD3399" disconnecting.
2025-08-13 12:28:26.242 +05:30 [DBG] Connection id "0HNEQ62RD3398" received FIN.
2025-08-13 12:28:26.458 +05:30 [DBG] Connection id "0HNEQ62RD339A" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 12:28:26.527 +05:30 [DBG] Connection id "0HNEQ62RD3398" disconnecting.
2025-08-13 12:28:26.513 +05:30 [DBG] Connection id "0HNEQ62RD3399" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 12:28:26.554 +05:30 [DBG] Connection id "0HNEQ62RD3398" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 12:28:26.556 +05:30 [DBG] Connection id "0HNEQ62RD339A" stopped.
2025-08-13 12:28:26.567 +05:30 [DBG] Connection id "0HNEQ62RD3399" stopped.
2025-08-13 12:28:26.592 +05:30 [DBG] Connection id "0HNEQ62RD3398" stopped.
2025-08-13 12:28:26.967 +05:30 [DBG] Connection id "0HNEQ62RD339C" accepted.
2025-08-13 12:28:26.968 +05:30 [DBG] Connection id "0HNEQ62RD339C" started.
2025-08-13 12:28:26.969 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:28:26.971 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:28:26.972 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 12:28:26.974 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:28:26.975 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:28:26.976 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:28:26.979 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 4ms
2025-08-13 12:28:26.980 +05:30 [DBG] Connection id "0HNEQ62RD339C" completed keep alive response.
2025-08-13 12:28:26.982 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 13.2642ms
2025-08-13 12:28:26.983 +05:30 [DBG] Connection id "0HNEQ62RD339D" accepted.
2025-08-13 12:28:26.989 +05:30 [DBG] Connection id "0HNEQ62RD339D" started.
2025-08-13 12:28:26.990 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:28:26.993 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:28:26.994 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:28:26.996 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:28:26.998 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:28:26.999 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:28:27.000 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:28:27.001 +05:30 [DBG] Successfully validated the token.
2025-08-13 12:28:27.002 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 12:28:27.003 +05:30 [DBG] Authorization was successful.
2025-08-13 12:28:27.004 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:28:27.006 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 12:28:27.008 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 12:28:27.009 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 12:28:27.010 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:28:27.014 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 12:28:27.015 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:28:27.017 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 12:28:27.019 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 12:28:27.020 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 12:28:27.021 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 12:28:27.022 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 12:28:27.024 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 12:28:27.025 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 12:28:27.026 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 12:28:27.030 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 12:28:27.031 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:28:27.032 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:28:27.033 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 12:28:27.034 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:28:27.036 +05:30 [DBG] Creating DbConnection.
2025-08-13 12:28:27.037 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 12:28:27.038 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:28:27.053 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:28:27.056 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:28:27.057 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:28:27.058 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:28:27.060 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 12:28:27.074 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 12:28:27.078 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:28:27.079 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 12:28:27.080 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:28:27.081 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 12:28:27.084 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:28:27.086 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:28:27.087 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:28:27.088 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:28:27.089 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 12:28:27.090 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 12:28:27.108 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 12:28:27.112 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:28:27.113 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:28:27.114 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:28:27.117 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:28:27.119 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:28:27.120 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:28:27.122 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:28:27.123 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:28:27.125 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:28:27.128 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:28:27.129 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:28:27.131 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:28:27.132 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:28:27.134 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:28:27.135 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:28:27.136 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:28:27.137 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:28:27.139 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:28:27.141 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:28:27.142 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 30ms reading results.
2025-08-13 12:28:27.144 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:28:27.145 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 12:28:27.146 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 12:28:27.148 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 12:28:27.148 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 12:28:27.149 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 12:28:27.150 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 12:28:27.152 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 12:28:27.153 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 136.6824ms
2025-08-13 12:28:27.154 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:28:27.157 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 157ms
2025-08-13 12:28:27.158 +05:30 [DBG] Connection id "0HNEQ62RD339D" completed keep alive response.
2025-08-13 12:28:27.159 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 12:28:27.160 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:28:27.161 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 12:28:27.163 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 172.4901ms
2025-08-13 12:33:53.366 +05:30 [DBG] Connection id "0HNEQ62RD339D" received FIN.
2025-08-13 12:33:53.372 +05:30 [DBG] Connection id "0HNEQ62RD339C" received FIN.
2025-08-13 12:33:53.373 +05:30 [DBG] Connection id "0HNEQ62RD339D" disconnecting.
2025-08-13 12:33:53.380 +05:30 [DBG] Connection id "0HNEQ62RD339D" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 12:33:53.380 +05:30 [DBG] Connection id "0HNEQ62RD339C" disconnecting.
2025-08-13 12:33:53.388 +05:30 [DBG] Connection id "0HNEQ62RD339C" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 12:33:53.399 +05:30 [DBG] Connection id "0HNEQ62RD339C" stopped.
2025-08-13 12:33:53.399 +05:30 [DBG] Connection id "0HNEQ62RD339D" stopped.
2025-08-13 12:41:33.776 +05:30 [DBG] Connection id "0HNEQ62RD339E" accepted.
2025-08-13 12:41:33.780 +05:30 [DBG] Connection id "0HNEQ62RD339E" started.
2025-08-13 12:41:33.781 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:41:33.783 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:41:33.784 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 12:41:33.785 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:41:33.786 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:41:33.788 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:41:33.789 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 4ms
2025-08-13 12:41:33.790 +05:30 [DBG] Connection id "0HNEQ62RD339E" completed keep alive response.
2025-08-13 12:41:33.792 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 10.7014ms
2025-08-13 12:41:33.792 +05:30 [DBG] Connection id "0HNEQ62RD339F" accepted.
2025-08-13 12:41:33.799 +05:30 [DBG] Connection id "0HNEQ62RD339F" started.
2025-08-13 12:41:33.800 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:41:33.801 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:41:33.802 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:41:33.803 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:41:33.805 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:41:33.805 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:41:33.806 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:41:33.807 +05:30 [DBG] Successfully validated the token.
2025-08-13 12:41:33.809 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 12:41:33.810 +05:30 [DBG] Authorization was successful.
2025-08-13 12:41:33.810 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:41:33.811 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 12:41:33.813 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 12:41:33.814 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 12:41:33.815 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:41:33.816 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 12:41:33.817 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:41:33.819 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 12:41:33.821 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 12:41:33.823 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 12:41:33.825 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 12:41:33.826 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 12:41:33.827 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 12:41:33.829 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 12:41:33.830 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 12:41:33.831 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 12:41:33.832 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:41:33.833 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:41:33.835 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 12:41:33.837 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:41:33.839 +05:30 [DBG] Creating DbConnection.
2025-08-13 12:41:33.840 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 12:41:33.841 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:41:33.853 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:41:33.856 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:41:33.857 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:41:33.859 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 12:41:33.860 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 12:41:33.872 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 12:41:33.874 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:41:33.876 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 12:41:33.878 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:41:33.879 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 12:41:33.881 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:41:33.882 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:41:33.883 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:41:33.884 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:41:33.885 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:41:33.886 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 12:41:33.901 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 12:41:33.904 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:41:33.905 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:41:33.906 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:41:33.909 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:41:33.911 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:41:33.912 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:41:33.914 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:41:33.915 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:41:33.916 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:41:33.918 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:41:33.919 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:41:33.920 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:41:33.921 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:41:33.924 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:41:33.926 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:41:33.928 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:41:33.929 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:41:33.930 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:41:33.932 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:41:33.933 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 29ms reading results.
2025-08-13 12:41:33.934 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:41:33.936 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 12:41:33.937 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 12:41:33.940 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 12:41:33.941 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 12:41:33.942 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 12:41:33.943 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 12:41:33.945 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 12:41:33.946 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 126.6226ms
2025-08-13 12:41:33.947 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:41:33.949 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 143ms
2025-08-13 12:41:33.950 +05:30 [DBG] Connection id "0HNEQ62RD339F" completed keep alive response.
2025-08-13 12:41:33.951 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 12:41:33.952 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:41:33.953 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 12:41:33.955 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 155.3286ms
2025-08-13 12:41:54.259 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-13 12:41:54.395 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-13 12:41:54.447 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-13 12:41:54.758 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 12:41:54.760 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 12:41:54.762 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 12:41:54.763 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 12:41:54.857 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 12:41:54.858 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 12:41:54.859 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 12:41:54.861 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 12:41:54.938 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 12:41:55.004 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-13 12:41:55.120 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 12:41:55.246 +05:30 [DBG] Creating DbConnection.
2025-08-13 12:41:55.264 +05:30 [DBG] Created DbConnection. (16ms).
2025-08-13 12:41:55.268 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:41:55.522 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:41:55.526 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:41:55.532 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-13 12:41:55.540 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-08-13 12:41:55.547 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 12:41:55.608 +05:30 [INF] Executed DbCommand (60ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 12:41:55.645 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:41:55.660 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:41:55.666 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 52ms reading results.
2025-08-13 12:41:55.670 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:41:55.675 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (5ms).
2025-08-13 12:41:55.679 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-13 12:41:55.687 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.Role (string) Required, 19], [Property: UserModel.SecurityStamp (string), 20], [Property: UserModel.TwoFactorEnabled (bool) Required, 21], [Property: UserModel.UserName (string) MaxLength(256), 22] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 12:41:55.692 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:41:55.694 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:41:55.695 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:41:55.695 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:41:55.696 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:41:55.697 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 12:41:55.704 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 12:41:55.727 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:41:55.758 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:41:55.760 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 53ms reading results.
2025-08-13 12:41:55.762 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:41:55.763 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 12:41:55.767 +05:30 [INF] Admin user already exists.
2025-08-13 12:41:55.770 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 12:41:55.772 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:41:55.773 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 12:41:55.776 +05:30 [DBG] Hosting starting
2025-08-13 12:41:55.785 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-13 12:41:55.792 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-13 12:41:55.799 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-13 12:41:55.803 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 12:41:55.804 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-13 12:41:55.806 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 12:41:55.809 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-13 12:41:55.811 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-13 12:41:55.813 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-13 12:41:55.814 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-13 12:41:55.896 +05:30 [DBG] Connection id "0HNEQ72NSQF1Q" received FIN.
2025-08-13 12:41:55.903 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-13 12:41:55.904 +05:30 [DBG] Connection id "0HNEQ72NSQF1Q" accepted.
2025-08-13 12:41:55.904 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-13 12:41:55.905 +05:30 [DBG] Connection id "0HNEQ72NSQF1Q" started.
2025-08-13 12:41:55.906 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-13 12:41:55.907 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-13 12:41:55.907 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-13 12:41:55.909 +05:30 [DBG] Connection id "0HNEQ72NSQF1Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 12:41:55.912 +05:30 [DBG] Connection id "0HNEQ72NSQF1Q" disconnecting.
2025-08-13 12:41:55.916 +05:30 [DBG] Connection id "0HNEQ72NSQF1Q" stopped.
2025-08-13 12:41:55.982 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-13 12:41:55.983 +05:30 [INF] Hosting environment: Development
2025-08-13 12:41:55.985 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-13 12:41:55.986 +05:30 [DBG] Hosting started
2025-08-13 12:42:15.713 +05:30 [DBG] Connection id "0HNEQ72NSQF1R" accepted.
2025-08-13 12:42:15.715 +05:30 [DBG] Connection id "0HNEQ72NSQF1R" started.
2025-08-13 12:42:15.759 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:42:15.776 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-13 12:42:15.814 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:42:15.816 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 12:42:15.854 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-13 12:42:15.858 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:42:15.861 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:42:15.863 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:42:15.879 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 25ms
2025-08-13 12:42:15.884 +05:30 [DBG] Connection id "0HNEQ72NSQF1R" completed keep alive response.
2025-08-13 12:42:15.888 +05:30 [DBG] Connection id "0HNEQ72NSQF1S" accepted.
2025-08-13 12:42:15.888 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 148.2147ms
2025-08-13 12:42:15.889 +05:30 [DBG] Connection id "0HNEQ72NSQF1S" started.
2025-08-13 12:42:15.898 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:42:15.910 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:42:15.916 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:42:15.919 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:42:15.922 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:42:15.927 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:42:15.927 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:42:16.042 +05:30 [DBG] Successfully validated the token.
2025-08-13 12:42:16.046 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 12:42:16.054 +05:30 [DBG] Authorization was successful.
2025-08-13 12:42:16.058 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:42:16.088 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 12:42:16.093 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 12:42:16.094 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 12:42:16.096 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:42:16.098 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 12:42:16.100 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:42:16.102 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 12:42:16.143 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 12:42:16.297 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 12:42:16.305 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 12:42:16.309 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 12:42:16.315 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 12:42:16.318 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 12:42:16.322 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 12:42:16.324 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 12:42:16.326 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:42:16.328 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:42:16.329 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 12:42:16.340 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:42:16.363 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .Count()'
2025-08-13 12:42:16.411 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 12:42:16.422 +05:30 [DBG] Creating DbConnection.
2025-08-13 12:42:16.423 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 12:42:16.425 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:16.427 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:16.428 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:42:16.428 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:42:16.429 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:42:16.431 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 12:42:16.444 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 12:42:16.450 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:16.451 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-13 12:42:16.453 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:16.454 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 12:42:16.461 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .OrderBy(t => t.Title)
    .Skip(__p_1)
    .Take(__p_2)'
2025-08-13 12:42:16.472 +05:30 [DBG] Including navigation: 'TripModel.BudgetDetails'.
2025-08-13 12:42:16.475 +05:30 [DBG] Including navigation: 'TripModel.Reviews'.
2025-08-13 12:42:16.539 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
            1 -> Dictionary<IProperty, int> { [Property: BudgetDetailsModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: BudgetDetailsModel.Food (decimal) Required, 16], [Property: BudgetDetailsModel.Hotel (decimal) Required, 17], [Property: BudgetDetailsModel.TripId (int) Required FK Index, 18] }
            2 -> 0
            3 -> 15
            4 -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: ReviewModel.Rating (int) Required, 20], [Property: ReviewModel.ReviewText (string) Required, 21], [Property: ReviewModel.TripId (int) Required FK Index, 22], [Property: ReviewModel.UserId (int) Required FK Index, 23] }
            5 -> 19
        SELECT t1.Id, t1.BestTime, t1.Budget, t1.Description, t1.Destination, t1.Duration, t1.EndDate, t1.EssentialsJson, t1.Image, t1.Notes, t1.StartDate, t1.Title, t1.TouristSpotsJson, t1.TravelMode, t1.UserId, b.Id, b.Food, b.Hotel, b.TripId, r.Id, r.Rating, r.review, r.TripId, r.UserId
        FROM 
        (
            SELECT t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))
            ORDER BY t.Title ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS t1
        LEFT JOIN budgetdetails AS b ON t1.Id == b.TripId
        LEFT JOIN reviews AS r ON t1.Id == r.TripId
        ORDER BY t1.Title ASC, t1.Id ASC, b.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-13 12:42:16.548 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:16.550 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:16.551 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:42:16.553 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:42:16.553 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 12:42:16.554 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 12:42:16.577 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 12:42:16.598 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:16.635 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:16.638 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:16.652 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:16.662 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:16.663 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:16.665 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:16.666 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:16.667 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:16.668 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:16.669 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:16.670 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:16.673 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:16.674 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:16.675 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:16.677 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:16.678 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:16.679 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:16.680 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:16.681 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 100ms reading results.
2025-08-13 12:42:16.682 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:16.683 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 12:42:16.704 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 12:42:16.709 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 12:42:16.710 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 12:42:16.710 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 12:42:16.712 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 12:42:16.714 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 12:42:16.738 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 633.9305ms
2025-08-13 12:42:16.740 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:42:16.903 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 976ms
2025-08-13 12:42:16.906 +05:30 [DBG] Connection id "0HNEQ72NSQF1S" completed keep alive response.
2025-08-13 12:42:16.908 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 12:42:16.910 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:16.912 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 12:42:16.914 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 1015.3965ms
2025-08-13 12:42:27.326 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 12:42:27.329 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 12:42:27.330 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 12:42:27.332 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:42:27.332 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:42:27.333 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:42:27.334 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 2ms
2025-08-13 12:42:27.335 +05:30 [DBG] Connection id "0HNEQ72NSQF1R" completed keep alive response.
2025-08-13 12:42:27.336 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 9.7414ms
2025-08-13 12:42:27.337 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 56
2025-08-13 12:42:27.344 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 12:42:27.345 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 12:42:27.347 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 12:42:27.352 +05:30 [DBG] Connection id "0HNEQ72NSQF1S", Request id "0HNEQ72NSQF1S:00000002": started reading request body.
2025-08-13 12:42:27.354 +05:30 [DBG] Connection id "0HNEQ72NSQF1S", Request id "0HNEQ72NSQF1S:00000002": done reading request body.
2025-08-13 12:42:27.357 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:42:27.358 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:42:27.360 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 12:42:27.361 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 12:42:27.367 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 12:42:27.369 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 12:42:27.370 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 12:42:27.373 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:42:27.374 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 12:42:27.376 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:42:27.377 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 12:42:27.387 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 12:42:27.391 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 12:42:27.392 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 12:42:27.395 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 12:42:27.397 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 12:42:27.414 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 12:42:27.416 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 12:42:27.417 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 12:42:27.418 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 12:42:27.423 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 12:42:27.431 +05:30 [DBG] Creating DbConnection.
2025-08-13 12:42:27.432 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 12:42:27.433 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:27.434 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:27.437 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:42:27.438 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:42:27.438 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:42:27.440 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 12:42:27.443 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 12:42:27.446 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:27.448 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:27.449 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 12:42:27.450 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:27.451 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 12:42:27.524 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-08-13 12:42:27.533 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.Role (string) Required, 19], [Property: UserModel.SecurityStamp (string), 20], [Property: UserModel.TwoFactorEnabled (bool) Required, 21], [Property: UserModel.UserName (string) MaxLength(256), 22] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 12:42:27.536 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:27.537 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:27.538 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:42:27.539 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:42:27.540 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 12:42:27.541 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 12:42:27.546 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 12:42:27.550 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:27.551 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 12:42:27.552 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:27.553 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 12:42:27.567 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:27.572 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 12:42:27.575 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 12:42:27.584 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 12:42:27.647 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:27.649 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:27.652 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:42:27.653 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:42:27.656 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-13 12:42:27.657 +05:30 [DBG] Executing DbCommand [Parameters=[@p22='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p23='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [Role] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-08-13 12:42:27.672 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@p22='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p23='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [Role] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-08-13 12:42:27.682 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:27.684 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-08-13 12:42:27.686 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:27.687 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 12:42:27.691 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:27.695 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 12:42:27.708 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 12:42:27.710 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 12:42:27.711 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 12:42:27.712 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 12:42:27.712 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 12:42:27.715 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 12:42:27.722 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 345.4198ms
2025-08-13 12:42:27.723 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 12:42:27.725 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"suraksha@gmail.com","password":"Password@123"} Responded with [200] in 376ms
2025-08-13 12:42:27.726 +05:30 [DBG] Connection id "0HNEQ72NSQF1S" completed keep alive response.
2025-08-13 12:42:27.729 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 12:42:27.731 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:27.732 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 12:42:27.734 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 908 application/json 396.3276ms
2025-08-13 12:42:27.787 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:42:27.790 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:42:27.792 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 12:42:27.794 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:42:27.799 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:42:27.803 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:42:27.806 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 11ms
2025-08-13 12:42:27.808 +05:30 [DBG] Connection id "0HNEQ72NSQF1R" completed keep alive response.
2025-08-13 12:42:27.809 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 22.7711ms
2025-08-13 12:42:27.810 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:42:27.818 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:42:27.819 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:42:27.822 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:42:27.825 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:42:27.827 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:42:27.830 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:42:27.833 +05:30 [DBG] Successfully validated the token.
2025-08-13 12:42:27.835 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 12:42:27.837 +05:30 [DBG] Authorization was successful.
2025-08-13 12:42:27.838 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:42:27.840 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 12:42:27.842 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 12:42:27.843 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 12:42:27.845 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:42:27.848 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 12:42:27.850 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:42:27.851 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 12:42:27.853 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 12:42:27.856 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 12:42:27.857 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 12:42:27.858 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 12:42:27.860 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 12:42:27.863 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 12:42:27.865 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 12:42:27.867 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 12:42:27.870 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:42:27.871 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:42:27.872 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 12:42:27.875 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:42:27.878 +05:30 [DBG] Creating DbConnection.
2025-08-13 12:42:27.879 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 12:42:27.880 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:27.881 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:27.882 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:42:27.883 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:42:27.886 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 12:42:27.887 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 12:42:27.890 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 12:42:27.893 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:27.894 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 12:42:27.896 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:27.897 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 12:42:27.900 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:27.901 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:27.902 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:42:27.903 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:42:27.905 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 12:42:27.906 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 12:42:27.911 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 12:42:27.916 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:27.919 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:27.920 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:27.922 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:27.925 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:27.927 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:27.928 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:27.930 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:27.932 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:27.933 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:27.936 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:27.937 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:27.938 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:27.940 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:27.941 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:27.942 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:27.944 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:27.946 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:42:27.947 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:27.948 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 32ms reading results.
2025-08-13 12:42:27.949 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:27.950 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 12:42:27.952 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 12:42:27.953 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 12:42:27.954 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 12:42:27.955 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 12:42:27.956 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 12:42:27.957 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 12:42:27.960 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 109.0401ms
2025-08-13 12:42:27.961 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:42:27.963 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 136ms
2025-08-13 12:42:27.964 +05:30 [DBG] Connection id "0HNEQ72NSQF1S" completed keep alive response.
2025-08-13 12:42:27.965 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 12:42:27.967 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:42:27.968 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 12:42:27.969 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 159.5627ms
2025-08-13 12:44:54.197 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-13 12:44:54.338 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-13 12:44:54.391 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-13 12:44:54.747 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 12:44:54.749 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 12:44:54.750 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 12:44:54.751 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 12:44:54.859 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 12:44:54.861 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 12:44:54.863 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 12:44:54.865 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 12:44:54.966 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 12:44:55.074 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-13 12:44:55.212 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 12:44:55.248 +05:30 [DBG] Creating DbConnection.
2025-08-13 12:44:55.264 +05:30 [DBG] Created DbConnection. (15ms).
2025-08-13 12:44:55.268 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:44:55.506 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:44:55.513 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:44:55.520 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-08-13 12:44:55.530 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-08-13 12:44:55.542 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 12:44:55.603 +05:30 [INF] Executed DbCommand (64ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 12:44:55.644 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:44:55.665 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:44:55.674 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 64ms reading results.
2025-08-13 12:44:55.679 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:44:55.687 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (7ms).
2025-08-13 12:44:55.693 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-13 12:44:55.703 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.Role (string) Required, 19], [Property: UserModel.SecurityStamp (string), 20], [Property: UserModel.TwoFactorEnabled (bool) Required, 21], [Property: UserModel.UserName (string) MaxLength(256), 22] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 12:44:55.708 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:44:55.711 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:44:55.714 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:44:55.716 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-13 12:44:55.718 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-13 12:44:55.720 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 12:44:55.731 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 12:44:55.751 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:44:55.790 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:44:55.791 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 57ms reading results.
2025-08-13 12:44:55.793 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:44:55.795 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 12:44:55.799 +05:30 [INF] Admin user already exists.
2025-08-13 12:44:55.802 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 12:44:55.804 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:44:55.807 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 12:44:55.810 +05:30 [DBG] Hosting starting
2025-08-13 12:44:55.824 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-13 12:44:55.831 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-13 12:44:55.840 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-13 12:44:55.847 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 12:44:55.851 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-13 12:44:55.854 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 12:44:55.857 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-13 12:44:55.859 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-13 12:44:55.862 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-13 12:44:55.863 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-13 12:44:55.946 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-13 12:44:55.947 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-13 12:44:55.948 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-13 12:44:55.948 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-13 12:44:55.949 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-13 12:44:56.030 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-13 12:44:56.031 +05:30 [INF] Hosting environment: Development
2025-08-13 12:44:56.032 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-13 12:44:56.038 +05:30 [DBG] Hosting started
2025-08-13 12:44:56.256 +05:30 [DBG] Connection id "0HNEQ74DKRP4J" accepted.
2025-08-13 12:44:56.258 +05:30 [DBG] Connection id "0HNEQ74DKRP4J" started.
2025-08-13 12:44:56.268 +05:30 [DBG] Connection id "0HNEQ74DKRP4K" accepted.
2025-08-13 12:44:56.269 +05:30 [DBG] Connection id "0HNEQ74DKRP4K" started.
2025-08-13 12:44:56.286 +05:30 [DBG] Connection id "0HNEQ74DKRP4K" received FIN.
2025-08-13 12:44:56.286 +05:30 [DBG] Connection id "0HNEQ74DKRP4J" received FIN.
2025-08-13 12:44:56.292 +05:30 [DBG] Connection id "0HNEQ74DKRP4J" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 12:44:56.291 +05:30 [DBG] Connection id "0HNEQ74DKRP4K" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 12:44:56.298 +05:30 [DBG] Connection id "0HNEQ74DKRP4J" disconnecting.
2025-08-13 12:44:56.299 +05:30 [DBG] Connection id "0HNEQ74DKRP4K" disconnecting.
2025-08-13 12:44:56.312 +05:30 [DBG] Connection id "0HNEQ74DKRP4J" stopped.
2025-08-13 12:44:56.312 +05:30 [DBG] Connection id "0HNEQ74DKRP4K" stopped.
2025-08-13 12:45:04.039 +05:30 [DBG] Connection id "0HNEQ74DKRP4L" accepted.
2025-08-13 12:45:04.040 +05:30 [DBG] Connection id "0HNEQ74DKRP4L" started.
2025-08-13 12:45:04.059 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 12:45:04.065 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-13 12:45:04.087 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 12:45:04.090 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 12:45:04.110 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-13 12:45:04.114 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:45:04.116 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:45:04.118 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:45:04.129 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 19ms
2025-08-13 12:45:04.131 +05:30 [DBG] Connection id "0HNEQ74DKRP4L" completed keep alive response.
2025-08-13 12:45:04.133 +05:30 [DBG] Connection id "0HNEQ74DKRP4M" accepted.
2025-08-13 12:45:04.135 +05:30 [DBG] Connection id "0HNEQ74DKRP4M" started.
2025-08-13 12:45:04.135 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 81.8163ms
2025-08-13 12:45:04.137 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 55
2025-08-13 12:45:04.144 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 12:45:04.147 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 12:45:04.150 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 12:45:04.154 +05:30 [DBG] Connection id "0HNEQ74DKRP4M", Request id "0HNEQ74DKRP4M:00000001": started reading request body.
2025-08-13 12:45:04.155 +05:30 [DBG] Connection id "0HNEQ74DKRP4M", Request id "0HNEQ74DKRP4M:00000001": done reading request body.
2025-08-13 12:45:04.159 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:45:04.160 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:45:04.194 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 12:45:04.197 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 12:45:04.217 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 12:45:04.219 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 12:45:04.220 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 12:45:04.222 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:45:04.223 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 12:45:04.224 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:45:04.227 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 12:45:04.264 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 12:45:04.267 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 12:45:04.271 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 12:45:04.274 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 12:45:04.276 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 12:45:04.293 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 12:45:04.294 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 12:45:04.295 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 12:45:04.296 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 12:45:04.303 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 12:45:04.311 +05:30 [DBG] Creating DbConnection.
2025-08-13 12:45:04.312 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 12:45:04.313 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:04.317 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:04.319 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:45:04.320 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:45:04.321 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:45:04.322 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 12:45:04.329 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 12:45:04.336 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:04.337 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:04.339 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-13 12:45:04.340 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:04.341 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 12:45:04.406 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-08-13 12:45:04.412 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.Role (string) Required, 19], [Property: UserModel.SecurityStamp (string), 20], [Property: UserModel.TwoFactorEnabled (bool) Required, 21], [Property: UserModel.UserName (string) MaxLength(256), 22] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 12:45:04.416 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:04.417 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:04.418 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:45:04.419 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:45:04.420 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:45:04.421 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 12:45:04.426 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 12:45:04.430 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:04.430 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 12:45:04.431 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:04.432 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 12:45:04.446 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:04.451 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 12:45:04.453 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 12:45:04.466 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 12:45:04.529 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:04.530 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:04.535 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:45:04.537 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:45:04.539 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 12:45:04.541 +05:30 [DBG] Executing DbCommand [Parameters=[@p22='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p23='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [Role] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-08-13 12:45:04.552 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p22='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p23='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [Role] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-08-13 12:45:04.560 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:04.561 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-08-13 12:45:04.563 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:04.564 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 12:45:04.569 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:04.572 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 12:45:04.601 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 12:45:04.604 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 12:45:04.605 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 12:45:04.606 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 12:45:04.607 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 12:45:04.609 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 12:45:04.622 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 393.9375ms
2025-08-13 12:45:04.623 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 12:45:04.789 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"meghana@gmail.com","password":"Password@123"} Responded with [200] in 638ms
2025-08-13 12:45:04.793 +05:30 [DBG] Connection id "0HNEQ74DKRP4M" completed keep alive response.
2025-08-13 12:45:04.794 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:45:04.796 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 12:45:04.797 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:45:04.802 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:04.805 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 12:45:04.805 +05:30 [DBG] Connection id "0HNEQ74DKRP4N" accepted.
2025-08-13 12:45:04.807 +05:30 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-13 12:45:04.810 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:45:04.812 +05:30 [DBG] Connection id "0HNEQ74DKRP4N" started.
2025-08-13 12:45:04.814 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 903 application/json 677.242ms
2025-08-13 12:45:04.818 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:45:04.821 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:45:04.830 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:45:04.834 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:45:04.836 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 26ms
2025-08-13 12:45:04.837 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 12:45:04.839 +05:30 [DBG] Connection id "0HNEQ74DKRP4L" completed keep alive response.
2025-08-13 12:45:04.840 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:45:04.842 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:45:04.843 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 49.6132ms
2025-08-13 12:45:04.844 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:45:04.848 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:45:04.853 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:45:04.854 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:45:04.855 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 15ms
2025-08-13 12:45:04.858 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:45:04.861 +05:30 [DBG] Connection id "0HNEQ74DKRP4N" completed keep alive response.
2025-08-13 12:45:04.863 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:45:04.864 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 43.4939ms
2025-08-13 12:45:04.867 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:45:04.870 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:45:04.913 +05:30 [DBG] Successfully validated the token.
2025-08-13 12:45:04.921 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 12:45:04.930 +05:30 [DBG] Authorization was successful.
2025-08-13 12:45:04.932 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:45:04.945 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 12:45:04.952 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 12:45:04.954 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 12:45:04.956 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:45:04.961 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 12:45:04.963 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:45:04.964 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 12:45:04.979 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 12:45:05.100 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 12:45:05.104 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 12:45:05.106 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 12:45:05.110 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 12:45:05.114 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 12:45:05.116 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 12:45:05.117 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 12:45:05.119 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:45:05.122 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:45:05.125 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 12:45:05.128 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:45:05.140 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .Count()'
2025-08-13 12:45:05.183 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 12:45:05.194 +05:30 [DBG] Creating DbConnection.
2025-08-13 12:45:05.194 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 12:45:05.195 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:05.197 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:05.198 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:45:05.199 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:45:05.201 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 12:45:05.202 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 12:45:05.211 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 12:45:05.215 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:05.218 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-13 12:45:05.220 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:05.221 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 12:45:05.227 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .OrderBy(t => t.Title)
    .Skip(__p_1)
    .Take(__p_2)'
2025-08-13 12:45:05.238 +05:30 [DBG] Including navigation: 'TripModel.BudgetDetails'.
2025-08-13 12:45:05.240 +05:30 [DBG] Including navigation: 'TripModel.Reviews'.
2025-08-13 12:45:05.305 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
            1 -> Dictionary<IProperty, int> { [Property: BudgetDetailsModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: BudgetDetailsModel.Food (decimal) Required, 16], [Property: BudgetDetailsModel.Hotel (decimal) Required, 17], [Property: BudgetDetailsModel.TripId (int) Required FK Index, 18] }
            2 -> 0
            3 -> 15
            4 -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: ReviewModel.Rating (int) Required, 20], [Property: ReviewModel.ReviewText (string) Required, 21], [Property: ReviewModel.TripId (int) Required FK Index, 22], [Property: ReviewModel.UserId (int) Required FK Index, 23] }
            5 -> 19
        SELECT t1.Id, t1.BestTime, t1.Budget, t1.Description, t1.Destination, t1.Duration, t1.EndDate, t1.EssentialsJson, t1.Image, t1.Notes, t1.StartDate, t1.Title, t1.TouristSpotsJson, t1.TravelMode, t1.UserId, b.Id, b.Food, b.Hotel, b.TripId, r.Id, r.Rating, r.review, r.TripId, r.UserId
        FROM 
        (
            SELECT t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))
            ORDER BY t.Title ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS t1
        LEFT JOIN budgetdetails AS b ON t1.Id == b.TripId
        LEFT JOIN reviews AS r ON t1.Id == r.TripId
        ORDER BY t1.Title ASC, t1.Id ASC, b.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-13 12:45:05.311 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:05.312 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:05.313 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:45:05.313 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:45:05.314 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:45:05.317 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 12:45:05.337 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 12:45:05.351 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.383 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.385 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.397 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.402 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.403 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.404 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.406 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.407 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.408 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.410 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.412 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.413 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.414 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.416 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.417 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.418 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.420 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.421 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.423 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.424 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:05.426 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 85ms reading results.
2025-08-13 12:45:05.427 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:05.428 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 12:45:05.439 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 12:45:05.443 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 12:45:05.443 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 12:45:05.444 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 12:45:05.445 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 12:45:05.446 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 12:45:05.457 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 492.5099ms
2025-08-13 12:45:05.458 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:45:05.463 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 596ms
2025-08-13 12:45:05.464 +05:30 [DBG] Connection id "0HNEQ74DKRP4M" completed keep alive response.
2025-08-13 12:45:05.465 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 12:45:05.467 +05:30 [DBG] Connection id "0HNEQ74DKRP4O" accepted.
2025-08-13 12:45:05.467 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:05.469 +05:30 [DBG] Connection id "0HNEQ74DKRP4O" started.
2025-08-13 12:45:05.470 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 12:45:05.471 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5344 application/json 629.5655ms
2025-08-13 12:45:05.474 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:45:05.475 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:45:05.476 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:45:05.477 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:45:05.478 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:45:05.479 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:45:05.479 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:45:05.482 +05:30 [DBG] Successfully validated the token.
2025-08-13 12:45:05.482 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 12:45:05.485 +05:30 [DBG] Authorization was successful.
2025-08-13 12:45:05.486 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:45:05.486 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 12:45:05.488 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 12:45:05.489 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 12:45:05.490 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:45:05.491 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 12:45:05.493 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:45:05.494 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 12:45:05.497 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 12:45:05.499 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 12:45:05.500 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 12:45:05.501 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 12:45:05.502 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 12:45:05.504 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 12:45:05.505 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 12:45:05.506 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 12:45:05.507 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:45:05.509 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:45:05.510 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 12:45:05.511 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:45:05.512 +05:30 [DBG] Creating DbConnection.
2025-08-13 12:45:05.513 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 12:45:05.514 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:05.515 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:05.515 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:45:05.516 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:45:05.517 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:45:05.518 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 12:45:05.526 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 12:45:05.529 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:05.530 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 12:45:05.532 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:05.533 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 12:45:05.535 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:05.536 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:05.537 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:45:05.537 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:45:05.538 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:45:05.539 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 12:45:05.554 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 12:45:05.559 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.560 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.562 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.563 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.564 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.566 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.568 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.569 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.570 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.573 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.574 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.576 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.577 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.580 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.581 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.584 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.587 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.589 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.590 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.592 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:45:05.593 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:05.594 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 35ms reading results.
2025-08-13 12:45:05.596 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:05.597 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 12:45:05.598 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 12:45:05.600 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 12:45:05.601 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 12:45:05.602 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 12:45:05.603 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 12:45:05.604 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 12:45:05.606 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 111.3392ms
2025-08-13 12:45:05.607 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:45:05.608 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 129ms
2025-08-13 12:45:05.609 +05:30 [DBG] Connection id "0HNEQ74DKRP4M" completed keep alive response.
2025-08-13 12:45:05.611 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 12:45:05.612 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:45:05.613 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 12:45:05.615 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5344 application/json 140.9469ms
2025-08-13 12:46:26.848 +05:30 [DBG] Connection id "0HNEQ74DKRP4O" received FIN.
2025-08-13 12:46:26.857 +05:30 [DBG] Connection id "0HNEQ74DKRP4O" disconnecting.
2025-08-13 12:46:26.861 +05:30 [DBG] Connection id "0HNEQ74DKRP4O" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 12:46:26.878 +05:30 [DBG] Connection id "0HNEQ74DKRP4O" stopped.
2025-08-13 12:46:43.051 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:46:43.055 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:46:43.057 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 12:46:43.059 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:46:43.061 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:46:43.063 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:46:43.066 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 6ms
2025-08-13 12:46:43.068 +05:30 [DBG] Connection id "0HNEQ74DKRP4N" completed keep alive response.
2025-08-13 12:46:43.069 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 18.1726ms
2025-08-13 12:46:43.072 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:46:43.085 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:46:43.088 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:46:43.090 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:46:43.094 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:46:43.096 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:46:43.098 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:46:43.099 +05:30 [DBG] Successfully validated the token.
2025-08-13 12:46:43.100 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 12:46:43.103 +05:30 [DBG] Authorization was successful.
2025-08-13 12:46:43.104 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:46:43.105 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 12:46:43.108 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 12:46:43.110 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 12:46:43.113 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:46:43.122 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 12:46:43.126 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:46:43.135 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 12:46:43.143 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 12:46:43.153 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 12:46:43.154 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 12:46:43.155 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 12:46:43.157 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 12:46:43.159 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 12:46:43.160 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 12:46:43.163 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 12:46:43.167 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:46:43.168 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:46:43.169 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 12:46:43.172 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:46:43.175 +05:30 [DBG] Creating DbConnection.
2025-08-13 12:46:43.176 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 12:46:43.177 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:46:43.181 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:46:43.182 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:46:43.183 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:46:43.185 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 12:46:43.187 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 12:46:43.196 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 12:46:43.199 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:46:43.200 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 12:46:43.202 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:46:43.203 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 12:46:43.206 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:46:43.207 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:46:43.208 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:46:43.209 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:46:43.210 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:46:43.212 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 12:46:43.233 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 12:46:43.243 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:46:43.246 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:46:43.248 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:46:43.252 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:46:43.254 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:46:43.256 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:46:43.260 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:46:43.263 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:46:43.265 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:46:43.266 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:46:43.267 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:46:43.269 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:46:43.271 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:46:43.272 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:46:43.273 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:46:43.274 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:46:43.275 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:46:43.276 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:46:43.277 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:46:43.280 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:46:43.281 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:46:43.281 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 39ms reading results.
2025-08-13 12:46:43.282 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:46:43.283 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 12:46:43.285 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 12:46:43.287 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 12:46:43.287 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 12:46:43.288 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 12:46:43.288 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 12:46:43.289 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 12:46:43.291 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 155.5664ms
2025-08-13 12:46:43.294 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:46:43.298 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 201ms
2025-08-13 12:46:43.299 +05:30 [DBG] Connection id "0HNEQ74DKRP4M" completed keep alive response.
2025-08-13 12:46:43.300 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 12:46:43.301 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:46:43.303 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 12:46:43.304 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5344 application/json 232.5203ms
2025-08-13 12:47:29.106 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:47:29.116 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:47:29.117 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 12:47:29.121 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:47:29.123 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:47:29.124 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:47:29.126 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 4ms
2025-08-13 12:47:29.128 +05:30 [DBG] Connection id "0HNEQ74DKRP4N" completed keep alive response.
2025-08-13 12:47:29.129 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 23.6717ms
2025-08-13 12:47:29.133 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:47:29.178 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:47:29.179 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:47:29.180 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:47:29.182 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:47:29.184 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:47:29.185 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:47:29.190 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 7:17:04 AM', Current time (UTC): '8/13/2025 7:17:29 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-13 12:47:29.217 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 7:17:04 AM', Current time (UTC): '8/13/2025 7:17:29 AM'.
2025-08-13 12:47:29.220 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 12:47:29.223 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 12:47:29.232 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 12:47:29.247 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 63ms
2025-08-13 12:47:29.250 +05:30 [DBG] Connection id "0HNEQ74DKRP4M" completed keep alive response.
2025-08-13 12:47:29.251 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 118.5216ms
2025-08-13 12:47:29.257 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/refresh - null null
2025-08-13 12:47:29.259 +05:30 [DBG] No candidates found for the request path '/api/v1/refresh'
2025-08-13 12:47:29.260 +05:30 [DBG] Request did not match any endpoints
2025-08-13 12:47:29.261 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:47:29.263 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:47:29.263 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:47:29.266 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/refresh   Responded with [204] in 4ms
2025-08-13 12:47:29.267 +05:30 [DBG] Connection id "0HNEQ74DKRP4N" completed keep alive response.
2025-08-13 12:47:29.268 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/refresh - 204 null null 11.7677ms
2025-08-13 12:47:29.270 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/refresh - application/json 363
2025-08-13 12:47:29.273 +05:30 [DBG] No candidates found for the request path '/api/v1/refresh'
2025-08-13 12:47:29.273 +05:30 [DBG] Request did not match any endpoints
2025-08-13 12:47:29.274 +05:30 [DBG] Connection id "0HNEQ74DKRP4M", Request id "0HNEQ74DKRP4M:00000006": started reading request body.
2025-08-13 12:47:29.275 +05:30 [DBG] Connection id "0HNEQ74DKRP4M", Request id "0HNEQ74DKRP4M:00000006": done reading request body.
2025-08-13 12:47:29.277 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:47:29.278 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:47:29.279 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 12:47:29.283 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/refresh  {"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIzIiwidW5pcXVlX25hbWUiOiJNZWdoYW5hIiwiZW1haWwiOiJtZWdoYW5hQGdtYWlsLmNvbSIsInJvbGUiOiJVc2VyIiwibmJmIjoxNzU1MDY5MzA0LCJleHAiOjE3NTUwNjk0MjQsImlhdCI6MTc1NTA2OTMwNCwiaXNzIjoiVHJhdmVsUGxhbm5lckFQSSIsImF1ZCI6IlRyYXZlbFBsYW5uZXJDbGllbnQifQ.Bz-eWwrr4phtDD1NJUU19t-WyZ_XLkvx250Mk89QOeo","refreshToken":""} Responded with [404] in 8ms
2025-08-13 12:47:29.285 +05:30 [DBG] Connection id "0HNEQ74DKRP4M" completed keep alive response.
2025-08-13 12:47:29.286 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/refresh - 404 135 application/json 16.4765ms
2025-08-13 12:47:29.290 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5276/api/v1/refresh, Response status code: 404
2025-08-13 12:49:54.397 +05:30 [DBG] Connection id "0HNEQ74DKRP4M" received FIN.
2025-08-13 12:49:54.399 +05:30 [DBG] Connection id "0HNEQ74DKRP4L" received FIN.
2025-08-13 12:49:54.404 +05:30 [DBG] Connection id "0HNEQ74DKRP4M" disconnecting.
2025-08-13 12:49:54.405 +05:30 [DBG] Connection id "0HNEQ74DKRP4N" received FIN.
2025-08-13 12:49:54.411 +05:30 [DBG] Connection id "0HNEQ74DKRP4M" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 12:49:54.418 +05:30 [DBG] Connection id "0HNEQ74DKRP4N" disconnecting.
2025-08-13 12:49:54.411 +05:30 [DBG] Connection id "0HNEQ74DKRP4L" disconnecting.
2025-08-13 12:49:54.431 +05:30 [DBG] Connection id "0HNEQ74DKRP4M" stopped.
2025-08-13 12:49:54.428 +05:30 [DBG] Connection id "0HNEQ74DKRP4N" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 12:49:54.433 +05:30 [DBG] Connection id "0HNEQ74DKRP4L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 12:49:54.446 +05:30 [DBG] Connection id "0HNEQ74DKRP4L" stopped.
2025-08-13 12:49:54.446 +05:30 [DBG] Connection id "0HNEQ74DKRP4N" stopped.
2025-08-13 12:51:38.937 +05:30 [DBG] Connection id "0HNEQ74DKRP4P" accepted.
2025-08-13 12:51:38.943 +05:30 [DBG] Connection id "0HNEQ74DKRP4P" started.
2025-08-13 12:51:38.945 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:51:38.951 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:51:38.956 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 12:51:38.958 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:51:38.961 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:51:38.963 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:51:38.968 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 9ms
2025-08-13 12:51:38.971 +05:30 [DBG] Connection id "0HNEQ74DKRP4P" completed keep alive response.
2025-08-13 12:51:38.977 +05:30 [DBG] Connection id "0HNEQ74DKRP4Q" accepted.
2025-08-13 12:51:38.978 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 31.9431ms
2025-08-13 12:51:38.986 +05:30 [DBG] Connection id "0HNEQ74DKRP4Q" started.
2025-08-13 12:51:39.009 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:51:39.014 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:51:39.017 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:51:39.025 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:51:39.030 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:51:39.033 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:51:39.036 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:51:39.040 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 7:17:04 AM', Current time (UTC): '8/13/2025 7:21:39 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-13 12:51:39.046 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 7:17:04 AM', Current time (UTC): '8/13/2025 7:21:39 AM'.
2025-08-13 12:51:39.049 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 12:51:39.050 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 12:51:39.052 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 12:51:39.066 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 32ms
2025-08-13 12:51:39.070 +05:30 [DBG] Connection id "0HNEQ74DKRP4Q" completed keep alive response.
2025-08-13 12:51:39.071 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 62.6354ms
2025-08-13 12:51:39.078 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - null null
2025-08-13 12:51:39.094 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 12:51:39.096 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 12:51:39.098 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:51:39.099 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:51:39.100 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:51:39.105 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/refresh   Responded with [204] in 7ms
2025-08-13 12:51:39.106 +05:30 [DBG] Connection id "0HNEQ74DKRP4P" completed keep alive response.
2025-08-13 12:51:39.108 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - 204 null null 30.3641ms
2025-08-13 12:51:39.108 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 363
2025-08-13 12:51:39.118 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 12:51:39.120 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 12:51:39.123 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 12:51:39.127 +05:30 [DBG] Connection id "0HNEQ74DKRP4Q", Request id "0HNEQ74DKRP4Q:00000002": started reading request body.
2025-08-13 12:51:39.129 +05:30 [DBG] Connection id "0HNEQ74DKRP4Q", Request id "0HNEQ74DKRP4Q:00000002": done reading request body.
2025-08-13 12:51:39.131 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:51:39.133 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:51:39.134 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 12:51:39.136 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 12:51:39.144 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 12:51:39.146 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 12:51:39.147 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 12:51:39.150 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:51:39.153 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 12:51:39.155 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:51:39.158 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 12:51:39.161 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 12:51:39.163 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 12:51:39.164 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 12:51:39.167 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 12:51:39.169 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 12:51:39.173 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 12:51:39.174 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 12:51:39.175 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 12:51:39.176 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 12:51:39.179 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 12:51:39.258 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 12:51:39.260 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 12:51:39.261 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 12:51:39.262 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 12:51:39.263 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 12:51:39.264 +05:30 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 12:51:39.267 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 108.9595ms
2025-08-13 12:51:39.268 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 12:51:39.273 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIzIiwidW5pcXVlX25hbWUiOiJNZWdoYW5hIiwiZW1haWwiOiJtZWdoYW5hQGdtYWlsLmNvbSIsInJvbGUiOiJVc2VyIiwibmJmIjoxNzU1MDY5MzA0LCJleHAiOjE3NTUwNjk0MjQsImlhdCI6MTc1NTA2OTMwNCwiaXNzIjoiVHJhdmVsUGxhbm5lckFQSSIsImF1ZCI6IlRyYXZlbFBsYW5uZXJDbGllbnQifQ.Bz-eWwrr4phtDD1NJUU19t-WyZ_XLkvx250Mk89QOeo","refreshToken":""} Responded with [400] in 146ms
2025-08-13 12:51:39.278 +05:30 [DBG] Connection id "0HNEQ74DKRP4Q" completed keep alive response.
2025-08-13 12:51:39.281 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 12:51:39.282 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 400 126 application/json 173.4312ms
2025-08-13 12:51:55.201 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 12:51:55.203 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 12:51:55.204 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 12:51:55.206 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:51:55.207 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:51:55.207 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:51:55.209 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 3ms
2025-08-13 12:51:55.210 +05:30 [DBG] Connection id "0HNEQ74DKRP4P" completed keep alive response.
2025-08-13 12:51:55.211 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 56
2025-08-13 12:51:55.211 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 10.0776ms
2025-08-13 12:51:55.213 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 12:51:55.217 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 12:51:55.218 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 12:51:55.220 +05:30 [DBG] Connection id "0HNEQ74DKRP4Q", Request id "0HNEQ74DKRP4Q:00000003": started reading request body.
2025-08-13 12:51:55.221 +05:30 [DBG] Connection id "0HNEQ74DKRP4Q", Request id "0HNEQ74DKRP4Q:00000003": done reading request body.
2025-08-13 12:51:55.222 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:51:55.223 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:51:55.224 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 12:51:55.224 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 12:51:55.225 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 12:51:55.227 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 12:51:55.228 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 12:51:55.228 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:51:55.230 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 12:51:55.231 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:51:55.232 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 12:51:55.238 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 12:51:55.242 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 12:51:55.243 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 12:51:55.244 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 12:51:55.245 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 12:51:55.247 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 12:51:55.247 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 12:51:55.248 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 12:51:55.249 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 12:51:55.250 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 12:51:55.253 +05:30 [DBG] Creating DbConnection.
2025-08-13 12:51:55.254 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 12:51:55.255 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:51:55.265 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:51:55.268 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:51:55.269 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:51:55.270 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:51:55.270 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 12:51:55.277 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 12:51:55.280 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:51:55.281 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:51:55.282 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-13 12:51:55.284 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:51:55.285 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 12:51:55.334 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:51:55.336 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:51:55.336 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:51:55.337 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:51:55.338 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:51:55.339 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 12:51:55.343 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 12:51:55.346 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:51:55.347 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 12:51:55.348 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:51:55.349 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 12:51:55.350 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:51:55.352 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 12:51:55.352 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 12:51:55.353 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 12:51:55.356 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:51:55.357 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:51:55.357 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:51:55.358 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:51:55.359 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:51:55.361 +05:30 [DBG] Executing DbCommand [Parameters=[@p22='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p23='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [Role] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-08-13 12:51:55.375 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@p22='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p23='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [Role] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-08-13 12:51:55.379 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:51:55.379 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 12:51:55.381 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:51:55.382 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 12:51:55.383 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:51:55.389 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 12:51:55.392 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 12:51:55.394 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 12:51:55.394 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 12:51:55.395 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 12:51:55.396 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 12:51:55.397 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 12:51:55.398 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 165.9702ms
2025-08-13 12:51:55.399 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 12:51:55.402 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"suraksha@gmail.com","password":"Password@123"} Responded with [200] in 181ms
2025-08-13 12:51:55.403 +05:30 [DBG] Connection id "0HNEQ74DKRP4Q" completed keep alive response.
2025-08-13 12:51:55.404 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 12:51:55.406 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:51:55.407 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 12:51:55.409 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 908 application/json 198.0293ms
2025-08-13 12:51:55.449 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:51:55.466 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:51:55.468 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 12:51:55.470 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:51:55.471 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:51:55.472 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:51:55.474 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 4ms
2025-08-13 12:51:55.476 +05:30 [DBG] Connection id "0HNEQ74DKRP4P" completed keep alive response.
2025-08-13 12:51:55.478 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 29.2152ms
2025-08-13 12:51:55.480 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:51:55.485 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:51:55.487 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:51:55.492 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:51:55.494 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:51:55.495 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:51:55.497 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:51:55.499 +05:30 [DBG] Successfully validated the token.
2025-08-13 12:51:55.500 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 12:51:55.502 +05:30 [DBG] Authorization was successful.
2025-08-13 12:51:55.503 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:51:55.507 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 12:51:55.512 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 12:51:55.514 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 12:51:55.516 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:51:55.518 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 12:51:55.521 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:51:55.523 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 12:51:55.526 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 12:51:55.528 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 12:51:55.530 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 12:51:55.531 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 12:51:55.534 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 12:51:55.536 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 12:51:55.539 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 12:51:55.543 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 12:51:55.547 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:51:55.548 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:51:55.549 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 12:51:55.550 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:51:55.554 +05:30 [DBG] Creating DbConnection.
2025-08-13 12:51:55.554 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 12:51:55.557 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:51:55.559 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:51:55.560 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:51:55.561 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:51:55.563 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 12:51:55.564 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 12:51:55.579 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 12:51:55.584 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:51:55.586 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 12:51:55.588 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:51:55.590 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 12:51:55.593 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:51:55.595 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:51:55.597 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:51:55.598 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:51:55.600 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 12:51:55.602 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 12:51:55.616 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 12:51:55.621 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:51:55.623 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:51:55.624 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:51:55.625 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:51:55.627 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:51:55.628 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:51:55.630 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:51:55.631 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:51:55.632 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:51:55.633 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:51:55.636 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:51:55.637 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:51:55.638 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:51:55.640 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:51:55.641 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:51:55.642 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:51:55.643 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:51:55.645 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:51:55.646 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:51:55.649 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 28ms reading results.
2025-08-13 12:51:55.650 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:51:55.652 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 12:51:55.654 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 12:51:55.656 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 12:51:55.657 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 12:51:55.658 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 12:51:55.658 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 12:51:55.660 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 12:51:55.662 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 138.9674ms
2025-08-13 12:51:55.663 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:51:55.666 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 170ms
2025-08-13 12:51:55.669 +05:30 [DBG] Connection id "0HNEQ74DKRP4Q" completed keep alive response.
2025-08-13 12:51:55.670 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 12:51:55.671 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:51:55.673 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 12:51:55.674 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 194.5432ms
2025-08-13 12:53:23.968 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:53:23.978 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:53:23.983 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 12:53:23.986 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:53:23.995 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:53:23.996 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:53:23.999 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 13ms
2025-08-13 12:53:24.001 +05:30 [DBG] Connection id "0HNEQ74DKRP4P" completed keep alive response.
2025-08-13 12:53:24.022 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:53:24.023 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 58.6677ms
2025-08-13 12:53:24.026 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:53:24.031 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:53:24.033 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:53:24.036 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:53:24.038 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:53:24.039 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:53:24.040 +05:30 [DBG] Successfully validated the token.
2025-08-13 12:53:24.041 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 12:53:24.043 +05:30 [DBG] Authorization was successful.
2025-08-13 12:53:24.043 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:53:24.045 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 12:53:24.047 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 12:53:24.048 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 12:53:24.051 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:53:24.054 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 12:53:24.055 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:53:24.058 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 12:53:24.060 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 12:53:24.063 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 12:53:24.065 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 12:53:24.066 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 12:53:24.067 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 12:53:24.069 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 12:53:24.070 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 12:53:24.072 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 12:53:24.073 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:53:24.075 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:53:24.076 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 12:53:24.079 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 12:53:24.082 +05:30 [DBG] Creating DbConnection.
2025-08-13 12:53:24.083 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 12:53:24.084 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:53:24.085 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:53:24.086 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:53:24.087 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 12:53:24.088 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 12:53:24.089 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 12:53:24.103 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 12:53:24.112 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:53:24.131 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 18ms reading results.
2025-08-13 12:53:24.133 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:53:24.135 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 12:53:24.137 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:53:24.140 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:53:24.141 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 12:53:24.142 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 12:53:24.143 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 12:53:24.145 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 12:53:24.163 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 12:53:24.173 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:53:24.179 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:53:24.181 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:53:24.184 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:53:24.188 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:53:24.190 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:53:24.192 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:53:24.194 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:53:24.196 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:53:24.198 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:53:24.199 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:53:24.200 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:53:24.202 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:53:24.206 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:53:24.208 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:53:24.210 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:53:24.211 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:53:24.212 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 12:53:24.214 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:53:24.215 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 42ms reading results.
2025-08-13 12:53:24.217 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:53:24.218 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 12:53:24.220 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 12:53:24.222 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 12:53:24.223 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 12:53:24.224 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 12:53:24.225 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 12:53:24.227 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 12:53:24.229 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 171.1948ms
2025-08-13 12:53:24.230 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:53:24.231 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 193ms
2025-08-13 12:53:24.232 +05:30 [DBG] Connection id "0HNEQ74DKRP4Q" completed keep alive response.
2025-08-13 12:53:24.233 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 12:53:24.234 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 12:53:24.235 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 12:53:24.237 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 218.085ms
2025-08-13 12:53:56.129 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:53:56.141 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:53:56.143 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 12:53:56.144 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:53:56.157 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:53:56.158 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:53:56.161 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 16ms
2025-08-13 12:53:56.163 +05:30 [DBG] Connection id "0HNEQ74DKRP4P" completed keep alive response.
2025-08-13 12:53:56.165 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 35.6355ms
2025-08-13 12:53:56.174 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 12:53:56.177 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 12:53:56.179 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:53:56.183 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 12:53:56.185 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 12:53:56.186 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:53:56.187 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:53:56.189 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 7:23:55 AM', Current time (UTC): '8/13/2025 7:23:56 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-13 12:53:56.196 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 7:23:55 AM', Current time (UTC): '8/13/2025 7:23:56 AM'.
2025-08-13 12:53:56.197 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 12:53:56.199 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 12:53:56.200 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 12:53:56.202 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 15ms
2025-08-13 12:53:56.203 +05:30 [DBG] Connection id "0HNEQ74DKRP4Q" completed keep alive response.
2025-08-13 12:53:56.204 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 30.8449ms
2025-08-13 12:53:56.264 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - null null
2025-08-13 12:53:56.268 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 12:53:56.269 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 12:53:56.270 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:53:56.271 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:53:56.272 +05:30 [DBG] The request is a preflight request.
2025-08-13 12:53:56.274 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/refresh   Responded with [204] in 2ms
2025-08-13 12:53:56.277 +05:30 [DBG] Connection id "0HNEQ74DKRP4P" completed keep alive response.
2025-08-13 12:53:56.278 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - 204 null null 13.9377ms
2025-08-13 12:53:56.279 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 365
2025-08-13 12:53:56.284 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 12:53:56.285 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 12:53:56.286 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 12:53:56.287 +05:30 [DBG] Connection id "0HNEQ74DKRP4Q", Request id "0HNEQ74DKRP4Q:00000007": started reading request body.
2025-08-13 12:53:56.288 +05:30 [DBG] Connection id "0HNEQ74DKRP4Q", Request id "0HNEQ74DKRP4Q:00000007": done reading request body.
2025-08-13 12:53:56.289 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 12:53:56.290 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:53:56.291 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 12:53:56.293 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 12:53:56.294 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 12:53:56.296 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 12:53:56.297 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 12:53:56.300 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:53:56.302 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 12:53:56.304 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 12:53:56.306 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 12:53:56.309 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 12:53:56.312 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 12:53:56.313 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 12:53:56.314 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 12:53:56.316 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 12:53:56.318 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 12:53:56.319 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 12:53:56.320 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 12:53:56.321 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 12:53:56.323 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 12:53:56.355 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 12:53:56.358 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 12:53:56.359 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 12:53:56.360 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 12:53:56.361 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 12:53:56.362 +05:30 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 12:53:56.364 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 58.158ms
2025-08-13 12:53:56.365 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 12:53:56.367 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIyIiwidW5pcXVlX25hbWUiOiJzdXJha3NoYSIsImVtYWlsIjoic3VyYWtzaGFAZ21haWwuY29tIiwicm9sZSI6IlVzZXIiLCJuYmYiOjE3NTUwNjk3MTUsImV4cCI6MTc1NTA2OTgzNSwiaWF0IjoxNzU1MDY5NzE1LCJpc3MiOiJUcmF2ZWxQbGFubmVyQVBJIiwiYXVkIjoiVHJhdmVsUGxhbm5lckNsaWVudCJ9.Qg-V3Ab-1WQRyBna2Vwni552jLbUa370n08vxVgZnC4","refreshToken":""} Responded with [400] in 79ms
2025-08-13 12:53:56.368 +05:30 [DBG] Connection id "0HNEQ74DKRP4Q" completed keep alive response.
2025-08-13 12:53:56.369 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 12:53:56.370 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 400 126 application/json 91.3265ms
2025-08-13 20:07:48.996 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-13 20:07:49.208 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-13 20:07:49.298 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-13 20:07:49.723 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 20:07:49.725 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 20:07:49.726 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 20:07:49.727 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 20:07:49.875 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:07:49.877 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:07:49.878 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:07:49.880 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:07:49.982 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:07:50.071 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-13 20:07:50.252 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 20:07:50.293 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:07:50.315 +05:30 [DBG] Created DbConnection. (20ms).
2025-08-13 20:07:50.321 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:07:50.746 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:07:50.752 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:07:50.758 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-08-13 20:07:50.767 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-08-13 20:07:50.781 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 20:07:50.851 +05:30 [INF] Executed DbCommand (72ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 20:07:50.892 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:07:50.916 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:07:50.927 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 67ms reading results.
2025-08-13 20:07:50.931 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:07:50.939 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (8ms).
2025-08-13 20:07:50.945 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-13 20:07:50.955 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 20:07:50.960 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:07:50.963 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:07:50.964 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:07:50.967 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-13 20:07:50.969 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-13 20:07:50.970 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:07:50.984 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:07:51.011 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:07:51.063 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:07:51.065 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 76ms reading results.
2025-08-13 20:07:51.066 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:07:51.069 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 20:07:51.074 +05:30 [INF] Admin user already exists.
2025-08-13 20:07:51.078 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:07:51.082 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:07:51.088 +05:30 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-13 20:07:51.093 +05:30 [DBG] Hosting starting
2025-08-13 20:07:51.107 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-13 20:07:51.123 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-13 20:07:51.139 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-13 20:07:51.146 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 20:07:51.148 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-13 20:07:51.153 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 20:07:51.156 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-13 20:07:51.158 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-13 20:07:51.160 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-13 20:07:51.162 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-13 20:07:51.296 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-13 20:07:51.297 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-13 20:07:51.298 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-13 20:07:51.299 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-13 20:07:51.299 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-13 20:07:51.345 +05:30 [DBG] Connection id "0HNEQERTKLFDL" accepted.
2025-08-13 20:07:51.347 +05:30 [DBG] Connection id "0HNEQERTKLFDL" started.
2025-08-13 20:07:51.358 +05:30 [DBG] Connection id "0HNEQERTKLFDL" received FIN.
2025-08-13 20:07:51.360 +05:30 [DBG] Connection id "0HNEQERTKLFDL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 20:07:51.364 +05:30 [DBG] Connection id "0HNEQERTKLFDL" disconnecting.
2025-08-13 20:07:51.366 +05:30 [DBG] Connection id "0HNEQERTKLFDL" stopped.
2025-08-13 20:07:51.406 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-13 20:07:51.407 +05:30 [INF] Hosting environment: Development
2025-08-13 20:07:51.408 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-13 20:07:51.409 +05:30 [DBG] Hosting started
2025-08-13 20:08:10.862 +05:30 [DBG] Connection id "0HNEQERTKLFDM" accepted.
2025-08-13 20:08:10.863 +05:30 [DBG] Connection id "0HNEQERTKLFDM" started.
2025-08-13 20:08:10.879 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 20:08:10.885 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-13 20:08:10.900 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 20:08:10.901 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:08:10.920 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-13 20:08:10.923 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:08:10.924 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:08:10.926 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:08:10.936 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 16ms
2025-08-13 20:08:10.939 +05:30 [DBG] Connection id "0HNEQERTKLFDM" completed keep alive response.
2025-08-13 20:08:10.940 +05:30 [DBG] Connection id "0HNEQERTKLFDN" accepted.
2025-08-13 20:08:10.944 +05:30 [DBG] Connection id "0HNEQERTKLFDN" started.
2025-08-13 20:08:10.945 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 69.1813ms
2025-08-13 20:08:10.948 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 56
2025-08-13 20:08:10.954 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 20:08:10.956 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 20:08:10.959 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 20:08:10.962 +05:30 [DBG] Connection id "0HNEQERTKLFDN", Request id "0HNEQERTKLFDN:00000001": started reading request body.
2025-08-13 20:08:10.963 +05:30 [DBG] Connection id "0HNEQERTKLFDN", Request id "0HNEQERTKLFDN:00000001": done reading request body.
2025-08-13 20:08:10.966 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:08:10.967 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:08:11.003 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 20:08:11.006 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 20:08:11.022 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 20:08:11.026 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:08:11.027 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:08:11.028 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:08:11.030 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:08:11.031 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:08:11.033 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:08:11.063 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:08:11.067 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:08:11.072 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 20:08:11.075 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 20:08:11.077 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 20:08:11.089 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 20:08:11.090 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 20:08:11.091 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 20:08:11.092 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 20:08:11.099 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 20:08:11.105 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:08:11.106 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 20:08:11.107 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:11.108 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:11.109 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:08:11.109 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:08:11.110 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:08:11.111 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:08:11.116 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:08:11.121 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:11.123 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:11.125 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-13 20:08:11.127 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:11.129 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 20:08:11.185 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-08-13 20:08:11.191 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 20:08:11.194 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:11.195 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:11.196 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:08:11.198 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:08:11.199 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:08:11.199 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 20:08:11.205 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 20:08:11.207 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:11.208 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 20:08:11.209 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:11.210 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 20:08:11.220 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:11.223 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 20:08:11.226 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 20:08:11.233 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 20:08:11.276 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:11.278 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:11.280 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:08:11.281 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:08:11.283 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:08:11.284 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 20:08:11.293 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 20:08:11.301 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:11.303 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-08-13 20:08:11.305 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:11.306 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 20:08:11.309 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:11.312 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 20:08:11.345 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:08:11.349 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:08:11.350 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:08:11.350 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:08:11.352 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:08:11.353 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 20:08:11.363 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 329.0228ms
2025-08-13 20:08:11.364 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 20:08:11.499 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"suraksha@gmail.com","password":"Password@123"} Responded with [200] in 539ms
2025-08-13 20:08:11.503 +05:30 [DBG] Connection id "0HNEQERTKLFDN" completed keep alive response.
2025-08-13 20:08:11.505 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:08:11.507 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:11.508 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-13 20:08:11.509 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 850 application/json 561.8599ms
2025-08-13 20:08:11.545 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:08:11.549 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:08:11.552 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:08:11.555 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:08:11.556 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:08:11.559 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:08:11.561 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 7ms
2025-08-13 20:08:11.565 +05:30 [DBG] Connection id "0HNEQERTKLFDM" completed keep alive response.
2025-08-13 20:08:11.567 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:08:11.568 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 22.8391ms
2025-08-13 20:08:11.572 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:08:11.577 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:08:11.581 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:08:11.584 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:08:11.592 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:08:11.594 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:08:11.629 +05:30 [DBG] Successfully validated the token.
2025-08-13 20:08:11.632 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 20:08:11.640 +05:30 [DBG] Authorization was successful.
2025-08-13 20:08:11.642 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:08:11.651 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 20:08:11.653 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:08:11.655 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:08:11.656 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:08:11.658 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:08:11.659 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:08:11.662 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 20:08:11.671 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:08:11.766 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 20:08:11.771 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 20:08:11.773 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 20:08:11.779 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 20:08:11.784 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 20:08:11.786 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 20:08:11.787 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 20:08:11.788 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:08:11.789 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:08:11.789 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 20:08:11.791 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:08:11.807 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .Count()'
2025-08-13 20:08:11.839 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 20:08:11.851 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:08:11.851 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 20:08:11.852 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:11.853 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:11.854 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:08:11.855 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:08:11.856 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:08:11.857 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 20:08:11.866 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 20:08:11.869 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:11.870 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 20:08:11.871 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:11.872 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 20:08:11.876 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .OrderBy(t => t.Title)
    .Skip(__p_1)
    .Take(__p_2)'
2025-08-13 20:08:11.886 +05:30 [DBG] Including navigation: 'TripModel.BudgetDetails'.
2025-08-13 20:08:11.888 +05:30 [DBG] Including navigation: 'TripModel.Reviews'.
2025-08-13 20:08:11.928 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
            1 -> Dictionary<IProperty, int> { [Property: BudgetDetailsModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: BudgetDetailsModel.Food (decimal) Required, 16], [Property: BudgetDetailsModel.Hotel (decimal) Required, 17], [Property: BudgetDetailsModel.TripId (int) Required FK Index, 18] }
            2 -> 0
            3 -> 15
            4 -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: ReviewModel.Rating (int) Required, 20], [Property: ReviewModel.ReviewText (string) Required, 21], [Property: ReviewModel.TripId (int) Required FK Index, 22], [Property: ReviewModel.UserId (int) Required FK Index, 23] }
            5 -> 19
        SELECT t1.Id, t1.BestTime, t1.Budget, t1.Description, t1.Destination, t1.Duration, t1.EndDate, t1.EssentialsJson, t1.Image, t1.Notes, t1.StartDate, t1.Title, t1.TouristSpotsJson, t1.TravelMode, t1.UserId, b.Id, b.Food, b.Hotel, b.TripId, r.Id, r.Rating, r.review, r.TripId, r.UserId
        FROM 
        (
            SELECT t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))
            ORDER BY t.Title ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS t1
        LEFT JOIN budgetdetails AS b ON t1.Id == b.TripId
        LEFT JOIN reviews AS r ON t1.Id == r.TripId
        ORDER BY t1.Title ASC, t1.Id ASC, b.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-13 20:08:11.932 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:11.934 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:11.934 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:08:11.935 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:08:11.936 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:08:11.936 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 20:08:11.948 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 20:08:11.960 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:11.982 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:11.985 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:11.997 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:12.002 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:12.003 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:12.004 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:12.005 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:12.006 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:12.007 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:12.008 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:12.009 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:12.010 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:12.012 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:12.013 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:12.014 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:12.015 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:12.016 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:12.017 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:12.017 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 66ms reading results.
2025-08-13 20:08:12.018 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:12.019 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 20:08:12.025 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:08:12.028 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:08:12.029 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:08:12.029 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:08:12.030 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:08:12.031 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 20:08:12.046 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 384.0406ms
2025-08-13 20:08:12.048 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:08:12.056 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 464ms
2025-08-13 20:08:12.060 +05:30 [DBG] Connection id "0HNEQERTKLFDN" completed keep alive response.
2025-08-13 20:08:12.061 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:08:12.062 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:12.063 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 20:08:12.065 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 498.5376ms
2025-08-13 20:08:23.452 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - null null
2025-08-13 20:08:23.456 +05:30 [DBG] Connection id "0HNEQERTKLFDN" completed keep alive response.
2025-08-13 20:08:23.457 +05:30 [DBG] Connection id "0HNEQERTKLFDO" accepted.
2025-08-13 20:08:23.457 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - 200 13768 application/javascript; charset=utf-8 5.3277ms
2025-08-13 20:08:23.458 +05:30 [DBG] Connection id "0HNEQERTKLFDO" started.
2025-08-13 20:08:23.461 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_vs/browserLink - null null
2025-08-13 20:08:23.517 +05:30 [DBG] Connection id "0HNEQERTKLFDO" completed keep alive response.
2025-08-13 20:08:23.518 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.1522ms
2025-08-13 20:08:23.615 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - null null
2025-08-13 20:08:23.617 +05:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-13 20:08:23.618 +05:30 [DBG] Request did not match any endpoints
2025-08-13 20:08:23.630 +05:30 [DBG] Connection id "0HNEQERTKLFDO" completed keep alive response.
2025-08-13 20:08:23.631 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.7648ms
2025-08-13 20:08:27.738 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:08:27.743 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:08:27.745 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:08:27.747 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:08:27.749 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:08:27.752 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:08:27.754 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 7ms
2025-08-13 20:08:27.756 +05:30 [DBG] Connection id "0HNEQERTKLFDM" completed keep alive response.
2025-08-13 20:08:27.758 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 19.4012ms
2025-08-13 20:08:27.758 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:08:27.774 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:08:27.777 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:08:27.781 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:08:27.787 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:08:27.789 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:08:27.790 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:08:27.794 +05:30 [DBG] Successfully validated the token.
2025-08-13 20:08:27.795 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 20:08:27.800 +05:30 [DBG] Authorization was successful.
2025-08-13 20:08:27.802 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:08:27.808 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 20:08:27.828 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:08:27.830 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:08:27.832 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:08:27.837 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:08:27.840 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:08:27.842 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 20:08:27.846 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:08:27.851 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 20:08:27.854 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 20:08:27.856 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 20:08:27.858 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 20:08:27.860 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 20:08:27.863 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 20:08:27.867 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 20:08:27.870 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:08:27.872 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:08:27.874 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 20:08:27.876 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:08:27.880 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:08:27.883 +05:30 [DBG] Created DbConnection. (2ms).
2025-08-13 20:08:27.884 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:27.885 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:27.887 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:08:27.889 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:08:27.890 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 20:08:27.892 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 20:08:27.900 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 20:08:27.904 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:27.905 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 20:08:27.907 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:27.909 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 20:08:27.912 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:27.914 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:27.915 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:08:27.916 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:08:27.918 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 20:08:27.920 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 20:08:27.926 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 20:08:27.931 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:27.934 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:27.935 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:27.938 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:27.939 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:27.940 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:27.942 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:27.944 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:27.945 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:27.949 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:27.951 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:27.953 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:27.954 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:27.956 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:27.957 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:27.959 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:27.961 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:27.962 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:27.965 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:27.967 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 37ms reading results.
2025-08-13 20:08:27.969 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:27.970 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 20:08:27.972 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:08:27.974 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:08:27.975 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:08:27.977 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:08:27.978 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:08:27.980 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 20:08:27.982 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 140.0322ms
2025-08-13 20:08:27.983 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:08:27.988 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 199ms
2025-08-13 20:08:27.990 +05:30 [DBG] Connection id "0HNEQERTKLFDO" completed keep alive response.
2025-08-13 20:08:27.992 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:08:27.994 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:27.996 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 20:08:28.000 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 4486 application/json 242.3375ms
2025-08-13 20:08:55.233 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 20:08:55.235 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 20:08:55.237 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:08:55.238 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:08:55.239 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:08:55.240 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:08:55.241 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 2ms
2025-08-13 20:08:55.241 +05:30 [DBG] Connection id "0HNEQERTKLFDM" completed keep alive response.
2025-08-13 20:08:55.242 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 9.336ms
2025-08-13 20:08:55.243 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 56
2025-08-13 20:08:55.251 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 20:08:55.252 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 20:08:55.253 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 20:08:55.254 +05:30 [DBG] Connection id "0HNEQERTKLFDO", Request id "0HNEQERTKLFDO:00000004": started reading request body.
2025-08-13 20:08:55.255 +05:30 [DBG] Connection id "0HNEQERTKLFDO", Request id "0HNEQERTKLFDO:00000004": done reading request body.
2025-08-13 20:08:55.255 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:08:55.256 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:08:55.257 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 20:08:55.257 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 20:08:55.258 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 20:08:55.259 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:08:55.260 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:08:55.261 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:08:55.262 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:08:55.263 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:08:55.264 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:08:55.272 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:08:55.273 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:08:55.274 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 20:08:55.275 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 20:08:55.276 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 20:08:55.277 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 20:08:55.278 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 20:08:55.278 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 20:08:55.279 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 20:08:55.280 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 20:08:55.281 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:08:55.281 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 20:08:55.283 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.284 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.285 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:08:55.286 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:08:55.288 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:08:55.289 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:08:55.295 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:08:55.297 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:55.299 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.301 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-13 20:08:55.303 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.305 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 20:08:55.350 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.352 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.353 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:08:55.354 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:08:55.355 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:08:55.356 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 20:08:55.361 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 20:08:55.363 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.364 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 20:08:55.366 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.368 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 20:08:55.369 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:55.371 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 20:08:55.372 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 20:08:55.373 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 20:08:55.374 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.375 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.376 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:08:55.377 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:08:55.378 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:08:55.379 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 20:08:55.388 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 20:08:55.391 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.392 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 20:08:55.393 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.394 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 20:08:55.395 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:55.397 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 20:08:55.398 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:08:55.401 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:08:55.402 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:08:55.403 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:08:55.403 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:08:55.404 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 20:08:55.406 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 141.3618ms
2025-08-13 20:08:55.406 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 20:08:55.408 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"thriveni@gmail.com","password":"Password@123"} Responded with [200] in 153ms
2025-08-13 20:08:55.409 +05:30 [DBG] Connection id "0HNEQERTKLFDO" completed keep alive response.
2025-08-13 20:08:55.410 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:08:55.411 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.412 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:08:55.413 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 20:08:55.416 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:08:55.420 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 850 application/json 177.0367ms
2025-08-13 20:08:55.421 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:08:55.427 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:08:55.431 +05:30 [DBG] Connection id "0HNEQERTKLFDP" accepted.
2025-08-13 20:08:55.431 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:08:55.433 +05:30 [DBG] Connection id "0HNEQERTKLFDP" started.
2025-08-13 20:08:55.434 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:08:55.436 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:08:55.437 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 10ms
2025-08-13 20:08:55.440 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:08:55.441 +05:30 [DBG] Connection id "0HNEQERTKLFDM" completed keep alive response.
2025-08-13 20:08:55.443 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:08:55.443 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:08:55.449 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 34.8731ms
2025-08-13 20:08:55.452 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:08:55.453 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:08:55.455 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:08:55.456 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:08:55.457 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:08:55.457 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:08:55.458 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:08:55.459 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 6ms
2025-08-13 20:08:55.460 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:08:55.461 +05:30 [DBG] Connection id "0HNEQERTKLFDP" completed keep alive response.
2025-08-13 20:08:55.461 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:08:55.462 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 26.3969ms
2025-08-13 20:08:55.463 +05:30 [DBG] Successfully validated the token.
2025-08-13 20:08:55.465 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 20:08:55.468 +05:30 [DBG] Authorization was successful.
2025-08-13 20:08:55.469 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:08:55.470 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 20:08:55.471 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:08:55.471 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:08:55.472 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:08:55.475 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:08:55.476 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:08:55.477 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 20:08:55.481 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:08:55.484 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 20:08:55.486 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 20:08:55.488 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 20:08:55.491 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 20:08:55.493 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 20:08:55.496 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 20:08:55.498 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 20:08:55.502 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:08:55.503 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:08:55.504 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 20:08:55.505 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:08:55.506 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:08:55.507 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 20:08:55.508 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.509 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.510 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:08:55.511 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:08:55.512 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:08:55.512 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 20:08:55.518 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 20:08:55.520 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.521 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 20:08:55.523 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.524 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 20:08:55.526 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.527 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.528 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:08:55.529 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:08:55.530 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:08:55.531 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 20:08:55.543 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 20:08:55.546 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:55.548 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:55.549 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:55.552 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.552 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-08-13 20:08:55.554 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.554 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 20:08:55.555 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:08:55.557 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:08:55.558 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:08:55.559 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:08:55.560 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:08:55.561 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 20:08:55.562 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 85.18ms
2025-08-13 20:08:55.563 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:08:55.566 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 105ms
2025-08-13 20:08:55.569 +05:30 [DBG] Connection id "0HNEQERTKLFDO" completed keep alive response.
2025-08-13 20:08:55.571 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:08:55.574 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.576 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 20:08:55.578 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 1465 application/json 134.5323ms
2025-08-13 20:08:55.581 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:08:55.584 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:08:55.586 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:08:55.588 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:08:55.589 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:08:55.590 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:08:55.591 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:08:55.592 +05:30 [DBG] Successfully validated the token.
2025-08-13 20:08:55.593 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 20:08:55.594 +05:30 [DBG] Authorization was successful.
2025-08-13 20:08:55.594 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:08:55.595 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 20:08:55.596 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:08:55.597 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:08:55.598 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:08:55.600 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:08:55.601 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:08:55.603 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 20:08:55.605 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:08:55.607 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 20:08:55.607 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 20:08:55.608 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 20:08:55.609 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 20:08:55.610 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 20:08:55.611 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 20:08:55.612 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 20:08:55.614 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:08:55.614 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:08:55.615 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 20:08:55.616 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:08:55.619 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:08:55.620 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 20:08:55.621 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.624 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.624 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:08:55.625 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:08:55.626 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:08:55.627 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 20:08:55.630 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 20:08:55.634 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.635 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 20:08:55.636 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.637 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 20:08:55.639 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.639 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.640 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:08:55.641 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:08:55.641 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:08:55.642 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 20:08:55.647 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 20:08:55.650 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:55.651 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:55.652 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:08:55.653 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.653 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-13 20:08:55.654 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.655 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 20:08:55.656 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:08:55.658 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:08:55.658 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:08:55.659 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:08:55.659 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:08:55.660 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 20:08:55.661 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 57.8382ms
2025-08-13 20:08:55.661 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:08:55.663 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 72ms
2025-08-13 20:08:55.664 +05:30 [DBG] Connection id "0HNEQERTKLFDO" completed keep alive response.
2025-08-13 20:08:55.666 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:08:55.668 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:08:55.669 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 20:08:55.671 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 1465 application/json 90.601ms
2025-08-13 20:13:24.755 +05:30 [DBG] Connection id "0HNEQERTKLFDN" received FIN.
2025-08-13 20:13:24.760 +05:30 [DBG] Connection id "0HNEQERTKLFDN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 20:13:24.764 +05:30 [DBG] Connection id "0HNEQERTKLFDN" disconnecting.
2025-08-13 20:13:24.766 +05:30 [DBG] Connection id "0HNEQERTKLFDN" stopped.
2025-08-13 20:14:04.931 +05:30 [DBG] Connection id "0HNEQERTKLFDO" received FIN.
2025-08-13 20:14:04.931 +05:30 [DBG] Connection id "0HNEQERTKLFDM" received FIN.
2025-08-13 20:14:04.935 +05:30 [DBG] Connection id "0HNEQERTKLFDO" disconnecting.
2025-08-13 20:14:04.935 +05:30 [DBG] Connection id "0HNEQERTKLFDP" received FIN.
2025-08-13 20:14:04.938 +05:30 [DBG] Connection id "0HNEQERTKLFDM" disconnecting.
2025-08-13 20:14:04.942 +05:30 [DBG] Connection id "0HNEQERTKLFDP" disconnecting.
2025-08-13 20:14:04.939 +05:30 [DBG] Connection id "0HNEQERTKLFDO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 20:14:04.945 +05:30 [DBG] Connection id "0HNEQERTKLFDM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 20:14:04.948 +05:30 [DBG] Connection id "0HNEQERTKLFDP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 20:14:04.959 +05:30 [DBG] Connection id "0HNEQERTKLFDO" stopped.
2025-08-13 20:14:04.959 +05:30 [DBG] Connection id "0HNEQERTKLFDP" stopped.
2025-08-13 20:14:04.959 +05:30 [DBG] Connection id "0HNEQERTKLFDM" stopped.
2025-08-13 20:42:49.325 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-13 20:42:49.483 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-13 20:42:49.536 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-13 20:42:49.962 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 20:42:49.964 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 20:42:49.968 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 20:42:49.969 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 20:42:50.076 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:42:50.078 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:42:50.080 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:42:50.082 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:42:50.179 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:42:50.247 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-13 20:42:50.433 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 20:42:50.464 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:42:50.487 +05:30 [DBG] Created DbConnection. (22ms).
2025-08-13 20:42:50.491 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:42:50.721 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:42:50.725 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:42:50.730 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-13 20:42:50.736 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-08-13 20:42:50.744 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 20:42:50.793 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 20:42:50.817 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:42:50.830 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:42:50.836 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 37ms reading results.
2025-08-13 20:42:50.840 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:42:50.845 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (4ms).
2025-08-13 20:42:50.848 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-13 20:42:50.855 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 20:42:50.859 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:42:50.861 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:42:50.862 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:42:50.863 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:42:50.863 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:42:50.864 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:42:50.870 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:42:50.890 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:42:50.923 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:42:50.924 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 48ms reading results.
2025-08-13 20:42:50.925 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:42:50.926 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 20:42:50.929 +05:30 [INF] Admin user already exists.
2025-08-13 20:42:50.931 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:42:50.933 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:42:50.936 +05:30 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-13 20:42:50.940 +05:30 [DBG] Hosting starting
2025-08-13 20:42:50.950 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-13 20:42:50.956 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-13 20:42:50.964 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-13 20:42:50.968 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 20:42:50.969 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-13 20:42:50.972 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 20:42:50.974 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-13 20:42:50.976 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-13 20:42:50.978 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-13 20:42:50.979 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-13 20:42:51.053 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-13 20:42:51.055 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-13 20:42:51.055 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-13 20:42:51.056 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-13 20:42:51.057 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-13 20:42:51.070 +05:30 [DBG] Connection id "0HNEQFFFD6KVF" received FIN.
2025-08-13 20:42:51.076 +05:30 [DBG] Connection id "0HNEQFFFD6KVF" accepted.
2025-08-13 20:42:51.078 +05:30 [DBG] Connection id "0HNEQFFFD6KVF" started.
2025-08-13 20:42:51.081 +05:30 [DBG] Connection id "0HNEQFFFD6KVF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 20:42:51.089 +05:30 [DBG] Connection id "0HNEQFFFD6KVF" disconnecting.
2025-08-13 20:42:51.095 +05:30 [DBG] Connection id "0HNEQFFFD6KVF" stopped.
2025-08-13 20:42:51.142 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-13 20:42:51.143 +05:30 [INF] Hosting environment: Development
2025-08-13 20:42:51.144 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-13 20:42:51.145 +05:30 [DBG] Hosting started
2025-08-13 20:42:51.248 +05:30 [DBG] Connection id "0HNEQFFFD6KVG" accepted.
2025-08-13 20:42:51.250 +05:30 [DBG] Connection id "0HNEQFFFD6KVG" started.
2025-08-13 20:42:51.258 +05:30 [DBG] Connection id "0HNEQFFFD6KVH" accepted.
2025-08-13 20:42:51.260 +05:30 [DBG] Connection id "0HNEQFFFD6KVI" accepted.
2025-08-13 20:42:51.260 +05:30 [DBG] Connection id "0HNEQFFFD6KVH" started.
2025-08-13 20:42:51.264 +05:30 [DBG] Connection id "0HNEQFFFD6KVI" started.
2025-08-13 20:42:51.275 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:42:51.275 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/index.html - null null
2025-08-13 20:42:51.284 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-13 20:42:51.294 +05:30 [DBG] Connection id "0HNEQFFFD6KVJ" accepted.
2025-08-13 20:42:51.295 +05:30 [DBG] Connection id "0HNEQFFFD6KVJ" started.
2025-08-13 20:42:51.307 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:42:51.309 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:42:51.327 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-13 20:42:51.329 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:42:51.331 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:42:51.333 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:42:51.347 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 19ms
2025-08-13 20:42:51.355 +05:30 [DBG] Connection id "0HNEQFFFD6KVG" completed keep alive response.
2025-08-13 20:42:51.398 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 90.0507ms
2025-08-13 20:42:51.398 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:42:51.409 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:42:51.413 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:42:51.415 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:42:51.418 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:42:51.421 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:42:51.422 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:42:51.425 +05:30 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-13 20:42:51.426 +05:30 [DBG] Request did not match any endpoints
2025-08-13 20:42:51.512 +05:30 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-13 20:42:51.514 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-13 20:42:51.516 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 2:53:55 PM', Current time (UTC): '8/13/2025 3:12:51 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-13 20:42:51.525 +05:30 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-13 20:42:51.529 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-13 20:42:51.530 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 2:53:55 PM', Current time (UTC): '8/13/2025 3:12:51 PM'.
2025-08-13 20:42:51.532 +05:30 [DBG] Connection id "0HNEQFFFD6KVK" accepted.
2025-08-13 20:42:51.532 +05:30 [DBG] Connection id "0HNEQFFFD6KVH" completed keep alive response.
2025-08-13 20:42:51.536 +05:30 [DBG] Connection id "0HNEQFFFD6KVK" started.
2025-08-13 20:42:51.538 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/index.html - 200 null text/html;charset=utf-8 268.5573ms
2025-08-13 20:42:51.539 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 20:42:51.540 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - null null
2025-08-13 20:42:51.543 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_vs/browserLink - null null
2025-08-13 20:42:51.549 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 20:42:51.549 +05:30 [DBG] Connection id "0HNEQFFFD6KVK" completed keep alive response.
2025-08-13 20:42:51.555 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - 200 13768 application/javascript; charset=utf-8 15.1607ms
2025-08-13 20:42:51.565 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 20:42:51.607 +05:30 [DBG] Connection id "0HNEQFFFD6KVH" completed keep alive response.
2025-08-13 20:42:51.609 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_vs/browserLink - 200 null text/javascript; charset=UTF-8 66.2921ms
2025-08-13 20:42:51.635 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - null null
2025-08-13 20:42:51.637 +05:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-13 20:42:51.638 +05:30 [DBG] Request did not match any endpoints
2025-08-13 20:42:51.658 +05:30 [DBG] Connection id "0HNEQFFFD6KVH" completed keep alive response.
2025-08-13 20:42:51.659 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.325ms
2025-08-13 20:42:51.676 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 255ms
2025-08-13 20:42:51.678 +05:30 [DBG] Connection id "0HNEQFFFD6KVI" completed keep alive response.
2025-08-13 20:42:51.681 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 317.5376ms
2025-08-13 20:42:51.685 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - null null
2025-08-13 20:42:51.687 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 20:42:51.688 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:42:51.690 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:42:51.692 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:42:51.694 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:42:51.695 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/refresh   Responded with [204] in 5ms
2025-08-13 20:42:51.696 +05:30 [DBG] Connection id "0HNEQFFFD6KVG" completed keep alive response.
2025-08-13 20:42:51.699 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 365
2025-08-13 20:42:51.699 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - 204 null null 13.9502ms
2025-08-13 20:42:51.704 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 20:42:51.707 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 20:42:51.709 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:42:51.713 +05:30 [DBG] Connection id "0HNEQFFFD6KVI", Request id "0HNEQFFFD6KVI:00000002": started reading request body.
2025-08-13 20:42:51.716 +05:30 [DBG] Connection id "0HNEQFFFD6KVI", Request id "0HNEQFFFD6KVI:00000002": done reading request body.
2025-08-13 20:42:51.719 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:42:51.720 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:42:51.724 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 20:42:51.726 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:42:51.750 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 20:42:51.754 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:42:51.756 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:42:51.759 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:42:51.767 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:42:51.769 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:42:51.773 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:42:51.820 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:42:51.823 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:42:51.829 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:42:51.833 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 20:42:51.835 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 20:42:51.850 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 20:42:51.851 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:42:51.851 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:42:51.852 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:42:51.858 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:42:51.926 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:42:51.931 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:42:51.932 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:42:51.932 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:42:51.934 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:42:51.935 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 20:42:51.944 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 170.3791ms
2025-08-13 20:42:51.946 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:42:51.990 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI2IiwidW5pcXVlX25hbWUiOiJUaHJpdmVuaSIsImVtYWlsIjoidGhyaXZlbmlAZ21haWwuY29tIiwicm9sZSI6IlVzZXIiLCJuYmYiOjE3NTUwOTU5MzUsImV4cCI6MTc1NTA5NjgzNSwiaWF0IjoxNzU1MDk1OTM1LCJpc3MiOiJUcmF2ZWxQbGFubmVyQVBJIiwiYXVkIjoiVHJhdmVsUGxhbm5lckNsaWVudCJ9.Hf1UpmKAz68itQ_Sf5LeBp5VC8j6s3FwLg9dWeFWszU","refreshToken":""} Responded with [401] in 280ms
2025-08-13 20:42:51.992 +05:30 [DBG] Connection id "0HNEQFFFD6KVI" completed keep alive response.
2025-08-13 20:42:51.994 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:42:51.996 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 401 126 application/json 297.8732ms
2025-08-13 20:43:09.943 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 20:43:09.945 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 20:43:09.946 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:43:09.947 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:43:09.948 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:43:09.948 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:43:09.950 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 2ms
2025-08-13 20:43:09.950 +05:30 [DBG] Connection id "0HNEQFFFD6KVG" completed keep alive response.
2025-08-13 20:43:09.951 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 55
2025-08-13 20:43:09.951 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 8.614ms
2025-08-13 20:43:09.953 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 20:43:09.956 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 20:43:09.959 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 20:43:09.960 +05:30 [DBG] Connection id "0HNEQFFFD6KVI", Request id "0HNEQFFFD6KVI:00000003": started reading request body.
2025-08-13 20:43:09.961 +05:30 [DBG] Connection id "0HNEQFFFD6KVI", Request id "0HNEQFFFD6KVI:00000003": done reading request body.
2025-08-13 20:43:09.962 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:43:09.962 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:43:09.964 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 20:43:09.964 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 20:43:09.969 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 20:43:09.971 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:43:09.971 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:43:09.972 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:43:09.976 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:43:09.977 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:43:09.978 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:43:09.990 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:43:09.992 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:43:09.993 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 20:43:09.994 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 20:43:09.995 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 20:43:09.998 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 20:43:09.999 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 20:43:10.000 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 20:43:10.001 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 20:43:10.003 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 20:43:10.007 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:43:10.007 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 20:43:10.008 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:43:10.009 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:43:10.010 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:43:10.011 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:43:10.011 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:43:10.012 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:43:10.018 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:43:10.023 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:43:10.025 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:43:10.026 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-13 20:43:10.027 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:43:10.028 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 20:43:10.086 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-08-13 20:43:10.091 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 20:43:10.095 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:43:10.095 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:43:10.096 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:43:10.097 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:43:10.097 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:43:10.098 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 20:43:10.102 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 20:43:10.105 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:43:10.105 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 20:43:10.106 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:43:10.107 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 20:43:10.119 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:43:10.122 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 20:43:10.125 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 20:43:10.134 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 20:43:10.180 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:43:10.182 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:43:10.185 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:43:10.186 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:43:10.187 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:43:10.189 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 20:43:10.200 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 20:43:10.207 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:43:10.208 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-08-13 20:43:10.209 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:43:10.210 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 20:43:10.213 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:43:10.216 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 20:43:10.227 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:43:10.229 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:43:10.229 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:43:10.230 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:43:10.231 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:43:10.232 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.Threading.Tasks.Task`1[[System.ValueTuple`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 20:43:10.253 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 274.7622ms
2025-08-13 20:43:10.256 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 20:43:10.279 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"meghana@gmail.com","password":"Password@123"} Responded with [200] in 319ms
2025-08-13 20:43:10.282 +05:30 [DBG] Connection id "0HNEQFFFD6KVI" completed keep alive response.
2025-08-13 20:43:10.283 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:43:10.284 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:43:10.287 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:43:10.291 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:43:10.291 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:43:10.291 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:43:10.293 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:43:10.296 +05:30 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-13 20:43:10.299 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:43:10.300 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:43:10.302 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 808 application/json 350.4765ms
2025-08-13 20:43:10.303 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:43:10.304 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:43:10.309 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:43:10.310 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 17ms
2025-08-13 20:43:10.311 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:43:10.313 +05:30 [DBG] Connection id "0HNEQFFFD6KVG" completed keep alive response.
2025-08-13 20:43:10.314 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:43:10.315 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:43:10.315 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 32.4701ms
2025-08-13 20:43:10.317 +05:30 [INF] Source:[127.0.0.1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 7ms
2025-08-13 20:43:10.319 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:43:10.323 +05:30 [DBG] Connection id "0HNEQFFFD6KVJ" completed keep alive response.
2025-08-13 20:43:10.326 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:43:10.327 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 35.29ms
2025-08-13 20:43:10.328 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:43:10.334 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:43:10.335 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:43:10.336 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:43:10.338 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-13 20:43:10.347 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-13 20:43:10.350 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 20:43:10.351 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 20:43:10.354 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 20:43:10.356 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 20ms
2025-08-13 20:43:10.357 +05:30 [DBG] Connection id "0HNEQFFFD6KVI" completed keep alive response.
2025-08-13 20:43:10.358 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 43.78ms
2025-08-13 20:43:10.359 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - null null
2025-08-13 20:43:10.361 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:43:10.363 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 20:43:10.365 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:43:10.366 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:43:10.368 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:43:10.369 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:43:10.371 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:43:10.372 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:43:10.375 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:43:10.375 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:43:10.376 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:43:10.377 +05:30 [INF] Source:[127.0.0.1] Request: OPTIONS http localhost:5276/api/v1/Auth/refresh   Responded with [204] in 7ms
2025-08-13 20:43:10.378 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:43:10.379 +05:30 [DBG] Connection id "0HNEQFFFD6KVJ" completed keep alive response.
2025-08-13 20:43:10.380 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-13 20:43:10.380 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 51
2025-08-13 20:43:10.382 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - 204 null null 23.6263ms
2025-08-13 20:43:10.387 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-13 20:43:10.389 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 20:43:10.395 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 20:43:10.395 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 20:43:10.396 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 20:43:10.398 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:43:10.399 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 20:43:10.399 +05:30 [DBG] Connection id "0HNEQFFFD6KVH", Request id "0HNEQFFFD6KVH:00000004": started reading request body.
2025-08-13 20:43:10.401 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 24ms
2025-08-13 20:43:10.403 +05:30 [DBG] Connection id "0HNEQFFFD6KVH", Request id "0HNEQFFFD6KVH:00000004": done reading request body.
2025-08-13 20:43:10.404 +05:30 [DBG] Connection id "0HNEQFFFD6KVI" completed keep alive response.
2025-08-13 20:43:10.406 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:43:10.407 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 45.4459ms
2025-08-13 20:43:10.408 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:43:10.413 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 51
2025-08-13 20:43:10.413 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 20:43:10.417 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 20:43:10.418 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:43:10.419 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 20:43:10.421 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 20:43:10.423 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:43:10.425 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:43:10.426 +05:30 [DBG] Connection id "0HNEQFFFD6KVI", Request id "0HNEQFFFD6KVI:00000006": started reading request body.
2025-08-13 20:43:10.429 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:43:10.432 +05:30 [DBG] Connection id "0HNEQFFFD6KVI", Request id "0HNEQFFFD6KVI:00000006": done reading request body.
2025-08-13 20:43:10.433 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:43:10.434 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:43:10.438 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:43:10.439 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:43:10.442 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:43:10.444 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 20:43:10.446 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:43:10.447 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:43:10.450 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 20:43:10.453 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:43:10.455 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:43:10.456 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:43:10.458 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:43:10.463 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:43:10.469 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:43:10.472 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:43:10.474 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:43:10.475 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 20:43:10.478 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:43:10.479 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 20:43:10.482 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:43:10.483 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 20:43:10.485 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:43:10.486 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:43:10.487 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:43:10.491 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:43:10.494 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 20:43:10.498 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:43:10.502 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 20:43:10.504 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:43:10.506 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 20:43:10.534 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:43:10.534 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:43:10.535 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:43:10.540 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:43:10.542 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:43:10.543 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:43:10.545 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:43:10.546 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:43:10.571 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:43:10.571 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:43:10.576 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 20:43:10.580 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:43:10.583 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 137.3683ms
2025-08-13 20:43:10.584 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:43:10.585 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:43:10.587 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:43:10.590 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"[object Object]","refreshToken":""} Responded with [401] in 190ms
2025-08-13 20:43:10.591 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:43:10.593 +05:30 [DBG] Connection id "0HNEQFFFD6KVH" completed keep alive response.
2025-08-13 20:43:10.595 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 20:43:10.596 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:43:10.598 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 120.34ms
2025-08-13 20:43:10.599 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 401 126 application/json 219.0196ms
2025-08-13 20:43:10.600 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:43:10.605 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"[object Object]","refreshToken":""} Responded with [401] in 178ms
2025-08-13 20:43:10.606 +05:30 [DBG] Connection id "0HNEQFFFD6KVI" completed keep alive response.
2025-08-13 20:43:10.610 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:43:10.612 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 401 126 application/json 199.3932ms
2025-08-13 20:44:58.700 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-13 20:44:58.858 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-13 20:44:58.904 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-13 20:44:59.231 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 20:44:59.233 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 20:44:59.234 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 20:44:59.235 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 20:44:59.364 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:44:59.365 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:44:59.368 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:44:59.375 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:44:59.491 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:44:59.567 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-13 20:44:59.708 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 20:44:59.739 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:44:59.758 +05:30 [DBG] Created DbConnection. (17ms).
2025-08-13 20:44:59.762 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:45:00.029 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:45:00.033 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:45:00.041 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-13 20:45:00.049 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2025-08-13 20:45:00.058 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 20:45:00.110 +05:30 [INF] Executed DbCommand (53ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 20:45:00.145 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:45:00.163 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:45:00.171 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 55ms reading results.
2025-08-13 20:45:00.176 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:45:00.182 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (5ms).
2025-08-13 20:45:00.187 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-13 20:45:00.197 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 20:45:00.202 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:45:00.206 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:45:00.207 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:45:00.209 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:45:00.210 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:45:00.211 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:45:00.217 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:45:00.238 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:45:00.274 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:45:00.276 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 54ms reading results.
2025-08-13 20:45:00.277 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:45:00.278 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 20:45:00.281 +05:30 [INF] Admin user already exists.
2025-08-13 20:45:00.283 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:45:00.288 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:45:00.290 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 20:45:00.293 +05:30 [DBG] Hosting starting
2025-08-13 20:45:00.305 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-13 20:45:00.312 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-13 20:45:00.319 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-13 20:45:00.323 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 20:45:00.325 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-13 20:45:00.329 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 20:45:00.331 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-13 20:45:00.333 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-13 20:45:00.335 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-13 20:45:00.336 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-13 20:45:00.408 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-13 20:45:00.409 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-13 20:45:00.410 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-13 20:45:00.410 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-13 20:45:00.411 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-13 20:45:00.490 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-13 20:45:00.490 +05:30 [INF] Hosting environment: Development
2025-08-13 20:45:00.496 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-13 20:45:00.497 +05:30 [DBG] Hosting started
2025-08-13 20:45:00.819 +05:30 [DBG] Connection id "0HNEQFGM2IOI1" accepted.
2025-08-13 20:45:00.825 +05:30 [DBG] Connection id "0HNEQFGM2IOI1" started.
2025-08-13 20:45:00.829 +05:30 [DBG] Connection id "0HNEQFGM2IOI2" received FIN.
2025-08-13 20:45:00.829 +05:30 [DBG] Connection id "0HNEQFGM2IOI1" received FIN.
2025-08-13 20:45:00.833 +05:30 [DBG] Connection id "0HNEQFGM2IOI2" accepted.
2025-08-13 20:45:00.839 +05:30 [DBG] Connection id "0HNEQFGM2IOI2" started.
2025-08-13 20:45:00.839 +05:30 [DBG] Connection id "0HNEQFGM2IOI1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 20:45:00.842 +05:30 [DBG] Connection id "0HNEQFGM2IOI2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 20:45:00.845 +05:30 [DBG] Connection id "0HNEQFGM2IOI1" disconnecting.
2025-08-13 20:45:00.845 +05:30 [DBG] Connection id "0HNEQFGM2IOI2" disconnecting.
2025-08-13 20:45:00.852 +05:30 [DBG] Connection id "0HNEQFGM2IOI1" stopped.
2025-08-13 20:45:00.852 +05:30 [DBG] Connection id "0HNEQFGM2IOI2" stopped.
2025-08-13 20:45:02.172 +05:30 [DBG] Connection id "0HNEQFGM2IOI3" accepted.
2025-08-13 20:45:02.173 +05:30 [DBG] Connection id "0HNEQFGM2IOI3" started.
2025-08-13 20:45:02.192 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 20:45:02.197 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-13 20:45:02.213 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 20:45:02.214 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:45:02.230 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-13 20:45:02.233 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:45:02.235 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:45:02.236 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:45:02.246 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 16ms
2025-08-13 20:45:02.248 +05:30 [DBG] Connection id "0HNEQFGM2IOI3" completed keep alive response.
2025-08-13 20:45:02.250 +05:30 [DBG] Connection id "0HNEQFGM2IOI4" accepted.
2025-08-13 20:45:02.250 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 63.7964ms
2025-08-13 20:45:02.251 +05:30 [DBG] Connection id "0HNEQFGM2IOI4" started.
2025-08-13 20:45:02.257 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 55
2025-08-13 20:45:02.262 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 20:45:02.264 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 20:45:02.267 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 20:45:02.271 +05:30 [DBG] Connection id "0HNEQFGM2IOI4", Request id "0HNEQFGM2IOI4:00000001": started reading request body.
2025-08-13 20:45:02.272 +05:30 [DBG] Connection id "0HNEQFGM2IOI4", Request id "0HNEQFGM2IOI4:00000001": done reading request body.
2025-08-13 20:45:02.274 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:45:02.275 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:45:02.308 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 20:45:02.310 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 20:45:02.328 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 20:45:02.331 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:45:02.332 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:45:02.333 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:45:02.334 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:45:02.335 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:45:02.338 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:45:02.379 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:45:02.382 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:45:02.387 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 20:45:02.391 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 20:45:02.396 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 20:45:02.414 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 20:45:02.416 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 20:45:02.417 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 20:45:02.419 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 20:45:02.431 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 20:45:02.443 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:45:02.445 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 20:45:02.446 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:45:02.447 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:45:02.448 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:45:02.450 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:45:02.451 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 20:45:02.453 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:45:02.459 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:45:02.468 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:45:02.470 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:45:02.471 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-13 20:45:02.474 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:45:02.475 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 20:45:02.547 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-08-13 20:45:02.553 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 20:45:02.560 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:45:02.561 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:45:02.562 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:45:02.564 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:45:02.565 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 20:45:02.566 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 20:45:02.573 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 20:45:02.576 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:45:02.578 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 20:45:02.579 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:45:02.580 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 20:45:02.597 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:45:02.601 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 20:45:02.604 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 20:45:02.615 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 20:45:02.679 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:45:02.682 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:45:02.685 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:45:02.686 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:45:02.688 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:45:02.689 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 20:45:02.699 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 20:45:02.711 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:45:02.712 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-08-13 20:45:02.714 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:45:02.715 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 20:45:02.720 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:45:02.723 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 20:45:02.753 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:45:02.757 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:45:02.758 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:45:02.758 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:45:02.760 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:45:02.761 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.Threading.Tasks.Task`1[[System.ValueTuple`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 20:45:02.801 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 460.7721ms
2025-08-13 20:45:02.803 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 20:45:02.954 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"meghana@gmail.com","password":"Password@123"} Responded with [200] in 685ms
2025-08-13 20:45:02.959 +05:30 [DBG] Connection id "0HNEQFGM2IOI5" accepted.
2025-08-13 20:45:02.959 +05:30 [DBG] Connection id "0HNEQFGM2IOI4" completed keep alive response.
2025-08-13 20:45:02.959 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:45:02.961 +05:30 [DBG] Connection id "0HNEQFGM2IOI5" started.
2025-08-13 20:45:02.963 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:45:02.968 +05:30 [DBG] Connection id "0HNEQFGM2IOI6" accepted.
2025-08-13 20:45:02.968 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:45:02.977 +05:30 [DBG] Connection id "0HNEQFGM2IOI6" started.
2025-08-13 20:45:02.972 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:45:02.978 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:45:02.979 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:45:02.980 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:45:02.983 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:45:02.985 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:45:02.986 +05:30 [DBG] Disposed connection to database '' on server '' (6ms).
2025-08-13 20:45:02.989 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:45:02.990 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:45:02.991 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:45:02.993 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 808 application/json 736.8814ms
2025-08-13 20:45:02.993 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:45:02.994 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:45:02.995 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:45:02.998 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:45:02.999 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:45:03.001 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 16ms
2025-08-13 20:45:03.001 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:45:03.002 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:45:03.003 +05:30 [DBG] Connection id "0HNEQFGM2IOI3" completed keep alive response.
2025-08-13 20:45:03.006 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:45:03.006 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:45:03.007 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 48.021ms
2025-08-13 20:45:03.007 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 12ms
2025-08-13 20:45:03.008 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 9ms
2025-08-13 20:45:03.010 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:45:03.013 +05:30 [DBG] Connection id "0HNEQFGM2IOI5" completed keep alive response.
2025-08-13 20:45:03.014 +05:30 [DBG] Connection id "0HNEQFGM2IOI6" completed keep alive response.
2025-08-13 20:45:03.015 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:45:03.016 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 44.0379ms
2025-08-13 20:45:03.016 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 36.9577ms
2025-08-13 20:45:03.018 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:45:03.026 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:45:03.028 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:45:03.029 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:45:03.039 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-13 20:45:03.049 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-13 20:45:03.052 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 20:45:03.056 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 20:45:03.062 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 20:45:03.068 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 40ms
2025-08-13 20:45:03.070 +05:30 [DBG] Connection id "0HNEQFGM2IOI4" completed keep alive response.
2025-08-13 20:45:03.071 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - null null
2025-08-13 20:45:03.072 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 66.4738ms
2025-08-13 20:45:03.075 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 20:45:03.078 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:45:03.079 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:45:03.081 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:45:03.082 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:45:03.083 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:45:03.084 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:45:03.086 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:45:03.088 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:45:03.091 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:45:03.092 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/refresh   Responded with [204] in 10ms
2025-08-13 20:45:03.095 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:45:03.096 +05:30 [DBG] Connection id "0HNEQFGM2IOI6" completed keep alive response.
2025-08-13 20:45:03.098 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:45:03.100 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - 204 null null 28.6872ms
2025-08-13 20:45:03.102 +05:30 [DBG] Connection id "0HNEQFGM2IOI7" accepted.
2025-08-13 20:45:03.107 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-13 20:45:03.110 +05:30 [DBG] Connection id "0HNEQFGM2IOI7" started.
2025-08-13 20:45:03.116 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-13 20:45:03.118 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 51
2025-08-13 20:45:03.123 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 20:45:03.124 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 20:45:03.125 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 20:45:03.126 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 20:45:03.128 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 20:45:03.129 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:45:03.131 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 36ms
2025-08-13 20:45:03.132 +05:30 [DBG] Connection id "0HNEQFGM2IOI7", Request id "0HNEQFGM2IOI7:00000001": started reading request body.
2025-08-13 20:45:03.134 +05:30 [DBG] Connection id "0HNEQFGM2IOI4" completed keep alive response.
2025-08-13 20:45:03.135 +05:30 [DBG] Connection id "0HNEQFGM2IOI8" accepted.
2025-08-13 20:45:03.136 +05:30 [DBG] Connection id "0HNEQFGM2IOI7", Request id "0HNEQFGM2IOI7:00000001": done reading request body.
2025-08-13 20:45:03.138 +05:30 [DBG] Connection id "0HNEQFGM2IOI8" started.
2025-08-13 20:45:03.137 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 59.1933ms
2025-08-13 20:45:03.140 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:45:03.141 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 51
2025-08-13 20:45:03.144 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:45:03.145 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:45:03.147 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 20:45:03.149 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:45:03.150 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 20:45:03.151 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 20:45:03.153 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:45:03.154 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:45:03.156 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:45:03.158 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:45:03.160 +05:30 [DBG] Connection id "0HNEQFGM2IOI8", Request id "0HNEQFGM2IOI8:00000001": started reading request body.
2025-08-13 20:45:03.162 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:45:03.163 +05:30 [DBG] Connection id "0HNEQFGM2IOI8", Request id "0HNEQFGM2IOI8:00000001": done reading request body.
2025-08-13 20:45:03.164 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:45:03.165 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 20:45:03.165 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:45:03.166 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:45:03.170 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:45:03.171 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:45:03.173 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-13 20:45:03.175 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:45:03.176 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 20:45:03.182 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-13 20:45:03.184 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:45:03.188 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:45:03.192 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 20:45:03.193 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:45:03.195 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 20:45:03.196 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 20:45:03.199 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:45:03.204 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:45:03.206 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 20:45:03.209 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:45:03.210 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:45:03.212 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 47ms
2025-08-13 20:45:03.216 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:45:03.218 +05:30 [DBG] Connection id "0HNEQFGM2IOI4" completed keep alive response.
2025-08-13 20:45:03.222 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:45:03.223 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 79.4812ms
2025-08-13 20:45:03.225 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:45:03.228 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 51
2025-08-13 20:45:03.232 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:45:03.234 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:45:03.234 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 20:45:03.240 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:45:03.241 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 20:45:03.243 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:45:03.245 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:45:03.245 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:45:03.248 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 20:45:03.251 +05:30 [DBG] Connection id "0HNEQFGM2IOI4", Request id "0HNEQFGM2IOI4:00000005": started reading request body.
2025-08-13 20:45:03.252 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:45:03.255 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 20:45:03.257 +05:30 [DBG] Connection id "0HNEQFGM2IOI4", Request id "0HNEQFGM2IOI4:00000005": done reading request body.
2025-08-13 20:45:03.259 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:45:03.262 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:45:03.263 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 20:45:03.264 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 20:45:03.265 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:45:03.266 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:45:03.268 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 20:45:03.271 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 20:45:03.272 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:45:03.274 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 20:45:03.274 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:45:03.276 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:45:03.277 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:45:03.278 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 20:45:03.281 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:45:03.281 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:45:03.283 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:45:03.286 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:45:03.288 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:45:03.350 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:45:03.351 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:45:03.381 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:45:03.384 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:45:03.387 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:45:03.390 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:45:03.392 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:45:03.394 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:45:03.395 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 20:45:03.397 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 20:45:03.399 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 20:45:03.401 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:45:03.403 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:45:03.406 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:45:03.408 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:45:03.438 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:45:03.438 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:45:03.438 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:45:03.442 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:45:03.445 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:45:03.451 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:45:03.452 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:45:03.453 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:45:03.455 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:45:03.456 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:45:03.457 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:45:03.458 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:45:03.459 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:45:03.460 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:45:03.461 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:45:03.462 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 20:45:03.464 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 20:45:03.465 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 20:45:03.470 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 82.2953ms
2025-08-13 20:45:03.470 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 237.9212ms
2025-08-13 20:45:03.472 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 263.7655ms
2025-08-13 20:45:03.473 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:45:03.475 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:45:03.476 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:45:03.482 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"[object Object]","refreshToken":""} Responded with [401] in 230ms
2025-08-13 20:45:03.482 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"[object Object]","refreshToken":""} Responded with [401] in 349ms
2025-08-13 20:45:03.482 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"[object Object]","refreshToken":""} Responded with [401] in 321ms
2025-08-13 20:45:03.489 +05:30 [DBG] Connection id "0HNEQFGM2IOI4" completed keep alive response.
2025-08-13 20:45:03.492 +05:30 [DBG] Connection id "0HNEQFGM2IOI7" completed keep alive response.
2025-08-13 20:45:03.493 +05:30 [DBG] Connection id "0HNEQFGM2IOI8" completed keep alive response.
2025-08-13 20:45:03.494 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:45:03.495 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:45:03.496 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:45:03.496 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 401 126 application/json 268.4003ms
2025-08-13 20:45:03.497 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 401 126 application/json 379.9153ms
2025-08-13 20:45:03.498 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 401 126 application/json 357.4837ms
2025-08-13 20:46:19.412 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-13 20:46:19.515 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-13 20:46:19.554 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-13 20:46:19.806 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 20:46:19.808 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 20:46:19.809 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 20:46:19.810 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 20:46:19.886 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:46:19.887 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:46:19.889 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:46:19.891 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:46:19.957 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:46:20.013 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-13 20:46:20.114 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 20:46:20.138 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:46:20.153 +05:30 [DBG] Created DbConnection. (13ms).
2025-08-13 20:46:20.157 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:46:20.356 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:46:20.359 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:46:20.364 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-13 20:46:20.371 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-08-13 20:46:20.377 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 20:46:20.417 +05:30 [INF] Executed DbCommand (41ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 20:46:20.442 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:46:20.454 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:46:20.460 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 38ms reading results.
2025-08-13 20:46:20.463 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:46:20.468 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (4ms).
2025-08-13 20:46:20.471 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-13 20:46:20.477 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 20:46:20.480 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:46:20.482 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:46:20.483 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:46:20.483 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:46:20.484 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:46:20.485 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:46:20.490 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:46:20.507 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:46:20.538 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:46:20.539 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 47ms reading results.
2025-08-13 20:46:20.541 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:46:20.541 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 20:46:20.545 +05:30 [INF] Admin user already exists.
2025-08-13 20:46:20.547 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:46:20.550 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:46:20.552 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 20:46:20.557 +05:30 [DBG] Hosting starting
2025-08-13 20:46:20.571 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-13 20:46:20.578 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-13 20:46:20.585 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-13 20:46:20.589 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 20:46:20.593 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-13 20:46:20.596 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 20:46:20.598 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-13 20:46:20.600 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-13 20:46:20.602 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-13 20:46:20.603 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-13 20:46:20.674 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-13 20:46:20.675 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-13 20:46:20.675 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-13 20:46:20.677 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-13 20:46:20.677 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-13 20:46:20.739 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-13 20:46:20.740 +05:30 [INF] Hosting environment: Development
2025-08-13 20:46:20.745 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-13 20:46:20.746 +05:30 [DBG] Hosting started
2025-08-13 20:46:20.872 +05:30 [DBG] Connection id "0HNEQFHDU0VRD" accepted.
2025-08-13 20:46:20.873 +05:30 [DBG] Connection id "0HNEQFHDU0VRD" started.
2025-08-13 20:46:20.898 +05:30 [DBG] Connection id "0HNEQFHDU0VRD" received FIN.
2025-08-13 20:46:20.902 +05:30 [DBG] Connection id "0HNEQFHDU0VRD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 20:46:20.906 +05:30 [DBG] Connection id "0HNEQFHDU0VRD" disconnecting.
2025-08-13 20:46:20.908 +05:30 [DBG] Connection id "0HNEQFHDU0VRD" stopped.
2025-08-13 20:46:24.246 +05:30 [DBG] Connection id "0HNEQFHDU0VRE" accepted.
2025-08-13 20:46:24.247 +05:30 [DBG] Connection id "0HNEQFHDU0VRE" started.
2025-08-13 20:46:24.267 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 20:46:24.275 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-13 20:46:24.302 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 20:46:24.304 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:46:24.322 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-13 20:46:24.325 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:46:24.326 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:46:24.328 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:46:24.337 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 15ms
2025-08-13 20:46:24.341 +05:30 [DBG] Connection id "0HNEQFHDU0VRE" completed keep alive response.
2025-08-13 20:46:24.343 +05:30 [DBG] Connection id "0HNEQFHDU0VRF" accepted.
2025-08-13 20:46:24.348 +05:30 [DBG] Connection id "0HNEQFHDU0VRF" started.
2025-08-13 20:46:24.348 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 84.9686ms
2025-08-13 20:46:24.351 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 55
2025-08-13 20:46:24.359 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 20:46:24.364 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 20:46:24.367 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 20:46:24.372 +05:30 [DBG] Connection id "0HNEQFHDU0VRF", Request id "0HNEQFHDU0VRF:00000001": started reading request body.
2025-08-13 20:46:24.374 +05:30 [DBG] Connection id "0HNEQFHDU0VRF", Request id "0HNEQFHDU0VRF:00000001": done reading request body.
2025-08-13 20:46:24.377 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:46:24.378 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:46:24.424 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 20:46:24.429 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 20:46:24.459 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 20:46:24.463 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:46:24.465 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:46:24.466 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:46:24.469 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:46:24.471 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:46:24.476 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:46:24.539 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:46:24.544 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:46:24.549 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 20:46:24.553 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 20:46:24.556 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 20:46:24.578 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 20:46:24.580 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 20:46:24.581 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 20:46:24.583 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 20:46:24.594 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 20:46:24.604 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:46:24.605 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 20:46:24.607 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:46:24.611 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:46:24.613 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:46:24.614 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:46:24.616 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 20:46:24.620 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:46:24.626 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:46:24.635 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:46:24.640 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:46:24.645 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 11ms reading results.
2025-08-13 20:46:24.651 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:46:24.657 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (6ms).
2025-08-13 20:46:24.760 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-08-13 20:46:24.771 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 20:46:24.781 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:46:24.784 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:46:24.789 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:46:24.791 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:46:24.794 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-13 20:46:24.796 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 20:46:24.807 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 20:46:24.816 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:46:24.817 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 20:46:24.821 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:46:24.822 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 20:46:24.852 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:46:24.862 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 20:46:24.866 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 20:46:24.881 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 20:46:24.956 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:46:24.957 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:46:24.961 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:46:24.962 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:46:24.964 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:46:24.966 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 20:46:24.976 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 20:46:24.987 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:46:24.990 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-08-13 20:46:24.992 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:46:24.993 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 20:46:24.998 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:46:25.001 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 20:46:25.034 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:46:25.040 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:46:25.040 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:46:25.041 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:46:25.043 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:46:25.044 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.Threading.Tasks.Task`1[[System.ValueTuple`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 20:46:25.077 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 600.369ms
2025-08-13 20:46:25.079 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 20:46:25.220 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"meghana@gmail.com","password":"Password@123"} Responded with [200] in 851ms
2025-08-13 20:46:25.223 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:46:25.224 +05:30 [DBG] Connection id "0HNEQFHDU0VRG" accepted.
2025-08-13 20:46:25.223 +05:30 [DBG] Connection id "0HNEQFHDU0VRF" completed keep alive response.
2025-08-13 20:46:25.232 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:46:25.238 +05:30 [DBG] Connection id "0HNEQFHDU0VRH" accepted.
2025-08-13 20:46:25.235 +05:30 [DBG] Connection id "0HNEQFHDU0VRG" started.
2025-08-13 20:46:25.247 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:46:25.247 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:46:25.249 +05:30 [DBG] Connection id "0HNEQFHDU0VRH" started.
2025-08-13 20:46:25.250 +05:30 [DBG] Connection id "0HNEQFHDU0VRI" accepted.
2025-08-13 20:46:25.251 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:46:25.252 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:46:25.257 +05:30 [DBG] Connection id "0HNEQFHDU0VRI" started.
2025-08-13 20:46:25.255 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:46:25.254 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:46:25.260 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:46:25.262 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:46:25.264 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:46:25.265 +05:30 [DBG] Disposed connection to database '' on server '' (9ms).
2025-08-13 20:46:25.267 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:46:25.268 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:46:25.269 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:46:25.271 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:46:25.273 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 808 application/json 922.7004ms
2025-08-13 20:46:25.276 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:46:25.273 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:46:25.278 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 25ms
2025-08-13 20:46:25.278 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:46:25.285 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:46:25.287 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:46:25.289 +05:30 [DBG] Connection id "0HNEQFHDU0VRE" completed keep alive response.
2025-08-13 20:46:25.291 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:46:25.293 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:46:25.293 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:46:25.294 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:46:25.296 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 72.2401ms
2025-08-13 20:46:25.299 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:46:25.298 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:46:25.300 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 24ms
2025-08-13 20:46:25.300 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:46:25.305 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:46:25.307 +05:30 [DBG] Connection id "0HNEQFHDU0VRG" completed keep alive response.
2025-08-13 20:46:25.306 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:46:25.309 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 22ms
2025-08-13 20:46:25.310 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 17ms
2025-08-13 20:46:25.312 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 62.0427ms
2025-08-13 20:46:25.314 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:46:25.317 +05:30 [DBG] Connection id "0HNEQFHDU0VRI" completed keep alive response.
2025-08-13 20:46:25.315 +05:30 [DBG] Connection id "0HNEQFHDU0VRH" completed keep alive response.
2025-08-13 20:46:25.322 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:46:25.322 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 58.9009ms
2025-08-13 20:46:25.323 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 69.5531ms
2025-08-13 20:46:25.326 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:46:25.333 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:46:25.343 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-13 20:46:25.353 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-13 20:46:25.356 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 20:46:25.361 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 20:46:25.368 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 20:46:25.375 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 48ms
2025-08-13 20:46:25.376 +05:30 [DBG] Connection id "0HNEQFHDU0VRF" completed keep alive response.
2025-08-13 20:46:25.377 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 86.7705ms
2025-08-13 20:46:25.379 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - null null
2025-08-13 20:46:25.382 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:46:25.384 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 20:46:25.386 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:46:25.387 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:46:25.390 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:46:25.392 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:46:25.393 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:46:25.394 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:46:25.395 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:46:25.396 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:46:25.397 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:46:25.398 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/refresh   Responded with [204] in 5ms
2025-08-13 20:46:25.398 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:46:25.399 +05:30 [DBG] Connection id "0HNEQFHDU0VRI" completed keep alive response.
2025-08-13 20:46:25.401 +05:30 [DBG] Connection id "0HNEQFHDU0VRJ" accepted.
2025-08-13 20:46:25.401 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - 204 null null 22.4673ms
2025-08-13 20:46:25.402 +05:30 [DBG] Connection id "0HNEQFHDU0VRJ" started.
2025-08-13 20:46:25.401 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-13 20:46:25.405 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 51
2025-08-13 20:46:25.411 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-13 20:46:25.413 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 20:46:25.415 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 20:46:25.415 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 20:46:25.416 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:46:25.417 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 20:46:25.418 +05:30 [DBG] Connection id "0HNEQFHDU0VRJ", Request id "0HNEQFHDU0VRJ:00000001": started reading request body.
2025-08-13 20:46:25.419 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 20:46:25.420 +05:30 [DBG] Connection id "0HNEQFHDU0VRJ", Request id "0HNEQFHDU0VRJ:00000001": done reading request body.
2025-08-13 20:46:25.421 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 24ms
2025-08-13 20:46:25.423 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:46:25.425 +05:30 [DBG] Connection id "0HNEQFHDU0VRF" completed keep alive response.
2025-08-13 20:46:25.425 +05:30 [DBG] Connection id "0HNEQFHDU0VRK" accepted.
2025-08-13 20:46:25.426 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:46:25.427 +05:30 [DBG] Connection id "0HNEQFHDU0VRK" started.
2025-08-13 20:46:25.427 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 44.2515ms
2025-08-13 20:46:25.428 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 20:46:25.429 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 51
2025-08-13 20:46:25.431 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:46:25.432 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:46:25.434 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 20:46:25.435 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:46:25.437 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 20:46:25.438 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:46:25.439 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:46:25.441 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 20:46:25.442 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:46:25.443 +05:30 [DBG] Connection id "0HNEQFHDU0VRK", Request id "0HNEQFHDU0VRK:00000001": started reading request body.
2025-08-13 20:46:25.444 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:46:25.446 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:46:25.447 +05:30 [DBG] Connection id "0HNEQFHDU0VRK", Request id "0HNEQFHDU0VRK:00000001": done reading request body.
2025-08-13 20:46:25.448 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:46:25.449 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:46:25.450 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:46:25.453 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:46:25.454 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:46:25.454 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:46:25.456 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:46:25.457 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-13 20:46:25.458 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 20:46:25.460 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:46:25.464 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-13 20:46:25.464 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:46:25.466 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:46:25.468 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 20:46:25.468 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 20:46:25.470 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 20:46:25.472 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:46:25.474 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 20:46:25.476 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:46:25.477 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 28ms
2025-08-13 20:46:25.479 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:46:25.480 +05:30 [DBG] Connection id "0HNEQFHDU0VRF" completed keep alive response.
2025-08-13 20:46:25.480 +05:30 [DBG] Connection id "0HNEQFHDU0VRL" accepted.
2025-08-13 20:46:25.483 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:46:25.485 +05:30 [DBG] Connection id "0HNEQFHDU0VRL" started.
2025-08-13 20:46:25.484 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 52.8704ms
2025-08-13 20:46:25.486 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:46:25.487 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:46:25.488 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 51
2025-08-13 20:46:25.492 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:46:25.495 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:46:25.498 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:46:25.501 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 20:46:25.503 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:46:25.505 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:46:25.509 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 20:46:25.510 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:46:25.512 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:46:25.512 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 20:46:25.514 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:46:25.515 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:46:25.518 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 20:46:25.519 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:46:25.519 +05:30 [DBG] Connection id "0HNEQFHDU0VRL", Request id "0HNEQFHDU0VRL:00000001": started reading request body.
2025-08-13 20:46:25.521 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:46:25.525 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 20:46:25.525 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:46:25.526 +05:30 [DBG] Connection id "0HNEQFHDU0VRL", Request id "0HNEQFHDU0VRL:00000001": done reading request body.
2025-08-13 20:46:25.527 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:46:25.528 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:46:25.529 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 20:46:25.531 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:46:25.532 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:46:25.533 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:46:25.536 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:46:25.535 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 20:46:25.537 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-13 20:46:25.539 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:46:25.539 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 20:46:25.541 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 20:46:25.546 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-13 20:46:25.549 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:46:25.549 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:46:25.550 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:46:25.551 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 20:46:25.556 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 20:46:25.557 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:46:25.558 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 20:46:25.599 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:46:25.600 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:46:25.601 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 20:46:25.602 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:46:25.604 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:46:25.605 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 77ms
2025-08-13 20:46:25.607 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:46:25.616 +05:30 [DBG] Connection id "0HNEQFHDU0VRF" completed keep alive response.
2025-08-13 20:46:25.628 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:46:25.629 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 136.8425ms
2025-08-13 20:46:25.630 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:46:25.633 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 51
2025-08-13 20:46:25.635 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:46:25.637 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 20:46:25.638 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:46:25.638 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:46:25.640 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 20:46:25.640 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:46:25.643 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:46:25.644 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:46:25.646 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:46:25.647 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:46:25.648 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:46:25.649 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:46:25.649 +05:30 [DBG] Connection id "0HNEQFHDU0VRF", Request id "0HNEQFHDU0VRF:00000006": started reading request body.
2025-08-13 20:46:25.650 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:46:25.651 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:46:25.652 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:46:25.653 +05:30 [DBG] Connection id "0HNEQFHDU0VRF", Request id "0HNEQFHDU0VRF:00000006": done reading request body.
2025-08-13 20:46:25.654 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 20:46:25.655 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:46:25.655 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:46:25.656 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:46:25.657 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 20:46:25.659 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 20:46:25.660 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 20:46:25.661 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:46:25.662 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 20:46:25.664 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 198.3915ms
2025-08-13 20:46:25.664 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 166.7958ms
2025-08-13 20:46:25.665 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 20:46:25.666 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:46:25.667 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:46:25.668 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:46:25.668 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:46:25.669 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:46:25.672 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 20:46:25.673 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:46:25.674 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"[object Object]","refreshToken":""} Responded with [401] in 231ms
2025-08-13 20:46:25.674 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"[object Object]","refreshToken":""} Responded with [401] in 256ms
2025-08-13 20:46:25.676 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:46:25.677 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:46:25.679 +05:30 [DBG] Connection id "0HNEQFHDU0VRK" completed keep alive response.
2025-08-13 20:46:25.680 +05:30 [DBG] Connection id "0HNEQFHDU0VRJ" completed keep alive response.
2025-08-13 20:46:25.681 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:46:25.698 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:46:25.698 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:46:25.699 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:46:25.700 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:46:25.702 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:46:25.703 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 401 126 application/json 274.0997ms
2025-08-13 20:46:25.704 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 401 126 application/json 299.3944ms
2025-08-13 20:46:25.708 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:46:25.706 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:46:25.716 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:46:25.719 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:46:25.720 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:46:25.722 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:46:25.725 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 20:46:25.727 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:46:25.728 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 93.2004ms
2025-08-13 20:46:25.729 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:46:25.730 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:46:25.732 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:46:25.733 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"[object Object]","refreshToken":""} Responded with [401] in 213ms
2025-08-13 20:46:25.733 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 20:46:25.736 +05:30 [DBG] Connection id "0HNEQFHDU0VRL" completed keep alive response.
2025-08-13 20:46:25.737 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 20:46:25.738 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:46:25.739 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 20:46:25.740 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 401 126 application/json 252.6611ms
2025-08-13 20:46:25.741 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:46:25.745 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:46:25.746 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:46:25.748 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:46:25.765 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:46:25.767 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:46:25.768 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:46:25.769 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:46:25.769 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:46:25.770 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 20:46:25.772 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 49.2509ms
2025-08-13 20:46:25.772 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:46:25.774 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"[object Object]","refreshToken":""} Responded with [401] in 125ms
2025-08-13 20:46:25.776 +05:30 [DBG] Connection id "0HNEQFHDU0VRF" completed keep alive response.
2025-08-13 20:46:25.777 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:46:25.778 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 401 126 application/json 144.5926ms
2025-08-13 20:47:49.894 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-13 20:47:50.030 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-13 20:47:50.074 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-13 20:47:50.465 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 20:47:50.466 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 20:47:50.467 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 20:47:50.468 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 20:47:50.591 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:47:50.593 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:47:50.595 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:47:50.597 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:47:50.707 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:47:50.784 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-13 20:47:50.927 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 20:47:50.966 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:47:50.984 +05:30 [DBG] Created DbConnection. (17ms).
2025-08-13 20:47:50.989 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:47:51.233 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:47:51.238 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:47:51.246 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-13 20:47:51.256 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-08-13 20:47:51.267 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 20:47:51.358 +05:30 [INF] Executed DbCommand (87ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 20:47:51.417 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:47:51.439 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:47:51.448 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 76ms reading results.
2025-08-13 20:47:51.454 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:47:51.461 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (6ms).
2025-08-13 20:47:51.467 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-13 20:47:51.477 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 20:47:51.483 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:47:51.485 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:47:51.487 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:47:51.488 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:47:51.489 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:47:51.491 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:47:51.498 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:47:51.520 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:47:51.571 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:47:51.572 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 71ms reading results.
2025-08-13 20:47:51.574 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:47:51.575 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 20:47:51.580 +05:30 [INF] Admin user already exists.
2025-08-13 20:47:51.582 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:47:51.585 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:47:51.588 +05:30 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-13 20:47:51.597 +05:30 [DBG] Hosting starting
2025-08-13 20:47:51.613 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-13 20:47:51.623 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-13 20:47:51.633 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-13 20:47:51.638 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 20:47:51.640 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-13 20:47:51.642 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 20:47:51.645 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-13 20:47:51.647 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-13 20:47:51.649 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-13 20:47:51.650 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-13 20:47:51.729 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-13 20:47:51.730 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-13 20:47:51.731 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-13 20:47:51.732 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-13 20:47:51.732 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-13 20:47:51.746 +05:30 [DBG] Connection id "0HNEQFI90LIN5" accepted.
2025-08-13 20:47:51.748 +05:30 [DBG] Connection id "0HNEQFI90LIN5" started.
2025-08-13 20:47:51.786 +05:30 [DBG] Connection id "0HNEQFI90LIN5" received FIN.
2025-08-13 20:47:51.786 +05:30 [DBG] Connection id "0HNEQFI90LIN6" received FIN.
2025-08-13 20:47:51.791 +05:30 [DBG] Connection id "0HNEQFI90LIN6" accepted.
2025-08-13 20:47:51.812 +05:30 [DBG] Connection id "0HNEQFI90LIN6" started.
2025-08-13 20:47:51.791 +05:30 [DBG] Connection id "0HNEQFI90LIN5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 20:47:51.813 +05:30 [DBG] Connection id "0HNEQFI90LIN6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 20:47:51.816 +05:30 [DBG] Connection id "0HNEQFI90LIN5" disconnecting.
2025-08-13 20:47:51.817 +05:30 [DBG] Connection id "0HNEQFI90LIN6" disconnecting.
2025-08-13 20:47:51.827 +05:30 [DBG] Connection id "0HNEQFI90LIN5" stopped.
2025-08-13 20:47:51.828 +05:30 [DBG] Connection id "0HNEQFI90LIN6" stopped.
2025-08-13 20:47:51.906 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-13 20:47:51.907 +05:30 [INF] Hosting environment: Development
2025-08-13 20:47:51.910 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-13 20:47:51.912 +05:30 [DBG] Hosting started
2025-08-13 20:48:03.268 +05:30 [DBG] Connection id "0HNEQFI90LIN7" accepted.
2025-08-13 20:48:03.270 +05:30 [DBG] Connection id "0HNEQFI90LIN7" started.
2025-08-13 20:48:03.290 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 20:48:03.298 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-13 20:48:03.318 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 20:48:03.320 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:48:03.344 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-13 20:48:03.346 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:48:03.349 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:48:03.351 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:48:03.365 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 21ms
2025-08-13 20:48:03.369 +05:30 [DBG] Connection id "0HNEQFI90LIN7" completed keep alive response.
2025-08-13 20:48:03.371 +05:30 [DBG] Connection id "0HNEQFI90LIN8" accepted.
2025-08-13 20:48:03.373 +05:30 [DBG] Connection id "0HNEQFI90LIN8" started.
2025-08-13 20:48:03.373 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 89.4163ms
2025-08-13 20:48:03.375 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 55
2025-08-13 20:48:03.384 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 20:48:03.388 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 20:48:03.392 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 20:48:03.397 +05:30 [DBG] Connection id "0HNEQFI90LIN8", Request id "0HNEQFI90LIN8:00000001": started reading request body.
2025-08-13 20:48:03.398 +05:30 [DBG] Connection id "0HNEQFI90LIN8", Request id "0HNEQFI90LIN8:00000001": done reading request body.
2025-08-13 20:48:03.402 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:48:03.403 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:48:03.443 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 20:48:03.446 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 20:48:03.470 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 20:48:03.474 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:48:03.476 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:48:03.477 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:48:03.479 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:48:03.481 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:48:03.484 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:48:03.530 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:48:03.534 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:48:03.539 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 20:48:03.544 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 20:48:03.547 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 20:48:03.572 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 20:48:03.575 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 20:48:03.579 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 20:48:03.584 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 20:48:03.601 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 20:48:03.611 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:48:03.612 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 20:48:03.613 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:48:03.614 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:48:03.615 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:48:03.616 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:48:03.618 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:48:03.619 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:48:03.623 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:48:03.630 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:48:03.633 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:48:03.634 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-08-13 20:48:03.636 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:48:03.638 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 20:48:03.724 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-08-13 20:48:03.732 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 20:48:03.736 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:48:03.737 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:48:03.738 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:48:03.739 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:48:03.741 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 20:48:03.743 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 20:48:03.749 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 20:48:03.755 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:48:03.757 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 20:48:03.758 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:48:03.760 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 20:48:03.779 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:48:03.786 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 20:48:03.790 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 20:48:03.808 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 20:48:03.874 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:48:03.876 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:48:03.879 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:48:03.880 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:48:03.882 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:48:03.884 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 20:48:03.902 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 20:48:03.911 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:48:03.912 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-08-13 20:48:03.915 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:48:03.916 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 20:48:03.919 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:48:03.922 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 20:48:03.954 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:48:03.958 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:48:03.959 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:48:03.960 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:48:03.961 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:48:03.963 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.Threading.Tasks.Task`1[[System.ValueTuple`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 20:48:04.008 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 523.0007ms
2025-08-13 20:48:04.011 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 20:48:04.157 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"meghana@gmail.com","password":"Password@123"} Responded with [200] in 763ms
2025-08-13 20:48:04.161 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:48:04.162 +05:30 [DBG] Connection id "0HNEQFI90LIN8" completed keep alive response.
2025-08-13 20:48:04.165 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:48:04.168 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:48:04.168 +05:30 [DBG] Connection id "0HNEQFI90LIN9" accepted.
2025-08-13 20:48:04.168 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:48:04.173 +05:30 [DBG] Connection id "0HNEQFI90LIN9" started.
2025-08-13 20:48:04.173 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:48:04.177 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:48:04.178 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:48:04.180 +05:30 [DBG] Disposed connection to database '' on server '' (7ms).
2025-08-13 20:48:04.181 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:48:04.184 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:48:04.185 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 808 application/json 810.4718ms
2025-08-13 20:48:04.186 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:48:04.189 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:48:04.194 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 17ms
2025-08-13 20:48:04.195 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:48:04.196 +05:30 [DBG] Connection id "0HNEQFI90LIN7" completed keep alive response.
2025-08-13 20:48:04.197 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:48:04.198 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:48:04.199 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 37.5445ms
2025-08-13 20:48:04.200 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:48:04.202 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:48:04.209 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 13ms
2025-08-13 20:48:04.210 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:48:04.212 +05:30 [DBG] Connection id "0HNEQFI90LIN9" completed keep alive response.
2025-08-13 20:48:04.216 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:48:04.218 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 40.02ms
2025-08-13 20:48:04.220 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:48:04.230 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:48:04.231 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:48:04.244 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-13 20:48:04.253 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-13 20:48:04.257 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 20:48:04.260 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 20:48:04.266 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 20:48:04.273 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 42ms
2025-08-13 20:48:04.275 +05:30 [DBG] Connection id "0HNEQFI90LIN8" completed keep alive response.
2025-08-13 20:48:04.276 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 78.1913ms
2025-08-13 20:48:04.277 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - null null
2025-08-13 20:48:04.279 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:48:04.281 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 20:48:04.283 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:48:04.284 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:48:04.285 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:48:04.286 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:48:04.287 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:48:04.288 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:48:04.290 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:48:04.291 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:48:04.292 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:48:04.293 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/refresh   Responded with [204] in 7ms
2025-08-13 20:48:04.293 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:48:04.294 +05:30 [DBG] Connection id "0HNEQFI90LIN9" completed keep alive response.
2025-08-13 20:48:04.296 +05:30 [DBG] Connection id "0HNEQFI90LINA" accepted.
2025-08-13 20:48:04.296 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-13 20:48:04.296 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - 204 null null 19.8778ms
2025-08-13 20:48:04.297 +05:30 [DBG] Connection id "0HNEQFI90LINA" started.
2025-08-13 20:48:04.302 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-13 20:48:04.306 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 51
2025-08-13 20:48:04.309 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 20:48:04.310 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 20:48:04.311 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 20:48:04.312 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 20:48:04.314 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 20:48:04.315 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:48:04.316 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 24ms
2025-08-13 20:48:04.317 +05:30 [DBG] Connection id "0HNEQFI90LINA", Request id "0HNEQFI90LINA:00000001": started reading request body.
2025-08-13 20:48:04.318 +05:30 [DBG] Connection id "0HNEQFI90LIN8" completed keep alive response.
2025-08-13 20:48:04.320 +05:30 [DBG] Connection id "0HNEQFI90LINA", Request id "0HNEQFI90LINA:00000001": done reading request body.
2025-08-13 20:48:04.321 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 41.4044ms
2025-08-13 20:48:04.323 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:48:04.325 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 51
2025-08-13 20:48:04.326 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:48:04.328 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 20:48:04.329 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 20:48:04.329 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 20:48:04.330 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:48:04.332 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:48:04.333 +05:30 [DBG] Connection id "0HNEQFI90LIN8", Request id "0HNEQFI90LIN8:00000004": started reading request body.
2025-08-13 20:48:04.334 +05:30 [DBG] Connection id "0HNEQFI90LIN8", Request id "0HNEQFI90LIN8:00000004": done reading request body.
2025-08-13 20:48:04.335 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:48:04.336 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:48:04.337 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 20:48:04.337 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 20:48:04.338 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:48:04.341 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:48:04.343 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 20:48:04.344 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:48:04.346 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:48:04.347 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:48:04.348 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:48:04.350 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:48:04.351 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:48:04.353 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:48:04.357 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:48:04.359 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:48:04.361 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:48:04.364 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:48:04.380 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:48:04.380 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:48:04.383 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:48:04.385 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:48:04.386 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:48:04.387 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 20:48:04.387 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:48:04.390 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 20:48:04.391 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 20:48:04.393 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 20:48:04.394 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 20:48:04.395 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 20:48:04.395 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:48:04.396 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:48:04.397 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:48:04.398 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:48:04.399 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:48:04.399 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:48:04.402 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:48:04.402 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:49:21.866 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-13 20:49:22.010 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-13 20:49:22.060 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-13 20:49:22.398 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 20:49:22.400 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 20:49:22.401 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 20:49:22.402 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 20:49:22.511 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:49:22.513 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:49:22.516 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:49:22.519 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:49:22.609 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:49:22.674 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-13 20:49:22.808 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 20:49:22.836 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:49:22.855 +05:30 [DBG] Created DbConnection. (17ms).
2025-08-13 20:49:22.860 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:23.118 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:23.122 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:49:23.128 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-13 20:49:23.137 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-08-13 20:49:23.145 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 20:49:23.196 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 20:49:23.234 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:49:23.251 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:23.258 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 55ms reading results.
2025-08-13 20:49:23.262 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:23.267 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (5ms).
2025-08-13 20:49:23.272 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-13 20:49:23.281 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 20:49:23.286 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:23.287 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:23.288 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:49:23.289 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:49:23.290 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:49:23.291 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:49:23.301 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:49:23.331 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:49:23.402 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:23.404 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 100ms reading results.
2025-08-13 20:49:23.407 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:23.409 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 20:49:23.415 +05:30 [INF] Admin user already exists.
2025-08-13 20:49:23.418 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:49:23.421 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:23.423 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 20:49:23.426 +05:30 [DBG] Hosting starting
2025-08-13 20:49:23.438 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-13 20:49:23.445 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-13 20:49:23.456 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-13 20:49:23.461 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 20:49:23.464 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-13 20:49:23.466 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 20:49:23.469 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-13 20:49:23.471 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-13 20:49:23.477 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-13 20:49:23.479 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-13 20:49:23.566 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-13 20:49:23.568 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-13 20:49:23.570 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-13 20:49:23.572 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-13 20:49:23.573 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-13 20:49:23.585 +05:30 [DBG] Connection id "0HNEQFJ4CGMMQ" accepted.
2025-08-13 20:49:23.587 +05:30 [DBG] Connection id "0HNEQFJ4CGMMQ" started.
2025-08-13 20:49:23.618 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 20:49:23.626 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-13 20:49:23.647 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 20:49:23.649 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:49:23.686 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-13 20:49:23.687 +05:30 [INF] Hosting environment: Development
2025-08-13 20:49:23.698 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-13 20:49:23.699 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-13 20:49:23.701 +05:30 [DBG] Hosting started
2025-08-13 20:49:23.703 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:49:23.705 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:49:23.708 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:49:23.726 +05:30 [INF] Source:[127.0.0.1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 39ms
2025-08-13 20:49:23.731 +05:30 [DBG] Connection id "0HNEQFJ4CGMMQ" completed keep alive response.
2025-08-13 20:49:23.735 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 123.3352ms
2025-08-13 20:49:23.736 +05:30 [DBG] Connection id "0HNEQFJ4CGMMR" accepted.
2025-08-13 20:49:23.747 +05:30 [DBG] Connection id "0HNEQFJ4CGMMR" started.
2025-08-13 20:49:23.751 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 55
2025-08-13 20:49:23.759 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 20:49:23.764 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 20:49:23.770 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 20:49:23.777 +05:30 [DBG] Connection id "0HNEQFJ4CGMMS" received FIN.
2025-08-13 20:49:23.779 +05:30 [DBG] Connection id "0HNEQFJ4CGMMR", Request id "0HNEQFJ4CGMMR:00000001": started reading request body.
2025-08-13 20:49:23.783 +05:30 [DBG] Connection id "0HNEQFJ4CGMMS" accepted.
2025-08-13 20:49:23.783 +05:30 [DBG] Connection id "0HNEQFJ4CGMMR", Request id "0HNEQFJ4CGMMR:00000001": done reading request body.
2025-08-13 20:49:23.784 +05:30 [DBG] Connection id "0HNEQFJ4CGMMS" started.
2025-08-13 20:49:23.790 +05:30 [DBG] Connection id "0HNEQFJ4CGMMS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 20:49:23.790 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:49:23.797 +05:30 [DBG] Connection id "0HNEQFJ4CGMMS" disconnecting.
2025-08-13 20:49:23.798 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:49:23.802 +05:30 [DBG] Connection id "0HNEQFJ4CGMMS" stopped.
2025-08-13 20:49:23.825 +05:30 [DBG] Connection id "0HNEQFJ4CGMMT" accepted.
2025-08-13 20:49:23.831 +05:30 [DBG] Connection id "0HNEQFJ4CGMMT" started.
2025-08-13 20:49:23.904 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 20:49:23.909 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 20:49:23.940 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 20:49:23.946 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:49:23.948 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:49:23.950 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:49:23.953 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:49:23.955 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:49:23.958 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:49:24.014 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:49:24.018 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:49:24.023 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 20:49:24.026 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 20:49:24.031 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 20:49:24.052 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 20:49:24.054 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 20:49:24.055 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 20:49:24.057 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 20:49:24.068 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 20:49:24.076 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:49:24.078 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 20:49:24.079 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:24.080 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:24.081 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:49:24.082 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:49:24.083 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:49:24.084 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:49:24.091 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:49:24.095 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:49:24.098 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:24.099 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-13 20:49:24.101 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:24.102 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 20:49:24.203 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-08-13 20:49:24.211 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 20:49:24.217 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:24.219 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:24.220 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:49:24.221 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:49:24.222 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:49:24.223 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 20:49:24.230 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 20:49:24.234 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:24.236 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 20:49:24.237 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:24.238 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 20:49:24.256 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:49:24.261 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 20:49:24.266 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 20:49:24.286 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 20:49:24.370 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:24.371 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:24.375 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:49:24.376 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:49:24.379 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-13 20:49:24.382 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 20:49:24.399 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 20:49:24.409 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:24.411 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-08-13 20:49:24.414 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:24.415 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 20:49:24.420 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:49:24.423 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 20:49:24.454 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:49:24.459 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:49:24.460 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:49:24.461 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:49:24.463 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:49:24.464 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.Threading.Tasks.Task`1[[System.ValueTuple`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 20:49:24.498 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 539.7827ms
2025-08-13 20:49:24.500 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 20:49:24.672 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"meghana@gmail.com","password":"Password@123"} Responded with [200] in 898ms
2025-08-13 20:49:24.677 +05:30 [DBG] Connection id "0HNEQFJ4CGMMR" completed keep alive response.
2025-08-13 20:49:24.677 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:49:24.677 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:49:24.681 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:49:24.685 +05:30 [DBG] Connection id "0HNEQFJ4CGMMU" accepted.
2025-08-13 20:49:24.686 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:49:24.695 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:49:24.680 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:49:24.697 +05:30 [DBG] Connection id "0HNEQFJ4CGMMU" started.
2025-08-13 20:49:24.699 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:49:24.701 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:49:24.705 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:24.707 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:49:24.708 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:49:24.710 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:49:24.713 +05:30 [DBG] Disposed connection to database '' on server '' (7ms).
2025-08-13 20:49:24.716 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:49:24.717 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:49:24.718 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:49:24.720 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 808 application/json 969.5057ms
2025-08-13 20:49:24.722 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:49:24.721 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:49:24.723 +05:30 [INF] Source:[127.0.0.1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 22ms
2025-08-13 20:49:24.731 +05:30 [INF] Source:[127.0.0.1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 22ms
2025-08-13 20:49:24.732 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:49:24.733 +05:30 [DBG] Connection id "0HNEQFJ4CGMMT" completed keep alive response.
2025-08-13 20:49:24.734 +05:30 [DBG] Connection id "0HNEQFJ4CGMMQ" completed keep alive response.
2025-08-13 20:49:24.735 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:49:24.736 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:49:24.737 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 60.0157ms
2025-08-13 20:49:24.738 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 61.1443ms
2025-08-13 20:49:24.740 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:49:24.741 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:49:24.751 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:49:24.752 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 20ms
2025-08-13 20:49:24.753 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:49:24.754 +05:30 [DBG] Connection id "0HNEQFJ4CGMMU" completed keep alive response.
2025-08-13 20:49:24.756 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:49:24.757 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 50.2049ms
2025-08-13 20:49:24.761 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:49:24.763 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:49:24.776 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-13 20:49:24.787 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-13 20:49:24.791 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 20:49:24.796 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 20:49:24.805 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 20:49:24.814 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 52ms
2025-08-13 20:49:24.816 +05:30 [DBG] Connection id "0HNEQFJ4CGMMR" completed keep alive response.
2025-08-13 20:49:24.816 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - null null
2025-08-13 20:49:24.817 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 82.6977ms
2025-08-13 20:49:24.819 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 20:49:24.822 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:49:24.823 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:49:24.826 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:49:24.828 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:49:24.830 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:49:24.831 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:49:24.833 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:49:24.833 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:49:24.835 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:49:24.836 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/refresh   Responded with [204] in 8ms
2025-08-13 20:49:24.837 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:49:24.838 +05:30 [DBG] Connection id "0HNEQFJ4CGMMU" completed keep alive response.
2025-08-13 20:49:24.839 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:49:24.840 +05:30 [DBG] Connection id "0HNEQFJ4CGMMV" accepted.
2025-08-13 20:49:24.841 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - 204 null null 24.1211ms
2025-08-13 20:49:24.844 +05:30 [DBG] Connection id "0HNEQFJ4CGMMV" started.
2025-08-13 20:49:24.843 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-13 20:49:24.849 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 51
2025-08-13 20:49:24.853 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-13 20:49:24.855 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 20:49:24.857 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 20:49:24.858 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 20:49:24.859 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:49:24.860 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 20:49:24.863 +05:30 [DBG] Connection id "0HNEQFJ4CGMMV", Request id "0HNEQFJ4CGMMV:00000001": started reading request body.
2025-08-13 20:49:24.864 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 20:49:24.865 +05:30 [DBG] Connection id "0HNEQFJ4CGMMV", Request id "0HNEQFJ4CGMMV:00000001": done reading request body.
2025-08-13 20:49:24.866 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 29ms
2025-08-13 20:49:24.867 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:49:24.870 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:49:24.868 +05:30 [DBG] Connection id "0HNEQFJ4CGMMR" completed keep alive response.
2025-08-13 20:49:24.870 +05:30 [DBG] Connection id "0HNEQFJ4CGMN0" accepted.
2025-08-13 20:49:24.871 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 20:49:24.872 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 49.4233ms
2025-08-13 20:49:24.873 +05:30 [DBG] Connection id "0HNEQFJ4CGMN0" started.
2025-08-13 20:49:24.874 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:49:24.876 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:49:24.877 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 51
2025-08-13 20:49:24.880 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:49:24.881 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 20:49:24.882 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:49:24.883 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 20:49:24.883 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 20:49:24.885 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:49:24.888 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:49:24.889 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:49:24.891 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:49:24.892 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:49:24.894 +05:30 [DBG] Connection id "0HNEQFJ4CGMN0", Request id "0HNEQFJ4CGMN0:00000001": started reading request body.
2025-08-13 20:49:24.894 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:49:24.896 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:49:24.897 +05:30 [DBG] Connection id "0HNEQFJ4CGMN0", Request id "0HNEQFJ4CGMN0:00000001": done reading request body.
2025-08-13 20:49:24.900 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:49:24.903 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:49:24.904 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:49:24.905 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-13 20:49:24.907 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:49:24.907 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:49:24.916 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-13 20:49:24.918 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:49:24.919 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 20:49:24.922 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 20:49:24.923 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:49:24.924 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 20:49:24.925 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 20:49:24.928 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 20:49:24.930 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:49:24.932 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 37ms
2025-08-13 20:49:24.933 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:49:24.935 +05:30 [DBG] Connection id "0HNEQFJ4CGMMR" completed keep alive response.
2025-08-13 20:49:24.939 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:49:24.942 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:49:24.943 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 67.0768ms
2025-08-13 20:49:24.950 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:49:24.955 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:49:24.961 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 51
2025-08-13 20:49:24.963 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:49:24.966 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:49:24.972 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 20:49:24.976 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:49:24.980 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 20:49:24.982 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 20:49:24.989 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 20:49:24.992 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:49:24.995 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:49:24.996 +05:30 [DBG] Connection id "0HNEQFJ4CGMMR", Request id "0HNEQFJ4CGMMR:00000005": started reading request body.
2025-08-13 20:49:24.998 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 20:49:25.002 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:49:25.002 +05:30 [DBG] Connection id "0HNEQFJ4CGMMR", Request id "0HNEQFJ4CGMMR:00000005": done reading request body.
2025-08-13 20:49:25.004 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:49:25.008 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:49:25.012 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:49:25.015 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:49:25.018 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 20:49:25.020 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:49:25.021 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:49:25.024 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 20:49:25.030 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 20:49:25.034 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:49:25.034 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 20:49:25.035 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:49:25.037 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:49:25.039 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 20:49:25.040 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:49:25.041 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:49:25.094 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:49:25.096 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:49:25.098 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:49:25.098 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:49:25.124 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:49:25.125 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:49:25.127 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:49:25.129 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:49:25.131 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:49:25.132 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:49:25.133 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 20:49:25.134 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 20:49:25.135 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 20:49:25.137 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:49:25.139 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:49:25.140 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 20:49:25.141 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 20:49:25.142 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.RefreshToken == __refreshToken_0)'
2025-08-13 20:49:25.171 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.RefreshToken == @__refreshToken_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 20:49:25.175 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:49:25.175 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:49:25.175 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:49:25.176 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 20:49:25.177 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 20:49:25.179 +05:30 [DBG] Created DbConnection. (3ms).
2025-08-13 20:49:25.180 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:25.181 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:25.182 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:25.183 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:25.195 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:49:25.200 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-13 20:49:25.201 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:25.201 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-08-13 20:49:25.203 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:49:25.204 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[RefreshToken] = @__refreshToken_0
2025-08-13 20:49:25.206 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:25.205 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:49:25.217 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:49:25.219 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-08-13 20:49:25.221 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-13 20:49:25.222 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[RefreshToken] = @__refreshToken_0
2025-08-13 20:49:25.223 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-08-13 20:49:25.224 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[RefreshToken] = @__refreshToken_0
2025-08-13 20:49:25.231 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[RefreshToken] = @__refreshToken_0
2025-08-13 20:49:25.231 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[RefreshToken] = @__refreshToken_0
2025-08-13 20:49:25.234 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:25.237 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:25.241 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[RefreshToken] = @__refreshToken_0
2025-08-13 20:49:25.242 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-08-13 20:49:25.243 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-08-13 20:49:25.246 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:25.247 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:25.249 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:25.250 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-13 20:49:25.251 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (3ms).
2025-08-13 20:49:25.252 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (3ms).
2025-08-13 20:49:25.254 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:49:49.978 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (24733ms).
2025-08-13 20:49:59.734 +05:30 [ERR] Handled in API Exception Filter
System.NullReferenceException: Object reference not set to an instance of an object.
   at TravelPlannerAPI.Services.Implementations.TokenService.GenerateAccessToken(UserModel user) in C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI\Services\Implementations\TokenService.cs:line 23
   at AuthController.Refresh(TokenRefreshRequestDto request) in C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI\Controllers\AuthController.cs:line 130
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-08-13 20:49:59.734 +05:30 [ERR] Handled in API Exception Filter
System.NullReferenceException: Object reference not set to an instance of an object.
   at TravelPlannerAPI.Services.Implementations.TokenService.GenerateAccessToken(UserModel user) in C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI\Services\Implementations\TokenService.cs:line 23
   at AuthController.Refresh(TokenRefreshRequestDto request) in C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI\Controllers\AuthController.cs:line 130
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-08-13 20:50:01.814 +05:30 [ERR] Handled in API Exception Filter
System.NullReferenceException: Object reference not set to an instance of an object.
   at TravelPlannerAPI.Services.Implementations.TokenService.GenerateAccessToken(UserModel user) in C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI\Services\Implementations\TokenService.cs:line 23
   at AuthController.Refresh(TokenRefreshRequestDto request) in C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI\Controllers\AuthController.cs:line 130
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-08-13 20:50:06.183 +05:30 [DBG] Request was short circuited at exception filter 'TravelPlannerAPI.Filters.ApiExceptionFilter'.
2025-08-13 20:50:03.322 +05:30 [DBG] Request was short circuited at exception filter 'TravelPlannerAPI.Filters.ApiExceptionFilter'.
2025-08-13 20:50:07.828 +05:30 [DBG] Request was short circuited at exception filter 'TravelPlannerAPI.Filters.ApiExceptionFilter'.
2025-08-13 20:50:07.831 +05:30 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType5`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 20:50:07.831 +05:30 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType5`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 20:50:07.831 +05:30 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType5`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 20:50:07.834 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 42873.7009ms
2025-08-13 20:50:07.834 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 42723.2708ms
2025-08-13 20:50:07.838 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 42936.7363ms
2025-08-13 20:50:07.839 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:50:07.842 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:50:07.844 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 20:50:07.851 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"[object Object]","refreshToken":""} Responded with [500] in 43005ms
2025-08-13 20:50:07.851 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"[object Object]","refreshToken":""} Responded with [500] in 42871ms
2025-08-13 20:50:07.851 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"[object Object]","refreshToken":""} Responded with [500] in 42974ms
2025-08-13 20:50:07.856 +05:30 [DBG] Connection id "0HNEQFJ4CGMMV" completed keep alive response.
2025-08-13 20:50:07.859 +05:30 [DBG] Connection id "0HNEQFJ4CGMMR" completed keep alive response.
2025-08-13 20:50:07.860 +05:30 [DBG] Connection id "0HNEQFJ4CGMN0" completed keep alive response.
2025-08-13 20:50:07.862 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:50:07.863 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:50:07.864 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:50:07.865 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:50:07.867 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:50:07.868 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:50:07.870 +05:30 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-13 20:50:07.872 +05:30 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-13 20:50:07.873 +05:30 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-13 20:50:07.874 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 500 185 application/json 43041.6455ms
2025-08-13 20:50:07.875 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 500 185 application/json 42930.4899ms
2025-08-13 20:50:07.877 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 500 185 application/json 43016.4146ms
2025-08-13 20:53:16.207 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-13 20:53:16.362 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-13 20:53:16.410 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-13 20:53:16.889 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 20:53:16.893 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 20:53:16.896 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 20:53:16.898 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 20:53:17.056 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:53:17.057 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:53:17.059 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:53:17.061 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 20:53:17.171 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:53:17.245 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-13 20:53:17.427 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 20:53:17.473 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:53:17.496 +05:30 [DBG] Created DbConnection. (22ms).
2025-08-13 20:53:17.502 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:17.834 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:17.839 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:53:17.847 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-08-13 20:53:17.857 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2025-08-13 20:53:17.867 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 20:53:17.923 +05:30 [INF] Executed DbCommand (57ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 20:53:17.968 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:17.989 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:17.999 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 67ms reading results.
2025-08-13 20:53:18.004 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:18.009 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (5ms).
2025-08-13 20:53:18.014 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-13 20:53:18.024 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 20:53:18.030 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:18.032 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:18.033 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:53:18.034 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:53:18.035 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:53:18.037 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:53:18.056 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:53:18.079 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:18.154 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:18.158 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 98ms reading results.
2025-08-13 20:53:18.164 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:18.168 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (3ms).
2025-08-13 20:53:18.181 +05:30 [INF] Admin user already exists.
2025-08-13 20:53:18.186 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:53:18.195 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:18.200 +05:30 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-13 20:53:18.207 +05:30 [DBG] Hosting starting
2025-08-13 20:53:18.238 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-13 20:53:18.254 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-13 20:53:18.272 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-13 20:53:18.280 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 20:53:18.283 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-13 20:53:18.288 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 20:53:18.293 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-13 20:53:18.296 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-13 20:53:18.300 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-13 20:53:18.304 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-13 20:53:18.435 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-13 20:53:18.436 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-13 20:53:18.438 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-13 20:53:18.439 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-13 20:53:18.440 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-13 20:53:18.530 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-13 20:53:18.531 +05:30 [INF] Hosting environment: Development
2025-08-13 20:53:18.545 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-13 20:53:18.547 +05:30 [DBG] Hosting started
2025-08-13 20:53:18.776 +05:30 [DBG] Connection id "0HNEQFLAFF59A" accepted.
2025-08-13 20:53:18.776 +05:30 [DBG] Connection id "0HNEQFLAFF59B" accepted.
2025-08-13 20:53:18.778 +05:30 [DBG] Connection id "0HNEQFLAFF59A" started.
2025-08-13 20:53:18.781 +05:30 [DBG] Connection id "0HNEQFLAFF59B" started.
2025-08-13 20:53:18.801 +05:30 [DBG] Connection id "0HNEQFLAFF59A" received FIN.
2025-08-13 20:53:18.801 +05:30 [DBG] Connection id "0HNEQFLAFF59B" received FIN.
2025-08-13 20:53:18.809 +05:30 [DBG] Connection id "0HNEQFLAFF59A" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 20:53:18.808 +05:30 [DBG] Connection id "0HNEQFLAFF59B" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 20:53:18.818 +05:30 [DBG] Connection id "0HNEQFLAFF59A" disconnecting.
2025-08-13 20:53:18.819 +05:30 [DBG] Connection id "0HNEQFLAFF59B" disconnecting.
2025-08-13 20:53:18.821 +05:30 [DBG] Connection id "0HNEQFLAFF59A" stopped.
2025-08-13 20:53:18.823 +05:30 [DBG] Connection id "0HNEQFLAFF59B" stopped.
2025-08-13 20:53:24.348 +05:30 [DBG] Connection id "0HNEQFLAFF59C" accepted.
2025-08-13 20:53:24.349 +05:30 [DBG] Connection id "0HNEQFLAFF59C" started.
2025-08-13 20:53:24.350 +05:30 [DBG] Connection id "0HNEQFLAFF59D" accepted.
2025-08-13 20:53:24.353 +05:30 [DBG] Connection id "0HNEQFLAFF59D" started.
2025-08-13 20:53:24.376 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/index.html - null null
2025-08-13 20:53:24.501 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-13 20:53:24.528 +05:30 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-13 20:53:24.529 +05:30 [DBG] Request did not match any endpoints
2025-08-13 20:53:24.605 +05:30 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-13 20:53:24.608 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-13 20:53:24.623 +05:30 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-13 20:53:24.625 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-13 20:53:24.627 +05:30 [DBG] Connection id "0HNEQFLAFF59C" completed keep alive response.
2025-08-13 20:53:24.631 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_vs/browserLink - null null
2025-08-13 20:53:24.631 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/index.html - 200 null text/html;charset=utf-8 263.8391ms
2025-08-13 20:53:24.644 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - null null
2025-08-13 20:53:24.655 +05:30 [DBG] Connection id "0HNEQFLAFF59C" completed keep alive response.
2025-08-13 20:53:24.657 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - 200 13768 application/javascript; charset=utf-8 13.4242ms
2025-08-13 20:53:24.690 +05:30 [DBG] Connection id "0HNEQFLAFF59D" completed keep alive response.
2025-08-13 20:53:24.692 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_vs/browserLink - 200 null text/javascript; charset=UTF-8 61.4926ms
2025-08-13 20:53:24.846 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - null null
2025-08-13 20:53:24.851 +05:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-13 20:53:24.853 +05:30 [DBG] Request did not match any endpoints
2025-08-13 20:53:24.882 +05:30 [DBG] Connection id "0HNEQFLAFF59D" completed keep alive response.
2025-08-13 20:53:24.884 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 38.4838ms
2025-08-13 20:53:27.314 +05:30 [DBG] Connection id "0HNEQFLAFF59E" accepted.
2025-08-13 20:53:27.316 +05:30 [DBG] Connection id "0HNEQFLAFF59E" started.
2025-08-13 20:53:27.317 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 20:53:27.326 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 20:53:27.327 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:53:27.343 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-13 20:53:27.346 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:53:27.347 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:53:27.349 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:53:27.360 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 17ms
2025-08-13 20:53:27.361 +05:30 [DBG] Connection id "0HNEQFLAFF59E" completed keep alive response.
2025-08-13 20:53:27.362 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 45.1069ms
2025-08-13 20:53:27.362 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 55
2025-08-13 20:53:27.368 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 20:53:27.371 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 20:53:27.375 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 20:53:27.378 +05:30 [DBG] Connection id "0HNEQFLAFF59D", Request id "0HNEQFLAFF59D:00000003": started reading request body.
2025-08-13 20:53:27.380 +05:30 [DBG] Connection id "0HNEQFLAFF59D", Request id "0HNEQFLAFF59D:00000003": done reading request body.
2025-08-13 20:53:27.383 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:53:27.385 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:53:27.432 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 20:53:27.435 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 20:53:27.457 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 20:53:27.460 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:53:27.461 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:53:27.463 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:53:27.465 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:53:27.466 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:53:27.470 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:53:27.517 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:53:27.521 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 20:53:27.525 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 20:53:27.528 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 20:53:27.532 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 20:53:27.551 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 20:53:27.553 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 20:53:27.554 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 20:53:27.555 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 20:53:27.565 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 20:53:27.573 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:53:27.574 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 20:53:27.575 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:27.576 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:27.578 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:53:27.579 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:53:27.580 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:53:27.582 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:53:27.585 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 20:53:27.590 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:27.591 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:27.594 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-08-13 20:53:27.597 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:27.599 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 20:53:27.671 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-08-13 20:53:27.677 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 20:53:27.681 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:27.682 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:27.683 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:53:27.684 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:53:27.685 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:53:27.686 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 20:53:27.691 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 20:53:27.697 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:27.698 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 20:53:27.701 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:27.703 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 20:53:27.719 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:27.723 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 20:53:27.727 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 20:53:27.739 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 20:53:27.798 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:27.800 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:27.803 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:53:27.804 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:53:27.805 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:53:27.807 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 20:53:27.817 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 20:53:27.826 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:27.828 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-08-13 20:53:27.830 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:27.831 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 20:53:27.835 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:27.840 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 20:53:27.877 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:53:27.882 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:53:27.883 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:53:27.884 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:53:27.886 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:53:27.887 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 20:53:27.905 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 433.2209ms
2025-08-13 20:53:27.907 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 20:53:28.072 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"meghana@gmail.com","password":"Password@123"} Responded with [200] in 695ms
2025-08-13 20:53:28.075 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:53:28.076 +05:30 [DBG] Connection id "0HNEQFLAFF59F" accepted.
2025-08-13 20:53:28.076 +05:30 [DBG] Connection id "0HNEQFLAFF59D" completed keep alive response.
2025-08-13 20:53:28.080 +05:30 [DBG] Connection id "0HNEQFLAFF59F" started.
2025-08-13 20:53:28.079 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:53:28.081 +05:30 [DBG] Connection id "0HNEQFLAFF59G" accepted.
2025-08-13 20:53:28.085 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:53:28.086 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:53:28.093 +05:30 [DBG] Connection id "0HNEQFLAFF59H" accepted.
2025-08-13 20:53:28.092 +05:30 [DBG] Connection id "0HNEQFLAFF59G" started.
2025-08-13 20:53:28.107 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:53:28.090 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:53:28.104 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:28.108 +05:30 [DBG] Connection id "0HNEQFLAFF59H" started.
2025-08-13 20:53:28.111 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:53:28.112 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:53:28.115 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:53:28.119 +05:30 [DBG] Disposed connection to database '' on server '' (14ms).
2025-08-13 20:53:28.123 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:53:28.130 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:53:28.132 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:53:28.134 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:53:28.139 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 903 application/json 776.8232ms
2025-08-13 20:53:28.142 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:53:28.144 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:53:28.145 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:53:28.146 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:53:28.153 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:53:28.156 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:53:28.155 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:53:28.159 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 43ms
2025-08-13 20:53:28.160 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:53:28.162 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 29ms
2025-08-13 20:53:28.164 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:53:28.166 +05:30 [DBG] Connection id "0HNEQFLAFF59E" completed keep alive response.
2025-08-13 20:53:28.168 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:53:28.170 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:53:28.171 +05:30 [DBG] Connection id "0HNEQFLAFF59F" completed keep alive response.
2025-08-13 20:53:28.173 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:53:28.175 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 99.5809ms
2025-08-13 20:53:28.181 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 95.613ms
2025-08-13 20:53:28.178 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:53:28.183 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 28ms
2025-08-13 20:53:28.180 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:53:28.197 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:53:28.199 +05:30 [DBG] Connection id "0HNEQFLAFF59G" completed keep alive response.
2025-08-13 20:53:28.200 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 40ms
2025-08-13 20:53:28.208 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:53:28.210 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 99.5804ms
2025-08-13 20:53:28.212 +05:30 [DBG] Connection id "0HNEQFLAFF59H" completed keep alive response.
2025-08-13 20:53:28.215 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:53:28.225 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 101.9069ms
2025-08-13 20:53:28.229 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:53:28.238 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:53:28.289 +05:30 [DBG] Successfully validated the token.
2025-08-13 20:53:28.293 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 20:53:28.300 +05:30 [DBG] Authorization was successful.
2025-08-13 20:53:28.301 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:53:28.313 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 20:53:28.316 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:53:28.321 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:53:28.324 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:53:28.329 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:53:28.333 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:53:28.337 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 20:53:28.350 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:53:28.463 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 20:53:28.468 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 20:53:28.470 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 20:53:28.474 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 20:53:28.476 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 20:53:28.478 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 20:53:28.479 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 20:53:28.481 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:53:28.482 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:53:28.484 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 20:53:28.486 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:53:28.498 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .Count()'
2025-08-13 20:53:28.545 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 20:53:28.556 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:53:28.557 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 20:53:28.558 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:28.559 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:28.560 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:53:28.562 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:53:28.563 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 20:53:28.564 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 20:53:28.575 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 20:53:28.579 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:28.581 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 20:53:28.582 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:28.583 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 20:53:28.588 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .OrderBy(t => t.Title)
    .Skip(__p_1)
    .Take(__p_2)'
2025-08-13 20:53:28.599 +05:30 [DBG] Including navigation: 'TripModel.BudgetDetails'.
2025-08-13 20:53:28.602 +05:30 [DBG] Including navigation: 'TripModel.Reviews'.
2025-08-13 20:53:28.670 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
            1 -> Dictionary<IProperty, int> { [Property: BudgetDetailsModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: BudgetDetailsModel.Food (decimal) Required, 16], [Property: BudgetDetailsModel.Hotel (decimal) Required, 17], [Property: BudgetDetailsModel.TripId (int) Required FK Index, 18] }
            2 -> 0
            3 -> 15
            4 -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: ReviewModel.Rating (int) Required, 20], [Property: ReviewModel.ReviewText (string) Required, 21], [Property: ReviewModel.TripId (int) Required FK Index, 22], [Property: ReviewModel.UserId (int) Required FK Index, 23] }
            5 -> 19
        SELECT t1.Id, t1.BestTime, t1.Budget, t1.Description, t1.Destination, t1.Duration, t1.EndDate, t1.EssentialsJson, t1.Image, t1.Notes, t1.StartDate, t1.Title, t1.TouristSpotsJson, t1.TravelMode, t1.UserId, b.Id, b.Food, b.Hotel, b.TripId, r.Id, r.Rating, r.review, r.TripId, r.UserId
        FROM 
        (
            SELECT t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))
            ORDER BY t.Title ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS t1
        LEFT JOIN budgetdetails AS b ON t1.Id == b.TripId
        LEFT JOIN reviews AS r ON t1.Id == r.TripId
        ORDER BY t1.Title ASC, t1.Id ASC, b.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-13 20:53:28.677 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:28.679 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:28.680 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:53:28.681 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:53:28.682 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:53:28.683 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 20:53:28.699 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 20:53:28.716 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.745 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.748 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.762 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.767 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.768 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.769 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.771 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.772 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.773 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.774 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.775 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.776 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.777 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.778 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.779 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.781 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.782 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.783 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.784 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.786 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:28.786 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 83ms reading results.
2025-08-13 20:53:28.788 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:28.788 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 20:53:28.795 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:53:28.798 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:53:28.798 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:53:28.799 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:53:28.800 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:53:28.801 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 20:53:28.814 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 477.4292ms
2025-08-13 20:53:28.815 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:53:28.819 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 590ms
2025-08-13 20:53:28.821 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:53:28.821 +05:30 [DBG] Connection id "0HNEQFLAFF59D" completed keep alive response.
2025-08-13 20:53:28.823 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:53:28.824 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:53:28.824 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:53:28.825 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:28.826 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:53:28.827 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 20:53:28.827 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:53:28.828 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5344 application/json 660.269ms
2025-08-13 20:53:28.829 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:53:28.831 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:53:28.833 +05:30 [DBG] Successfully validated the token.
2025-08-13 20:53:28.834 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 20:53:28.838 +05:30 [DBG] Authorization was successful.
2025-08-13 20:53:28.839 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:53:28.840 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 20:53:28.841 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:53:28.842 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:53:28.843 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:53:28.844 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:53:28.845 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:53:28.846 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 20:53:28.849 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:53:28.853 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 20:53:28.854 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 20:53:28.855 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 20:53:28.856 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 20:53:28.857 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 20:53:28.858 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 20:53:28.859 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 20:53:28.860 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:53:28.860 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:53:28.861 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 20:53:28.862 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:53:28.864 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:53:28.864 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 20:53:28.865 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:28.866 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:28.867 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:53:28.868 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:53:28.869 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:53:28.869 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 20:53:28.872 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 20:53:28.874 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:28.875 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 20:53:28.876 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:28.876 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 20:53:28.878 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:28.879 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:28.880 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:53:28.880 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:53:28.881 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:53:28.882 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 20:53:28.886 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 20:53:28.890 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.891 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.892 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.893 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.894 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.895 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.896 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.897 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.898 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.899 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.900 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.901 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.903 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.904 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.905 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.905 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.906 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.907 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.908 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.909 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:28.910 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:28.911 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 20ms reading results.
2025-08-13 20:53:28.912 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:28.913 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 20:53:28.914 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:53:28.915 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:53:28.916 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:53:28.918 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:53:28.919 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:53:28.920 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 20:53:28.921 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 74.7103ms
2025-08-13 20:53:28.922 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:53:28.924 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 94ms
2025-08-13 20:53:28.925 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:53:28.925 +05:30 [DBG] Connection id "0HNEQFLAFF59C" completed keep alive response.
2025-08-13 20:53:28.927 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:53:28.928 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:53:28.928 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:53:28.929 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:28.930 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:53:28.930 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 20:53:28.931 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:53:28.932 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5344 application/json 111.4842ms
2025-08-13 20:53:28.933 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:53:28.936 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:53:28.936 +05:30 [DBG] Successfully validated the token.
2025-08-13 20:53:28.937 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 20:53:28.938 +05:30 [DBG] Authorization was successful.
2025-08-13 20:53:28.939 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:53:28.940 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 20:53:28.941 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:53:28.942 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:53:28.943 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:53:28.945 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:53:28.946 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:53:28.947 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 20:53:28.952 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:53:28.961 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 20:53:28.962 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 20:53:28.963 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 20:53:28.964 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 20:53:28.965 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 20:53:28.966 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 20:53:28.968 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 20:53:28.969 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:53:28.970 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:53:28.971 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 20:53:28.972 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:53:28.973 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:53:28.974 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 20:53:28.975 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:28.976 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:28.976 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:53:28.977 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:53:28.978 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:53:28.979 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 20:53:28.981 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 20:53:28.986 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:28.987 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 20:53:28.988 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:28.989 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 20:53:28.991 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:28.992 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:28.992 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:53:28.993 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:53:28.994 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:53:28.995 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 20:53:28.999 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 20:53:29.001 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.002 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.003 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.004 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.005 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.006 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.007 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.009 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.009 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.010 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.012 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.013 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.016 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.017 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.019 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.020 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.021 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.023 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.024 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.025 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.026 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:29.027 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 25ms reading results.
2025-08-13 20:53:29.028 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:29.029 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 20:53:29.031 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:53:29.033 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:53:29.034 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:53:29.035 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:53:29.035 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:53:29.037 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 20:53:29.038 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 90.9437ms
2025-08-13 20:53:29.039 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:53:29.041 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 108ms
2025-08-13 20:53:29.042 +05:30 [DBG] Connection id "0HNEQFLAFF59D" completed keep alive response.
2025-08-13 20:53:29.043 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:53:29.044 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:53:29.047 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:53:29.048 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:29.049 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:53:29.050 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 20:53:29.051 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:53:29.052 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5344 application/json 127.7476ms
2025-08-13 20:53:29.054 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:53:29.057 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:53:29.058 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:53:29.059 +05:30 [DBG] Successfully validated the token.
2025-08-13 20:53:29.061 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 20:53:29.062 +05:30 [DBG] Authorization was successful.
2025-08-13 20:53:29.062 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:53:29.063 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 20:53:29.065 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:53:29.066 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:53:29.067 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:53:29.069 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:53:29.076 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:53:29.077 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 20:53:29.079 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:53:29.081 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 20:53:29.082 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 20:53:29.083 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 20:53:29.084 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 20:53:29.087 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 20:53:29.088 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 20:53:29.089 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 20:53:29.091 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:53:29.091 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:53:29.092 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 20:53:29.093 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:53:29.095 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:53:29.095 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 20:53:29.096 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:29.097 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:29.098 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:53:29.099 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:53:29.100 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:53:29.100 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 20:53:29.105 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 20:53:29.108 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:29.109 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 20:53:29.110 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:29.111 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 20:53:29.113 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:29.114 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:29.115 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:53:29.116 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:53:29.118 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 20:53:29.119 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 20:53:29.124 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 20:53:29.127 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.128 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.129 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.130 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.131 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.133 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.134 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.135 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.137 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.137 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.139 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.140 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.141 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.142 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.143 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.144 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.145 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.146 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.147 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.149 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:53:29.150 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:29.151 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 24ms reading results.
2025-08-13 20:53:29.152 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:29.153 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 20:53:29.154 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:53:29.156 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:53:29.156 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:53:29.157 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:53:29.157 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:53:29.158 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 20:53:29.160 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 82.2595ms
2025-08-13 20:53:29.161 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:53:29.163 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 105ms
2025-08-13 20:53:29.165 +05:30 [DBG] Connection id "0HNEQFLAFF59C" completed keep alive response.
2025-08-13 20:53:29.166 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:53:29.167 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:53:29.169 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 20:53:29.171 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5344 application/json 127.86ms
2025-08-13 20:54:02.292 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/101 - null null
2025-08-13 20:54:02.296 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/101'
2025-08-13 20:54:02.298 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:54:02.300 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:54:02.301 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:54:02.302 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:54:02.303 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/101   Responded with [204] in 3ms
2025-08-13 20:54:02.304 +05:30 [DBG] Connection id "0HNEQFLAFF59H" completed keep alive response.
2025-08-13 20:54:02.307 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/101 - null null
2025-08-13 20:54:02.308 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/101 - 204 null null 15.9605ms
2025-08-13 20:54:02.314 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/101'
2025-08-13 20:54:02.318 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/101'
2025-08-13 20:54:02.320 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 20:54:02.323 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:54:02.324 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:54:02.325 +05:30 [DBG] Successfully validated the token.
2025-08-13 20:54:02.326 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 20:54:02.328 +05:30 [DBG] Authorization was successful.
2025-08-13 20:54:02.328 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 20:54:02.335 +05:30 [INF] Route matched with {action = "GetTrip", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TravelPlannerAPI.Dtos.TripDto]] GetTrip(Int32) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 20:54:02.338 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:54:02.339 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:54:02.340 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:54:02.342 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:54:02.344 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:54:02.346 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 20:54:02.349 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:54:02.351 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 20:54:02.352 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-13 20:54:02.354 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-13 20:54:02.355 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-13 20:54:02.356 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-13 20:54:02.357 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-13 20:54:02.358 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-13 20:54:02.363 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Include(t => t.SharedUsers)
    .FirstOrDefault(t => t.Id == __id_0)'
2025-08-13 20:54:02.366 +05:30 [DBG] Including navigation: 'TripModel.BudgetDetails'.
2025-08-13 20:54:02.367 +05:30 [DBG] Including navigation: 'TripModel.Reviews'.
2025-08-13 20:54:02.369 +05:30 [DBG] Including navigation: 'TripModel.SharedUsers'.
2025-08-13 20:54:02.389 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-13 20:54:02.399 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<TripModel>(
    asyncEnumerable: new SingleQueryingEnumerable<TripModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
                1 -> Dictionary<IProperty, int> { [Property: BudgetDetailsModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: BudgetDetailsModel.Food (decimal) Required, 16], [Property: BudgetDetailsModel.Hotel (decimal) Required, 17], [Property: BudgetDetailsModel.TripId (int) Required FK Index, 18] }
                2 -> 0
                3 -> 15
                4 -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: ReviewModel.Rating (int) Required, 20], [Property: ReviewModel.ReviewText (string) Required, 21], [Property: ReviewModel.TripId (int) Required FK Index, 22], [Property: ReviewModel.UserId (int) Required FK Index, 23] }
                5 -> 19
                6 -> Dictionary<IProperty, int> { [Property: TripShareModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 24], [Property: TripShareModel.AccessLevel (AccessLevel) Required, 25], [Property: TripShareModel.OwnerId (int) Required FK Index, 26], [Property: TripShareModel.SharedWithUserId (int) Required FK Index, 27], [Property: TripShareModel.TripId (int) Required FK Index, 28] }
                7 -> 24
            SELECT t0.Id, t0.BestTime, t0.Budget, t0.Description, t0.Destination, t0.Duration, t0.EndDate, t0.EssentialsJson, t0.Image, t0.Notes, t0.StartDate, t0.Title, t0.TouristSpotsJson, t0.TravelMode, t0.UserId, t0.Id0, t0.Food, t0.Hotel, t0.TripId, r.Id, r.Rating, r.review, r.TripId, r.UserId, t1.Id, t1.AccessLevel, t1.OwnerId, t1.SharedWithUserId, t1.TripId
            FROM 
            (
                SELECT TOP(1) t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId, b.Id AS Id0, b.Food, b.Hotel, b.TripId
                FROM Trips AS t
                LEFT JOIN budgetdetails AS b ON t.Id == b.TripId
                WHERE t.Id == @__id_0
            ) AS t0
            LEFT JOIN reviews AS r ON t0.Id == r.TripId
            LEFT JOIN TripShares AS t1 ON t0.Id == t1.TripId
            ORDER BY t0.Id ASC, t0.Id0 ASC, r.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 20:54:02.405 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:54:02.405 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 20:54:02.406 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:02.408 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:02.409 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:54:02.411 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:54:02.412 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 20:54:02.415 +05:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-13 20:54:02.423 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-13 20:54:02.427 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:02.428 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 20:54:02.431 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:02.432 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 20:54:02.435 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:54:02.438 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:54:02.439 +05:30 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-08-13 20:54:02.442 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-08-13 20:54:02.443 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-08-13 20:54:02.461 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI) in 115.8993ms
2025-08-13 20:54:02.463 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 20:54:02.476 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/101   Responded with [404] in 153ms
2025-08-13 20:54:02.478 +05:30 [DBG] Connection id "0HNEQFLAFF59C" completed keep alive response.
2025-08-13 20:54:02.479 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:54:02.481 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:02.482 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 20:54:02.484 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/101 - 404 285 application/json 177.2306ms
2025-08-13 20:54:04.142 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:54:04.145 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:54:04.146 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:54:04.147 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:54:04.149 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:54:04.150 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:54:04.151 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 3ms
2025-08-13 20:54:04.152 +05:30 [DBG] Connection id "0HNEQFLAFF59H" completed keep alive response.
2025-08-13 20:54:04.154 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 11.5539ms
2025-08-13 20:54:04.155 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:54:04.161 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:54:04.162 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:54:04.164 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:54:04.167 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:54:04.168 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:54:04.169 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:54:04.170 +05:30 [DBG] Successfully validated the token.
2025-08-13 20:54:04.171 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 20:54:04.172 +05:30 [DBG] Authorization was successful.
2025-08-13 20:54:04.173 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:54:04.174 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 20:54:04.176 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:54:04.177 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:54:04.179 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:54:04.184 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:54:04.185 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:54:04.187 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 20:54:04.190 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:54:04.192 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 20:54:04.193 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 20:54:04.194 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 20:54:04.196 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 20:54:04.197 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 20:54:04.200 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 20:54:04.203 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 20:54:04.204 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:54:04.205 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:54:04.206 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 20:54:04.207 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:54:04.210 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:54:04.210 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 20:54:04.211 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:04.212 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:04.213 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:54:04.214 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:54:04.217 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 20:54:04.218 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 20:54:04.222 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 20:54:04.225 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:04.225 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 20:54:04.227 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:04.228 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 20:54:04.230 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:04.233 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:04.234 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:54:04.235 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 20:54:04.236 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:54:04.237 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 20:54:04.242 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 20:54:04.246 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:04.247 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:04.250 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:04.252 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:04.253 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:04.254 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:04.255 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:04.257 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:04.258 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:04.259 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:04.260 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:04.261 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:04.262 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:04.263 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:04.264 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:04.266 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:04.269 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:04.271 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:04.273 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:04.275 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:04.277 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:04.280 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 34ms reading results.
2025-08-13 20:54:04.281 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:04.284 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (3ms).
2025-08-13 20:54:04.286 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:54:04.288 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:54:04.289 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:54:04.290 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:54:04.290 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:54:04.292 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 20:54:04.293 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 106.4383ms
2025-08-13 20:54:04.294 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:54:04.298 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 129ms
2025-08-13 20:54:04.301 +05:30 [DBG] Connection id "0HNEQFLAFF59C" completed keep alive response.
2025-08-13 20:54:04.303 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:54:04.305 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:04.307 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 20:54:04.308 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5344 application/json 153.3488ms
2025-08-13 20:54:13.389 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:54:13.393 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:54:13.395 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:54:13.398 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:54:13.400 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:54:13.401 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:54:13.404 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 6ms
2025-08-13 20:54:13.412 +05:30 [DBG] Connection id "0HNEQFLAFF59H" completed keep alive response.
2025-08-13 20:54:13.415 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 20:54:13.416 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 26.8899ms
2025-08-13 20:54:13.422 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 20:54:13.439 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:54:13.442 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 20:54:13.449 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:54:13.452 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:54:13.455 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:54:13.457 +05:30 [DBG] Successfully validated the token.
2025-08-13 20:54:13.459 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 20:54:13.465 +05:30 [DBG] Authorization was successful.
2025-08-13 20:54:13.468 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:54:13.470 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 20:54:13.476 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:54:13.480 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:54:13.489 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:54:13.500 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:54:13.507 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:54:13.513 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 20:54:13.520 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:54:13.525 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 20:54:13.527 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 20:54:13.532 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 20:54:13.536 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 20:54:13.539 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 20:54:13.546 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 20:54:13.551 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 20:54:13.554 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:54:13.558 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:54:13.561 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 20:54:13.567 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 20:54:13.573 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:54:13.575 +05:30 [DBG] Created DbConnection. (2ms).
2025-08-13 20:54:13.583 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:13.587 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:13.590 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:54:13.592 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:54:13.594 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 20:54:13.601 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 20:54:13.619 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 20:54:13.624 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:13.625 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 20:54:13.628 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:13.632 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (4ms).
2025-08-13 20:54:13.637 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:13.638 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:13.639 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:54:13.640 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:54:13.641 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:54:13.643 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 20:54:13.659 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 20:54:13.665 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:13.667 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:13.669 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:13.670 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:13.671 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:13.673 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:13.674 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:13.676 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:13.677 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:13.678 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:13.682 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:13.683 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:13.685 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:13.686 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:13.688 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:13.689 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:13.691 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:13.692 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:13.693 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:13.695 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:13.698 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:13.699 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 34ms reading results.
2025-08-13 20:54:13.701 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:13.702 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 20:54:13.704 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:54:13.706 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:54:13.707 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:54:13.708 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:54:13.709 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:54:13.711 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 20:54:13.716 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 203.082ms
2025-08-13 20:54:13.717 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 20:54:13.720 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 268ms
2025-08-13 20:54:13.722 +05:30 [DBG] Connection id "0HNEQFLAFF59C" completed keep alive response.
2025-08-13 20:54:13.724 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:54:13.725 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:13.729 +05:30 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-13 20:54:13.732 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5344 application/json 317.0863ms
2025-08-13 20:54:16.862 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/9 - null null
2025-08-13 20:54:16.864 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/9'
2025-08-13 20:54:16.866 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 20:54:16.867 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:54:16.869 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:54:16.870 +05:30 [DBG] The request is a preflight request.
2025-08-13 20:54:16.872 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/9   Responded with [204] in 4ms
2025-08-13 20:54:16.873 +05:30 [DBG] Connection id "0HNEQFLAFF59H" completed keep alive response.
2025-08-13 20:54:16.874 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/9 - 204 null null 12.008ms
2025-08-13 20:54:16.875 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/9 - null null
2025-08-13 20:54:16.881 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/9'
2025-08-13 20:54:16.882 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/9'
2025-08-13 20:54:16.884 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 20:54:16.886 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 20:54:16.887 +05:30 [INF] CORS policy execution successful.
2025-08-13 20:54:16.888 +05:30 [DBG] Successfully validated the token.
2025-08-13 20:54:16.889 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 20:54:16.890 +05:30 [DBG] Authorization was successful.
2025-08-13 20:54:16.891 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 20:54:16.892 +05:30 [INF] Route matched with {action = "GetTrip", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TravelPlannerAPI.Dtos.TripDto]] GetTrip(Int32) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 20:54:16.894 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 20:54:16.895 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 20:54:16.898 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:54:16.901 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 20:54:16.902 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 20:54:16.904 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 20:54:16.907 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 20:54:16.909 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 20:54:16.910 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-13 20:54:16.911 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-13 20:54:16.915 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-13 20:54:16.916 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-13 20:54:16.918 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-13 20:54:16.919 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-13 20:54:16.921 +05:30 [DBG] Creating DbConnection.
2025-08-13 20:54:16.922 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 20:54:16.923 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:16.924 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:16.925 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 20:54:16.926 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 20:54:16.928 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 20:54:16.931 +05:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-13 20:54:16.943 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-13 20:54:16.951 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:16.953 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:16.954 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:16.956 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 20:54:16.957 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:16.959 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-08-13 20:54:16.960 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:16.962 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 20:54:16.983 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 20:54:16.986 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 20:54:16.987 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 20:54:16.988 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 20:54:16.989 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 20:54:16.991 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Dtos.TripDto'.
2025-08-13 20:54:16.992 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI) in 87.9524ms
2025-08-13 20:54:16.993 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 20:54:16.995 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/9   Responded with [200] in 109ms
2025-08-13 20:54:16.998 +05:30 [DBG] Connection id "0HNEQFLAFF59C" completed keep alive response.
2025-08-13 20:54:16.999 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 20:54:17.001 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 20:54:17.003 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 20:54:17.004 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/9 - 200 812 application/json 129.0566ms
2025-08-13 21:24:07.142 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-13 21:24:07.282 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-13 21:24:07.336 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-13 21:24:07.684 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 21:24:07.686 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 21:24:07.688 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 21:24:07.689 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 21:24:07.781 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 21:24:07.782 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 21:24:07.784 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 21:24:07.786 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 21:24:07.876 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:24:07.943 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-13 21:24:08.061 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 21:24:08.093 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:24:08.111 +05:30 [DBG] Created DbConnection. (16ms).
2025-08-13 21:24:08.115 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:24:08.374 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:24:08.377 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:24:08.383 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-13 21:24:08.389 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-08-13 21:24:08.394 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 21:24:08.433 +05:30 [INF] Executed DbCommand (39ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 21:24:08.458 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:24:08.473 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:24:08.479 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 40ms reading results.
2025-08-13 21:24:08.483 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:24:08.488 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (4ms).
2025-08-13 21:24:08.492 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-13 21:24:08.500 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 21:24:08.505 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:24:08.506 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:24:08.507 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:24:08.507 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:24:08.508 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:24:08.508 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 21:24:08.514 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 21:24:08.533 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:24:08.564 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:24:08.566 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 48ms reading results.
2025-08-13 21:24:08.567 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:24:08.567 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:24:08.571 +05:30 [INF] Admin user already exists.
2025-08-13 21:24:08.573 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:24:08.575 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:24:08.576 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 21:24:08.579 +05:30 [DBG] Hosting starting
2025-08-13 21:24:08.586 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-13 21:24:08.592 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-13 21:24:08.600 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-13 21:24:08.604 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 21:24:08.606 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-13 21:24:08.608 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 21:24:08.610 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-13 21:24:08.611 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-13 21:24:08.616 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-13 21:24:08.617 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-13 21:24:08.695 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-13 21:24:08.696 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-13 21:24:08.697 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-13 21:24:08.697 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-13 21:24:08.698 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-13 21:24:08.764 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-13 21:24:08.765 +05:30 [INF] Hosting environment: Development
2025-08-13 21:24:08.770 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-13 21:24:08.773 +05:30 [DBG] Hosting started
2025-08-13 21:24:08.924 +05:30 [DBG] Connection id "0HNEQG6HRRM05" accepted.
2025-08-13 21:24:08.926 +05:30 [DBG] Connection id "0HNEQG6HRRM05" started.
2025-08-13 21:24:08.934 +05:30 [DBG] Connection id "0HNEQG6HRRM05" received FIN.
2025-08-13 21:24:08.938 +05:30 [DBG] Connection id "0HNEQG6HRRM05" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 21:24:08.942 +05:30 [DBG] Connection id "0HNEQG6HRRM05" disconnecting.
2025-08-13 21:24:08.944 +05:30 [DBG] Connection id "0HNEQG6HRRM05" stopped.
2025-08-13 21:24:49.625 +05:30 [DBG] Connection id "0HNEQG6HRRM06" accepted.
2025-08-13 21:24:49.627 +05:30 [DBG] Connection id "0HNEQG6HRRM06" started.
2025-08-13 21:24:49.670 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:24:49.678 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-13 21:24:49.700 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:24:49.702 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:24:49.733 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-13 21:24:49.736 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:24:49.737 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:24:49.739 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:24:49.750 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 19ms
2025-08-13 21:24:49.753 +05:30 [DBG] Connection id "0HNEQG6HRRM06" completed keep alive response.
2025-08-13 21:24:49.756 +05:30 [DBG] Connection id "0HNEQG6HRRM07" accepted.
2025-08-13 21:24:49.756 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 104.8482ms
2025-08-13 21:24:49.759 +05:30 [DBG] Connection id "0HNEQG6HRRM07" started.
2025-08-13 21:24:49.766 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:24:49.771 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:24:49.775 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:24:49.777 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:24:49.784 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:24:49.787 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:24:49.788 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:24:49.865 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 3:25:27 PM', Current time (UTC): '8/13/2025 3:54:49 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-13 21:24:49.875 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 3:25:27 PM', Current time (UTC): '8/13/2025 3:54:49 PM'.
2025-08-13 21:24:49.880 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 21:24:49.884 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 21:24:49.889 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 21:24:49.966 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 178ms
2025-08-13 21:24:49.967 +05:30 [DBG] Connection id "0HNEQG6HRRM07" completed keep alive response.
2025-08-13 21:24:49.969 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 203ms
2025-08-13 21:24:49.969 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - null null
2025-08-13 21:24:49.972 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 21:24:49.973 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:24:49.974 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:24:49.975 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:24:49.976 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:24:49.977 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/refresh   Responded with [204] in 2ms
2025-08-13 21:24:49.977 +05:30 [DBG] Connection id "0HNEQG6HRRM06" completed keep alive response.
2025-08-13 21:24:49.980 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - 204 null null 10.5743ms
2025-08-13 21:24:49.980 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 363
2025-08-13 21:24:49.984 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 21:24:49.984 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 21:24:49.986 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 21:24:49.990 +05:30 [DBG] Connection id "0HNEQG6HRRM07", Request id "0HNEQG6HRRM07:00000002": started reading request body.
2025-08-13 21:24:49.992 +05:30 [DBG] Connection id "0HNEQG6HRRM07", Request id "0HNEQG6HRRM07:00000002": done reading request body.
2025-08-13 21:24:49.995 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:24:49.997 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:24:50.001 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 21:24:50.002 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 21:24:50.022 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 21:24:50.026 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:24:50.027 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:24:50.030 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:24:50.033 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:24:50.034 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:24:50.036 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 21:24:50.071 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:24:50.075 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 21:24:50.080 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 21:24:50.082 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 21:24:50.085 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 21:24:50.098 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 21:24:50.099 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 21:24:50.101 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 21:24:50.102 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 21:24:50.109 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 21:24:50.164 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:24:50.167 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:24:50.168 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:24:50.169 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:24:50.171 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:24:50.172 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 21:24:50.181 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 144.3243ms
2025-08-13 21:24:50.183 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 21:24:50.232 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIzIiwidW5pcXVlX25hbWUiOiJNZWdoYW5hIiwiZW1haWwiOiJtZWdoYW5hQGdtYWlsLmNvbSIsInJvbGUiOiJVc2VyIiwibmJmIjoxNzU1MDk4NjA3LCJleHAiOjE3NTUwOTg3MjcsImlhdCI6MTc1NTA5ODYwNywiaXNzIjoiVHJhdmVsUGxhbm5lckFQSSIsImF1ZCI6IlRyYXZlbFBsYW5uZXJDbGllbnQifQ.2-edJOAinKqlxzjPs9z2zoVSwwVtm77nogMtFecj7Yk","refreshToken":""} Responded with [401] in 245ms
2025-08-13 21:24:50.234 +05:30 [DBG] Connection id "0HNEQG6HRRM07" completed keep alive response.
2025-08-13 21:24:50.236 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:24:50.238 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 401 126 application/json 258.4195ms
2025-08-13 21:24:52.486 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:24:52.492 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:24:52.494 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:24:52.501 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:24:52.510 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:24:52.515 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:24:52.519 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:24:52.531 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 3:25:27 PM', Current time (UTC): '8/13/2025 3:54:52 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-13 21:24:52.541 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 3:25:27 PM', Current time (UTC): '8/13/2025 3:54:52 PM'.
2025-08-13 21:24:52.553 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 21:24:52.558 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 21:24:52.566 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 21:24:52.569 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 54ms
2025-08-13 21:24:52.572 +05:30 [DBG] Connection id "0HNEQG6HRRM07" completed keep alive response.
2025-08-13 21:24:52.573 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 86.9882ms
2025-08-13 21:24:52.581 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 363
2025-08-13 21:24:52.584 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 21:24:52.585 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 21:24:52.587 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 21:24:52.588 +05:30 [DBG] Connection id "0HNEQG6HRRM07", Request id "0HNEQG6HRRM07:00000004": started reading request body.
2025-08-13 21:24:52.589 +05:30 [DBG] Connection id "0HNEQG6HRRM07", Request id "0HNEQG6HRRM07:00000004": done reading request body.
2025-08-13 21:24:52.591 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:24:52.593 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:24:52.593 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 21:24:52.594 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 21:24:52.596 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 21:24:52.598 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:24:52.599 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:24:52.600 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:24:52.601 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:24:52.603 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:24:52.606 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 21:24:52.624 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:24:52.628 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 21:24:52.630 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 21:24:52.632 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 21:24:52.634 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 21:24:52.635 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 21:24:52.636 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 21:24:52.637 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 21:24:52.638 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 21:24:52.641 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 21:24:52.660 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:24:52.663 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:24:52.664 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:24:52.664 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:24:52.665 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:24:52.666 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 21:24:52.667 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 61.9514ms
2025-08-13 21:24:52.668 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 21:24:52.670 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIzIiwidW5pcXVlX25hbWUiOiJNZWdoYW5hIiwiZW1haWwiOiJtZWdoYW5hQGdtYWlsLmNvbSIsInJvbGUiOiJVc2VyIiwibmJmIjoxNzU1MDk4NjA3LCJleHAiOjE3NTUwOTg3MjcsImlhdCI6MTc1NTA5ODYwNywiaXNzIjoiVHJhdmVsUGxhbm5lckFQSSIsImF1ZCI6IlRyYXZlbFBsYW5uZXJDbGllbnQifQ.2-edJOAinKqlxzjPs9z2zoVSwwVtm77nogMtFecj7Yk","refreshToken":""} Responded with [401] in 81ms
2025-08-13 21:24:52.671 +05:30 [DBG] Connection id "0HNEQG6HRRM07" completed keep alive response.
2025-08-13 21:24:52.672 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:24:52.672 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 401 126 application/json 91.2392ms
2025-08-13 21:25:04.107 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 21:25:04.116 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 21:25:04.118 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:25:04.119 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:25:04.120 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:25:04.121 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:25:04.123 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 3ms
2025-08-13 21:25:04.124 +05:30 [DBG] Connection id "0HNEQG6HRRM06" completed keep alive response.
2025-08-13 21:25:04.125 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 18.0362ms
2025-08-13 21:25:04.126 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 55
2025-08-13 21:25:04.130 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 21:25:04.131 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 21:25:04.132 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 21:25:04.133 +05:30 [DBG] Connection id "0HNEQG6HRRM07", Request id "0HNEQG6HRRM07:00000005": started reading request body.
2025-08-13 21:25:04.134 +05:30 [DBG] Connection id "0HNEQG6HRRM07", Request id "0HNEQG6HRRM07:00000005": done reading request body.
2025-08-13 21:25:04.135 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:25:04.136 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:25:04.137 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 21:25:04.137 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 21:25:04.145 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 21:25:04.147 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:25:04.148 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:25:04.149 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:25:04.151 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:25:04.153 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:25:04.154 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 21:25:04.162 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:25:04.167 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 21:25:04.168 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 21:25:04.169 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 21:25:04.171 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 21:25:04.176 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 21:25:04.177 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 21:25:04.179 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 21:25:04.181 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 21:25:04.185 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 21:25:04.191 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:25:04.193 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 21:25:04.195 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:04.197 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:04.198 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:25:04.198 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:25:04.199 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:25:04.200 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 21:25:04.214 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 21:25:04.221 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:04.224 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:04.226 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-08-13 21:25:04.228 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:04.230 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 21:25:04.304 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-08-13 21:25:04.312 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 21:25:04.316 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:04.317 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:04.318 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:25:04.319 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:25:04.320 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:25:04.321 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 21:25:04.327 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 21:25:04.331 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:04.332 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 21:25:04.334 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:04.335 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 21:25:04.351 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:04.356 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 21:25:04.359 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 21:25:04.371 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 21:25:04.447 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:04.449 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:04.453 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:25:04.455 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:25:04.458 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-13 21:25:04.460 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 21:25:04.475 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 21:25:04.484 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:04.486 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 7ms reading results.
2025-08-13 21:25:04.488 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:04.489 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:25:04.492 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:04.495 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 21:25:04.509 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:25:04.512 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:25:04.513 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:25:04.514 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:25:04.514 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:25:04.515 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:25:04.529 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 374.6625ms
2025-08-13 21:25:04.530 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 21:25:04.558 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"meghana@gmail.com","password":"Password@123"} Responded with [200] in 425ms
2025-08-13 21:25:04.565 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:25:04.565 +05:30 [DBG] Connection id "0HNEQG6HRRM07" completed keep alive response.
2025-08-13 21:25:04.568 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:25:04.569 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:25:04.571 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:25:04.574 +05:30 [DBG] Connection id "0HNEQG6HRRM08" accepted.
2025-08-13 21:25:04.575 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:25:04.576 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:04.579 +05:30 [DBG] Connection id "0HNEQG6HRRM08" started.
2025-08-13 21:25:04.581 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:25:04.585 +05:30 [DBG] Disposed connection to database '' on server '' (9ms).
2025-08-13 21:25:04.586 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:25:04.587 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:25:04.589 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 903 application/json 462.5778ms
2025-08-13 21:25:04.592 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:25:04.594 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 18ms
2025-08-13 21:25:04.598 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:25:04.599 +05:30 [DBG] Connection id "0HNEQG6HRRM06" completed keep alive response.
2025-08-13 21:25:04.601 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:25:04.600 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:25:04.601 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 36.2476ms
2025-08-13 21:25:04.603 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:25:04.604 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:25:04.607 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:25:04.608 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:25:04.610 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:25:04.611 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 11ms
2025-08-13 21:25:04.612 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:25:04.613 +05:30 [DBG] Connection id "0HNEQG6HRRM08" completed keep alive response.
2025-08-13 21:25:04.614 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:25:04.614 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 28.2147ms
2025-08-13 21:25:04.615 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:25:04.622 +05:30 [DBG] Successfully validated the token.
2025-08-13 21:25:04.625 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 21:25:04.627 +05:30 [DBG] Authorization was successful.
2025-08-13 21:25:04.629 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:25:04.635 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 21:25:04.637 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:25:04.638 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:25:04.640 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:25:04.645 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:25:04.647 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:25:04.648 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:25:04.650 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:25:04.753 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:25:04.757 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:25:04.759 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 21:25:04.763 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 21:25:04.766 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 21:25:04.767 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 21:25:04.769 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 21:25:04.772 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:25:04.773 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:25:04.774 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:25:04.776 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:25:04.789 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .Count()'
2025-08-13 21:25:04.821 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 21:25:04.830 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:25:04.831 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 21:25:04.832 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:04.833 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:04.834 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:25:04.834 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:25:04.835 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:25:04.836 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:25:04.846 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:25:04.852 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:04.854 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-13 21:25:04.855 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:04.856 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:25:04.861 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .OrderBy(t => t.Title)
    .Skip(__p_1)
    .Take(__p_2)'
2025-08-13 21:25:04.870 +05:30 [DBG] Including navigation: 'TripModel.BudgetDetails'.
2025-08-13 21:25:04.872 +05:30 [DBG] Including navigation: 'TripModel.Reviews'.
2025-08-13 21:25:04.917 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
            1 -> Dictionary<IProperty, int> { [Property: BudgetDetailsModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: BudgetDetailsModel.Food (decimal) Required, 16], [Property: BudgetDetailsModel.Hotel (decimal) Required, 17], [Property: BudgetDetailsModel.TripId (int) Required FK Index, 18] }
            2 -> 0
            3 -> 15
            4 -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: ReviewModel.Rating (int) Required, 20], [Property: ReviewModel.ReviewText (string) Required, 21], [Property: ReviewModel.TripId (int) Required FK Index, 22], [Property: ReviewModel.UserId (int) Required FK Index, 23] }
            5 -> 19
        SELECT t1.Id, t1.BestTime, t1.Budget, t1.Description, t1.Destination, t1.Duration, t1.EndDate, t1.EssentialsJson, t1.Image, t1.Notes, t1.StartDate, t1.Title, t1.TouristSpotsJson, t1.TravelMode, t1.UserId, b.Id, b.Food, b.Hotel, b.TripId, r.Id, r.Rating, r.review, r.TripId, r.UserId
        FROM 
        (
            SELECT t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))
            ORDER BY t.Title ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS t1
        LEFT JOIN budgetdetails AS b ON t1.Id == b.TripId
        LEFT JOIN reviews AS r ON t1.Id == r.TripId
        ORDER BY t1.Title ASC, t1.Id ASC, b.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-13 21:25:04.924 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:04.925 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:04.925 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:25:04.926 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:25:04.927 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:25:04.928 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:25:04.947 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:25:04.962 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:04.987 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:04.989 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.000 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.005 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.007 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.008 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.009 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.010 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.011 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.012 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.013 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.014 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.016 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.018 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.019 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.020 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.021 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.022 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.024 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.025 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:05.026 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 76ms reading results.
2025-08-13 21:25:05.027 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:05.028 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:25:05.037 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:25:05.039 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:25:05.040 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:25:05.041 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:25:05.041 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:25:05.042 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:25:05.062 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 413.4242ms
2025-08-13 21:25:05.063 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:25:05.068 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 454ms
2025-08-13 21:25:05.069 +05:30 [DBG] Connection id "0HNEQG6HRRM07" completed keep alive response.
2025-08-13 21:25:05.070 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:25:05.071 +05:30 [DBG] Connection id "0HNEQG6HRRM09" accepted.
2025-08-13 21:25:05.073 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:05.074 +05:30 [DBG] Connection id "0HNEQG6HRRM09" started.
2025-08-13 21:25:05.075 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 21:25:05.077 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5344 application/json 476.2949ms
2025-08-13 21:25:05.080 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:25:05.081 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:25:05.082 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:25:05.083 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:25:05.084 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:25:05.085 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:25:05.086 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:25:05.086 +05:30 [DBG] Successfully validated the token.
2025-08-13 21:25:05.088 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 21:25:05.089 +05:30 [DBG] Authorization was successful.
2025-08-13 21:25:05.090 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:25:05.091 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 21:25:05.094 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:25:05.095 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:25:05.096 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:25:05.098 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:25:05.100 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:25:05.104 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:25:05.107 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:25:05.109 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:25:05.111 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:25:05.112 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 21:25:05.114 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 21:25:05.115 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 21:25:05.116 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 21:25:05.117 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 21:25:05.118 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:25:05.119 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:25:05.122 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:25:05.123 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:25:05.125 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:25:05.125 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 21:25:05.126 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:05.128 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:05.129 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:25:05.129 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:25:05.130 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:25:05.131 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:25:05.134 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:25:05.137 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:05.137 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 21:25:05.139 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:05.140 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:25:05.143 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:05.144 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:05.145 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:25:05.146 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:25:05.147 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:25:05.148 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:25:05.152 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:25:05.156 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.157 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.158 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.159 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.161 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.162 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.163 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.164 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.165 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.166 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.167 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.168 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.170 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.171 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.172 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.173 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.174 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.175 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.178 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.180 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:05.181 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:05.182 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 25ms reading results.
2025-08-13 21:25:05.183 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:05.184 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:25:05.185 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:25:05.187 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:25:05.187 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:25:05.188 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:25:05.189 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:25:05.190 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:25:05.191 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 86.8667ms
2025-08-13 21:25:05.192 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:25:05.195 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 110ms
2025-08-13 21:25:05.197 +05:30 [DBG] Connection id "0HNEQG6HRRM07" completed keep alive response.
2025-08-13 21:25:05.198 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:25:05.199 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:05.200 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 21:25:05.202 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5344 application/json 122.15ms
2025-08-13 21:25:15.931 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=Goa - null null
2025-08-13 21:25:15.935 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-13 21:25:15.937 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:25:15.938 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:25:15.939 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:25:15.940 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:25:15.941 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/TripReviews/search ?destination=Goa  Responded with [204] in 3ms
2025-08-13 21:25:15.946 +05:30 [DBG] Connection id "0HNEQG6HRRM08" completed keep alive response.
2025-08-13 21:25:15.947 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=Goa - 204 null null 16.9164ms
2025-08-13 21:25:15.949 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=Goa - null null
2025-08-13 21:25:15.952 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-13 21:25:15.953 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/TripReviews/search' is valid for the request path '/api/v1/TripReviews/search'
2025-08-13 21:25:15.954 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 21:25:15.955 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:25:15.956 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:25:15.957 +05:30 [DBG] Successfully validated the token.
2025-08-13 21:25:15.959 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 21:25:15.962 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 21:25:15.967 +05:30 [INF] Route matched with {action = "SearchTripReviews", controller = "TripReviews"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchTripReviews(System.String) on controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI).
2025-08-13 21:25:15.969 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:25:15.970 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:25:15.971 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:25:15.972 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:25:15.975 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:25:15.977 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-13 21:25:15.981 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:25:15.983 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-13 21:25:15.984 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' ...
2025-08-13 21:25:15.985 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' using the name 'destination' in request data ...
2025-08-13 21:25:15.986 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-13 21:25:15.987 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-13 21:25:15.988 +05:30 [DBG] Attempting to validate the bound parameter 'destination' of type 'System.String' ...
2025-08-13 21:25:15.991 +05:30 [DBG] Done attempting to validate the bound parameter 'destination' of type 'System.String'.
2025-08-13 21:25:16.003 +05:30 [DBG] Compiling query expression: 
'DbSet<ReviewModel>()
    .Include(r => r.Trip)
    .Include(r => r.User)
    .Where(r => r.Trip != null && __Functions_0
        .Like(
            matchExpression: r.Trip.Destination, 
            pattern: __Format_1))
    .Select(r => new TripReviewDto{ 
        TripId = r.TripId, 
        TripName = r.Trip != null ? r.Trip.Destination : "Unknown Trip", 
        Username = r.User != null ? r.User.Name : "Unknown User", 
        Rating = r.Rating, 
        Comment = r.ReviewText 
    }
    )'
2025-08-13 21:25:16.035 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripReviewDto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            TripId -> 0
            TripName -> 1
            Username -> 2
            Rating -> 3
            Comment -> 4
        SELECT r.TripId, CASE
            WHEN Not(t.Id == NULL) THEN t.Destination
            ELSE N'Unknown Trip'
        END AS TripName, CASE
            WHEN Not(u.Id == NULL) THEN u.Name
            ELSE N'Unknown User'
        END AS Username, r.Rating, r.review AS Comment
        FROM reviews AS r
        INNER JOIN Trips AS t ON r.TripId == t.Id
        INNER JOIN Users AS u ON r.UserId == u.Id
        WHERE Not(t.Id == NULL) && (t.Destination LIKE @__Format_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripReviewDto>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-13 21:25:16.041 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:25:16.042 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 21:25:16.043 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:16.044 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:16.045 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:25:16.046 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:25:16.047 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:25:16.048 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-13 21:25:16.057 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-13 21:25:16.061 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:16.063 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 21:25:16.066 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:16.067 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 21:25:16.070 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:25:16.076 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:25:16.078 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:25:16.079 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:25:16.081 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:25:16.082 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.TripReviewDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:25:16.086 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI) in 108.6266ms
2025-08-13 21:25:16.087 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 21:25:16.104 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/TripReviews/search ?destination=Goa  Responded with [200] in 148ms
2025-08-13 21:25:16.106 +05:30 [DBG] Connection id "0HNEQG6HRRM07" completed keep alive response.
2025-08-13 21:25:16.107 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:25:16.108 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:16.110 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 21:25:16.111 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=Goa - 200 61 application/json 161.9898ms
2025-08-13 21:25:35.369 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=Delhi - null null
2025-08-13 21:25:35.372 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-13 21:25:35.376 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:25:35.378 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:25:35.380 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:25:35.384 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:25:35.386 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/TripReviews/search ?destination=Delhi  Responded with [204] in 7ms
2025-08-13 21:25:35.388 +05:30 [DBG] Connection id "0HNEQG6HRRM08" completed keep alive response.
2025-08-13 21:25:35.390 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=Delhi - 204 null null 20.9877ms
2025-08-13 21:25:35.392 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=Delhi - null null
2025-08-13 21:25:35.397 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-13 21:25:35.398 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/TripReviews/search' is valid for the request path '/api/v1/TripReviews/search'
2025-08-13 21:25:35.399 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 21:25:35.400 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:25:35.401 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:25:35.402 +05:30 [DBG] Successfully validated the token.
2025-08-13 21:25:35.402 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 21:25:35.403 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 21:25:35.404 +05:30 [INF] Route matched with {action = "SearchTripReviews", controller = "TripReviews"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchTripReviews(System.String) on controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI).
2025-08-13 21:25:35.409 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:25:35.412 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:25:35.414 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:25:35.417 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:25:35.418 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:25:35.419 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-13 21:25:35.421 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:25:35.424 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-13 21:25:35.427 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' ...
2025-08-13 21:25:35.428 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' using the name 'destination' in request data ...
2025-08-13 21:25:35.430 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-13 21:25:35.431 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-13 21:25:35.433 +05:30 [DBG] Attempting to validate the bound parameter 'destination' of type 'System.String' ...
2025-08-13 21:25:35.434 +05:30 [DBG] Done attempting to validate the bound parameter 'destination' of type 'System.String'.
2025-08-13 21:25:35.437 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:25:35.438 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 21:25:35.439 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:35.440 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:35.442 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:25:35.443 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:25:35.443 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:25:35.445 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-13 21:25:35.450 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-13 21:25:35.453 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:35.454 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 21:25:35.455 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:35.456 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:25:35.458 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:25:35.460 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:25:35.461 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:25:35.461 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:25:35.462 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:25:35.463 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.TripReviewDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:25:35.466 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI) in 46.7906ms
2025-08-13 21:25:35.467 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 21:25:35.469 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/TripReviews/search ?destination=Delhi  Responded with [200] in 69ms
2025-08-13 21:25:35.471 +05:30 [DBG] Connection id "0HNEQG6HRRM07" completed keep alive response.
2025-08-13 21:25:35.473 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:25:35.474 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:35.475 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 21:25:35.477 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=Delhi - 200 238 application/json 84.6041ms
2025-08-13 21:25:40.667 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:25:40.670 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:25:40.677 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:25:40.679 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:25:40.680 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:25:40.684 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:25:40.685 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 6ms
2025-08-13 21:25:40.687 +05:30 [DBG] Connection id "0HNEQG6HRRM08" completed keep alive response.
2025-08-13 21:25:40.688 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 20.6396ms
2025-08-13 21:25:40.689 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:25:40.695 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:25:40.696 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:25:40.701 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:25:40.703 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:25:40.704 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:25:40.706 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:25:40.708 +05:30 [DBG] Successfully validated the token.
2025-08-13 21:25:40.709 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 21:25:40.711 +05:30 [DBG] Authorization was successful.
2025-08-13 21:25:40.712 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:25:40.713 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 21:25:40.716 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:25:40.717 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:25:40.719 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:25:40.721 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:25:40.723 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:25:40.725 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:25:40.729 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:25:40.733 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:25:40.735 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:25:40.736 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 21:25:40.737 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 21:25:40.739 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 21:25:40.741 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 21:25:40.743 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 21:25:40.744 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:25:40.745 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:25:40.746 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:25:40.748 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:25:40.750 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:25:40.750 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 21:25:40.751 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:40.753 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:40.753 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:25:40.756 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-13 21:25:40.757 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 21:25:40.758 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:25:40.762 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:25:40.765 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:40.766 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 21:25:40.767 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:40.768 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 21:25:40.770 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:40.772 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:40.773 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:25:40.774 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:25:40.776 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 21:25:40.777 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:25:40.782 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:25:40.786 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:40.787 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:40.788 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:40.790 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:40.792 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:40.793 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:40.794 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:40.797 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:40.798 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:40.799 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:40.800 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:40.801 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:40.802 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:40.804 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:40.805 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:40.806 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:40.808 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:40.809 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:40.810 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:40.812 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:40.814 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:40.815 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 29ms reading results.
2025-08-13 21:25:40.817 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:40.819 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 21:25:40.821 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:25:40.825 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:25:40.825 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:25:40.826 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:25:40.827 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:25:40.830 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:25:40.833 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 108.5684ms
2025-08-13 21:25:40.835 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:25:40.838 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 133ms
2025-08-13 21:25:40.839 +05:30 [DBG] Connection id "0HNEQG6HRRM07" completed keep alive response.
2025-08-13 21:25:40.841 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:25:40.842 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:40.843 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 21:25:40.844 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 5344 application/json 155.5271ms
2025-08-13 21:25:51.327 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 21:25:51.329 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 21:25:51.330 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:25:51.332 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:25:51.333 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:25:51.334 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:25:51.335 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 3ms
2025-08-13 21:25:51.336 +05:30 [DBG] Connection id "0HNEQG6HRRM08" completed keep alive response.
2025-08-13 21:25:51.337 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 10.5199ms
2025-08-13 21:25:51.338 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 56
2025-08-13 21:25:51.348 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 21:25:51.349 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 21:25:51.351 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 21:25:51.351 +05:30 [DBG] Connection id "0HNEQG6HRRM07", Request id "0HNEQG6HRRM07:0000000B": started reading request body.
2025-08-13 21:25:51.352 +05:30 [DBG] Connection id "0HNEQG6HRRM07", Request id "0HNEQG6HRRM07:0000000B": done reading request body.
2025-08-13 21:25:51.353 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:25:51.354 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:25:51.355 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 21:25:51.356 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 21:25:51.356 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 21:25:51.358 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:25:51.359 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:25:51.360 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:25:51.361 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:25:51.362 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:25:51.364 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 21:25:51.366 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:25:51.367 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 21:25:51.368 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 21:25:51.370 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 21:25:51.372 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 21:25:51.374 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 21:25:51.376 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 21:25:51.378 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 21:25:51.379 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 21:25:51.382 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 21:25:51.385 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:25:51.385 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 21:25:51.386 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.387 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.388 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:25:51.389 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:25:51.389 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:25:51.390 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 21:25:51.394 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 21:25:51.398 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:51.399 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.400 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 21:25:51.401 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.402 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:25:51.454 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.455 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.456 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:25:51.457 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:25:51.458 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:25:51.459 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 21:25:51.462 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 21:25:51.464 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.465 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 21:25:51.466 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.467 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:25:51.468 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:51.470 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 21:25:51.471 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 21:25:51.472 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 21:25:51.474 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.476 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.477 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:25:51.477 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:25:51.478 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:25:51.479 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 21:25:51.483 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 21:25:51.485 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.486 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 21:25:51.487 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.488 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:25:51.489 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:51.492 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 21:25:51.495 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:25:51.497 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:25:51.497 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:25:51.498 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:25:51.498 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:25:51.500 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:25:51.501 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 137.8192ms
2025-08-13 21:25:51.502 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 21:25:51.504 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"lauksiga@gmail.com","password":"Password@123"} Responded with [200] in 152ms
2025-08-13 21:25:51.505 +05:30 [DBG] Connection id "0HNEQG6HRRM07" completed keep alive response.
2025-08-13 21:25:51.506 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:25:51.507 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.509 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:25:51.510 +05:30 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-13 21:25:51.513 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:25:51.515 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 913 application/json 177.0086ms
2025-08-13 21:25:51.517 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:25:51.519 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:25:51.524 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:25:51.526 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:25:51.527 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:25:51.528 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:25:51.529 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:25:51.530 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:25:51.531 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 7ms
2025-08-13 21:25:51.533 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:25:51.535 +05:30 [DBG] Connection id "0HNEQG6HRRM08" completed keep alive response.
2025-08-13 21:25:51.536 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:25:51.537 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 28.2681ms
2025-08-13 21:25:51.537 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:25:51.538 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 8ms
2025-08-13 21:25:51.542 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:25:51.542 +05:30 [DBG] Connection id "0HNEQG6HRRM06" completed keep alive response.
2025-08-13 21:25:51.543 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:25:51.544 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 25.2422ms
2025-08-13 21:25:51.545 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:25:51.548 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:25:51.549 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:25:51.549 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:25:51.550 +05:30 [DBG] Successfully validated the token.
2025-08-13 21:25:51.551 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 21:25:51.552 +05:30 [DBG] Authorization was successful.
2025-08-13 21:25:51.552 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:25:51.553 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 21:25:51.554 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:25:51.557 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:25:51.558 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:25:51.559 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:25:51.561 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:25:51.562 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:25:51.564 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:25:51.565 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:25:51.567 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:25:51.568 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 21:25:51.569 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 21:25:51.572 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 21:25:51.574 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 21:25:51.577 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 21:25:51.580 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:25:51.581 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:25:51.582 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:25:51.583 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:25:51.585 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:25:51.586 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 21:25:51.586 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.587 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.588 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:25:51.591 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-13 21:25:51.592 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-13 21:25:51.594 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:25:51.600 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:25:51.602 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.602 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 21:25:51.604 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.605 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:25:51.608 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.609 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.610 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:25:51.611 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:25:51.612 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:25:51.612 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:25:51.617 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:25:51.620 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:51.623 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:51.624 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:51.625 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:51.626 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:51.627 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:51.628 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:51.629 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:51.630 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:51.631 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.632 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 12ms reading results.
2025-08-13 21:25:51.633 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.634 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:25:51.635 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:25:51.638 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:25:51.638 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:25:51.639 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:25:51.641 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:25:51.643 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:25:51.644 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 82.6045ms
2025-08-13 21:25:51.645 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:25:51.647 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 98ms
2025-08-13 21:25:51.648 +05:30 [DBG] Connection id "0HNEQG6HRRM07" completed keep alive response.
2025-08-13 21:25:51.650 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:25:51.651 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.652 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-13 21:25:51.653 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 115.6751ms
2025-08-13 21:25:51.656 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:25:51.658 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:25:51.658 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:25:51.659 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:25:51.661 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:25:51.662 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:25:51.663 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:25:51.664 +05:30 [DBG] Successfully validated the token.
2025-08-13 21:25:51.664 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 21:25:51.665 +05:30 [DBG] Authorization was successful.
2025-08-13 21:25:51.667 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:25:51.668 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 21:25:51.669 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:25:51.670 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:25:51.671 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:25:51.673 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:25:51.674 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:25:51.676 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:25:51.678 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:25:51.680 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:25:51.681 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:25:51.684 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 21:25:51.686 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 21:25:51.687 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 21:25:51.690 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 21:25:51.691 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 21:25:51.693 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:25:51.694 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:25:51.694 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:25:51.696 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:25:51.698 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:25:51.700 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 21:25:51.701 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.703 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.704 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:25:51.705 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:25:51.706 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:25:51.707 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:25:51.711 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:25:51.715 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.718 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-13 21:25:51.722 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.723 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 21:25:51.726 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.727 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.729 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:25:51.731 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-13 21:25:51.732 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 21:25:51.733 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:25:51.739 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:25:51.743 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:51.744 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:51.747 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:51.748 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:51.749 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:51.750 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:51.752 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:51.754 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:51.755 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:25:51.757 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.758 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 15ms reading results.
2025-08-13 21:25:51.760 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.761 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 21:25:51.764 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:25:51.767 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:25:51.767 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:25:51.768 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:25:51.769 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:25:51.770 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:25:51.774 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 97.3796ms
2025-08-13 21:25:51.775 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:25:51.777 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 114ms
2025-08-13 21:25:51.778 +05:30 [DBG] Connection id "0HNEQG6HRRM07" completed keep alive response.
2025-08-13 21:25:51.779 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:25:51.782 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:25:51.783 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 21:25:51.784 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 128.0802ms
2025-08-13 21:26:00.262 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=Delhi - null null
2025-08-13 21:26:00.265 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-13 21:26:00.266 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:26:00.267 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:26:00.268 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:26:00.269 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:26:00.270 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/TripReviews/search ?destination=Delhi  Responded with [204] in 3ms
2025-08-13 21:26:00.272 +05:30 [DBG] Connection id "0HNEQG6HRRM06" completed keep alive response.
2025-08-13 21:26:00.273 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/TripReviews/search?destination=Delhi - 204 null null 10.6164ms
2025-08-13 21:26:00.274 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=Delhi - null null
2025-08-13 21:26:00.281 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/TripReviews/search'
2025-08-13 21:26:00.282 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/TripReviews/search' is valid for the request path '/api/v1/TripReviews/search'
2025-08-13 21:26:00.283 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 21:26:00.284 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:26:00.285 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:26:00.286 +05:30 [DBG] Successfully validated the token.
2025-08-13 21:26:00.287 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 21:26:00.290 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 21:26:00.291 +05:30 [INF] Route matched with {action = "SearchTripReviews", controller = "TripReviews"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchTripReviews(System.String) on controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI).
2025-08-13 21:26:00.292 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:26:00.293 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:26:00.294 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:26:00.296 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:26:00.298 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:26:00.299 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-13 21:26:00.302 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:26:00.307 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripReviewsController (TravelPlannerAPI)
2025-08-13 21:26:00.308 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' ...
2025-08-13 21:26:00.309 +05:30 [DBG] Attempting to bind parameter 'destination' of type 'System.String' using the name 'destination' in request data ...
2025-08-13 21:26:00.310 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-13 21:26:00.311 +05:30 [DBG] Done attempting to bind parameter 'destination' of type 'System.String'.
2025-08-13 21:26:00.312 +05:30 [DBG] Attempting to validate the bound parameter 'destination' of type 'System.String' ...
2025-08-13 21:26:00.313 +05:30 [DBG] Done attempting to validate the bound parameter 'destination' of type 'System.String'.
2025-08-13 21:26:00.315 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:26:00.315 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 21:26:00.317 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:26:00.318 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:26:00.318 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:26:00.319 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:26:00.322 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 21:26:00.323 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-13 21:26:00.332 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__Format_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[TripId], [t].[Destination] AS [TripName], [u].[Name] AS [Username], [r].[Rating], [r].[review] AS [Comment]
FROM [reviews] AS [r]
INNER JOIN [Trips] AS [t] ON [r].[TripId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [t].[Destination] LIKE @__Format_1
2025-08-13 21:26:00.335 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:26:00.337 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 21:26:00.338 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:26:00.339 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 21:26:00.341 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:26:00.343 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:26:00.344 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:26:00.344 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:26:00.345 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:26:00.346 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TravelPlannerAPI.Dtos.TripReviewDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:26:00.347 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI) in 48.1522ms
2025-08-13 21:26:00.348 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripReviewsController.SearchTripReviews (TravelPlannerAPI)'
2025-08-13 21:26:00.349 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/TripReviews/search ?destination=Delhi  Responded with [200] in 65ms
2025-08-13 21:26:00.351 +05:30 [DBG] Connection id "0HNEQG6HRRM07" completed keep alive response.
2025-08-13 21:26:00.353 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:26:00.354 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:26:00.357 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 21:26:00.358 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/TripReviews/search?destination=Delhi - 200 238 application/json 84.0744ms
2025-08-13 21:26:02.333 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:26:02.340 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:26:02.341 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:26:02.343 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:26:02.346 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:26:02.347 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:26:02.349 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 6ms
2025-08-13 21:26:02.351 +05:30 [DBG] Connection id "0HNEQG6HRRM06" completed keep alive response.
2025-08-13 21:26:02.352 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 19.3627ms
2025-08-13 21:26:02.355 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:26:02.361 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:26:02.363 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:26:02.365 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:26:02.366 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:26:02.367 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:26:02.368 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:26:02.370 +05:30 [DBG] Successfully validated the token.
2025-08-13 21:26:02.372 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 21:26:02.374 +05:30 [DBG] Authorization was successful.
2025-08-13 21:26:02.374 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:26:02.375 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 21:26:02.377 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:26:02.378 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:26:02.379 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:26:02.381 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:26:02.383 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:26:02.384 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:26:02.387 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:26:02.390 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:26:02.391 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:26:02.393 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 21:26:02.396 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 21:26:02.399 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 21:26:02.402 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 21:26:02.406 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 21:26:02.408 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:26:02.410 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:26:02.412 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:26:02.414 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:26:02.416 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:26:02.416 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 21:26:02.417 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:26:02.418 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:26:02.420 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:26:02.421 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:26:02.422 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 21:26:02.423 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:26:02.432 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:26:02.435 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:26:02.436 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 21:26:02.438 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:26:02.439 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 21:26:02.441 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:26:02.442 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:26:02.444 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:26:02.445 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:26:02.446 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:26:02.447 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:26:02.463 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:26:02.468 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:26:02.469 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:26:02.474 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:26:02.476 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:26:02.477 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:26:02.478 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:26:02.480 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:26:02.481 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:26:02.483 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:26:02.484 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:26:02.485 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 18ms reading results.
2025-08-13 21:26:02.490 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:26:02.492 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 21:26:02.494 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:26:02.496 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:26:02.497 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:26:02.498 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:26:02.499 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:26:02.500 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:26:02.502 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 117.7366ms
2025-08-13 21:26:02.503 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:26:02.506 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 138ms
2025-08-13 21:26:02.507 +05:30 [DBG] Connection id "0HNEQG6HRRM07" completed keep alive response.
2025-08-13 21:26:02.508 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:26:02.509 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:26:02.511 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 21:26:02.515 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 159.7726ms
2025-08-13 21:44:53.820 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-13 21:44:53.990 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-13 21:44:54.046 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-13 21:44:54.405 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 21:44:54.406 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 21:44:54.407 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 21:44:54.408 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 21:44:54.511 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 21:44:54.512 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 21:44:54.513 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 21:44:54.514 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 21:44:54.612 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:44:54.685 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-13 21:44:54.840 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 21:44:54.882 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:44:54.902 +05:30 [DBG] Created DbConnection. (20ms).
2025-08-13 21:44:54.907 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:44:55.291 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:44:55.297 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:44:55.304 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-13 21:44:55.313 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-08-13 21:44:55.321 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 21:44:55.383 +05:30 [INF] Executed DbCommand (62ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 21:44:55.424 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:44:55.442 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:44:55.447 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 57ms reading results.
2025-08-13 21:44:55.451 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:44:55.457 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (5ms).
2025-08-13 21:44:55.460 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-13 21:44:55.467 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 21:44:55.472 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:44:55.473 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:44:55.474 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:44:55.475 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:44:55.475 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:44:55.476 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 21:44:55.483 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 21:44:55.502 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:44:55.543 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:44:55.545 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 58ms reading results.
2025-08-13 21:44:55.546 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:44:55.546 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:44:55.551 +05:30 [INF] Admin user already exists.
2025-08-13 21:44:55.553 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:44:55.556 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:44:55.559 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 21:44:55.562 +05:30 [DBG] Hosting starting
2025-08-13 21:44:55.574 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-13 21:44:55.588 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-13 21:44:55.599 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-13 21:44:55.603 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 21:44:55.608 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-13 21:44:55.611 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 21:44:55.615 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-13 21:44:55.616 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-13 21:44:55.619 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-13 21:44:55.620 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-13 21:44:55.725 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-13 21:44:55.726 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-13 21:44:55.727 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-13 21:44:55.728 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-13 21:44:55.728 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-13 21:44:55.830 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-13 21:44:55.831 +05:30 [INF] Hosting environment: Development
2025-08-13 21:44:55.832 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-13 21:44:55.841 +05:30 [DBG] Hosting started
2025-08-13 21:44:56.037 +05:30 [DBG] Connection id "0HNEQGI5H8CK0" accepted.
2025-08-13 21:44:56.039 +05:30 [DBG] Connection id "0HNEQGI5H8CK0" started.
2025-08-13 21:44:56.044 +05:30 [DBG] Connection id "0HNEQGI5H8CK1" accepted.
2025-08-13 21:44:56.045 +05:30 [DBG] Connection id "0HNEQGI5H8CK1" started.
2025-08-13 21:44:56.080 +05:30 [DBG] Connection id "0HNEQGI5H8CK0" received FIN.
2025-08-13 21:44:56.080 +05:30 [DBG] Connection id "0HNEQGI5H8CK1" received FIN.
2025-08-13 21:44:56.086 +05:30 [DBG] Connection id "0HNEQGI5H8CK0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 21:44:56.084 +05:30 [DBG] Connection id "0HNEQGI5H8CK1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 21:44:56.091 +05:30 [DBG] Connection id "0HNEQGI5H8CK0" disconnecting.
2025-08-13 21:44:56.091 +05:30 [DBG] Connection id "0HNEQGI5H8CK1" disconnecting.
2025-08-13 21:44:56.103 +05:30 [DBG] Connection id "0HNEQGI5H8CK0" stopped.
2025-08-13 21:44:56.103 +05:30 [DBG] Connection id "0HNEQGI5H8CK1" stopped.
2025-08-13 21:45:02.797 +05:30 [DBG] Connection id "0HNEQGI5H8CK2" accepted.
2025-08-13 21:45:02.798 +05:30 [DBG] Connection id "0HNEQGI5H8CK2" started.
2025-08-13 21:45:02.799 +05:30 [DBG] Connection id "0HNEQGI5H8CK3" accepted.
2025-08-13 21:45:02.800 +05:30 [DBG] Connection id "0HNEQGI5H8CK3" started.
2025-08-13 21:45:02.826 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/index.html - null null
2025-08-13 21:45:02.964 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-13 21:45:02.983 +05:30 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-13 21:45:02.984 +05:30 [DBG] Request did not match any endpoints
2025-08-13 21:45:03.033 +05:30 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-13 21:45:03.035 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-13 21:45:03.048 +05:30 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-13 21:45:03.050 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-13 21:45:03.052 +05:30 [DBG] Connection id "0HNEQGI5H8CK2" completed keep alive response.
2025-08-13 21:45:03.055 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/index.html - 200 null text/html;charset=utf-8 238.7519ms
2025-08-13 21:45:03.151 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_vs/browserLink - null null
2025-08-13 21:45:03.151 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - null null
2025-08-13 21:45:03.157 +05:30 [DBG] Connection id "0HNEQGI5H8CK3" completed keep alive response.
2025-08-13 21:45:03.161 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - 200 13768 application/javascript; charset=utf-8 8.3224ms
2025-08-13 21:45:03.181 +05:30 [DBG] Connection id "0HNEQGI5H8CK2" completed keep alive response.
2025-08-13 21:45:03.182 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.8633ms
2025-08-13 21:45:03.218 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - null null
2025-08-13 21:45:03.221 +05:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-13 21:45:03.221 +05:30 [DBG] Request did not match any endpoints
2025-08-13 21:45:03.243 +05:30 [DBG] Connection id "0HNEQGI5H8CK2" completed keep alive response.
2025-08-13 21:45:03.244 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.3316ms
2025-08-13 21:45:06.437 +05:30 [DBG] Connection id "0HNEQGI5H8CK4" accepted.
2025-08-13 21:45:06.439 +05:30 [DBG] Connection id "0HNEQGI5H8CK4" started.
2025-08-13 21:45:06.440 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 21:45:06.447 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 21:45:06.448 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:45:06.467 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-13 21:45:06.471 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:45:06.472 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:45:06.474 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:45:06.487 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 21ms
2025-08-13 21:45:06.488 +05:30 [DBG] Connection id "0HNEQGI5H8CK4" completed keep alive response.
2025-08-13 21:45:06.489 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 49.1323ms
2025-08-13 21:45:06.492 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 56
2025-08-13 21:45:06.496 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 21:45:06.499 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 21:45:06.503 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 21:45:06.512 +05:30 [DBG] Connection id "0HNEQGI5H8CK2", Request id "0HNEQGI5H8CK2:00000004": started reading request body.
2025-08-13 21:45:06.513 +05:30 [DBG] Connection id "0HNEQGI5H8CK2", Request id "0HNEQGI5H8CK2:00000004": done reading request body.
2025-08-13 21:45:06.516 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:45:06.517 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:45:06.560 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 21:45:06.563 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 21:45:06.584 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 21:45:06.587 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:45:06.588 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:45:06.589 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:45:06.591 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:45:06.593 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:45:06.596 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 21:45:06.640 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:45:06.644 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 21:45:06.651 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 21:45:06.654 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 21:45:06.656 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 21:45:06.671 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 21:45:06.674 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 21:45:06.677 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 21:45:06.678 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 21:45:06.684 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 21:45:06.691 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:45:06.692 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 21:45:06.693 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:06.694 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:06.695 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:45:06.696 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:45:06.697 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:45:06.697 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 21:45:06.700 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 21:45:06.703 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:06.704 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:06.706 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-13 21:45:06.709 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:06.710 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 21:45:06.800 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-08-13 21:45:06.807 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 21:45:06.811 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:06.813 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:06.815 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:45:06.816 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:45:06.817 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:45:06.818 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 21:45:06.823 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 21:45:06.826 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:06.827 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 21:45:06.829 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:06.830 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:45:06.846 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:06.850 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 21:45:06.857 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 21:45:06.868 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 21:45:06.926 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:06.927 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:06.929 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:45:06.930 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:45:06.932 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 21:45:06.933 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 21:45:06.949 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 21:45:06.956 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:06.958 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-08-13 21:45:06.960 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:06.961 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:45:06.963 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:06.968 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 21:45:07.006 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:07.007 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:07.008 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:45:07.008 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:45:07.010 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 21:45:07.011 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 21:45:07.014 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 21:45:07.017 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:07.018 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 21:45:07.019 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:07.021 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 21:45:07.022 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:07.024 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 21:45:07.024 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 21:45:07.025 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 21:45:07.026 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:07.027 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:07.028 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:45:07.029 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:45:07.030 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:45:07.031 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 21:45:07.041 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 21:45:07.045 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:07.045 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 21:45:07.049 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:07.050 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:45:07.052 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:07.053 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 21:45:07.060 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:45:07.062 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:45:07.063 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:45:07.064 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:45:07.065 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:45:07.066 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:45:07.085 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 488.512ms
2025-08-13 21:45:07.087 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 21:45:07.265 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"lauksiga@gmail.com","password":"Password@123"} Responded with [200] in 760ms
2025-08-13 21:45:07.271 +05:30 [DBG] Connection id "0HNEQGI5H8CK2" completed keep alive response.
2025-08-13 21:45:07.276 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:45:07.277 +05:30 [DBG] Connection id "0HNEQGI5H8CK5" accepted.
2025-08-13 21:45:07.279 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:45:07.281 +05:30 [DBG] Connection id "0HNEQGI5H8CK5" started.
2025-08-13 21:45:07.280 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:45:07.281 +05:30 [DBG] Connection id "0HNEQGI5H8CK6" accepted.
2025-08-13 21:45:07.284 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:45:07.284 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:07.284 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:45:07.286 +05:30 [DBG] Connection id "0HNEQGI5H8CK6" started.
2025-08-13 21:45:07.289 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:45:07.291 +05:30 [DBG] Disposed connection to database '' on server '' (6ms).
2025-08-13 21:45:07.298 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:45:07.300 +05:30 [DBG] Connection id "0HNEQGI5H8CK7" accepted.
2025-08-13 21:45:07.303 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:45:07.301 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 971 application/json 809.4582ms
2025-08-13 21:45:07.295 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:45:07.296 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:45:07.308 +05:30 [DBG] Connection id "0HNEQGI5H8CK7" started.
2025-08-13 21:45:07.309 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:45:07.313 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:45:07.318 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:45:07.321 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:45:07.321 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:45:07.322 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:45:07.323 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:45:07.326 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 23ms
2025-08-13 21:45:07.325 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:45:07.327 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 32ms
2025-08-13 21:45:07.328 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:45:07.328 +05:30 [DBG] Connection id "0HNEQGI5H8CK5" completed keep alive response.
2025-08-13 21:45:07.329 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:45:07.330 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:45:07.332 +05:30 [DBG] Connection id "0HNEQGI5H8CK4" completed keep alive response.
2025-08-13 21:45:07.333 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:45:07.334 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 50.1671ms
2025-08-13 21:45:07.335 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:45:07.337 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:45:07.338 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 61.4698ms
2025-08-13 21:45:07.338 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:45:07.342 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:45:07.343 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:45:07.345 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 17ms
2025-08-13 21:45:07.346 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:45:07.348 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:45:07.349 +05:30 [DBG] Connection id "0HNEQGI5H8CK6" completed keep alive response.
2025-08-13 21:45:07.350 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 15ms
2025-08-13 21:45:07.351 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:45:07.352 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 55.3449ms
2025-08-13 21:45:07.353 +05:30 [DBG] Connection id "0HNEQGI5H8CK7" completed keep alive response.
2025-08-13 21:45:07.355 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:45:07.358 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 37.4748ms
2025-08-13 21:45:07.360 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:45:07.414 +05:30 [DBG] Successfully validated the token.
2025-08-13 21:45:07.417 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 21:45:07.421 +05:30 [DBG] Authorization was successful.
2025-08-13 21:45:07.422 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:45:07.435 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 21:45:07.438 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:45:07.439 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:45:07.440 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:45:07.442 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:45:07.444 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:45:07.445 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:45:07.454 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:45:07.593 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:45:07.598 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:45:07.600 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 21:45:07.617 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 21:45:07.621 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 21:45:07.623 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 21:45:07.625 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 21:45:07.626 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:45:07.627 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:45:07.628 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:45:07.629 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:45:07.660 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .Count()'
2025-08-13 21:45:07.736 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 21:45:07.748 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:45:07.750 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 21:45:07.750 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:07.751 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:07.753 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:45:07.754 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:45:07.755 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:45:07.756 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:45:07.767 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:45:07.772 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:07.773 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 21:45:07.774 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:07.775 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:45:07.780 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .OrderBy(t => t.Title)
    .Skip(__p_1)
    .Take(__p_2)'
2025-08-13 21:45:07.791 +05:30 [DBG] Including navigation: 'TripModel.BudgetDetails'.
2025-08-13 21:45:07.793 +05:30 [DBG] Including navigation: 'TripModel.Reviews'.
2025-08-13 21:45:07.859 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
            1 -> Dictionary<IProperty, int> { [Property: BudgetDetailsModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: BudgetDetailsModel.Food (decimal) Required, 16], [Property: BudgetDetailsModel.Hotel (decimal) Required, 17], [Property: BudgetDetailsModel.TripId (int) Required FK Index, 18] }
            2 -> 0
            3 -> 15
            4 -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: ReviewModel.Rating (int) Required, 20], [Property: ReviewModel.ReviewText (string) Required, 21], [Property: ReviewModel.TripId (int) Required FK Index, 22], [Property: ReviewModel.UserId (int) Required FK Index, 23] }
            5 -> 19
        SELECT t1.Id, t1.BestTime, t1.Budget, t1.Description, t1.Destination, t1.Duration, t1.EndDate, t1.EssentialsJson, t1.Image, t1.Notes, t1.StartDate, t1.Title, t1.TouristSpotsJson, t1.TravelMode, t1.UserId, b.Id, b.Food, b.Hotel, b.TripId, r.Id, r.Rating, r.review, r.TripId, r.UserId
        FROM 
        (
            SELECT t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))
            ORDER BY t.Title ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS t1
        LEFT JOIN budgetdetails AS b ON t1.Id == b.TripId
        LEFT JOIN reviews AS r ON t1.Id == r.TripId
        ORDER BY t1.Title ASC, t1.Id ASC, b.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-13 21:45:07.865 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:07.865 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:07.866 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:45:07.867 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:45:07.868 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:45:07.868 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:45:07.888 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:45:07.901 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:07.928 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:07.930 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:07.938 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:07.939 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:07.940 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:07.941 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:07.942 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:07.943 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:07.944 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:07.945 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 53ms reading results.
2025-08-13 21:45:07.946 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:07.947 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:45:07.954 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:45:07.956 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:45:07.957 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:45:07.958 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:45:07.959 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:45:07.961 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:45:07.988 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 543.442ms
2025-08-13 21:45:07.989 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:45:07.995 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 640ms
2025-08-13 21:45:07.996 +05:30 [DBG] Connection id "0HNEQGI5H8CK2" completed keep alive response.
2025-08-13 21:45:07.998 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:45:07.999 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.000 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 21:45:08.001 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 671.161ms
2025-08-13 21:45:08.007 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:45:08.010 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:45:08.012 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:45:08.013 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:45:08.014 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:45:08.015 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:45:08.016 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:45:08.018 +05:30 [DBG] Successfully validated the token.
2025-08-13 21:45:08.020 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 21:45:08.022 +05:30 [DBG] Authorization was successful.
2025-08-13 21:45:08.023 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:45:08.024 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 21:45:08.026 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:45:08.027 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:45:08.028 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:45:08.032 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:45:08.034 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:45:08.036 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:45:08.038 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:45:08.040 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:45:08.041 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:45:08.042 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 21:45:08.043 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 21:45:08.044 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 21:45:08.046 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 21:45:08.047 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 21:45:08.048 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:45:08.049 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:45:08.050 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:45:08.051 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:45:08.053 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:45:08.054 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 21:45:08.055 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.056 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.056 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:45:08.057 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:45:08.058 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:45:08.059 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:45:08.063 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:45:08.066 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.067 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 21:45:08.069 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.071 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 21:45:08.073 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.074 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.075 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:45:08.076 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:45:08.077 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:45:08.078 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:45:08.082 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:45:08.085 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.086 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.087 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.088 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.090 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.091 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.092 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.094 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.095 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.097 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.098 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 13ms reading results.
2025-08-13 21:45:08.099 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.100 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:45:08.103 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:45:08.108 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:45:08.109 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:45:08.110 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:45:08.111 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:45:08.112 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:45:08.114 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 78.0972ms
2025-08-13 21:45:08.114 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:45:08.117 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 101ms
2025-08-13 21:45:08.121 +05:30 [DBG] Connection id "0HNEQGI5H8CK2" completed keep alive response.
2025-08-13 21:45:08.121 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:45:08.122 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.123 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-13 21:45:08.124 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 117.2827ms
2025-08-13 21:45:08.127 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:45:08.130 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:45:08.130 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:45:08.132 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:45:08.133 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:45:08.134 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:45:08.135 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:45:08.136 +05:30 [DBG] Successfully validated the token.
2025-08-13 21:45:08.137 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 21:45:08.139 +05:30 [DBG] Authorization was successful.
2025-08-13 21:45:08.140 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:45:08.140 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 21:45:08.144 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:45:08.146 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:45:08.147 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:45:08.149 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:45:08.150 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:45:08.151 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:45:08.157 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:45:08.167 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:45:08.168 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:45:08.169 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 21:45:08.171 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 21:45:08.172 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 21:45:08.173 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 21:45:08.174 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 21:45:08.178 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:45:08.180 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:45:08.181 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:45:08.182 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:45:08.185 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:45:08.186 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 21:45:08.187 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.188 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.189 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:45:08.189 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:45:08.190 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:45:08.192 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:45:08.195 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:45:08.197 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.197 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 21:45:08.198 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.199 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 21:45:08.201 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.202 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.203 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:45:08.204 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:45:08.205 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:45:08.205 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:45:08.222 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:45:08.227 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.228 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.229 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.232 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.233 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.234 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.236 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.237 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.238 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.239 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.242 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 15ms reading results.
2025-08-13 21:45:08.243 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.244 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 21:45:08.246 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:45:08.249 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:45:08.249 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:45:08.250 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:45:08.251 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:45:08.254 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:45:08.257 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 105.3866ms
2025-08-13 21:45:08.258 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:45:08.259 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 125ms
2025-08-13 21:45:08.261 +05:30 [DBG] Connection id "0HNEQGI5H8CK2" completed keep alive response.
2025-08-13 21:45:08.268 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:45:08.277 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.279 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 21:45:08.280 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 152.8543ms
2025-08-13 21:45:08.283 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:45:08.285 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:45:08.288 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:45:08.289 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:45:08.291 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:45:08.291 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:45:08.292 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:45:08.293 +05:30 [DBG] Successfully validated the token.
2025-08-13 21:45:08.294 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 21:45:08.295 +05:30 [DBG] Authorization was successful.
2025-08-13 21:45:08.296 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:45:08.297 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 21:45:08.299 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:45:08.300 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:45:08.301 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:45:08.304 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:45:08.305 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:45:08.307 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:45:08.309 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:45:08.311 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:45:08.312 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:45:08.313 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 21:45:08.314 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 21:45:08.316 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 21:45:08.318 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 21:45:08.321 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 21:45:08.322 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:45:08.323 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:45:08.324 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:45:08.326 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:45:08.328 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:45:08.329 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 21:45:08.329 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.331 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.332 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:45:08.333 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:45:08.334 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 21:45:08.336 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:45:08.340 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:45:08.343 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.344 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 21:45:08.346 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.347 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 21:45:08.350 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.352 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.354 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:45:08.356 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-13 21:45:08.358 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-13 21:45:08.359 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:45:08.364 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:45:08.369 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.371 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.372 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.375 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.377 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.378 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.380 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.381 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.384 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:08.386 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.387 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 17ms reading results.
2025-08-13 21:45:08.389 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.391 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 21:45:08.392 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:45:08.394 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:45:08.395 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:45:08.397 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:45:08.397 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:45:08.400 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:45:08.401 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 94.1029ms
2025-08-13 21:45:08.402 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:45:08.404 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 112ms
2025-08-13 21:45:08.406 +05:30 [DBG] Connection id "0HNEQGI5H8CK2" completed keep alive response.
2025-08-13 21:45:08.407 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:45:08.408 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:08.410 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 21:45:08.412 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 128.8284ms
2025-08-13 21:45:46.024 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 21:45:46.034 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 21:45:46.035 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:45:46.040 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:45:46.041 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:45:46.041 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:45:46.043 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 2ms
2025-08-13 21:45:46.043 +05:30 [DBG] Connection id "0HNEQGI5H8CK7" completed keep alive response.
2025-08-13 21:45:46.044 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 20.8984ms
2025-08-13 21:45:46.045 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 56
2025-08-13 21:45:46.055 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 21:45:46.056 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 21:45:46.057 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 21:45:46.058 +05:30 [DBG] Connection id "0HNEQGI5H8CK2", Request id "0HNEQGI5H8CK2:00000009": started reading request body.
2025-08-13 21:45:46.059 +05:30 [DBG] Connection id "0HNEQGI5H8CK2", Request id "0HNEQGI5H8CK2:00000009": done reading request body.
2025-08-13 21:45:46.060 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:45:46.061 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:45:46.062 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 21:45:46.063 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 21:45:46.064 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 21:45:46.066 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:45:46.067 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:45:46.069 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:45:46.071 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:45:46.072 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:45:46.073 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 21:45:46.077 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:45:46.079 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 21:45:46.080 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 21:45:46.081 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 21:45:46.083 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 21:45:46.087 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 21:45:46.087 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 21:45:46.088 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 21:45:46.090 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 21:45:46.091 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 21:45:46.093 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:45:46.093 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 21:45:46.094 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.095 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.096 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:45:46.097 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:45:46.098 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:45:46.100 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 21:45:46.110 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 21:45:46.118 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:46.119 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.120 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-08-13 21:45:46.121 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.122 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:45:46.178 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.179 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.180 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:45:46.181 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:45:46.182 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:45:46.183 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 21:45:46.188 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 21:45:46.192 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.192 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 21:45:46.194 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.195 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:45:46.196 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:46.197 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 21:45:46.198 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 21:45:46.199 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 21:45:46.201 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.202 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.203 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:45:46.205 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:45:46.206 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 21:45:46.208 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 21:45:46.220 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 21:45:46.226 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.227 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 21:45:46.229 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.230 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 21:45:46.231 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:46.232 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 21:45:46.235 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.236 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.237 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:45:46.237 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:45:46.238 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:45:46.239 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 21:45:46.247 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 21:45:46.251 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.253 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 21:45:46.254 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.256 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 21:45:46.258 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:46.259 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 21:45:46.263 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 21:45:46.264 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 21:45:46.266 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.267 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.268 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:45:46.269 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:45:46.270 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 21:45:46.271 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 21:45:46.286 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 21:45:46.290 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.293 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 21:45:46.295 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.296 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:45:46.297 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:46.299 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 21:45:46.301 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:45:46.303 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:45:46.304 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:45:46.305 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:45:46.305 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:45:46.309 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:45:46.311 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 238.2188ms
2025-08-13 21:45:46.313 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 21:45:46.316 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"lauksiga@gmail.com","password":"Password@123"} Responded with [200] in 257ms
2025-08-13 21:45:46.321 +05:30 [DBG] Connection id "0HNEQGI5H8CK2" completed keep alive response.
2025-08-13 21:45:46.324 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:45:46.326 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.330 +05:30 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-13 21:45:46.332 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 972 application/json 287.0617ms
2025-08-13 21:45:46.443 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:45:46.446 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:45:46.448 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:45:46.450 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:45:46.452 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:45:46.457 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:45:46.460 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 9ms
2025-08-13 21:45:46.463 +05:30 [DBG] Connection id "0HNEQGI5H8CK7" completed keep alive response.
2025-08-13 21:45:46.470 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 27.1729ms
2025-08-13 21:45:46.471 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:45:46.484 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:45:46.486 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:45:46.492 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:45:46.496 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:45:46.499 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:45:46.500 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:45:46.502 +05:30 [DBG] Successfully validated the token.
2025-08-13 21:45:46.504 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 21:45:46.508 +05:30 [DBG] Authorization was successful.
2025-08-13 21:45:46.509 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:45:46.512 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 21:45:46.516 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:45:46.518 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:45:46.521 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:45:46.528 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:45:46.534 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:45:46.541 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:45:46.544 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:45:46.547 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:45:46.550 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:45:46.552 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 21:45:46.556 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 21:45:46.558 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 21:45:46.560 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 21:45:46.563 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 21:45:46.565 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:45:46.566 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:45:46.567 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:45:46.569 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:45:46.574 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:45:46.575 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 21:45:46.576 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.578 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.579 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:45:46.580 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:45:46.582 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 21:45:46.583 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:45:46.596 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:45:46.600 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.602 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 21:45:46.605 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.607 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 21:45:46.611 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.613 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.614 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:45:46.616 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:45:46.617 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 21:45:46.619 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:45:46.639 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:45:46.643 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:46.645 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:46.646 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:46.648 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:46.649 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:46.650 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:46.651 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:46.652 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:46.654 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:45:46.655 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.656 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 13ms reading results.
2025-08-13 21:45:46.657 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.658 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:45:46.659 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:45:46.661 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:45:46.662 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:45:46.663 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:45:46.664 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:45:46.665 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:45:46.666 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 125.7403ms
2025-08-13 21:45:46.667 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:45:46.669 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 170ms
2025-08-13 21:45:46.670 +05:30 [DBG] Connection id "0HNEQGI5H8CK2" completed keep alive response.
2025-08-13 21:45:46.671 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:45:46.672 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:45:46.673 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-13 21:45:46.674 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 203.1526ms
2025-08-13 21:48:45.260 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:48:45.268 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:48:45.271 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:48:45.273 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:48:45.274 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:48:45.280 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:48:45.282 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 8ms
2025-08-13 21:48:45.283 +05:30 [DBG] Connection id "0HNEQGI5H8CK7" completed keep alive response.
2025-08-13 21:48:45.286 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 29.6065ms
2025-08-13 21:48:45.293 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:48:45.300 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:48:45.302 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:48:45.304 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:48:45.306 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:48:45.309 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:48:45.311 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:48:45.322 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 4:17:46 PM', Current time (UTC): '8/13/2025 4:18:45 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-13 21:48:45.359 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 4:17:46 PM', Current time (UTC): '8/13/2025 4:18:45 PM'.
2025-08-13 21:48:45.365 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 21:48:45.368 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 21:48:45.379 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 21:48:45.391 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 82ms
2025-08-13 21:48:45.394 +05:30 [DBG] Connection id "0HNEQGI5H8CK2" completed keep alive response.
2025-08-13 21:48:45.395 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 104.1619ms
2025-08-13 21:48:45.408 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - null null
2025-08-13 21:48:45.411 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 21:48:45.412 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:48:45.413 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:48:45.415 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:48:45.415 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:48:45.416 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/refresh   Responded with [204] in 3ms
2025-08-13 21:48:45.417 +05:30 [DBG] Connection id "0HNEQGI5H8CK7" completed keep alive response.
2025-08-13 21:48:45.418 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - 204 null null 9.9348ms
2025-08-13 21:48:45.419 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 367
2025-08-13 21:48:45.429 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 21:48:45.430 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 21:48:45.431 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 21:48:45.432 +05:30 [DBG] Connection id "0HNEQGI5H8CK2", Request id "0HNEQGI5H8CK2:0000000C": started reading request body.
2025-08-13 21:48:45.433 +05:30 [DBG] Connection id "0HNEQGI5H8CK2", Request id "0HNEQGI5H8CK2:0000000C": done reading request body.
2025-08-13 21:48:45.434 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:48:45.435 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:48:45.436 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 21:48:45.436 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 21:48:45.444 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 21:48:45.447 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:48:45.449 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:48:45.450 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:48:45.456 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:48:45.457 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:48:45.459 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 21:48:45.467 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:48:45.471 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 21:48:45.472 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 21:48:45.473 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 21:48:45.474 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 21:48:45.478 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 21:48:45.478 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 21:48:45.479 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 21:48:45.480 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 21:48:45.483 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 21:48:45.591 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:48:45.595 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:48:45.595 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:48:45.596 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:48:45.597 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:48:45.598 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 21:48:45.602 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 143.3103ms
2025-08-13 21:48:45.604 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 21:48:45.613 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxMiIsInVuaXF1ZV9uYW1lIjoiTGF1a3NpZ2EiLCJlbWFpbCI6ImxhdWtzaWdhQGdtYWlsLmNvbSIsInJvbGUiOiJVc2VyIiwibmJmIjoxNzU1MTAxNzQ2LCJleHAiOjE3NTUxMDE4NjYsImlhdCI6MTc1NTEwMTc0NiwiaXNzIjoiVHJhdmVsUGxhbm5lckFQSSIsImF1ZCI6IlRyYXZlbFBsYW5uZXJDbGllbnQifQ.kEKiXGkdqawRhNIa_AAvYqXkt25AXmHP_5Nsq826Tms","refreshToken":""} Responded with [401] in 180ms
2025-08-13 21:48:45.615 +05:30 [DBG] Connection id "0HNEQGI5H8CK2" completed keep alive response.
2025-08-13 21:48:45.616 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:48:45.617 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 401 126 application/json 198.5001ms
2025-08-13 21:50:04.159 +05:30 [DBG] Connection id "0HNEQGI5H8CK3" received FIN.
2025-08-13 21:50:04.168 +05:30 [DBG] Connection id "0HNEQGI5H8CK3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 21:50:04.169 +05:30 [DBG] Connection id "0HNEQGI5H8CK3" disconnecting.
2025-08-13 21:50:04.186 +05:30 [DBG] Connection id "0HNEQGI5H8CK3" stopped.
2025-08-13 21:50:28.808 +05:30 [DBG] Connection id "0HNEQGI5H8CK5" received FIN.
2025-08-13 21:50:28.810 +05:30 [DBG] Connection id "0HNEQGI5H8CK4" received FIN.
2025-08-13 21:50:28.816 +05:30 [DBG] Connection id "0HNEQGI5H8CK6" received FIN.
2025-08-13 21:50:28.819 +05:30 [DBG] Connection id "0HNEQGI5H8CK5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 21:50:28.825 +05:30 [DBG] Connection id "0HNEQGI5H8CK4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 21:50:28.833 +05:30 [DBG] Connection id "0HNEQGI5H8CK5" disconnecting.
2025-08-13 21:50:28.839 +05:30 [DBG] Connection id "0HNEQGI5H8CK4" disconnecting.
2025-08-13 21:50:28.840 +05:30 [DBG] Connection id "0HNEQGI5H8CK5" stopped.
2025-08-13 21:50:28.833 +05:30 [DBG] Connection id "0HNEQGI5H8CK6" disconnecting.
2025-08-13 21:50:28.848 +05:30 [DBG] Connection id "0HNEQGI5H8CK4" stopped.
2025-08-13 21:50:28.850 +05:30 [DBG] Connection id "0HNEQGI5H8CK6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 21:50:28.856 +05:30 [DBG] Connection id "0HNEQGI5H8CK6" stopped.
2025-08-13 21:52:52.821 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-13 21:52:52.991 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-13 21:52:53.036 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-13 21:52:53.430 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 21:52:53.432 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 21:52:53.433 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 21:52:53.434 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 21:52:53.549 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 21:52:53.550 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 21:52:53.551 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 21:52:53.552 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 21:52:53.636 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:52:53.694 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-13 21:52:53.820 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 21:52:53.849 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:52:53.865 +05:30 [DBG] Created DbConnection. (15ms).
2025-08-13 21:52:53.869 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:52:54.186 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:52:54.189 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:52:54.194 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-13 21:52:54.201 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-08-13 21:52:54.206 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 21:52:54.258 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 21:52:54.289 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:52:54.304 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:52:54.313 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 48ms reading results.
2025-08-13 21:52:54.318 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:52:54.323 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (5ms).
2025-08-13 21:52:54.327 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-13 21:52:54.336 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 21:52:54.343 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:52:54.345 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:52:54.346 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:52:54.346 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:52:54.347 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:52:54.348 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 21:52:54.356 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 21:52:54.376 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:52:54.419 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:52:54.421 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 62ms reading results.
2025-08-13 21:52:54.424 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:52:54.427 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 21:52:54.432 +05:30 [INF] Admin user already exists.
2025-08-13 21:52:54.435 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:52:54.439 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:52:54.442 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 21:52:54.445 +05:30 [DBG] Hosting starting
2025-08-13 21:52:54.455 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-13 21:52:54.463 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-13 21:52:54.471 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-13 21:52:54.475 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 21:52:54.477 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-13 21:52:54.479 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 21:52:54.482 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-13 21:52:54.484 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-13 21:52:54.487 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-13 21:52:54.489 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-13 21:52:54.569 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-13 21:52:54.570 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-13 21:52:54.571 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-13 21:52:54.572 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-13 21:52:54.574 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-13 21:52:54.660 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-13 21:52:54.661 +05:30 [INF] Hosting environment: Development
2025-08-13 21:52:54.663 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-13 21:52:54.665 +05:30 [DBG] Hosting started
2025-08-13 21:52:54.709 +05:30 [DBG] Connection id "0HNEQGMK67EH0" accepted.
2025-08-13 21:52:54.711 +05:30 [DBG] Connection id "0HNEQGMK67EH0" started.
2025-08-13 21:52:54.716 +05:30 [DBG] Connection id "0HNEQGMK67EH1" accepted.
2025-08-13 21:52:54.717 +05:30 [DBG] Connection id "0HNEQGMK67EH1" started.
2025-08-13 21:52:54.750 +05:30 [DBG] Connection id "0HNEQGMK67EH1" received FIN.
2025-08-13 21:52:54.750 +05:30 [DBG] Connection id "0HNEQGMK67EH0" received FIN.
2025-08-13 21:52:54.756 +05:30 [DBG] Connection id "0HNEQGMK67EH1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 21:52:54.758 +05:30 [DBG] Connection id "0HNEQGMK67EH0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 21:52:54.765 +05:30 [DBG] Connection id "0HNEQGMK67EH1" disconnecting.
2025-08-13 21:52:54.765 +05:30 [DBG] Connection id "0HNEQGMK67EH0" disconnecting.
2025-08-13 21:52:54.778 +05:30 [DBG] Connection id "0HNEQGMK67EH1" stopped.
2025-08-13 21:52:54.778 +05:30 [DBG] Connection id "0HNEQGMK67EH0" stopped.
2025-08-13 21:52:56.429 +05:30 [DBG] Connection id "0HNEQGMK67EH2" accepted.
2025-08-13 21:52:56.431 +05:30 [DBG] Connection id "0HNEQGMK67EH2" started.
2025-08-13 21:52:56.431 +05:30 [DBG] Connection id "0HNEQGMK67EH3" accepted.
2025-08-13 21:52:56.433 +05:30 [DBG] Connection id "0HNEQGMK67EH3" started.
2025-08-13 21:52:56.449 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/index.html - null null
2025-08-13 21:52:56.546 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-13 21:52:56.560 +05:30 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-13 21:52:56.562 +05:30 [DBG] Request did not match any endpoints
2025-08-13 21:52:56.606 +05:30 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-13 21:52:56.608 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-13 21:52:56.619 +05:30 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-13 21:52:56.622 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-13 21:52:56.624 +05:30 [DBG] Connection id "0HNEQGMK67EH2" completed keep alive response.
2025-08-13 21:52:56.627 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/index.html - 200 null text/html;charset=utf-8 183.4207ms
2025-08-13 21:52:56.720 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_vs/browserLink - null null
2025-08-13 21:52:56.720 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - null null
2025-08-13 21:52:56.727 +05:30 [DBG] Connection id "0HNEQGMK67EH2" completed keep alive response.
2025-08-13 21:52:56.730 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - 200 13768 application/javascript; charset=utf-8 8.3389ms
2025-08-13 21:52:56.749 +05:30 [DBG] Connection id "0HNEQGMK67EH3" completed keep alive response.
2025-08-13 21:52:56.751 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.1578ms
2025-08-13 21:52:56.786 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - null null
2025-08-13 21:52:56.788 +05:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-13 21:52:56.789 +05:30 [DBG] Request did not match any endpoints
2025-08-13 21:52:56.808 +05:30 [DBG] Connection id "0HNEQGMK67EH3" completed keep alive response.
2025-08-13 21:52:56.809 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.9038ms
2025-08-13 21:53:04.780 +05:30 [DBG] Connection id "0HNEQGMK67EH4" accepted.
2025-08-13 21:53:04.781 +05:30 [DBG] Connection id "0HNEQGMK67EH4" started.
2025-08-13 21:53:04.783 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 21:53:04.789 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 21:53:04.791 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:53:04.809 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-13 21:53:04.811 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:53:04.813 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:53:04.815 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:53:04.824 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 15ms
2025-08-13 21:53:04.824 +05:30 [DBG] Connection id "0HNEQGMK67EH4" completed keep alive response.
2025-08-13 21:53:04.825 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 42.5649ms
2025-08-13 21:53:04.827 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 56
2025-08-13 21:53:04.833 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 21:53:04.836 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 21:53:04.839 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 21:53:04.845 +05:30 [DBG] Connection id "0HNEQGMK67EH3", Request id "0HNEQGMK67EH3:00000003": started reading request body.
2025-08-13 21:53:04.847 +05:30 [DBG] Connection id "0HNEQGMK67EH3", Request id "0HNEQGMK67EH3:00000003": done reading request body.
2025-08-13 21:53:04.851 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:53:04.852 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:53:04.902 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 21:53:04.905 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 21:53:04.929 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 21:53:04.933 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:53:04.934 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:53:04.935 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:53:04.938 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:53:04.939 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:53:04.942 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 21:53:04.985 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:53:04.989 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 21:53:04.994 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 21:53:04.997 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 21:53:04.999 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 21:53:05.017 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 21:53:05.018 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 21:53:05.019 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 21:53:05.020 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 21:53:05.027 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 21:53:05.036 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:53:05.037 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 21:53:05.038 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:05.039 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:05.040 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:53:05.041 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:53:05.041 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:53:05.042 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 21:53:05.049 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 21:53:05.056 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:53:05.057 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:05.059 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-08-13 21:53:05.061 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:05.062 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 21:53:05.137 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-08-13 21:53:05.146 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 21:53:05.156 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:05.159 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:05.160 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:53:05.161 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:53:05.162 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:53:05.164 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 21:53:05.173 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 21:53:05.176 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:05.179 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-13 21:53:05.180 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:05.181 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:53:05.196 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:53:05.202 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 21:53:05.206 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 21:53:05.218 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 21:53:05.288 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:05.290 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:05.294 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:53:05.295 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:53:05.298 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 21:53:05.300 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 21:53:05.313 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 21:53:05.324 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:05.325 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-08-13 21:53:05.327 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:05.328 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:53:05.333 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:53:05.336 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 21:53:05.369 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:05.371 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:05.372 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:53:05.372 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:53:05.374 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 21:53:05.375 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 21:53:05.378 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 21:53:05.382 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:05.383 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 21:53:05.384 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:05.385 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:53:05.386 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:53:05.388 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 21:53:05.389 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 21:53:05.389 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 21:53:05.390 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:05.391 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:05.392 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:53:05.393 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:53:05.394 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:53:05.396 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 21:53:05.400 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 21:53:05.404 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:05.404 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 21:53:05.406 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:05.406 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:53:05.408 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:53:05.411 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 21:53:05.419 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:53:05.424 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:53:05.424 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:53:05.425 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:53:05.426 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:53:05.428 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:53:05.446 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 502.8093ms
2025-08-13 21:53:05.448 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 21:53:05.596 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"lauksiga@gmail.com","password":"Password@123"} Responded with [200] in 754ms
2025-08-13 21:53:05.600 +05:30 [DBG] Connection id "0HNEQGMK67EH3" completed keep alive response.
2025-08-13 21:53:05.602 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:53:05.605 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:05.607 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 21:53:05.609 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 969 application/json 782.6834ms
2025-08-13 21:53:05.625 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:53:05.631 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:53:05.633 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:53:05.635 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:53:05.638 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:53:05.639 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:53:05.641 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 6ms
2025-08-13 21:53:05.642 +05:30 [DBG] Connection id "0HNEQGMK67EH4" completed keep alive response.
2025-08-13 21:53:05.643 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 18.7912ms
2025-08-13 21:53:05.644 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:53:05.649 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:53:05.650 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:53:05.654 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:53:05.655 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:53:05.657 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:53:05.657 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:53:05.689 +05:30 [DBG] Successfully validated the token.
2025-08-13 21:53:05.692 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 21:53:05.698 +05:30 [DBG] Authorization was successful.
2025-08-13 21:53:05.699 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:53:05.705 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 21:53:05.707 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:53:05.708 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:53:05.709 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:53:05.713 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:53:05.714 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:53:05.716 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:53:05.728 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:53:05.837 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:53:05.840 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:53:05.842 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 21:53:05.846 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 21:53:05.849 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 21:53:05.851 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 21:53:05.853 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 21:53:05.855 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:53:05.856 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:53:05.857 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:53:05.858 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:53:05.869 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .Count()'
2025-08-13 21:53:05.901 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 21:53:05.916 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:53:05.917 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 21:53:05.917 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:05.919 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:05.920 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:53:05.921 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:53:05.922 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:53:05.923 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:53:05.931 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:53:05.934 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:05.935 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 21:53:05.937 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:05.938 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:53:05.942 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .OrderBy(t => t.Title)
    .Skip(__p_1)
    .Take(__p_2)'
2025-08-13 21:53:05.951 +05:30 [DBG] Including navigation: 'TripModel.BudgetDetails'.
2025-08-13 21:53:05.953 +05:30 [DBG] Including navigation: 'TripModel.Reviews'.
2025-08-13 21:53:06.005 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
            1 -> Dictionary<IProperty, int> { [Property: BudgetDetailsModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: BudgetDetailsModel.Food (decimal) Required, 16], [Property: BudgetDetailsModel.Hotel (decimal) Required, 17], [Property: BudgetDetailsModel.TripId (int) Required FK Index, 18] }
            2 -> 0
            3 -> 15
            4 -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: ReviewModel.Rating (int) Required, 20], [Property: ReviewModel.ReviewText (string) Required, 21], [Property: ReviewModel.TripId (int) Required FK Index, 22], [Property: ReviewModel.UserId (int) Required FK Index, 23] }
            5 -> 19
        SELECT t1.Id, t1.BestTime, t1.Budget, t1.Description, t1.Destination, t1.Duration, t1.EndDate, t1.EssentialsJson, t1.Image, t1.Notes, t1.StartDate, t1.Title, t1.TouristSpotsJson, t1.TravelMode, t1.UserId, b.Id, b.Food, b.Hotel, b.TripId, r.Id, r.Rating, r.review, r.TripId, r.UserId
        FROM 
        (
            SELECT t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))
            ORDER BY t.Title ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS t1
        LEFT JOIN budgetdetails AS b ON t1.Id == b.TripId
        LEFT JOIN reviews AS r ON t1.Id == r.TripId
        ORDER BY t1.Title ASC, t1.Id ASC, b.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-13 21:53:06.011 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:06.012 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:06.012 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:53:06.013 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:53:06.014 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 21:53:06.015 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:53:06.028 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:53:06.042 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:53:06.065 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:53:06.068 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:53:06.074 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:53:06.075 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:53:06.077 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:53:06.078 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:53:06.079 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:53:06.080 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:53:06.082 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:06.083 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 51ms reading results.
2025-08-13 21:53:06.085 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:06.085 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:53:06.092 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:53:06.094 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:53:06.095 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:53:06.096 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:53:06.096 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:53:06.097 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:53:06.111 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 395.484ms
2025-08-13 21:53:06.112 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:53:06.116 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 459ms
2025-08-13 21:53:06.118 +05:30 [DBG] Connection id "0HNEQGMK67EH3" completed keep alive response.
2025-08-13 21:53:06.120 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:53:06.121 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:53:06.122 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 21:53:06.123 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 479.0641ms
2025-08-13 21:55:19.856 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:55:19.863 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:55:19.865 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:55:19.867 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:55:19.869 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:55:19.870 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:55:19.873 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 5ms
2025-08-13 21:55:19.879 +05:30 [DBG] Connection id "0HNEQGMK67EH4" completed keep alive response.
2025-08-13 21:55:19.888 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 35.77ms
2025-08-13 21:55:19.901 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:55:19.915 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:55:19.922 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:55:19.927 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:55:19.930 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:55:19.934 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:55:19.937 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:55:19.950 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 4:25:05 PM', Current time (UTC): '8/13/2025 4:25:19 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-13 21:55:19.967 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 4:25:05 PM', Current time (UTC): '8/13/2025 4:25:19 PM'.
2025-08-13 21:55:19.971 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 21:55:19.975 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 21:55:19.984 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 21:55:19.997 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 63ms
2025-08-13 21:55:19.999 +05:30 [DBG] Connection id "0HNEQGMK67EH3" completed keep alive response.
2025-08-13 21:55:20.000 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 111.134ms
2025-08-13 21:55:20.015 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - null null
2025-08-13 21:55:20.018 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 21:55:20.019 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:55:20.020 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:55:20.021 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:55:20.022 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:55:20.025 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/refresh   Responded with [204] in 4ms
2025-08-13 21:55:20.026 +05:30 [DBG] Connection id "0HNEQGMK67EH4" completed keep alive response.
2025-08-13 21:55:20.029 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - 204 null null 13.135ms
2025-08-13 21:55:20.029 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 367
2025-08-13 21:55:20.059 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 21:55:20.061 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 21:55:20.063 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 21:55:20.064 +05:30 [DBG] Connection id "0HNEQGMK67EH3", Request id "0HNEQGMK67EH3:00000006": started reading request body.
2025-08-13 21:55:20.066 +05:30 [DBG] Connection id "0HNEQGMK67EH3", Request id "0HNEQGMK67EH3:00000006": done reading request body.
2025-08-13 21:55:20.067 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:55:20.068 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:55:20.071 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 21:55:20.072 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 21:55:20.079 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 21:55:20.082 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:55:20.084 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:55:20.087 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:55:20.089 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:55:20.093 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:55:20.097 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 21:55:20.110 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:55:20.112 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 21:55:20.114 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 21:55:20.115 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 21:55:20.116 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 21:55:20.119 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 21:55:20.119 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 21:55:20.120 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 21:55:20.121 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 21:55:20.124 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 21:55:20.148 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.RefreshToken == __refreshToken_0)'
2025-08-13 21:55:20.157 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.RefreshToken == @__refreshToken_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 21:55:20.161 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:55:20.161 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 21:55:20.162 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:55:20.164 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:55:20.166 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:55:20.168 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:55:20.169 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 21:55:20.170 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[RefreshToken] = @__refreshToken_0
2025-08-13 21:55:20.178 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[RefreshToken] = @__refreshToken_0
2025-08-13 21:55:20.183 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:55:20.185 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:55:20.186 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-13 21:55:20.188 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:55:20.191 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 21:55:20.193 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:55:20.194 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:55:20.195 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:55:20.196 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:55:20.197 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:55:20.198 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 21:55:20.203 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 21:55:20.208 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:55:20.209 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 21:55:20.210 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:55:20.211 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:55:20.212 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:55:20.213 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 21:55:20.214 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 21:55:20.215 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 21:55:20.217 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:55:20.218 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:55:20.219 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:55:20.220 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:55:20.221 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:55:20.223 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 21:55:20.234 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 21:55:20.237 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:55:20.238 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 21:55:20.239 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:55:20.240 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:55:20.242 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:55:20.243 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 21:55:20.250 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:55:20.252 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:55:20.253 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:55:20.253 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:55:20.254 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:55:20.255 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:55:20.257 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 159.9762ms
2025-08-13 21:55:20.258 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 21:55:20.260 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxMiIsInVuaXF1ZV9uYW1lIjoiTGF1a3NpZ2EiLCJlbWFpbCI6ImxhdWtzaWdhQGdtYWlsLmNvbSIsInJvbGUiOiJVc2VyIiwibmJmIjoxNzU1MTAyMTg1LCJleHAiOjE3NTUxMDIzMDUsImlhdCI6MTc1NTEwMjE4NSwiaXNzIjoiVHJhdmVsUGxhbm5lckFQSSIsImF1ZCI6IlRyYXZlbFBsYW5uZXJDbGllbnQifQ.quvcyUpoMM7b6wnMkXBk1FGWa-wFkbD0GRfbjs9ZkOM","refreshToken":""} Responded with [200] in 195ms
2025-08-13 21:55:20.262 +05:30 [DBG] Connection id "0HNEQGMK67EH3" completed keep alive response.
2025-08-13 21:55:20.263 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:55:20.265 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:55:20.266 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-13 21:55:20.267 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 200 971 application/json 238.1506ms
2025-08-13 21:55:20.270 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:55:20.272 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:55:20.273 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:55:20.275 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:55:20.276 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:55:20.277 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:55:20.278 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:55:20.280 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-13 21:55:20.284 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-13 21:55:20.286 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 21:55:20.287 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 21:55:20.290 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 21:55:20.291 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 14ms
2025-08-13 21:55:20.293 +05:30 [DBG] Connection id "0HNEQGMK67EH3" completed keep alive response.
2025-08-13 21:55:20.294 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 23.4385ms
2025-08-13 21:56:27.532 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 21:56:27.543 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 21:56:27.545 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:56:27.546 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:56:27.547 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:56:27.548 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:56:27.549 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 2ms
2025-08-13 21:56:27.549 +05:30 [DBG] Connection id "0HNEQGMK67EH4" completed keep alive response.
2025-08-13 21:56:27.551 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 56
2025-08-13 21:56:27.579 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 46.1867ms
2025-08-13 21:56:27.581 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 21:56:27.586 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 21:56:27.589 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 21:56:27.590 +05:30 [DBG] Connection id "0HNEQGMK67EH3", Request id "0HNEQGMK67EH3:00000008": started reading request body.
2025-08-13 21:56:27.592 +05:30 [DBG] Connection id "0HNEQGMK67EH3", Request id "0HNEQGMK67EH3:00000008": done reading request body.
2025-08-13 21:56:27.594 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:56:27.595 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:56:27.596 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 21:56:27.597 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 21:56:27.600 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 21:56:27.603 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:56:27.604 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:56:27.605 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:56:27.608 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:56:27.609 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:56:27.611 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 21:56:27.618 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:56:27.621 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 21:56:27.622 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 21:56:27.624 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 21:56:27.625 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 21:56:27.627 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 21:56:27.628 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 21:56:27.629 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 21:56:27.630 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 21:56:27.631 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 21:56:27.633 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:56:27.634 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 21:56:27.634 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.635 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.636 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:56:27.637 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:56:27.638 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:56:27.639 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 21:56:27.645 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 21:56:27.647 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:27.648 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.649 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 21:56:27.650 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.651 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:56:27.727 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.729 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.729 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:56:27.730 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:56:27.731 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:56:27.732 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 21:56:27.749 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 21:56:27.754 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.754 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 21:56:27.755 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.756 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:56:27.757 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:27.759 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 21:56:27.760 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 21:56:27.761 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 21:56:27.762 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.762 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.763 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:56:27.764 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:56:27.765 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:56:27.765 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 21:56:27.776 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 21:56:27.780 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.780 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 21:56:27.781 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.782 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:56:27.783 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:27.784 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 21:56:27.785 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.786 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.787 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:56:27.787 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:56:27.788 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:56:27.790 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 21:56:27.795 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 21:56:27.798 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.798 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 21:56:27.799 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.800 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:56:27.801 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:27.802 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 21:56:27.803 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 21:56:27.804 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 21:56:27.806 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.807 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.808 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:56:27.809 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:56:27.809 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:56:27.810 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 21:56:27.820 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 21:56:27.824 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.825 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 21:56:27.826 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.827 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:56:27.828 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:27.829 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 21:56:27.831 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:56:27.832 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:56:27.833 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:56:27.834 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:56:27.835 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:56:27.836 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:56:27.839 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 227.3497ms
2025-08-13 21:56:27.839 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 21:56:27.841 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"lauksiga@gmail.com","password":"Password@123"} Responded with [200] in 250ms
2025-08-13 21:56:27.842 +05:30 [DBG] Connection id "0HNEQGMK67EH3" completed keep alive response.
2025-08-13 21:56:27.844 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:56:27.846 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.848 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:56:27.848 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 21:56:27.852 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:56:27.855 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 972 application/json 304.2935ms
2025-08-13 21:56:27.857 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:56:27.864 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:56:27.865 +05:30 [DBG] Connection id "0HNEQGMK67EH5" accepted.
2025-08-13 21:56:27.866 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:56:27.869 +05:30 [DBG] Connection id "0HNEQGMK67EH5" started.
2025-08-13 21:56:27.871 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:56:27.874 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:56:27.876 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 12ms
2025-08-13 21:56:27.884 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:56:27.886 +05:30 [DBG] Connection id "0HNEQGMK67EH4" completed keep alive response.
2025-08-13 21:56:27.887 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:56:27.889 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 40.5412ms
2025-08-13 21:56:27.889 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:56:27.905 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:56:27.897 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:56:27.906 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:56:27.907 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:56:27.911 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:56:27.913 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:56:27.916 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:56:27.917 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 19ms
2025-08-13 21:56:27.918 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:56:27.920 +05:30 [DBG] Connection id "0HNEQGMK67EH5" completed keep alive response.
2025-08-13 21:56:27.922 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:56:27.923 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 48.8556ms
2025-08-13 21:56:27.924 +05:30 [DBG] Successfully validated the token.
2025-08-13 21:56:27.927 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 21:56:27.929 +05:30 [DBG] Authorization was successful.
2025-08-13 21:56:27.929 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:56:27.930 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 21:56:27.933 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:56:27.935 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:56:27.936 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:56:27.938 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:56:27.939 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:56:27.942 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:56:27.944 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:56:27.946 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:56:27.948 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:56:27.950 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 21:56:27.951 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 21:56:27.953 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 21:56:27.954 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 21:56:27.956 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 21:56:27.958 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:56:27.958 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:56:27.959 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:56:27.961 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:56:27.964 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:56:27.964 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 21:56:27.966 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.968 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.969 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:56:27.971 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:56:27.972 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 21:56:27.973 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:56:27.982 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:56:27.985 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.986 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 21:56:27.987 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.988 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:56:27.991 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.993 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:27.994 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:56:27.995 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:56:27.996 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 21:56:27.998 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:56:28.013 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:56:28.016 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:28.018 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:28.019 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:28.020 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:28.021 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:28.023 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:28.024 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:28.025 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:28.026 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:28.027 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:28.028 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 11ms reading results.
2025-08-13 21:56:28.029 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:28.029 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:56:28.031 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:56:28.033 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:56:28.033 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:56:28.034 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:56:28.035 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:56:28.035 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:56:28.037 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 94.3349ms
2025-08-13 21:56:28.037 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:56:28.039 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 120ms
2025-08-13 21:56:28.040 +05:30 [DBG] Connection id "0HNEQGMK67EH3" completed keep alive response.
2025-08-13 21:56:28.041 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:56:28.043 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:28.044 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 21:56:28.046 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 157.4147ms
2025-08-13 21:56:28.048 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:56:28.049 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:56:28.050 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:56:28.051 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:56:28.053 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:56:28.054 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:56:28.055 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:56:28.057 +05:30 [DBG] Successfully validated the token.
2025-08-13 21:56:28.059 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 21:56:28.060 +05:30 [DBG] Authorization was successful.
2025-08-13 21:56:28.061 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:56:28.062 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 21:56:28.063 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:56:28.064 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:56:28.065 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:56:28.070 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:56:28.071 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:56:28.073 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:56:28.078 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:56:28.083 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:56:28.084 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:56:28.086 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 21:56:28.089 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 21:56:28.092 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 21:56:28.096 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 21:56:28.099 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 21:56:28.100 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:56:28.102 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:56:28.103 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:56:28.104 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:56:28.106 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:56:28.106 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 21:56:28.107 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:28.108 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:28.109 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:56:28.110 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:56:28.111 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:56:28.112 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:56:28.122 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:56:28.125 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:28.126 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 21:56:28.127 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:28.128 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:56:28.129 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:28.130 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:28.133 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:56:28.134 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:56:28.135 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 21:56:28.136 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:56:28.150 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:56:28.154 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:28.155 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:28.156 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:28.158 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:28.159 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:28.160 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:28.161 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:28.162 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:28.164 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:28.166 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:28.167 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 13ms reading results.
2025-08-13 21:56:28.168 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:28.169 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:56:28.171 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:56:28.175 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:56:28.175 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:56:28.176 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:56:28.177 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:56:28.178 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:56:28.181 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 108.5996ms
2025-08-13 21:56:28.182 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:56:28.184 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 130ms
2025-08-13 21:56:28.186 +05:30 [DBG] Connection id "0HNEQGMK67EH3" completed keep alive response.
2025-08-13 21:56:28.188 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:56:28.189 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:28.191 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 21:56:28.192 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 144.0567ms
2025-08-13 21:56:36.366 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/21 - null null
2025-08-13 21:56:36.390 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/21'
2025-08-13 21:56:36.392 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:56:36.393 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:56:36.394 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:56:36.395 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:56:36.396 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/21   Responded with [204] in 2ms
2025-08-13 21:56:36.398 +05:30 [DBG] Connection id "0HNEQGMK67EH5" completed keep alive response.
2025-08-13 21:56:36.400 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/21 - 204 null null 33.9911ms
2025-08-13 21:56:36.401 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/21 - null null
2025-08-13 21:56:36.405 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/21'
2025-08-13 21:56:36.406 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/21'
2025-08-13 21:56:36.407 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 21:56:36.408 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:56:36.409 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:56:36.410 +05:30 [DBG] Successfully validated the token.
2025-08-13 21:56:36.411 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 21:56:36.412 +05:30 [DBG] Authorization was successful.
2025-08-13 21:56:36.412 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 21:56:36.416 +05:30 [INF] Route matched with {action = "GetTrip", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TravelPlannerAPI.Dtos.TripDto]] GetTrip(Int32) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 21:56:36.418 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:56:36.418 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:56:36.419 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:56:36.422 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:56:36.423 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:56:36.425 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:56:36.426 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:56:36.427 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:56:36.428 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-13 21:56:36.429 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-13 21:56:36.430 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-13 21:56:36.431 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-13 21:56:36.431 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-13 21:56:36.433 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-13 21:56:36.437 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Include(t => t.SharedUsers)
    .FirstOrDefault(t => t.Id == __id_0)'
2025-08-13 21:56:36.439 +05:30 [DBG] Including navigation: 'TripModel.BudgetDetails'.
2025-08-13 21:56:36.440 +05:30 [DBG] Including navigation: 'TripModel.Reviews'.
2025-08-13 21:56:36.440 +05:30 [DBG] Including navigation: 'TripModel.SharedUsers'.
2025-08-13 21:56:36.450 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-13 21:56:36.455 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<TripModel>(
    asyncEnumerable: new SingleQueryingEnumerable<TripModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
                1 -> Dictionary<IProperty, int> { [Property: BudgetDetailsModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: BudgetDetailsModel.Food (decimal) Required, 16], [Property: BudgetDetailsModel.Hotel (decimal) Required, 17], [Property: BudgetDetailsModel.TripId (int) Required FK Index, 18] }
                2 -> 0
                3 -> 15
                4 -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: ReviewModel.Rating (int) Required, 20], [Property: ReviewModel.ReviewText (string) Required, 21], [Property: ReviewModel.TripId (int) Required FK Index, 22], [Property: ReviewModel.UserId (int) Required FK Index, 23] }
                5 -> 19
                6 -> Dictionary<IProperty, int> { [Property: TripShareModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 24], [Property: TripShareModel.AccessLevel (AccessLevel) Required, 25], [Property: TripShareModel.OwnerId (int) Required FK Index, 26], [Property: TripShareModel.SharedWithUserId (int) Required FK Index, 27], [Property: TripShareModel.TripId (int) Required FK Index, 28] }
                7 -> 24
            SELECT t0.Id, t0.BestTime, t0.Budget, t0.Description, t0.Destination, t0.Duration, t0.EndDate, t0.EssentialsJson, t0.Image, t0.Notes, t0.StartDate, t0.Title, t0.TouristSpotsJson, t0.TravelMode, t0.UserId, t0.Id0, t0.Food, t0.Hotel, t0.TripId, r.Id, r.Rating, r.review, r.TripId, r.UserId, t1.Id, t1.AccessLevel, t1.OwnerId, t1.SharedWithUserId, t1.TripId
            FROM 
            (
                SELECT TOP(1) t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId, b.Id AS Id0, b.Food, b.Hotel, b.TripId
                FROM Trips AS t
                LEFT JOIN budgetdetails AS b ON t.Id == b.TripId
                WHERE t.Id == @__id_0
            ) AS t0
            LEFT JOIN reviews AS r ON t0.Id == r.TripId
            LEFT JOIN TripShares AS t1 ON t0.Id == t1.TripId
            ORDER BY t0.Id ASC, t0.Id0 ASC, r.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 21:56:36.459 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:56:36.460 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 21:56:36.460 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:36.461 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:36.463 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:56:36.463 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:56:36.464 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:56:36.465 +05:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-13 21:56:36.479 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-13 21:56:36.482 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:36.483 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:36.484 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:36.485 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:36.485 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-13 21:56:36.487 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:36.487 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:56:36.501 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:56:36.505 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:56:36.506 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:56:36.507 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:56:36.508 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:56:36.511 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Dtos.TripDto'.
2025-08-13 21:56:36.512 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI) in 87.4598ms
2025-08-13 21:56:36.513 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 21:56:36.514 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/21   Responded with [200] in 105ms
2025-08-13 21:56:36.515 +05:30 [DBG] Connection id "0HNEQGMK67EH3" completed keep alive response.
2025-08-13 21:56:36.516 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:56:36.517 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:36.518 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 21:56:36.519 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/21 - 200 810 application/json 118.2712ms
2025-08-13 21:56:37.986 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:56:37.990 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:56:37.991 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:56:37.993 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:56:37.994 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:56:37.996 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:56:37.998 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 5ms
2025-08-13 21:56:38.000 +05:30 [DBG] Connection id "0HNEQGMK67EH5" completed keep alive response.
2025-08-13 21:56:38.002 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 16.0322ms
2025-08-13 21:56:38.003 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:56:38.008 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:56:38.010 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:56:38.013 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:56:38.014 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:56:38.015 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:56:38.016 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:56:38.017 +05:30 [DBG] Successfully validated the token.
2025-08-13 21:56:38.018 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 21:56:38.020 +05:30 [DBG] Authorization was successful.
2025-08-13 21:56:38.020 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:56:38.021 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 21:56:38.023 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:56:38.024 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:56:38.025 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:56:38.028 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:56:38.029 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:56:38.031 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:56:38.033 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:56:38.035 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:56:38.036 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:56:38.037 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 21:56:38.038 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 21:56:38.040 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 21:56:38.041 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 21:56:38.044 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 21:56:38.046 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:56:38.047 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:56:38.048 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:56:38.049 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:56:38.051 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:56:38.052 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 21:56:38.053 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:38.054 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:38.055 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:56:38.055 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:56:38.056 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:56:38.057 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:56:38.075 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:56:38.078 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:38.078 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 21:56:38.080 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:38.080 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:56:38.082 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:38.085 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:38.086 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:56:38.087 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:56:38.088 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:56:38.089 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:56:38.107 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:56:38.111 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:38.112 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:38.113 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:38.114 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:38.117 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:38.118 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:38.119 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:38.120 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:38.121 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:56:38.123 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:38.123 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 12ms reading results.
2025-08-13 21:56:38.125 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:38.126 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:56:38.127 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:56:38.129 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:56:38.129 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:56:38.130 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:56:38.131 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:56:38.133 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:56:38.135 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 104.0678ms
2025-08-13 21:56:38.135 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:56:38.137 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 122ms
2025-08-13 21:56:38.138 +05:30 [DBG] Connection id "0HNEQGMK67EH3" completed keep alive response.
2025-08-13 21:56:38.139 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:56:38.141 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:56:38.142 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 21:56:38.143 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 140.1307ms
2025-08-13 21:57:30.443 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:57:30.453 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:57:30.454 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:57:30.455 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:57:30.457 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:57:30.458 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:57:30.459 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 3ms
2025-08-13 21:57:30.461 +05:30 [DBG] Connection id "0HNEQGMK67EH5" completed keep alive response.
2025-08-13 21:57:30.463 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 19.2287ms
2025-08-13 21:57:30.470 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:57:30.489 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:57:30.491 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:57:30.495 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:57:30.499 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:57:30.501 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:57:30.502 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:57:30.506 +05:30 [DBG] Successfully validated the token.
2025-08-13 21:57:30.509 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 21:57:30.513 +05:30 [DBG] Authorization was successful.
2025-08-13 21:57:30.516 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:57:30.519 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 21:57:30.526 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:57:30.532 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:57:30.535 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:57:30.538 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:57:30.541 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:57:30.543 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:57:30.550 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:57:30.554 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 21:57:30.557 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:57:30.559 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 21:57:30.568 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 21:57:30.579 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 21:57:30.585 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 21:57:30.594 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 21:57:30.599 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:57:30.601 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:57:30.603 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 21:57:30.606 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 21:57:30.610 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:57:30.611 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 21:57:30.612 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:57:30.614 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:57:30.615 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:57:30.617 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:57:30.618 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 21:57:30.620 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:57:30.631 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 21:57:30.635 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:57:30.636 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 21:57:30.638 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:57:30.640 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 21:57:30.642 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:57:30.644 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:57:30.645 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:57:30.646 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 21:57:30.647 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 21:57:30.650 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:57:30.667 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 21:57:30.671 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:57:30.672 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:57:30.674 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:57:30.676 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:57:30.678 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:57:30.682 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:57:30.683 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:57:30.685 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:57:30.687 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:57:30.689 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:57:30.689 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 19ms reading results.
2025-08-13 21:57:30.691 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:57:30.691 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:57:30.694 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:57:30.698 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:57:30.699 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:57:30.701 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:57:30.703 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:57:30.704 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:57:30.706 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 163.3299ms
2025-08-13 21:57:30.708 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:57:30.710 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 208ms
2025-08-13 21:57:30.711 +05:30 [DBG] Connection id "0HNEQGMK67EH3" completed keep alive response.
2025-08-13 21:57:30.714 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:57:30.716 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:57:30.718 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 21:57:30.719 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 249.1194ms
2025-08-13 21:57:57.109 +05:30 [DBG] Connection id "0HNEQGMK67EH2" received FIN.
2025-08-13 21:57:57.111 +05:30 [DBG] Connection id "0HNEQGMK67EH2" disconnecting.
2025-08-13 21:57:57.115 +05:30 [DBG] Connection id "0HNEQGMK67EH2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 21:57:57.122 +05:30 [DBG] Connection id "0HNEQGMK67EH2" stopped.
2025-08-13 21:58:56.473 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:58:56.481 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:58:56.483 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:58:56.484 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:58:56.485 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:58:56.490 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:58:56.491 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 6ms
2025-08-13 21:58:56.492 +05:30 [DBG] Connection id "0HNEQGMK67EH5" completed keep alive response.
2025-08-13 21:58:56.493 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 19.4325ms
2025-08-13 21:58:56.494 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:58:56.506 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:58:56.508 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:58:56.511 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:58:56.514 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:58:56.515 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:58:56.518 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:58:56.521 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 4:28:27 PM', Current time (UTC): '8/13/2025 4:28:56 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-13 21:58:56.527 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 4:28:27 PM', Current time (UTC): '8/13/2025 4:28:56 PM'.
2025-08-13 21:58:56.529 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 21:58:56.531 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 21:58:56.533 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 21:58:56.536 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 20ms
2025-08-13 21:58:56.539 +05:30 [DBG] Connection id "0HNEQGMK67EH3" completed keep alive response.
2025-08-13 21:58:56.541 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 47.0454ms
2025-08-13 21:58:56.548 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - null null
2025-08-13 21:58:56.554 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 21:58:56.555 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 21:58:56.557 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:58:56.559 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:58:56.560 +05:30 [DBG] The request is a preflight request.
2025-08-13 21:58:56.563 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/refresh   Responded with [204] in 5ms
2025-08-13 21:58:56.564 +05:30 [DBG] Connection id "0HNEQGMK67EH5" completed keep alive response.
2025-08-13 21:58:56.565 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 367
2025-08-13 21:58:56.566 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - 204 null null 18.4088ms
2025-08-13 21:58:56.570 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 21:58:56.576 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 21:58:56.580 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 21:58:56.582 +05:30 [DBG] Connection id "0HNEQGMK67EH3", Request id "0HNEQGMK67EH3:0000000F": started reading request body.
2025-08-13 21:58:56.584 +05:30 [DBG] Connection id "0HNEQGMK67EH3", Request id "0HNEQGMK67EH3:0000000F": done reading request body.
2025-08-13 21:58:56.586 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:58:56.588 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:58:56.589 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 21:58:56.590 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 21:58:56.593 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 21:58:56.595 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 21:58:56.597 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 21:58:56.599 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:58:56.603 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 21:58:56.604 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 21:58:56.606 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 21:58:56.609 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 21:58:56.611 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 21:58:56.612 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 21:58:56.613 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 21:58:56.615 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 21:58:56.617 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 21:58:56.618 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 21:58:56.619 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 21:58:56.621 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 21:58:56.623 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 21:58:56.626 +05:30 [DBG] Creating DbConnection.
2025-08-13 21:58:56.626 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 21:58:56.627 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:58:56.628 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:58:56.630 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:58:56.631 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:58:56.632 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 21:58:56.633 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[RefreshToken] = @__refreshToken_0
2025-08-13 21:58:56.643 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[RefreshToken] = @__refreshToken_0
2025-08-13 21:58:56.647 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:58:56.649 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:58:56.651 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-13 21:58:56.653 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:58:56.655 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 21:58:56.658 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:58:56.660 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:58:56.661 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:58:56.662 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:58:56.664 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 21:58:56.666 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 21:58:56.676 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 21:58:56.680 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:58:56.681 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 21:58:56.683 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:58:56.684 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 21:58:56.687 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:58:56.689 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 21:58:56.690 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 21:58:56.691 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 21:58:56.693 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:58:56.707 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:58:56.709 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 21:58:56.710 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 21:58:56.715 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-13 21:58:56.716 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 21:58:56.730 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 21:58:56.735 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:58:56.738 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 21:58:56.739 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:58:56.740 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 21:58:56.741 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 21:58:56.743 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 21:58:56.744 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 21:58:56.746 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 21:58:56.746 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 21:58:56.748 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 21:58:56.749 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 21:58:56.750 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 21:58:56.751 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 145.5838ms
2025-08-13 21:58:56.754 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 21:58:56.755 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxMiIsInVuaXF1ZV9uYW1lIjoiTGF1a3NpZ2EiLCJlbWFpbCI6ImxhdWtzaWdhQGdtYWlsLmNvbSIsInJvbGUiOiJVc2VyIiwibmJmIjoxNzU1MTAyMzg3LCJleHAiOjE3NTUxMDI1MDcsImlhdCI6MTc1NTEwMjM4NywiaXNzIjoiVHJhdmVsUGxhbm5lckFQSSIsImF1ZCI6IlRyYXZlbFBsYW5uZXJDbGllbnQifQ.gLAPgubVWxBpQGBnm6mcEqWvq_NwjxE5A0t8QEnpu7k","refreshToken":""} Responded with [200] in 173ms
2025-08-13 21:58:56.756 +05:30 [DBG] Connection id "0HNEQGMK67EH3" completed keep alive response.
2025-08-13 21:58:56.758 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 21:58:56.758 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 21:58:56.759 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 21:58:56.761 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 200 972 application/json 195.7153ms
2025-08-13 21:58:56.766 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 21:58:56.769 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 21:58:56.772 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:58:56.774 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 21:58:56.775 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 21:58:56.776 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 21:58:56.777 +05:30 [INF] CORS policy execution successful.
2025-08-13 21:58:56.778 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-13 21:58:56.781 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-13 21:58:56.783 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 21:58:56.784 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 21:58:56.785 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 21:58:56.786 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 9ms
2025-08-13 21:58:56.789 +05:30 [DBG] Connection id "0HNEQGMK67EH3" completed keep alive response.
2025-08-13 21:58:56.792 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 25.6095ms
2025-08-13 22:01:51.409 +05:30 [DBG] Connection id "0HNEQGMK67EH4" received FIN.
2025-08-13 22:01:51.417 +05:30 [DBG] Connection id "0HNEQGMK67EH4" disconnecting.
2025-08-13 22:01:51.425 +05:30 [DBG] Connection id "0HNEQGMK67EH4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 22:01:51.436 +05:30 [DBG] Connection id "0HNEQGMK67EH4" stopped.
2025-08-13 22:04:07.361 +05:30 [DBG] Connection id "0HNEQGMK67EH3" received FIN.
2025-08-13 22:04:07.362 +05:30 [DBG] Connection id "0HNEQGMK67EH5" received FIN.
2025-08-13 22:04:07.364 +05:30 [DBG] Connection id "0HNEQGMK67EH3" disconnecting.
2025-08-13 22:04:07.369 +05:30 [DBG] Connection id "0HNEQGMK67EH5" disconnecting.
2025-08-13 22:04:07.371 +05:30 [DBG] Connection id "0HNEQGMK67EH3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 22:04:07.373 +05:30 [DBG] Connection id "0HNEQGMK67EH5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 22:04:07.382 +05:30 [DBG] Connection id "0HNEQGMK67EH5" stopped.
2025-08-13 22:04:07.382 +05:30 [DBG] Connection id "0HNEQGMK67EH3" stopped.
2025-08-13 22:07:48.582 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-13 22:07:48.709 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-13 22:07:48.760 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-13 22:07:49.097 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 22:07:49.101 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 22:07:49.102 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 22:07:49.103 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 22:07:49.213 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 22:07:49.215 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 22:07:49.216 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 22:07:49.218 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 22:07:49.313 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:07:49.373 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-13 22:07:49.500 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 22:07:49.532 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:07:49.549 +05:30 [DBG] Created DbConnection. (15ms).
2025-08-13 22:07:49.553 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:07:49.839 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:07:49.843 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:07:49.848 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-13 22:07:49.854 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-08-13 22:07:49.861 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 22:07:49.912 +05:30 [INF] Executed DbCommand (52ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 22:07:49.945 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:07:49.961 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:07:49.969 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 49ms reading results.
2025-08-13 22:07:49.975 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:07:49.980 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (4ms).
2025-08-13 22:07:49.987 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-13 22:07:49.998 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 22:07:50.001 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:07:50.003 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:07:50.004 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:07:50.004 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:07:50.005 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:07:50.006 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 22:07:50.013 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 22:07:50.034 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:07:50.069 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:07:50.070 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 54ms reading results.
2025-08-13 22:07:50.071 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:07:50.072 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:07:50.075 +05:30 [INF] Admin user already exists.
2025-08-13 22:07:50.077 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:07:50.079 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:07:50.081 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 22:07:50.083 +05:30 [DBG] Hosting starting
2025-08-13 22:07:50.092 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-13 22:07:50.100 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-13 22:07:50.107 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-13 22:07:50.112 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 22:07:50.113 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-13 22:07:50.115 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 22:07:50.117 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-13 22:07:50.119 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-13 22:07:50.120 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-13 22:07:50.122 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-13 22:07:50.215 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-13 22:07:50.216 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-13 22:07:50.217 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-13 22:07:50.218 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-13 22:07:50.219 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-13 22:07:50.319 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-13 22:07:50.320 +05:30 [INF] Hosting environment: Development
2025-08-13 22:07:50.321 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-13 22:07:50.327 +05:30 [DBG] Hosting started
2025-08-13 22:07:50.410 +05:30 [DBG] Connection id "0HNEQGUV49JAQ" accepted.
2025-08-13 22:07:50.413 +05:30 [DBG] Connection id "0HNEQGUV49JAQ" started.
2025-08-13 22:07:50.434 +05:30 [DBG] Connection id "0HNEQGUV49JAQ" received FIN.
2025-08-13 22:07:50.442 +05:30 [DBG] Connection id "0HNEQGUV49JAQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 22:07:50.458 +05:30 [DBG] Connection id "0HNEQGUV49JAQ" disconnecting.
2025-08-13 22:07:50.468 +05:30 [DBG] Connection id "0HNEQGUV49JAQ" stopped.
2025-08-13 22:08:11.998 +05:30 [DBG] Connection id "0HNEQGUV49JAR" accepted.
2025-08-13 22:08:12.000 +05:30 [DBG] Connection id "0HNEQGUV49JAR" started.
2025-08-13 22:08:12.023 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 22:08:12.031 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-13 22:08:12.058 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 22:08:12.066 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:08:12.092 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-13 22:08:12.094 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:08:12.095 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:08:12.097 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:08:12.111 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 18ms
2025-08-13 22:08:12.116 +05:30 [DBG] Connection id "0HNEQGUV49JAR" completed keep alive response.
2025-08-13 22:08:12.119 +05:30 [DBG] Connection id "0HNEQGUV49JAS" accepted.
2025-08-13 22:08:12.121 +05:30 [DBG] Connection id "0HNEQGUV49JAS" started.
2025-08-13 22:08:12.126 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 102.8261ms
2025-08-13 22:08:12.129 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 56
2025-08-13 22:08:12.136 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 22:08:12.139 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 22:08:12.143 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 22:08:12.149 +05:30 [DBG] Connection id "0HNEQGUV49JAS", Request id "0HNEQGUV49JAS:00000001": started reading request body.
2025-08-13 22:08:12.150 +05:30 [DBG] Connection id "0HNEQGUV49JAS", Request id "0HNEQGUV49JAS:00000001": done reading request body.
2025-08-13 22:08:12.153 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:08:12.155 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:08:12.207 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 22:08:12.211 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 22:08:12.230 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 22:08:12.235 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:08:12.236 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:08:12.238 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:08:12.239 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:08:12.240 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:08:12.243 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:08:12.285 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:08:12.290 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:08:12.297 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 22:08:12.301 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 22:08:12.304 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 22:08:12.327 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 22:08:12.330 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 22:08:12.332 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 22:08:12.333 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 22:08:12.342 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 22:08:12.351 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:08:12.353 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 22:08:12.353 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:12.355 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:12.355 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:08:12.356 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:08:12.357 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:08:12.358 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 22:08:12.370 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 22:08:12.374 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:08:12.377 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:12.378 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 5ms reading results.
2025-08-13 22:08:12.380 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:12.381 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:08:12.450 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-08-13 22:08:12.461 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 22:08:12.466 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:12.467 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:12.468 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:08:12.469 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:08:12.470 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:08:12.471 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:08:12.477 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:08:12.481 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:12.482 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 22:08:12.483 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:12.484 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:08:12.500 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:08:12.503 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 22:08:12.506 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 22:08:12.518 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 22:08:12.586 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:12.587 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:12.590 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:08:12.591 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:08:12.593 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:08:12.594 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:08:12.605 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:08:12.613 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:12.614 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-08-13 22:08:12.616 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:12.617 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:08:12.622 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:08:12.624 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 22:08:12.658 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:12.660 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:12.661 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:08:12.662 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:08:12.663 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:08:12.664 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:08:12.668 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:08:12.671 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:12.672 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 22:08:12.673 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:12.674 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:08:12.676 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:08:12.677 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 22:08:12.678 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 22:08:12.679 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 22:08:12.681 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:12.683 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:12.684 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:08:12.685 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:08:12.686 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:08:12.687 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:08:12.691 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:08:12.694 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:12.695 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 22:08:12.696 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:12.699 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 22:08:12.700 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:08:12.702 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 22:08:12.716 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:08:12.721 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:08:12.722 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:08:12.723 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:08:12.725 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:08:12.726 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:08:12.753 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 508.4283ms
2025-08-13 22:08:12.754 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 22:08:12.946 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"lauksiga@gmail.com","password":"Password@123"} Responded with [200] in 800ms
2025-08-13 22:08:12.952 +05:30 [DBG] Connection id "0HNEQGUV49JAS" completed keep alive response.
2025-08-13 22:08:12.958 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:08:12.968 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:12.973 +05:30 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-13 22:08:12.978 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 962 application/json 849.753ms
2025-08-13 22:08:13.020 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:08:13.023 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:08:13.025 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:08:13.028 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:08:13.030 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:08:13.032 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:08:13.033 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 5ms
2025-08-13 22:08:13.036 +05:30 [DBG] Connection id "0HNEQGUV49JAR" completed keep alive response.
2025-08-13 22:08:13.040 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 20.1458ms
2025-08-13 22:08:13.041 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:08:13.070 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:08:13.073 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:08:13.076 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:08:13.078 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:08:13.083 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:08:13.084 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:08:13.112 +05:30 [DBG] Successfully validated the token.
2025-08-13 22:08:13.115 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 22:08:13.120 +05:30 [DBG] Authorization was successful.
2025-08-13 22:08:13.121 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:08:13.126 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 22:08:13.127 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:08:13.130 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:08:13.132 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:08:13.135 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:08:13.136 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:08:13.137 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:08:13.148 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:08:13.259 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:08:13.263 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:08:13.264 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 22:08:13.268 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 22:08:13.269 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 22:08:13.271 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 22:08:13.274 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 22:08:13.276 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:08:13.276 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:08:13.277 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:08:13.279 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:08:13.293 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .Count()'
2025-08-13 22:08:13.326 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 22:08:13.334 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:08:13.335 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 22:08:13.337 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:13.338 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:13.339 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:08:13.340 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:08:13.341 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:08:13.341 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:08:13.470 +05:30 [INF] Executed DbCommand (128ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:08:13.473 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:13.474 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 22:08:13.475 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:13.476 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:08:13.480 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .OrderBy(t => t.Title)
    .Skip(__p_1)
    .Take(__p_2)'
2025-08-13 22:08:13.489 +05:30 [DBG] Including navigation: 'TripModel.BudgetDetails'.
2025-08-13 22:08:13.491 +05:30 [DBG] Including navigation: 'TripModel.Reviews'.
2025-08-13 22:08:13.536 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
            1 -> Dictionary<IProperty, int> { [Property: BudgetDetailsModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: BudgetDetailsModel.Food (decimal) Required, 16], [Property: BudgetDetailsModel.Hotel (decimal) Required, 17], [Property: BudgetDetailsModel.TripId (int) Required FK Index, 18] }
            2 -> 0
            3 -> 15
            4 -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: ReviewModel.Rating (int) Required, 20], [Property: ReviewModel.ReviewText (string) Required, 21], [Property: ReviewModel.TripId (int) Required FK Index, 22], [Property: ReviewModel.UserId (int) Required FK Index, 23] }
            5 -> 19
        SELECT t1.Id, t1.BestTime, t1.Budget, t1.Description, t1.Destination, t1.Duration, t1.EndDate, t1.EssentialsJson, t1.Image, t1.Notes, t1.StartDate, t1.Title, t1.TouristSpotsJson, t1.TravelMode, t1.UserId, b.Id, b.Food, b.Hotel, b.TripId, r.Id, r.Rating, r.review, r.TripId, r.UserId
        FROM 
        (
            SELECT t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))
            ORDER BY t.Title ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS t1
        LEFT JOIN budgetdetails AS b ON t1.Id == b.TripId
        LEFT JOIN reviews AS r ON t1.Id == r.TripId
        ORDER BY t1.Title ASC, t1.Id ASC, b.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-13 22:08:13.542 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:13.543 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:13.544 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:08:13.545 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:08:13.546 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:08:13.547 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:08:13.559 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:08:13.574 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:08:13.601 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:08:13.604 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:08:13.611 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:08:13.615 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:08:13.616 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:08:13.617 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:08:13.619 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:08:13.620 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:08:13.621 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:13.622 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 58ms reading results.
2025-08-13 22:08:13.623 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:13.624 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:08:13.632 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:08:13.634 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:08:13.635 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:08:13.636 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:08:13.636 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:08:13.638 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:08:13.651 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 513.4666ms
2025-08-13 22:08:13.652 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:08:13.657 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 574ms
2025-08-13 22:08:13.659 +05:30 [DBG] Connection id "0HNEQGUV49JAS" completed keep alive response.
2025-08-13 22:08:13.661 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:08:13.665 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:08:13.667 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 22:08:13.669 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 628.0755ms
2025-08-13 22:09:57.445 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:09:57.451 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:09:57.454 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:09:57.456 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:09:57.458 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:09:57.459 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:09:57.461 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 5ms
2025-08-13 22:09:57.465 +05:30 [DBG] Connection id "0HNEQGUV49JAR" completed keep alive response.
2025-08-13 22:09:57.472 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 26.3677ms
2025-08-13 22:09:57.479 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:09:57.486 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:09:57.488 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:09:57.490 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:09:57.494 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:09:57.495 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:09:57.497 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:09:57.500 +05:30 [DBG] Successfully validated the token.
2025-08-13 22:09:57.502 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 22:09:57.507 +05:30 [DBG] Authorization was successful.
2025-08-13 22:09:57.509 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:09:57.510 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 22:09:57.513 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:09:57.515 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:09:57.516 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:09:57.518 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:09:57.521 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:09:57.524 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:09:57.528 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:09:57.530 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:09:57.536 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:09:57.542 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 22:09:57.544 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 22:09:57.546 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 22:09:57.548 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 22:09:57.550 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 22:09:57.554 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:09:57.555 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:09:57.556 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:09:57.559 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:09:57.562 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:09:57.563 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 22:09:57.564 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:09:57.565 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:09:57.569 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:09:57.571 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:09:57.573 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-13 22:09:57.575 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:09:57.600 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:09:57.605 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:09:57.606 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 22:09:57.607 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:09:57.608 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:09:57.611 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:09:57.612 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:09:57.613 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:09:57.614 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:09:57.615 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:09:57.618 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:09:57.637 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:09:57.642 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:09:57.643 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:09:57.644 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:09:57.647 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:09:57.648 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:09:57.650 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:09:57.652 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:09:57.654 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:09:57.656 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:09:57.657 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:09:57.658 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 16ms reading results.
2025-08-13 22:09:57.660 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:09:57.661 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:09:57.662 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:09:57.664 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:09:57.665 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:09:57.666 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:09:57.667 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:09:57.670 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:09:57.672 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 148.0951ms
2025-08-13 22:09:57.673 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:09:57.675 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 179ms
2025-08-13 22:09:57.677 +05:30 [DBG] Connection id "0HNEQGUV49JAS" completed keep alive response.
2025-08-13 22:09:57.678 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:09:57.679 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:09:57.681 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 22:09:57.683 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 203.8342ms
2025-08-13 22:10:04.921 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/21 - null null
2025-08-13 22:10:04.926 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/21'
2025-08-13 22:10:04.929 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:10:04.930 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:10:04.930 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:10:04.931 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:10:04.932 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/21   Responded with [204] in 2ms
2025-08-13 22:10:04.933 +05:30 [DBG] Connection id "0HNEQGUV49JAR" completed keep alive response.
2025-08-13 22:10:04.934 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/21 - 204 null null 13.1475ms
2025-08-13 22:10:04.935 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/21 - null null
2025-08-13 22:10:04.938 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/21'
2025-08-13 22:10:04.939 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/21'
2025-08-13 22:10:04.943 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 22:10:04.944 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:10:04.945 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:10:04.946 +05:30 [DBG] Successfully validated the token.
2025-08-13 22:10:04.946 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 22:10:04.948 +05:30 [DBG] Authorization was successful.
2025-08-13 22:10:04.949 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 22:10:04.954 +05:30 [INF] Route matched with {action = "GetTrip", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TravelPlannerAPI.Dtos.TripDto]] GetTrip(Int32) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 22:10:04.955 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:10:04.956 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:10:04.958 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:10:04.960 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:10:04.961 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:10:04.962 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:10:04.966 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:10:04.973 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:10:04.975 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-08-13 22:10:04.976 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-08-13 22:10:04.977 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-13 22:10:04.978 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-08-13 22:10:04.979 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-08-13 22:10:04.980 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-08-13 22:10:04.985 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Include(t => t.SharedUsers)
    .FirstOrDefault(t => t.Id == __id_0)'
2025-08-13 22:10:04.987 +05:30 [DBG] Including navigation: 'TripModel.BudgetDetails'.
2025-08-13 22:10:04.988 +05:30 [DBG] Including navigation: 'TripModel.Reviews'.
2025-08-13 22:10:04.989 +05:30 [DBG] Including navigation: 'TripModel.SharedUsers'.
2025-08-13 22:10:05.001 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-13 22:10:05.012 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<TripModel>(
    asyncEnumerable: new SingleQueryingEnumerable<TripModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
                1 -> Dictionary<IProperty, int> { [Property: BudgetDetailsModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: BudgetDetailsModel.Food (decimal) Required, 16], [Property: BudgetDetailsModel.Hotel (decimal) Required, 17], [Property: BudgetDetailsModel.TripId (int) Required FK Index, 18] }
                2 -> 0
                3 -> 15
                4 -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: ReviewModel.Rating (int) Required, 20], [Property: ReviewModel.ReviewText (string) Required, 21], [Property: ReviewModel.TripId (int) Required FK Index, 22], [Property: ReviewModel.UserId (int) Required FK Index, 23] }
                5 -> 19
                6 -> Dictionary<IProperty, int> { [Property: TripShareModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 24], [Property: TripShareModel.AccessLevel (AccessLevel) Required, 25], [Property: TripShareModel.OwnerId (int) Required FK Index, 26], [Property: TripShareModel.SharedWithUserId (int) Required FK Index, 27], [Property: TripShareModel.TripId (int) Required FK Index, 28] }
                7 -> 24
            SELECT t0.Id, t0.BestTime, t0.Budget, t0.Description, t0.Destination, t0.Duration, t0.EndDate, t0.EssentialsJson, t0.Image, t0.Notes, t0.StartDate, t0.Title, t0.TouristSpotsJson, t0.TravelMode, t0.UserId, t0.Id0, t0.Food, t0.Hotel, t0.TripId, r.Id, r.Rating, r.review, r.TripId, r.UserId, t1.Id, t1.AccessLevel, t1.OwnerId, t1.SharedWithUserId, t1.TripId
            FROM 
            (
                SELECT TOP(1) t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId, b.Id AS Id0, b.Food, b.Hotel, b.TripId
                FROM Trips AS t
                LEFT JOIN budgetdetails AS b ON t.Id == b.TripId
                WHERE t.Id == @__id_0
            ) AS t0
            LEFT JOIN reviews AS r ON t0.Id == r.TripId
            LEFT JOIN TripShares AS t1 ON t0.Id == t1.TripId
            ORDER BY t0.Id ASC, t0.Id0 ASC, r.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 22:10:05.020 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:10:05.020 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 22:10:05.021 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:05.022 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:05.023 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:10:05.024 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:10:05.025 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:10:05.026 +05:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-13 22:10:05.040 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[BestTime], [t0].[Budget], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[EndDate], [t0].[EssentialsJson], [t0].[Image], [t0].[Notes], [t0].[StartDate], [t0].[Title], [t0].[TouristSpotsJson], [t0].[TravelMode], [t0].[UserId], [t0].[Id0], [t0].[Food], [t0].[Hotel], [t0].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId], [t1].[Id], [t1].[AccessLevel], [t1].[OwnerId], [t1].[SharedWithUserId], [t1].[TripId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId], [b].[Id] AS [Id0], [b].[Food], [b].[Hotel], [b].[TripId]
    FROM [Trips] AS [t]
    LEFT JOIN [budgetdetails] AS [b] ON [t].[Id] = [b].[TripId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN [reviews] AS [r] ON [t0].[Id] = [r].[TripId]
LEFT JOIN [TripShares] AS [t1] ON [t0].[Id] = [t1].[TripId]
ORDER BY [t0].[Id], [t0].[Id0], [r].[Id]
2025-08-13 22:10:05.043 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:10:05.044 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:10:05.045 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:10:05.049 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:05.050 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-08-13 22:10:05.051 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:05.052 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:10:05.068 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:10:05.070 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:10:05.070 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:10:05.071 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:10:05.072 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:10:05.073 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Dtos.TripDto'.
2025-08-13 22:10:05.074 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI) in 111.657ms
2025-08-13 22:10:05.075 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 22:10:05.076 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/21   Responded with [200] in 132ms
2025-08-13 22:10:05.079 +05:30 [DBG] Connection id "0HNEQGUV49JAS" completed keep alive response.
2025-08-13 22:10:05.080 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:10:05.081 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:05.082 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 22:10:05.084 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/21 - 200 810 application/json 148.9155ms
2025-08-13 22:10:06.930 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:10:06.933 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:10:06.934 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:10:06.936 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:10:06.940 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:10:06.943 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:10:06.944 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 8ms
2025-08-13 22:10:06.947 +05:30 [DBG] Connection id "0HNEQGUV49JAR" completed keep alive response.
2025-08-13 22:10:06.948 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 18.4123ms
2025-08-13 22:10:06.949 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:10:06.956 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:10:06.957 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:10:06.958 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:10:06.959 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:10:06.960 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:10:06.961 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:10:06.962 +05:30 [DBG] Successfully validated the token.
2025-08-13 22:10:06.962 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 22:10:06.963 +05:30 [DBG] Authorization was successful.
2025-08-13 22:10:06.964 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:10:06.965 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 22:10:06.966 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:10:06.967 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:10:06.969 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:10:06.973 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:10:06.974 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:10:06.975 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:10:06.977 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:10:06.979 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:10:06.980 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:10:06.981 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 22:10:06.982 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 22:10:06.983 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 22:10:06.985 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 22:10:06.988 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 22:10:06.990 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:10:06.991 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:10:06.992 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:10:06.993 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:10:06.995 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:10:06.996 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 22:10:06.996 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:06.997 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:06.998 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:10:06.999 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:10:07.000 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:10:07.002 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:10:07.013 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:10:07.015 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:07.015 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 22:10:07.017 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:07.020 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (3ms).
2025-08-13 22:10:07.022 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:07.023 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:07.024 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:10:07.025 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:10:07.026 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:10:07.026 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:10:07.045 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:10:07.048 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:10:07.051 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:10:07.052 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:10:07.054 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:10:07.055 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:10:07.057 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:10:07.058 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:10:07.059 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:10:07.060 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:10:07.061 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:07.062 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 13ms reading results.
2025-08-13 22:10:07.063 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:07.064 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:10:07.065 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:10:07.068 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:10:07.069 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:10:07.070 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:10:07.070 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:10:07.071 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:10:07.073 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 97.4173ms
2025-08-13 22:10:07.073 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:10:07.075 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 114ms
2025-08-13 22:10:07.076 +05:30 [DBG] Connection id "0HNEQGUV49JAS" completed keep alive response.
2025-08-13 22:10:07.077 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:10:07.078 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:07.080 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 22:10:07.083 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 133.3044ms
2025-08-13 22:10:26.857 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:10:26.862 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:10:26.863 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:10:26.865 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:10:26.866 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:10:26.868 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:10:26.870 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 5ms
2025-08-13 22:10:26.872 +05:30 [DBG] Connection id "0HNEQGUV49JAR" completed keep alive response.
2025-08-13 22:10:26.873 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 15.6187ms
2025-08-13 22:10:26.874 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:10:26.884 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:10:26.886 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:10:26.890 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:10:26.893 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:10:26.895 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:10:26.896 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:10:26.904 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 4:40:12 PM', Current time (UTC): '8/13/2025 4:40:26 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-13 22:10:26.922 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 4:40:12 PM', Current time (UTC): '8/13/2025 4:40:26 PM'.
2025-08-13 22:10:26.925 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 22:10:26.928 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 22:10:26.935 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 22:10:26.947 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 51ms
2025-08-13 22:10:26.948 +05:30 [DBG] Connection id "0HNEQGUV49JAS" completed keep alive response.
2025-08-13 22:10:26.950 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 75.2478ms
2025-08-13 22:10:26.977 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - null null
2025-08-13 22:10:26.984 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 22:10:26.986 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:10:26.988 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:10:26.989 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:10:26.992 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:10:26.994 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/refresh   Responded with [204] in 6ms
2025-08-13 22:10:26.996 +05:30 [DBG] Connection id "0HNEQGUV49JAR" completed keep alive response.
2025-08-13 22:10:26.998 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - 204 null null 21.0139ms
2025-08-13 22:10:26.999 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 367
2025-08-13 22:10:27.006 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 22:10:27.008 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 22:10:27.011 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 22:10:27.012 +05:30 [DBG] Connection id "0HNEQGUV49JAS", Request id "0HNEQGUV49JAS:00000007": started reading request body.
2025-08-13 22:10:27.016 +05:30 [DBG] Connection id "0HNEQGUV49JAS", Request id "0HNEQGUV49JAS:00000007": done reading request body.
2025-08-13 22:10:27.018 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:10:27.019 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:10:27.020 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 22:10:27.021 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 22:10:27.029 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 22:10:27.034 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:10:27.035 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:10:27.037 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:10:27.039 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:10:27.041 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:10:27.043 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:10:27.046 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:10:27.049 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:10:27.051 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 22:10:27.052 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 22:10:27.054 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 22:10:27.057 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 22:10:27.058 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 22:10:27.059 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 22:10:27.060 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 22:10:27.064 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 22:10:27.097 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.Id.ToString() == __userId_0 && u.RefreshToken == __refreshToken_1)'
2025-08-13 22:10:27.105 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE (CONVERT(varchar(11), u.Id) == @__userId_0) && (u.RefreshToken == @__refreshToken_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 22:10:27.110 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:10:27.111 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 22:10:27.112 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:27.113 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:27.114 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:10:27.115 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:10:27.116 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:10:27.117 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 4000), @__refreshToken_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE CONVERT(varchar(11), [u].[Id]) = @__userId_0 AND [u].[RefreshToken] = @__refreshToken_1
2025-08-13 22:10:27.128 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000), @__refreshToken_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE CONVERT(varchar(11), [u].[Id]) = @__userId_0 AND [u].[RefreshToken] = @__refreshToken_1
2025-08-13 22:10:27.131 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:10:27.132 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:27.135 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-13 22:10:27.137 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:27.138 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:10:27.141 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:27.142 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:27.143 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:10:27.144 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:10:27.145 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:10:27.148 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:10:27.158 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:10:27.163 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:27.163 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 22:10:27.165 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:27.168 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 22:10:27.169 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:10:27.172 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 22:10:27.173 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 22:10:27.174 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 22:10:27.177 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:27.178 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:27.179 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:10:27.180 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:10:27.181 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:10:27.182 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:10:27.193 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:10:27.199 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:27.201 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 22:10:27.203 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:27.205 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:10:27.206 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:10:27.208 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 22:10:27.209 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:10:27.234 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:10:27.237 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:10:27.240 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:10:27.242 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:10:27.246 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:10:27.248 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 205.358ms
2025-08-13 22:10:27.249 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 22:10:27.251 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxMiIsInVuaXF1ZV9uYW1lIjoiTGF1a3NpZ2EiLCJlbWFpbCI6ImxhdWtzaWdhQGdtYWlsLmNvbSIsInJvbGUiOiJVc2VyIiwibmJmIjoxNzU1MTAzMDkyLCJleHAiOjE3NTUxMDMyMTIsImlhdCI6MTc1NTEwMzA5MiwiaXNzIjoiVHJhdmVsUGxhbm5lckFQSSIsImF1ZCI6IlRyYXZlbFBsYW5uZXJDbGllbnQifQ.qgK08qje7qv5gUcDE6LIW6X3E_Yxta5gFizh5DMia4o","refreshToken":""} Responded with [200] in 238ms
2025-08-13 22:10:27.253 +05:30 [DBG] Connection id "0HNEQGUV49JAS" completed keep alive response.
2025-08-13 22:10:27.255 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:10:27.258 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:10:27.259 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 22:10:27.260 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 200 962 application/json 261.645ms
2025-08-13 22:10:27.264 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:10:27.266 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:10:27.267 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:10:27.268 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:10:27.270 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:10:27.271 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:10:27.271 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:10:27.273 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-13 22:10:27.279 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-13 22:10:27.281 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 22:10:27.282 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 22:10:27.284 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 22:10:27.285 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 14ms
2025-08-13 22:10:27.287 +05:30 [DBG] Connection id "0HNEQGUV49JAS" completed keep alive response.
2025-08-13 22:10:27.288 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 24.0568ms
2025-08-13 22:14:25.391 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 22:14:25.395 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 22:14:25.396 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:14:25.397 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:14:25.398 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:14:25.398 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:14:25.400 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 2ms
2025-08-13 22:14:25.400 +05:30 [DBG] Connection id "0HNEQGUV49JAR" completed keep alive response.
2025-08-13 22:14:25.402 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 14.0731ms
2025-08-13 22:14:25.402 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 56
2025-08-13 22:14:25.414 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 22:14:25.415 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 22:14:25.416 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 22:14:25.417 +05:30 [DBG] Connection id "0HNEQGUV49JAS", Request id "0HNEQGUV49JAS:00000009": started reading request body.
2025-08-13 22:14:25.419 +05:30 [DBG] Connection id "0HNEQGUV49JAS", Request id "0HNEQGUV49JAS:00000009": done reading request body.
2025-08-13 22:14:25.420 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:14:25.421 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:14:25.422 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 22:14:25.423 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 22:14:25.424 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 22:14:25.426 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:14:25.427 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:14:25.428 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:14:25.430 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:14:25.431 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:14:25.432 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:14:25.439 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:14:25.442 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:14:25.443 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 22:14:25.444 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 22:14:25.445 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 22:14:25.447 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 22:14:25.447 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 22:14:25.448 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 22:14:25.450 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 22:14:25.451 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 22:14:25.453 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:14:25.454 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 22:14:25.454 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:14:25.468 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:14:25.471 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:14:25.472 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:14:25.473 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:14:25.474 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 22:14:25.481 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 22:14:25.484 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:14:25.485 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:14:25.486 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 22:14:25.487 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:14:25.488 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:14:25.542 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:14:25.543 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:14:25.545 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:14:25.546 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:14:25.547 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:14:25.548 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:14:25.557 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:14:25.565 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:14:25.566 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 22:14:25.570 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:14:25.572 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 22:14:25.574 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:14:25.575 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 22:14:25.577 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 22:14:25.578 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 22:14:25.579 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:14:25.580 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:14:25.581 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:14:25.582 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:14:25.583 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:14:25.584 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:14:25.594 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:14:25.599 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:14:25.600 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 22:14:25.601 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:14:25.602 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:14:25.603 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:14:25.605 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 22:14:25.608 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:14:25.609 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:14:25.611 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:14:25.612 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:14:25.613 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:14:25.613 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:14:25.617 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:14:25.621 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:14:25.622 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 22:14:25.625 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:14:25.626 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:14:25.627 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:14:25.629 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 22:14:25.630 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 22:14:25.633 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 22:14:25.635 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:14:25.636 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:14:25.637 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:14:25.638 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:14:25.640 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:14:25.641 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:14:25.655 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:14:25.659 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:14:25.661 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 22:14:25.662 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:14:25.664 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:14:25.665 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:14:25.668 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 22:14:25.672 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:14:25.675 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:14:25.676 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:14:25.677 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:14:25.679 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:14:25.681 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:14:25.683 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 251.0314ms
2025-08-13 22:14:25.684 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 22:14:25.686 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"lauksiga@gmail.com","password":"Password@123"} Responded with [200] in 269ms
2025-08-13 22:14:25.688 +05:30 [DBG] Connection id "0HNEQGUV49JAS" completed keep alive response.
2025-08-13 22:14:25.690 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:14:25.691 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:14:25.693 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 22:14:25.696 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 962 application/json 293.8612ms
2025-08-13 22:15:47.075 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 22:15:47.079 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 22:15:47.080 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:15:47.080 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:15:47.081 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:15:47.082 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:15:47.083 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 2ms
2025-08-13 22:15:47.084 +05:30 [DBG] Connection id "0HNEQGUV49JAR" completed keep alive response.
2025-08-13 22:15:47.085 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 33.5125ms
2025-08-13 22:15:47.089 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 55
2025-08-13 22:15:47.096 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 22:15:47.098 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 22:15:47.100 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 22:15:47.102 +05:30 [DBG] Connection id "0HNEQGUV49JAS", Request id "0HNEQGUV49JAS:0000000A": started reading request body.
2025-08-13 22:15:47.106 +05:30 [DBG] Connection id "0HNEQGUV49JAS", Request id "0HNEQGUV49JAS:0000000A": done reading request body.
2025-08-13 22:15:47.108 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:15:47.109 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:15:47.110 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 22:15:47.111 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 22:15:47.112 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 22:15:47.116 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:15:47.117 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:15:47.118 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:15:47.120 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:15:47.121 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:15:47.122 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:15:47.124 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:15:47.125 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:15:47.126 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 22:15:47.129 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 22:15:47.130 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 22:15:47.132 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 22:15:47.132 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 22:15:47.133 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 22:15:47.134 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 22:15:47.135 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 22:15:47.137 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:15:47.138 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 22:15:47.138 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.140 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.141 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:15:47.141 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:15:47.142 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:15:47.145 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 22:15:47.151 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 22:15:47.154 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:15:47.155 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.156 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 22:15:47.157 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.158 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:15:47.208 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.211 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.214 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:15:47.215 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:15:47.216 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:15:47.217 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:15:47.222 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:15:47.225 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.226 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 22:15:47.227 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.228 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:15:47.229 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:15:47.231 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 22:15:47.231 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 22:15:47.232 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 22:15:47.234 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.236 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.236 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:15:47.237 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:15:47.238 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:15:47.239 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:15:47.248 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:15:47.253 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.254 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 22:15:47.255 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.256 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:15:47.257 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:15:47.259 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 22:15:47.261 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.262 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.263 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:15:47.263 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:15:47.266 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 22:15:47.267 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:15:47.270 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:15:47.273 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.274 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 22:15:47.275 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.276 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:15:47.277 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:15:47.279 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 22:15:47.281 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 22:15:47.282 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 22:15:47.283 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.284 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.285 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:15:47.286 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:15:47.287 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:15:47.288 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:15:47.293 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:15:47.298 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.299 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 22:15:47.301 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.303 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:15:47.305 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:15:47.309 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 22:15:47.311 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:15:47.317 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:15:47.318 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:15:47.320 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:15:47.321 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:15:47.322 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:15:47.324 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 202.136ms
2025-08-13 22:15:47.325 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 22:15:47.327 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"akshaya@gmail.com","password":"Password@123"} Responded with [200] in 224ms
2025-08-13 22:15:47.329 +05:30 [DBG] Connection id "0HNEQGUV49JAS" completed keep alive response.
2025-08-13 22:15:47.333 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:15:47.334 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.336 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 22:15:47.338 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 952 application/json 249.9298ms
2025-08-13 22:15:47.403 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:15:47.408 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:15:47.409 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:15:47.411 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:15:47.415 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:15:47.423 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:15:47.426 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 15ms
2025-08-13 22:15:47.429 +05:30 [DBG] Connection id "0HNEQGUV49JAR" completed keep alive response.
2025-08-13 22:15:47.432 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 29.0551ms
2025-08-13 22:15:47.435 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:15:47.462 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:15:47.464 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:15:47.467 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:15:47.471 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:15:47.472 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:15:47.474 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:15:47.476 +05:30 [DBG] Successfully validated the token.
2025-08-13 22:15:47.478 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 22:15:47.479 +05:30 [DBG] Authorization was successful.
2025-08-13 22:15:47.481 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:15:47.483 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 22:15:47.488 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:15:47.490 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:15:47.492 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:15:47.495 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:15:47.498 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:15:47.504 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:15:47.509 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:15:47.517 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:15:47.521 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:15:47.523 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 22:15:47.527 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 22:15:47.534 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 22:15:47.536 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 22:15:47.538 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 22:15:47.542 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:15:47.543 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:15:47.544 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:15:47.546 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:15:47.547 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:15:47.548 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 22:15:47.549 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.550 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.552 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:15:47.555 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-13 22:15:47.556 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-13 22:15:47.557 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:15:47.569 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:15:47.572 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.573 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 22:15:47.574 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.576 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:15:47.579 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.580 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.581 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:15:47.582 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:15:47.584 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:15:47.585 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:15:47.608 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:15:47.612 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:15:47.614 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:15:47.615 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:15:47.624 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:15:47.630 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.632 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 20ms reading results.
2025-08-13 22:15:47.634 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.635 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:15:47.638 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:15:47.640 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:15:47.640 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:15:47.641 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:15:47.641 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:15:47.642 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:15:47.644 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 140.779ms
2025-08-13 22:15:47.645 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:15:47.647 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 174ms
2025-08-13 22:15:47.648 +05:30 [DBG] Connection id "0HNEQGUV49JAS" completed keep alive response.
2025-08-13 22:15:47.649 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:15:47.650 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:47.651 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 22:15:47.652 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 1136 application/json 217.6923ms
2025-08-13 22:15:50.906 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:15:50.910 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:15:50.913 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:15:50.916 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:15:50.919 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:15:50.920 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:15:50.922 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:15:50.924 +05:30 [DBG] Successfully validated the token.
2025-08-13 22:15:50.929 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 22:15:50.934 +05:30 [DBG] Authorization was successful.
2025-08-13 22:15:50.947 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:15:50.949 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 22:15:50.956 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:15:50.962 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:15:50.964 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:15:50.966 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:15:50.970 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:15:50.972 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:15:50.975 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:15:50.978 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:15:50.980 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:15:50.981 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 22:15:50.982 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 22:15:50.984 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 22:15:50.986 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 22:15:50.987 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 22:15:50.988 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:15:50.991 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:15:50.993 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:15:50.994 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:15:50.996 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:15:50.997 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 22:15:50.999 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:51.000 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:51.001 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:15:51.002 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:15:51.003 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:15:51.004 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:15:51.013 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:15:51.017 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:51.019 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 22:15:51.022 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:51.027 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (5ms).
2025-08-13 22:15:51.030 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:51.032 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:51.034 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:15:51.035 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:15:51.036 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:15:51.037 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:15:51.045 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:15:51.050 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:15:51.051 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:15:51.052 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:15:51.056 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'ReviewModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:15:51.058 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:51.059 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 9ms reading results.
2025-08-13 22:15:51.063 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:51.066 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 22:15:51.068 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:15:51.075 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:15:51.077 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:15:51.079 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:15:51.080 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:15:51.081 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:15:51.083 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 110.8115ms
2025-08-13 22:15:51.084 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:15:51.086 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 165ms
2025-08-13 22:15:51.090 +05:30 [DBG] Connection id "0HNEQGUV49JAS" completed keep alive response.
2025-08-13 22:15:51.092 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:15:51.094 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:15:51.096 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 22:15:51.097 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 1136 application/json 191.4185ms
2025-08-13 22:19:57.423 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:19:57.437 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:19:57.439 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:19:57.441 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:19:57.442 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:19:57.443 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:19:57.449 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 8ms
2025-08-13 22:19:57.451 +05:30 [DBG] Connection id "0HNEQGUV49JAR" completed keep alive response.
2025-08-13 22:19:57.455 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 32.7057ms
2025-08-13 22:19:57.462 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:19:57.497 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:19:57.504 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:19:57.508 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:19:57.518 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:19:57.520 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:19:57.522 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:19:57.528 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 4:47:47 PM', Current time (UTC): '8/13/2025 4:49:57 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-13 22:19:57.534 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 4:47:47 PM', Current time (UTC): '8/13/2025 4:49:57 PM'.
2025-08-13 22:19:57.536 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 22:19:57.537 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 22:19:57.539 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 22:19:57.541 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 21ms
2025-08-13 22:19:57.543 +05:30 [DBG] Connection id "0HNEQGUV49JAS" completed keep alive response.
2025-08-13 22:19:57.544 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 82.7668ms
2025-08-13 22:19:57.628 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - null null
2025-08-13 22:19:57.632 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 22:19:57.634 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:19:57.635 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:19:57.637 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:19:57.638 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:19:57.641 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/refresh   Responded with [204] in 5ms
2025-08-13 22:19:57.642 +05:30 [DBG] Connection id "0HNEQGUV49JAR" completed keep alive response.
2025-08-13 22:19:57.643 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - 204 null null 15.4087ms
2025-08-13 22:19:57.644 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 363
2025-08-13 22:19:57.656 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 22:19:57.658 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 22:19:57.659 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 22:19:57.660 +05:30 [DBG] Connection id "0HNEQGUV49JAS", Request id "0HNEQGUV49JAS:0000000E": started reading request body.
2025-08-13 22:19:57.661 +05:30 [DBG] Connection id "0HNEQGUV49JAS", Request id "0HNEQGUV49JAS:0000000E": done reading request body.
2025-08-13 22:19:57.662 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:19:57.666 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:19:57.667 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 22:19:57.668 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 22:19:57.669 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 22:19:57.671 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:19:57.673 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:19:57.674 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:19:57.676 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:19:57.679 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:19:57.683 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:19:57.685 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:19:57.687 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:19:57.688 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 22:19:57.689 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 22:19:57.691 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 22:19:57.693 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 22:19:57.694 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 22:19:57.700 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 22:19:57.702 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 22:19:57.703 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 22:19:57.706 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:19:57.707 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 22:19:57.708 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:19:57.710 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:19:57.711 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:19:57.714 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-13 22:19:57.715 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-13 22:19:57.717 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 4000), @__refreshToken_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE CONVERT(varchar(11), [u].[Id]) = @__userId_0 AND [u].[RefreshToken] = @__refreshToken_1
2025-08-13 22:19:57.725 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000), @__refreshToken_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE CONVERT(varchar(11), [u].[Id]) = @__userId_0 AND [u].[RefreshToken] = @__refreshToken_1
2025-08-13 22:19:57.732 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:19:57.734 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:19:57.735 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-13 22:19:57.736 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:19:57.738 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:19:57.740 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:19:57.741 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:19:57.742 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:19:57.743 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:19:57.744 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:19:57.745 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:19:57.754 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:19:57.759 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:19:57.760 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 22:19:57.763 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:19:57.764 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:19:57.766 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:19:57.769 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 22:19:57.772 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 22:19:57.773 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 22:19:57.778 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:19:57.780 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:19:57.781 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:19:57.783 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:19:57.784 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 22:19:57.786 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:19:57.798 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:19:57.806 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:19:57.807 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 22:19:57.808 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:19:57.811 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 22:19:57.812 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:19:57.813 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 22:19:57.815 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:19:57.817 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:19:57.818 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:19:57.819 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:19:57.819 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:19:57.820 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:19:57.822 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 139.307ms
2025-08-13 22:19:57.823 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 22:19:57.824 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI5IiwidW5pcXVlX25hbWUiOiJBa3NoYXlhIiwiZW1haWwiOiJha3NoYXlhQGdtYWlsLmNvbSIsInJvbGUiOiJVc2VyIiwibmJmIjoxNzU1MTAzNTQ3LCJleHAiOjE3NTUxMDM2NjcsImlhdCI6MTc1NTEwMzU0NywiaXNzIjoiVHJhdmVsUGxhbm5lckFQSSIsImF1ZCI6IlRyYXZlbFBsYW5uZXJDbGllbnQifQ.S8sY8VEcDv8AYzFViHh7MvWC8vuTpZhs4EDAJU87tII","refreshToken":""} Responded with [200] in 164ms
2025-08-13 22:19:57.827 +05:30 [DBG] Connection id "0HNEQGUV49JAS" completed keep alive response.
2025-08-13 22:19:57.828 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:19:57.829 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:19:57.831 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 22:19:57.834 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 200 952 application/json 190.0972ms
2025-08-13 22:19:57.837 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:19:57.840 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:19:57.841 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:19:57.846 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:19:57.849 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:19:57.850 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:19:57.851 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:19:57.852 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-13 22:19:57.856 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-13 22:19:57.861 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 22:19:57.862 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 22:19:57.863 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 22:19:57.865 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 15ms
2025-08-13 22:19:57.867 +05:30 [DBG] Connection id "0HNEQGUV49JAS" completed keep alive response.
2025-08-13 22:19:57.869 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 31.6804ms
2025-08-13 22:20:10.015 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 22:20:10.019 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 22:20:10.020 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:20:10.021 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:20:10.021 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:20:10.022 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:20:10.023 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 2ms
2025-08-13 22:20:10.024 +05:30 [DBG] Connection id "0HNEQGUV49JAR" completed keep alive response.
2025-08-13 22:20:10.026 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 56
2025-08-13 22:20:10.027 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 12.0976ms
2025-08-13 22:20:10.029 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 22:20:10.033 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 22:20:10.034 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 22:20:10.035 +05:30 [DBG] Connection id "0HNEQGUV49JAS", Request id "0HNEQGUV49JAS:00000010": started reading request body.
2025-08-13 22:20:10.036 +05:30 [DBG] Connection id "0HNEQGUV49JAS", Request id "0HNEQGUV49JAS:00000010": done reading request body.
2025-08-13 22:20:10.037 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:20:10.037 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:20:10.038 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 22:20:10.039 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 22:20:10.040 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 22:20:10.044 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:20:10.045 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:20:10.046 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:20:10.047 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:20:10.048 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:20:10.050 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:20:10.051 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:20:10.053 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:20:10.054 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 22:20:10.055 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 22:20:10.057 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 22:20:10.059 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 22:20:10.059 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 22:20:10.060 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 22:20:10.061 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 22:20:10.063 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 22:20:10.064 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:20:10.065 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 22:20:10.065 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.067 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.067 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:20:10.068 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:20:10.069 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:20:10.070 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 22:20:10.085 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 22:20:10.089 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:20:10.090 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.091 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 22:20:10.092 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.093 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:20:10.147 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.149 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.150 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:20:10.151 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:20:10.152 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:20:10.153 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:20:10.158 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:20:10.160 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.161 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 22:20:10.162 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.163 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:20:10.165 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:20:10.167 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 22:20:10.168 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 22:20:10.169 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 22:20:10.170 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.171 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.172 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:20:10.172 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:20:10.173 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:20:10.174 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:20:10.184 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:20:10.186 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.187 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 22:20:10.189 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.190 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:20:10.191 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:20:10.192 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 22:20:10.194 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.195 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.196 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:20:10.197 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:20:10.199 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:20:10.200 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:20:10.207 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:20:10.210 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.211 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 22:20:10.212 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.216 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (3ms).
2025-08-13 22:20:10.217 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:20:10.219 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 22:20:10.219 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 22:20:10.220 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 22:20:10.222 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.223 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.224 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:20:10.225 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:20:10.226 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:20:10.227 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:20:10.236 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:20:10.240 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.241 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 22:20:10.244 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.246 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:20:10.248 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:20:10.251 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 22:20:10.253 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:20:10.255 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:20:10.255 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:20:10.258 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:20:10.259 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:20:10.260 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:20:10.264 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 214.4482ms
2025-08-13 22:20:10.265 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 22:20:10.267 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"lauksiga@gmail.com","password":"Password@123"} Responded with [200] in 231ms
2025-08-13 22:20:10.268 +05:30 [DBG] Connection id "0HNEQGUV49JAS" completed keep alive response.
2025-08-13 22:20:10.269 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:20:10.271 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.272 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:20:10.272 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 22:20:10.275 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:20:10.276 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 962 application/json 250.6736ms
2025-08-13 22:20:10.280 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:20:10.286 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:20:10.287 +05:30 [DBG] Connection id "0HNEQGUV49JAT" accepted.
2025-08-13 22:20:10.288 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:20:10.289 +05:30 [DBG] Connection id "0HNEQGUV49JAT" started.
2025-08-13 22:20:10.290 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:20:10.292 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:20:10.293 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 7ms
2025-08-13 22:20:10.295 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:20:10.297 +05:30 [DBG] Connection id "0HNEQGUV49JAR" completed keep alive response.
2025-08-13 22:20:10.299 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:20:10.300 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 27.8999ms
2025-08-13 22:20:10.299 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:20:10.306 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:20:10.309 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:20:10.310 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:20:10.311 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:20:10.312 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:20:10.314 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:20:10.314 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 8ms
2025-08-13 22:20:10.315 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:20:10.316 +05:30 [DBG] Connection id "0HNEQGUV49JAT" completed keep alive response.
2025-08-13 22:20:10.317 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:20:10.318 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 25.5111ms
2025-08-13 22:20:10.319 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:20:10.324 +05:30 [DBG] Successfully validated the token.
2025-08-13 22:20:10.327 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 22:20:10.329 +05:30 [DBG] Authorization was successful.
2025-08-13 22:20:10.330 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:20:10.332 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 22:20:10.335 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:20:10.338 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:20:10.340 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:20:10.343 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:20:10.344 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:20:10.348 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:20:10.350 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:20:10.351 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:20:10.352 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:20:10.353 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 22:20:10.355 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 22:20:10.356 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 22:20:10.357 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 22:20:10.358 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 22:20:10.359 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:20:10.360 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:20:10.362 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:20:10.364 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:20:10.365 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:20:10.366 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 22:20:10.366 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.368 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.369 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:20:10.369 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:20:10.370 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:20:10.371 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:20:10.381 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:20:10.384 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.384 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 22:20:10.385 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.386 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:20:10.388 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.389 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.390 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:20:10.392 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:20:10.393 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:20:10.394 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:20:10.409 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:20:10.413 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:20:10.414 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:20:10.416 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:20:10.419 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:20:10.420 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:20:10.421 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:20:10.422 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:20:10.423 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:20:10.424 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:20:10.426 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.426 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 13ms reading results.
2025-08-13 22:20:10.428 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.429 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:20:10.430 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:20:10.432 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:20:10.432 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:20:10.433 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:20:10.434 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:20:10.435 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:20:10.436 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 88.2267ms
2025-08-13 22:20:10.437 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:20:10.440 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 123ms
2025-08-13 22:20:10.443 +05:30 [DBG] Connection id "0HNEQGUV49JAS" completed keep alive response.
2025-08-13 22:20:10.444 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:20:10.446 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.447 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-13 22:20:10.448 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 148.4654ms
2025-08-13 22:20:10.453 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:20:10.455 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:20:10.456 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:20:10.457 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:20:10.458 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:20:10.461 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:20:10.461 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:20:10.463 +05:30 [DBG] Successfully validated the token.
2025-08-13 22:20:10.463 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 22:20:10.464 +05:30 [DBG] Authorization was successful.
2025-08-13 22:20:10.465 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:20:10.466 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 22:20:10.467 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:20:10.468 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:20:10.469 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:20:10.471 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:20:10.474 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:20:10.476 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:20:10.478 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:20:10.481 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:20:10.482 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:20:10.483 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 22:20:10.484 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 22:20:10.485 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 22:20:10.487 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 22:20:10.488 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 22:20:10.491 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:20:10.492 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:20:10.493 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:20:10.495 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:20:10.497 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:20:10.498 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 22:20:10.499 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.500 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.501 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:20:10.502 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:20:10.503 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:20:10.504 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:20:10.507 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:20:10.510 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.510 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 22:20:10.511 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.513 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:20:10.516 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.517 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.518 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:20:10.518 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:20:10.519 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:20:10.520 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:20:10.528 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:20:10.536 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:20:10.540 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:20:10.541 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:20:10.542 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:20:10.543 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:20:10.544 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:20:10.547 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:20:10.549 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:20:10.551 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:20:10.553 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.554 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 18ms reading results.
2025-08-13 22:20:10.556 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.557 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:20:10.559 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:20:10.561 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:20:10.563 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:20:10.565 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:20:10.566 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:20:10.567 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:20:10.570 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 93.7386ms
2025-08-13 22:20:10.571 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:20:10.572 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 111ms
2025-08-13 22:20:10.573 +05:30 [DBG] Connection id "0HNEQGUV49JAS" completed keep alive response.
2025-08-13 22:20:10.574 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:20:10.576 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:20:10.577 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 22:20:10.579 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 125.4757ms
2025-08-13 22:21:35.107 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:21:35.135 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:21:35.137 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:21:35.138 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:21:35.143 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:21:35.145 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:21:35.149 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 10ms
2025-08-13 22:21:35.153 +05:30 [DBG] Connection id "0HNEQGUV49JAT" completed keep alive response.
2025-08-13 22:21:35.160 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:21:35.162 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 55.3041ms
2025-08-13 22:21:35.168 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:21:35.179 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:21:35.182 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:21:35.185 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:21:35.186 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:21:35.189 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:21:35.192 +05:30 [DBG] Successfully validated the token.
2025-08-13 22:21:35.193 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 22:21:35.196 +05:30 [DBG] Authorization was successful.
2025-08-13 22:21:35.197 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:21:35.203 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 22:21:35.218 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:21:35.222 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:21:35.230 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:21:35.234 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:21:35.236 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:21:35.238 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:21:35.245 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:21:35.248 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:21:35.250 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:21:35.252 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 22:21:35.254 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 22:21:35.259 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 22:21:35.260 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 22:21:35.262 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 22:21:35.263 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:21:35.265 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:21:35.267 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:21:35.271 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:21:35.274 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:21:35.275 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 22:21:35.277 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:21:35.279 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:21:35.281 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:21:35.282 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:21:35.284 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:21:35.285 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:21:35.298 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:21:35.306 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:21:35.308 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 22:21:35.310 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:21:35.313 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (3ms).
2025-08-13 22:21:35.318 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:21:35.324 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:21:35.326 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:21:35.329 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:21:35.332 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-13 22:21:35.334 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:21:35.356 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:21:35.361 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:21:35.363 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:21:35.365 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:21:35.366 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:21:35.368 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:21:35.371 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:21:35.373 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:21:35.375 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:21:35.376 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:21:35.377 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:21:35.379 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 17ms reading results.
2025-08-13 22:21:35.381 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:21:35.382 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:21:35.383 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:21:35.388 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:21:35.389 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:21:35.391 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:21:35.392 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:21:35.394 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:21:35.396 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 158.364ms
2025-08-13 22:21:35.397 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:21:35.405 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 219ms
2025-08-13 22:21:35.420 +05:30 [DBG] Connection id "0HNEQGUV49JAS" completed keep alive response.
2025-08-13 22:21:35.422 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:21:35.423 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:21:35.425 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 22:21:35.426 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 266.1938ms
2025-08-13 22:22:54.538 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:22:54.549 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:22:54.551 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:22:54.553 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:22:54.559 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:22:54.560 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:22:54.562 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 9ms
2025-08-13 22:22:54.563 +05:30 [DBG] Connection id "0HNEQGUV49JAT" completed keep alive response.
2025-08-13 22:22:54.565 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 27.0671ms
2025-08-13 22:22:54.566 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:22:54.589 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:22:54.592 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:22:54.594 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:22:54.596 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:22:54.597 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:22:54.598 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:22:54.600 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 4:52:10 PM', Current time (UTC): '8/13/2025 4:52:54 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-13 22:22:54.606 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 4:52:10 PM', Current time (UTC): '8/13/2025 4:52:54 PM'.
2025-08-13 22:22:54.608 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 22:22:54.608 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 22:22:54.609 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 22:22:54.611 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 14ms
2025-08-13 22:22:54.612 +05:30 [DBG] Connection id "0HNEQGUV49JAS" completed keep alive response.
2025-08-13 22:22:54.613 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 47.3104ms
2025-08-13 22:22:54.618 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - null null
2025-08-13 22:22:54.621 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 22:22:54.623 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:22:54.627 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:22:54.628 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:22:54.628 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:22:54.630 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/refresh   Responded with [204] in 2ms
2025-08-13 22:22:54.630 +05:30 [DBG] Connection id "0HNEQGUV49JAT" completed keep alive response.
2025-08-13 22:22:54.632 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - 204 null null 13.6923ms
2025-08-13 22:22:54.632 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 367
2025-08-13 22:22:54.637 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 22:22:54.638 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 22:22:54.641 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 22:22:54.642 +05:30 [DBG] Connection id "0HNEQGUV49JAS", Request id "0HNEQGUV49JAS:00000015": started reading request body.
2025-08-13 22:22:54.643 +05:30 [DBG] Connection id "0HNEQGUV49JAS", Request id "0HNEQGUV49JAS:00000015": done reading request body.
2025-08-13 22:22:54.644 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:22:54.645 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:22:54.646 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 22:22:54.647 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 22:22:54.650 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 22:22:54.652 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:22:54.654 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:22:54.656 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:22:54.658 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:22:54.660 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:22:54.663 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:22:54.666 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:22:54.670 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:22:54.671 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 22:22:54.677 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 22:22:54.679 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 22:22:54.685 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 22:22:54.687 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 22:22:54.691 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 22:22:54.693 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 22:22:54.697 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 22:22:54.700 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:22:54.701 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 22:22:54.703 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:22:54.706 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:22:54.708 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:22:54.709 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:22:54.710 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:22:54.712 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 4000), @__refreshToken_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE CONVERT(varchar(11), [u].[Id]) = @__userId_0 AND [u].[RefreshToken] = @__refreshToken_1
2025-08-13 22:22:54.721 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000), @__refreshToken_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE CONVERT(varchar(11), [u].[Id]) = @__userId_0 AND [u].[RefreshToken] = @__refreshToken_1
2025-08-13 22:22:54.725 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:22:54.727 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:22:54.728 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 22:22:54.730 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:22:54.731 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:22:54.733 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:22:54.734 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:22:54.760 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:22:54.762 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:22:54.763 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:22:54.764 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:22:54.774 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:22:54.778 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:22:54.779 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 22:22:54.780 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:22:54.784 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (3ms).
2025-08-13 22:22:54.785 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:22:54.787 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 22:22:54.788 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 22:22:54.789 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 22:22:54.790 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:22:54.791 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:22:54.792 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:22:54.793 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:22:54.794 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:22:54.795 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:22:54.808 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:22:54.811 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:22:54.812 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 22:22:54.814 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:22:54.816 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 22:22:54.818 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:22:54.820 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 22:22:54.821 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:22:54.823 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:22:54.824 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:22:54.824 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:22:54.825 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:22:54.826 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:22:54.828 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 165.7427ms
2025-08-13 22:22:54.829 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 22:22:54.831 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxMiIsInVuaXF1ZV9uYW1lIjoiTGF1a3NpZ2EiLCJlbWFpbCI6ImxhdWtzaWdhQGdtYWlsLmNvbSIsInJvbGUiOiJVc2VyIiwibmJmIjoxNzU1MTAzODEwLCJleHAiOjE3NTUxMDM5MzAsImlhdCI6MTc1NTEwMzgxMCwiaXNzIjoiVHJhdmVsUGxhbm5lckFQSSIsImF1ZCI6IlRyYXZlbFBsYW5uZXJDbGllbnQifQ.xizXf-fTd-WEIYKKQ8eX2iuASE5zKz0QDg72VnXeHzI","refreshToken":""} Responded with [200] in 189ms
2025-08-13 22:22:54.833 +05:30 [DBG] Connection id "0HNEQGUV49JAS" completed keep alive response.
2025-08-13 22:22:54.834 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:22:54.835 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:22:54.836 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-13 22:22:54.837 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 200 962 application/json 204.9417ms
2025-08-13 22:22:54.840 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:22:54.842 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:22:54.843 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:22:54.844 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:22:54.845 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:22:54.846 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:22:54.846 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:22:54.849 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-13 22:22:54.852 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-13 22:22:54.854 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 22:22:54.855 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 22:22:54.856 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 22:22:54.859 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 12ms
2025-08-13 22:22:54.860 +05:30 [DBG] Connection id "0HNEQGUV49JAS" completed keep alive response.
2025-08-13 22:22:54.861 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 20.4507ms
2025-08-13 22:25:55.338 +05:30 [DBG] Connection id "0HNEQGUV49JAR" received FIN.
2025-08-13 22:25:55.346 +05:30 [DBG] Connection id "0HNEQGUV49JAR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 22:25:55.347 +05:30 [DBG] Connection id "0HNEQGUV49JAR" disconnecting.
2025-08-13 22:25:55.349 +05:30 [DBG] Connection id "0HNEQGUV49JAR" stopped.
2025-08-13 22:27:55.358 +05:30 [DBG] Connection id "0HNEQGUV49JAS" received FIN.
2025-08-13 22:27:55.359 +05:30 [DBG] Connection id "0HNEQGUV49JAT" received FIN.
2025-08-13 22:27:55.363 +05:30 [DBG] Connection id "0HNEQGUV49JAS" disconnecting.
2025-08-13 22:27:55.369 +05:30 [DBG] Connection id "0HNEQGUV49JAT" disconnecting.
2025-08-13 22:27:55.370 +05:30 [DBG] Connection id "0HNEQGUV49JAS" stopped.
2025-08-13 22:27:55.374 +05:30 [DBG] Connection id "0HNEQGUV49JAT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 22:27:55.378 +05:30 [DBG] Connection id "0HNEQGUV49JAS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 22:27:55.394 +05:30 [DBG] Connection id "0HNEQGUV49JAT" stopped.
2025-08-13 22:29:35.580 +05:30 [DBG] Connection id "0HNEQGUV49JAU" accepted.
2025-08-13 22:29:35.587 +05:30 [DBG] Connection id "0HNEQGUV49JAU" started.
2025-08-13 22:29:35.588 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 22:29:35.590 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 22:29:35.591 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:29:35.592 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:29:35.593 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:29:35.594 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:29:35.595 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 2ms
2025-08-13 22:29:35.596 +05:30 [DBG] Connection id "0HNEQGUV49JAU" completed keep alive response.
2025-08-13 22:29:35.597 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 8.7241ms
2025-08-13 22:29:35.598 +05:30 [DBG] Connection id "0HNEQGUV49JAV" accepted.
2025-08-13 22:29:35.607 +05:30 [DBG] Connection id "0HNEQGUV49JAV" started.
2025-08-13 22:29:35.608 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 56
2025-08-13 22:29:35.610 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 22:29:35.611 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 22:29:35.612 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 22:29:35.613 +05:30 [DBG] Connection id "0HNEQGUV49JAV", Request id "0HNEQGUV49JAV:00000001": started reading request body.
2025-08-13 22:29:35.614 +05:30 [DBG] Connection id "0HNEQGUV49JAV", Request id "0HNEQGUV49JAV:00000001": done reading request body.
2025-08-13 22:29:35.615 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:29:35.615 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:29:35.617 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 22:29:35.618 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 22:29:35.619 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 22:29:35.620 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:29:35.621 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:29:35.622 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:29:35.624 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:29:35.625 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:29:35.626 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:29:35.628 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:29:35.629 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:29:35.630 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 22:29:35.631 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 22:29:35.634 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 22:29:35.635 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 22:29:35.636 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 22:29:35.637 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 22:29:35.638 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 22:29:35.640 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 22:29:35.644 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:29:35.645 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 22:29:35.646 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:35.662 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:35.665 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:29:35.666 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:29:35.667 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:29:35.669 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 22:29:35.676 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 22:29:35.679 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:29:35.680 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:35.683 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-13 22:29:35.684 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:35.685 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:29:35.736 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:35.737 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:35.738 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:29:35.739 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:29:35.740 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:29:35.741 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:29:35.746 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:29:35.749 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:35.749 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 22:29:35.752 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:35.753 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:29:35.754 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:29:35.755 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 22:29:35.756 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 22:29:35.756 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 22:29:35.758 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:35.759 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:35.760 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:29:35.761 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:29:35.763 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:29:35.764 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:29:35.773 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:29:35.777 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:35.779 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 22:29:35.780 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:35.781 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:29:35.783 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:29:35.784 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 22:29:35.786 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:35.787 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:35.788 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:29:35.789 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:29:35.790 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:29:35.791 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:29:35.796 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:29:35.805 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:35.806 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 22:29:35.807 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:35.808 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:29:35.810 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:29:35.812 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 22:29:35.813 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 22:29:35.813 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 22:29:35.814 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:35.815 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:35.816 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:29:35.817 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:29:35.818 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:29:35.819 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:29:35.823 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:29:35.827 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:35.828 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 22:29:35.829 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:35.830 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:29:35.831 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:29:35.833 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 22:29:35.834 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:29:35.836 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:29:35.837 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:29:35.837 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:29:35.838 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:29:35.840 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:29:35.843 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 217.4606ms
2025-08-13 22:29:35.845 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 22:29:35.846 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"lauksiga@gmail.com","password":"Password@123"} Responded with [200] in 233ms
2025-08-13 22:29:35.849 +05:30 [DBG] Connection id "0HNEQGUV49JAV" completed keep alive response.
2025-08-13 22:29:35.851 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:29:35.857 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:35.860 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 22:29:35.861 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 962 application/json 253.1972ms
2025-08-13 22:29:35.934 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:29:35.938 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:29:35.940 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:29:35.942 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:29:35.943 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:29:35.945 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:29:35.947 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 5ms
2025-08-13 22:29:35.949 +05:30 [DBG] Connection id "0HNEQGUV49JAU" completed keep alive response.
2025-08-13 22:29:35.951 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 16.908ms
2025-08-13 22:29:35.952 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:29:35.960 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:29:35.962 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:29:35.963 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:29:35.968 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:29:35.971 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:29:35.973 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:29:35.974 +05:30 [DBG] Successfully validated the token.
2025-08-13 22:29:35.990 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 22:29:35.993 +05:30 [DBG] Authorization was successful.
2025-08-13 22:29:35.994 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:29:35.997 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 22:29:36.002 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:29:36.004 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:29:36.005 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:29:36.007 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:29:36.009 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:29:36.010 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:29:36.012 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:29:36.014 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:29:36.017 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:29:36.019 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 22:29:36.022 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 22:29:36.024 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 22:29:36.025 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 22:29:36.026 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 22:29:36.028 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:29:36.029 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:29:36.030 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:29:36.032 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:29:36.035 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:29:36.036 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 22:29:36.037 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:36.038 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:36.039 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:29:36.040 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:29:36.041 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:29:36.044 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:29:36.053 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:29:36.055 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:36.056 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 22:29:36.059 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:36.060 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:29:36.063 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:36.065 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:36.067 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:29:36.068 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:29:36.070 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:29:36.071 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:29:36.089 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:29:36.094 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:29:36.096 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:29:36.101 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:29:36.103 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:29:36.105 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:29:36.108 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:29:36.109 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:29:36.110 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:29:36.111 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:29:36.112 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:36.114 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 20ms reading results.
2025-08-13 22:29:36.116 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:36.117 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:29:36.118 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:29:36.121 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:29:36.122 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:29:36.123 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:29:36.124 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:29:36.126 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:29:36.127 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 117.1285ms
2025-08-13 22:29:36.128 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:29:36.130 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 159ms
2025-08-13 22:29:36.131 +05:30 [DBG] Connection id "0HNEQGUV49JAV" completed keep alive response.
2025-08-13 22:29:36.132 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:29:36.133 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:36.136 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 22:29:36.137 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 184.7612ms
2025-08-13 22:29:55.519 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:29:55.525 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:29:55.527 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:29:55.530 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:29:55.532 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:29:55.533 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:29:55.537 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 6ms
2025-08-13 22:29:55.543 +05:30 [DBG] Connection id "0HNEQGUV49JAU" completed keep alive response.
2025-08-13 22:29:55.546 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 27.27ms
2025-08-13 22:29:55.547 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:29:55.554 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:29:55.559 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:29:55.562 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:29:55.566 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:29:55.568 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:29:55.569 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:29:55.571 +05:30 [DBG] Successfully validated the token.
2025-08-13 22:29:55.574 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 22:29:55.575 +05:30 [DBG] Authorization was successful.
2025-08-13 22:29:55.577 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:29:55.579 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 22:29:55.583 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:29:55.586 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:29:55.589 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:29:55.594 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:29:55.596 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:29:55.600 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:29:55.603 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:29:55.609 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:29:55.612 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:29:55.614 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 22:29:55.616 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 22:29:55.618 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 22:29:55.622 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 22:29:55.625 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 22:29:55.628 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:29:55.629 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:29:55.630 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:29:55.631 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:29:55.634 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:29:55.636 +05:30 [DBG] Created DbConnection. (2ms).
2025-08-13 22:29:55.637 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:55.638 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:55.639 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:29:55.640 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:29:55.641 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:29:55.642 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:29:55.655 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:29:55.658 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:55.659 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 22:29:55.660 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:55.662 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:29:55.665 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:55.669 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:55.670 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:29:55.671 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:29:55.672 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:29:55.673 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:29:55.690 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:29:55.694 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:29:55.695 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:29:55.696 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:29:55.698 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:29:55.701 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:29:55.703 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:29:55.705 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:29:55.706 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:29:55.708 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:29:55.709 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:55.710 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 16ms reading results.
2025-08-13 22:29:55.711 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:55.712 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:29:55.714 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:29:55.720 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:29:55.721 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:29:55.723 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:29:55.724 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:29:55.727 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:29:55.750 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 150.157ms
2025-08-13 22:29:55.752 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:29:55.753 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 185ms
2025-08-13 22:29:55.755 +05:30 [DBG] Connection id "0HNEQGUV49JAV" completed keep alive response.
2025-08-13 22:29:55.757 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:29:55.758 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:29:55.762 +05:30 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-13 22:29:55.763 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 216.2574ms
2025-08-13 22:31:17.809 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:31:17.830 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:31:17.836 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:31:17.839 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:31:17.843 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:31:17.845 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:31:17.855 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 15ms
2025-08-13 22:31:17.858 +05:30 [DBG] Connection id "0HNEQGUV49JAU" completed keep alive response.
2025-08-13 22:31:17.864 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 55.4335ms
2025-08-13 22:31:17.864 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:31:17.877 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:31:17.878 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:31:17.880 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:31:17.882 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:31:17.884 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:31:17.885 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:31:17.887 +05:30 [DBG] Successfully validated the token.
2025-08-13 22:31:17.888 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 22:31:17.889 +05:30 [DBG] Authorization was successful.
2025-08-13 22:31:17.890 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:31:17.891 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 22:31:17.893 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:31:17.895 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:31:17.896 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:31:17.899 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:31:17.901 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:31:17.902 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:31:17.905 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:31:17.907 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:31:17.909 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:31:17.916 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 22:31:17.917 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 22:31:17.919 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 22:31:17.921 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 22:31:17.923 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 22:31:17.925 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:31:17.926 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:31:17.928 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:31:17.930 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:31:17.932 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:31:17.933 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 22:31:17.935 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:31:17.936 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:31:17.937 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:31:17.938 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:31:17.939 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:31:17.940 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:31:17.952 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:31:17.955 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:31:17.956 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 22:31:17.958 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:31:17.959 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:31:17.962 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:31:17.963 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:31:17.964 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:31:17.965 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:31:17.966 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:31:17.976 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:31:18.006 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:31:18.018 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:31:18.020 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:31:18.021 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:31:18.025 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:31:18.031 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:31:18.035 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:31:18.038 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:31:18.040 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:31:18.042 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:31:18.043 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:31:18.044 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 26ms reading results.
2025-08-13 22:31:18.046 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:31:18.047 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:31:18.049 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:31:18.051 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:31:18.052 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:31:18.053 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:31:18.053 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:31:18.055 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:31:18.061 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 158.9555ms
2025-08-13 22:31:18.064 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:31:18.066 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 182ms
2025-08-13 22:31:18.068 +05:30 [DBG] Connection id "0HNEQGUV49JAV" completed keep alive response.
2025-08-13 22:31:18.069 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:31:18.071 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:31:18.072 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 22:31:18.074 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 210.2862ms
2025-08-13 22:31:38.864 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:31:38.879 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:31:38.880 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:31:38.886 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:31:38.887 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:31:38.888 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:31:38.889 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 3ms
2025-08-13 22:31:38.890 +05:30 [DBG] Connection id "0HNEQGUV49JAU" completed keep alive response.
2025-08-13 22:31:38.891 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 27.4597ms
2025-08-13 22:31:38.894 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:31:38.908 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:31:38.910 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:31:38.914 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:31:38.916 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:31:38.918 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:31:38.919 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:31:38.921 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 5:01:35 PM', Current time (UTC): '8/13/2025 5:01:38 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-13 22:31:38.926 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 5:01:35 PM', Current time (UTC): '8/13/2025 5:01:38 PM'.
2025-08-13 22:31:38.933 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 22:31:38.935 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 22:31:38.938 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 22:31:38.943 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 25ms
2025-08-13 22:31:38.945 +05:30 [DBG] Connection id "0HNEQGUV49JAV" completed keep alive response.
2025-08-13 22:31:38.950 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 55.8119ms
2025-08-13 22:31:38.957 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - null null
2025-08-13 22:31:38.960 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 22:31:38.963 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:31:38.964 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:31:38.965 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:31:38.967 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:31:38.968 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/refresh   Responded with [204] in 3ms
2025-08-13 22:31:38.974 +05:30 [DBG] Connection id "0HNEQGUV49JAU" completed keep alive response.
2025-08-13 22:31:38.976 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 36
2025-08-13 22:31:38.977 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - 204 null null 19.6248ms
2025-08-13 22:31:38.984 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 22:31:38.993 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 22:31:38.997 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 22:31:38.998 +05:30 [DBG] Connection id "0HNEQGUV49JAV", Request id "0HNEQGUV49JAV:00000006": started reading request body.
2025-08-13 22:31:38.999 +05:30 [DBG] Connection id "0HNEQGUV49JAV", Request id "0HNEQGUV49JAV:00000006": done reading request body.
2025-08-13 22:31:39.000 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:31:39.001 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:31:39.002 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 22:31:39.003 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 22:31:39.004 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 22:31:39.007 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:31:39.008 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:31:39.010 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:31:39.012 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:31:39.013 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:31:39.016 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:31:39.018 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:31:39.022 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:31:39.023 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 22:31:39.024 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 22:31:39.026 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 22:31:39.029 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 22:31:39.030 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 22:31:39.032 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 22:31:39.034 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 22:31:39.039 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 22:31:39.121 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:31:39.124 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:31:39.125 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:31:39.126 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:31:39.127 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:31:39.129 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 22:31:39.133 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 117.7042ms
2025-08-13 22:31:39.134 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 22:31:39.145 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"","refreshToken":""} Responded with [401] in 146ms
2025-08-13 22:31:39.147 +05:30 [DBG] Connection id "0HNEQGUV49JAV" completed keep alive response.
2025-08-13 22:31:39.148 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:31:39.149 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 401 126 application/json 173.1259ms
2025-08-13 22:36:07.399 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:36:07.407 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:36:07.408 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:36:07.413 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:36:07.414 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:36:07.415 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:36:07.418 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 4ms
2025-08-13 22:36:07.419 +05:30 [DBG] Connection id "0HNEQGUV49JAU" completed keep alive response.
2025-08-13 22:36:07.420 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 21.4374ms
2025-08-13 22:36:07.420 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:36:07.432 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:36:07.433 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:36:07.434 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:36:07.435 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:36:07.436 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:36:07.437 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:36:07.438 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 5:01:35 PM', Current time (UTC): '8/13/2025 5:06:07 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-13 22:36:07.441 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 5:01:35 PM', Current time (UTC): '8/13/2025 5:06:07 PM'.
2025-08-13 22:36:07.442 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 22:36:07.443 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 22:36:07.444 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 22:36:07.446 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 10ms
2025-08-13 22:36:07.447 +05:30 [DBG] Connection id "0HNEQGUV49JAV" completed keep alive response.
2025-08-13 22:36:07.448 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 28.3399ms
2025-08-13 22:36:07.452 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - null null
2025-08-13 22:36:07.455 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 22:36:07.456 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:36:07.458 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:36:07.459 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:36:07.462 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:36:07.463 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/refresh   Responded with [204] in 5ms
2025-08-13 22:36:07.464 +05:30 [DBG] Connection id "0HNEQGUV49JAU" completed keep alive response.
2025-08-13 22:36:07.466 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 36
2025-08-13 22:36:07.467 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - 204 null null 14.4266ms
2025-08-13 22:36:07.469 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 22:36:07.474 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 22:36:07.475 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 22:36:07.478 +05:30 [DBG] Connection id "0HNEQGUV49JAV", Request id "0HNEQGUV49JAV:00000008": started reading request body.
2025-08-13 22:36:07.479 +05:30 [DBG] Connection id "0HNEQGUV49JAV", Request id "0HNEQGUV49JAV:00000008": done reading request body.
2025-08-13 22:36:07.480 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:36:07.481 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:36:07.482 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 22:36:07.482 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 22:36:07.483 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 22:36:07.484 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:36:07.485 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:36:07.488 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:36:07.490 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:36:07.491 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:36:07.492 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:36:07.495 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:36:07.497 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:36:07.498 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 22:36:07.499 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 22:36:07.501 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 22:36:07.503 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 22:36:07.503 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 22:36:07.504 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 22:36:07.506 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 22:36:07.508 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 22:36:07.529 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:36:07.532 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:36:07.533 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:36:07.533 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:36:07.534 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:36:07.535 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 22:36:07.536 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 44.123ms
2025-08-13 22:36:07.537 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 22:36:07.538 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"","refreshToken":""} Responded with [401] in 60ms
2025-08-13 22:36:07.539 +05:30 [DBG] Connection id "0HNEQGUV49JAV" completed keep alive response.
2025-08-13 22:36:07.540 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:36:07.542 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 401 126 application/json 76.313ms
2025-08-13 22:36:13.837 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 22:36:13.841 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 22:36:13.842 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:36:13.844 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:36:13.845 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:36:13.846 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:36:13.847 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 2ms
2025-08-13 22:36:13.848 +05:30 [DBG] Connection id "0HNEQGUV49JAU" completed keep alive response.
2025-08-13 22:36:13.849 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 11.8495ms
2025-08-13 22:36:13.849 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 56
2025-08-13 22:36:13.856 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 22:36:13.857 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 22:36:13.858 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 22:36:13.859 +05:30 [DBG] Connection id "0HNEQGUV49JAV", Request id "0HNEQGUV49JAV:00000009": started reading request body.
2025-08-13 22:36:13.860 +05:30 [DBG] Connection id "0HNEQGUV49JAV", Request id "0HNEQGUV49JAV:00000009": done reading request body.
2025-08-13 22:36:13.861 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:36:13.862 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:36:13.863 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 22:36:13.863 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 22:36:13.864 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 22:36:13.866 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:36:13.867 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:36:13.869 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:36:13.872 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:36:13.873 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:36:13.874 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:36:13.876 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:36:13.878 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:36:13.879 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 22:36:13.880 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 22:36:13.881 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 22:36:13.882 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 22:36:13.883 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 22:36:13.884 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 22:36:13.886 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 22:36:13.887 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 22:36:13.889 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:36:13.890 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 22:36:13.891 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:13.915 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:13.918 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:36:13.919 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:36:13.920 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:36:13.921 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 22:36:13.930 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 22:36:13.936 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:36:13.937 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:13.938 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 22:36:13.939 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:13.940 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:36:13.991 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:13.993 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:13.994 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:36:13.994 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:36:13.996 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:36:13.997 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:36:14.003 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:36:14.006 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.007 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 22:36:14.008 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.010 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:36:14.011 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:36:14.013 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 22:36:14.014 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 22:36:14.014 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 22:36:14.015 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.017 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.018 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:36:14.018 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:36:14.019 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:36:14.020 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:36:14.031 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:36:14.034 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.034 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 22:36:14.036 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.037 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:36:14.038 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:36:14.039 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 22:36:14.042 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.043 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.046 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:36:14.046 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:36:14.048 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:36:14.049 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:36:14.053 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:36:14.060 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.061 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 22:36:14.062 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.065 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 22:36:14.066 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:36:14.068 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 22:36:14.068 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 22:36:14.069 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 22:36:14.070 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.071 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.072 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:36:14.073 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:36:14.074 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:36:14.075 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:36:14.080 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:36:14.083 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.084 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 22:36:14.085 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.086 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:36:14.087 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:36:14.088 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 22:36:14.089 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:36:14.091 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:36:14.092 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:36:14.093 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:36:14.093 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:36:14.094 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:36:14.098 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 223.695ms
2025-08-13 22:36:14.099 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 22:36:14.101 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"lauksiga@gmail.com","password":"Password@123"} Responded with [200] in 241ms
2025-08-13 22:36:14.103 +05:30 [DBG] Connection id "0HNEQGUV49JAV" completed keep alive response.
2025-08-13 22:36:14.105 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:36:14.107 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:36:14.109 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.114 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:36:14.118 +05:30 [DBG] Connection id "0HNEQGUV49JB0" accepted.
2025-08-13 22:36:14.119 +05:30 [DBG] Disposed connection to database '' on server '' (10ms).
2025-08-13 22:36:14.129 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:36:14.130 +05:30 [DBG] Connection id "0HNEQGUV49JB0" started.
2025-08-13 22:36:14.132 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 962 application/json 282.4432ms
2025-08-13 22:36:14.133 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:36:14.135 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:36:14.138 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:36:14.140 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:36:14.141 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:36:14.142 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:36:14.143 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 10ms
2025-08-13 22:36:14.144 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:36:14.144 +05:30 [DBG] Connection id "0HNEQGUV49JAU" completed keep alive response.
2025-08-13 22:36:14.145 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:36:14.146 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:36:14.146 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 39.7035ms
2025-08-13 22:36:14.147 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:36:14.149 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:36:14.154 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 10ms
2025-08-13 22:36:14.155 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:36:14.155 +05:30 [DBG] Connection id "0HNEQGUV49JB0" completed keep alive response.
2025-08-13 22:36:14.157 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:36:14.157 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 22.4094ms
2025-08-13 22:36:14.159 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:36:14.163 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:36:14.164 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:36:14.165 +05:30 [DBG] Successfully validated the token.
2025-08-13 22:36:14.166 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 22:36:14.169 +05:30 [DBG] Authorization was successful.
2025-08-13 22:36:14.169 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:36:14.170 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 22:36:14.172 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:36:14.173 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:36:14.174 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:36:14.176 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:36:14.177 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:36:14.179 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:36:14.181 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:36:14.183 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:36:14.183 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:36:14.184 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 22:36:14.185 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 22:36:14.187 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 22:36:14.188 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 22:36:14.190 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 22:36:14.191 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:36:14.194 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:36:14.196 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:36:14.197 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:36:14.198 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:36:14.199 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 22:36:14.199 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.200 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.201 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:36:14.202 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:36:14.203 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:36:14.204 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:36:14.214 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:36:14.217 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.218 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 22:36:14.219 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.220 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:36:14.222 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.223 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.224 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:36:14.225 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:36:14.225 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:36:14.228 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:36:14.244 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:36:14.248 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:36:14.249 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:36:14.250 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:36:14.251 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:36:14.254 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:36:14.255 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:36:14.256 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:36:14.257 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:36:14.259 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:36:14.261 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.262 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 14ms reading results.
2025-08-13 22:36:14.263 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.264 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:36:14.265 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:36:14.267 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:36:14.268 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:36:14.269 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:36:14.269 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:36:14.270 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:36:14.271 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 92.7687ms
2025-08-13 22:36:14.275 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:36:14.277 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 114ms
2025-08-13 22:36:14.278 +05:30 [DBG] Connection id "0HNEQGUV49JAV" completed keep alive response.
2025-08-13 22:36:14.280 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:36:14.281 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.282 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-13 22:36:14.283 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 137.0435ms
2025-08-13 22:36:14.285 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:36:14.287 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:36:14.288 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:36:14.290 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:36:14.292 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:36:14.293 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:36:14.293 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:36:14.295 +05:30 [DBG] Successfully validated the token.
2025-08-13 22:36:14.295 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 22:36:14.296 +05:30 [DBG] Authorization was successful.
2025-08-13 22:36:14.297 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:36:14.298 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 22:36:14.300 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:36:14.301 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:36:14.302 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:36:14.303 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:36:14.305 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:36:14.307 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:36:14.310 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:36:14.313 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:36:14.314 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:36:14.317 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 22:36:14.319 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 22:36:14.322 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 22:36:14.326 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 22:36:14.328 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 22:36:14.331 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:36:14.332 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:36:14.333 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:36:14.334 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:36:14.336 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:36:14.336 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 22:36:14.337 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.339 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.340 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:36:14.341 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:36:14.342 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:36:14.343 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:36:14.346 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:36:14.349 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.350 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 22:36:14.351 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.352 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:36:14.355 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.356 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.359 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:36:14.360 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:36:14.361 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:36:14.362 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:36:14.366 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:36:14.369 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:36:14.371 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:36:14.373 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:36:14.374 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:36:14.375 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:36:14.376 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:36:14.377 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:36:14.379 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:36:14.380 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:36:14.381 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.382 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 12ms reading results.
2025-08-13 22:36:14.383 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.384 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:36:14.386 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:36:14.389 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:36:14.389 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:36:14.390 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:36:14.391 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:36:14.392 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:36:14.393 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 85.8329ms
2025-08-13 22:36:14.394 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:36:14.395 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 102ms
2025-08-13 22:36:14.396 +05:30 [DBG] Connection id "0HNEQGUV49JAV" completed keep alive response.
2025-08-13 22:36:14.398 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:36:14.400 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:36:14.402 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 22:36:14.403 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 117.3729ms
2025-08-13 22:36:47.632 +05:30 [DBG] Connection id "0HNEQGUV49JAV" received FIN.
2025-08-13 22:36:47.633 +05:30 [DBG] Connection id "0HNEQGUV49JAU" received FIN.
2025-08-13 22:36:47.642 +05:30 [DBG] Connection id "0HNEQGUV49JB0" received FIN.
2025-08-13 22:36:47.643 +05:30 [DBG] Connection id "0HNEQGUV49JAV" disconnecting.
2025-08-13 22:36:47.649 +05:30 [DBG] Connection id "0HNEQGUV49JAU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 22:36:47.650 +05:30 [DBG] Connection id "0HNEQGUV49JAV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 22:36:47.659 +05:30 [DBG] Connection id "0HNEQGUV49JAU" disconnecting.
2025-08-13 22:36:47.654 +05:30 [DBG] Connection id "0HNEQGUV49JB0" disconnecting.
2025-08-13 22:36:47.664 +05:30 [DBG] Connection id "0HNEQGUV49JAU" stopped.
2025-08-13 22:36:47.668 +05:30 [DBG] Connection id "0HNEQGUV49JAV" stopped.
2025-08-13 22:36:47.669 +05:30 [DBG] Connection id "0HNEQGUV49JB0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 22:36:47.684 +05:30 [DBG] Connection id "0HNEQGUV49JB0" stopped.
2025-08-13 22:37:30.360 +05:30 [DBG] Connection id "0HNEQGUV49JB1" accepted.
2025-08-13 22:37:30.365 +05:30 [DBG] Connection id "0HNEQGUV49JB1" started.
2025-08-13 22:37:30.369 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:37:30.375 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:37:30.377 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:37:30.378 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:37:30.380 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:37:30.381 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:37:30.384 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 5ms
2025-08-13 22:37:30.393 +05:30 [DBG] Connection id "0HNEQGUV49JB1" completed keep alive response.
2025-08-13 22:37:30.397 +05:30 [DBG] Connection id "0HNEQGUV49JB2" accepted.
2025-08-13 22:37:30.399 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 30.1291ms
2025-08-13 22:37:30.400 +05:30 [DBG] Connection id "0HNEQGUV49JB2" started.
2025-08-13 22:37:30.415 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:37:30.418 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:37:30.419 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:37:30.422 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:37:30.424 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:37:30.426 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:37:30.427 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:37:30.428 +05:30 [DBG] Successfully validated the token.
2025-08-13 22:37:30.429 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 22:37:30.431 +05:30 [DBG] Authorization was successful.
2025-08-13 22:37:30.432 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:37:30.434 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 22:37:30.442 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:37:30.444 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:37:30.447 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:37:30.450 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:37:30.455 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:37:30.458 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:37:30.462 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:37:30.465 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:37:30.466 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:37:30.470 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 22:37:30.472 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 22:37:30.474 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 22:37:30.476 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 22:37:30.478 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 22:37:30.481 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:37:30.482 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:37:30.483 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:37:30.487 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:37:30.490 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:37:30.491 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 22:37:30.492 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:37:30.495 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:37:30.496 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:37:30.498 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:37:30.499 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:37:30.502 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:37:30.520 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:37:30.526 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:37:30.527 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 22:37:30.530 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:37:30.531 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:37:30.536 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:37:30.539 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:37:30.540 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:37:30.542 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:37:30.548 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-08-13 22:37:30.562 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:37:30.590 +05:30 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:37:30.596 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:37:30.597 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:37:30.600 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:37:30.602 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:37:30.603 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:37:30.605 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:37:30.608 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:37:30.609 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:37:30.611 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:37:30.612 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:37:30.614 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 18ms reading results.
2025-08-13 22:37:30.616 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:37:30.617 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:37:30.618 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:37:30.620 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:37:30.620 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:37:30.621 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:37:30.621 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:37:30.624 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:37:30.625 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 166.3297ms
2025-08-13 22:37:30.626 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:37:30.627 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 200ms
2025-08-13 22:37:30.628 +05:30 [DBG] Connection id "0HNEQGUV49JB2" completed keep alive response.
2025-08-13 22:37:30.629 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:37:30.630 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:37:30.631 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 22:37:30.632 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 217.4054ms
2025-08-13 22:38:07.990 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:38:08.001 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:38:08.003 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:38:08.009 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:38:08.010 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:38:08.011 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:38:08.013 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 4ms
2025-08-13 22:38:08.014 +05:30 [DBG] Connection id "0HNEQGUV49JB1" completed keep alive response.
2025-08-13 22:38:08.016 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 25.6636ms
2025-08-13 22:38:08.022 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:38:08.064 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:38:08.065 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:38:08.069 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:38:08.070 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:38:08.072 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:38:08.073 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:38:08.074 +05:30 [DBG] Successfully validated the token.
2025-08-13 22:38:08.076 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 22:38:08.077 +05:30 [DBG] Authorization was successful.
2025-08-13 22:38:08.078 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:38:08.079 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 22:38:08.082 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:38:08.086 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:38:08.088 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:38:08.090 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:38:08.092 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:38:08.095 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:38:08.097 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:38:08.104 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:38:08.107 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:38:08.109 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 22:38:08.111 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 22:38:08.113 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 22:38:08.115 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 22:38:08.117 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 22:38:08.119 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:38:08.120 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:38:08.121 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:38:08.125 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:38:08.127 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:38:08.128 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 22:38:08.130 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:38:08.131 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:38:08.133 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:38:08.134 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:38:08.135 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:38:08.137 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:38:08.148 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:38:08.153 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:38:08.154 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 22:38:08.158 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:38:08.160 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:38:08.162 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:38:08.164 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:38:08.166 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:38:08.167 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:38:08.170 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 22:38:08.175 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:38:08.222 +05:30 [INF] Executed DbCommand (47ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:38:08.231 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:38:08.232 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:38:08.233 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:38:08.235 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:38:08.236 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:38:08.237 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:38:08.238 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:38:08.240 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:38:08.241 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:38:08.242 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:38:08.243 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 12ms reading results.
2025-08-13 22:38:08.245 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:38:08.247 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:38:08.249 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:38:08.251 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:38:08.253 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:38:08.254 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:38:08.254 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:38:08.255 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:38:08.257 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 161.844ms
2025-08-13 22:38:08.258 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:38:08.259 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 187ms
2025-08-13 22:38:08.262 +05:30 [DBG] Connection id "0HNEQGUV49JB2" completed keep alive response.
2025-08-13 22:38:08.263 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:38:08.264 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:38:08.265 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-13 22:38:08.266 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 245.9459ms
2025-08-13 22:38:14.506 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:38:14.511 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:38:14.512 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:38:14.514 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:38:14.518 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:38:14.521 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:38:14.522 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 8ms
2025-08-13 22:38:14.527 +05:30 [DBG] Connection id "0HNEQGUV49JB1" completed keep alive response.
2025-08-13 22:38:14.528 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 22.1469ms
2025-08-13 22:38:14.531 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:38:14.538 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:38:14.543 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:38:14.548 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:38:14.551 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:38:14.552 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:38:14.554 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:38:14.559 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 5:08:14 PM', Current time (UTC): '8/13/2025 5:08:14 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-13 22:38:14.564 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 5:08:14 PM', Current time (UTC): '8/13/2025 5:08:14 PM'.
2025-08-13 22:38:14.566 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 22:38:14.568 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 22:38:14.573 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 22:38:14.576 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 24ms
2025-08-13 22:38:14.579 +05:30 [DBG] Connection id "0HNEQGUV49JB2" completed keep alive response.
2025-08-13 22:38:14.581 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 49.9064ms
2025-08-13 22:38:14.590 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - null null
2025-08-13 22:38:14.594 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 22:38:14.596 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:38:14.597 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:38:14.598 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:38:14.598 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:38:14.600 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/refresh   Responded with [204] in 3ms
2025-08-13 22:38:14.601 +05:30 [DBG] Connection id "0HNEQGUV49JB1" completed keep alive response.
2025-08-13 22:38:14.602 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - 204 null null 11.9128ms
2025-08-13 22:38:14.604 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 367
2025-08-13 22:38:14.609 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 22:38:14.610 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 22:38:14.612 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 22:38:14.613 +05:30 [DBG] Connection id "0HNEQGUV49JB2", Request id "0HNEQGUV49JB2:00000004": started reading request body.
2025-08-13 22:38:14.614 +05:30 [DBG] Connection id "0HNEQGUV49JB2", Request id "0HNEQGUV49JB2:00000004": done reading request body.
2025-08-13 22:38:14.615 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:38:14.616 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:38:14.617 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 22:38:14.618 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 22:38:14.619 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 22:38:14.622 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:38:14.623 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:38:14.624 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:38:14.626 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:38:14.628 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:38:14.629 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:38:14.631 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:38:14.632 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:38:14.633 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 22:38:14.634 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 22:38:14.636 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 22:38:14.637 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 22:38:14.638 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 22:38:14.639 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 22:38:14.640 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 22:38:14.641 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 22:38:14.643 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:38:14.645 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 22:38:14.646 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:38:14.647 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:38:14.648 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:38:14.649 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:38:14.650 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:38:14.651 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 4000), @__refreshToken_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE CONVERT(varchar(11), [u].[Id]) = @__userId_0 AND [u].[RefreshToken] = @__refreshToken_1
2025-08-13 22:38:14.661 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000), @__refreshToken_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE CONVERT(varchar(11), [u].[Id]) = @__userId_0 AND [u].[RefreshToken] = @__refreshToken_1
2025-08-13 22:38:14.664 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:38:14.665 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:38:14.666 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 22:38:14.668 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:38:14.669 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:38:14.672 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:38:14.673 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:38:14.674 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:38:14.675 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:38:14.676 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:38:14.677 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:38:14.683 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:38:14.689 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:38:14.691 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 22:38:14.692 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:38:14.693 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:38:14.695 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:38:14.696 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 22:38:14.697 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 22:38:14.698 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 22:38:14.699 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:38:14.700 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:38:14.702 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:38:14.703 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:38:14.704 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:38:14.706 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:38:14.717 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:38:14.721 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:38:14.722 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 22:38:14.724 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:38:14.725 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:38:14.726 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:38:14.727 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 22:38:14.728 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:38:14.730 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:38:14.731 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:38:14.732 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:38:14.734 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:38:14.736 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:38:14.738 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 109.2339ms
2025-08-13 22:38:14.740 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 22:38:14.742 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxMiIsInVuaXF1ZV9uYW1lIjoiTGF1a3NpZ2EiLCJlbWFpbCI6ImxhdWtzaWdhQGdtYWlsLmNvbSIsInJvbGUiOiJVc2VyIiwibmJmIjoxNzU1MTA0Nzc0LCJleHAiOjE3NTUxMDQ4OTQsImlhdCI6MTc1NTEwNDc3NCwiaXNzIjoiVHJhdmVsUGxhbm5lckFQSSIsImF1ZCI6IlRyYXZlbFBsYW5uZXJDbGllbnQifQ.fiE4aat_o2pOnbvARFUVufYKCn1EU5uf-YGjSmsA2BI","refreshToken":""} Responded with [200] in 128ms
2025-08-13 22:38:14.745 +05:30 [DBG] Connection id "0HNEQGUV49JB2" completed keep alive response.
2025-08-13 22:38:14.747 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:38:14.748 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:38:14.751 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 22:38:14.754 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 200 962 application/json 150.2408ms
2025-08-13 22:38:14.760 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:38:14.763 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:38:14.764 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:38:14.766 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:38:14.767 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:38:14.768 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:38:14.769 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:38:14.770 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-13 22:38:14.776 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-13 22:38:14.777 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 22:38:14.778 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 22:38:14.780 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 22:38:14.781 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 13ms
2025-08-13 22:38:14.783 +05:30 [DBG] Connection id "0HNEQGUV49JB2" completed keep alive response.
2025-08-13 22:38:14.785 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 24.1551ms
2025-08-13 22:43:48.102 +05:30 [DBG] Connection id "0HNEQGUV49JB2" received FIN.
2025-08-13 22:43:48.109 +05:30 [DBG] Connection id "0HNEQGUV49JB2" disconnecting.
2025-08-13 22:43:48.110 +05:30 [DBG] Connection id "0HNEQGUV49JB1" received FIN.
2025-08-13 22:43:48.112 +05:30 [DBG] Connection id "0HNEQGUV49JB2" stopped.
2025-08-13 22:43:48.117 +05:30 [DBG] Connection id "0HNEQGUV49JB1" disconnecting.
2025-08-13 22:43:48.125 +05:30 [DBG] Connection id "0HNEQGUV49JB2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 22:43:48.127 +05:30 [DBG] Connection id "0HNEQGUV49JB1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 22:43:48.147 +05:30 [DBG] Connection id "0HNEQGUV49JB1" stopped.
2025-08-13 22:46:27.415 +05:30 [DBG] Connection id "0HNEQGUV49JB3" accepted.
2025-08-13 22:46:27.422 +05:30 [DBG] Connection id "0HNEQGUV49JB3" started.
2025-08-13 22:46:27.424 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 22:46:27.427 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 22:46:27.428 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:46:27.429 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:46:27.430 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:46:27.433 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:46:27.435 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 5ms
2025-08-13 22:46:27.436 +05:30 [DBG] Connection id "0HNEQGUV49JB3" completed keep alive response.
2025-08-13 22:46:27.437 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 12.1947ms
2025-08-13 22:46:27.438 +05:30 [DBG] Connection id "0HNEQGUV49JB4" accepted.
2025-08-13 22:46:27.448 +05:30 [DBG] Connection id "0HNEQGUV49JB4" started.
2025-08-13 22:46:27.449 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 56
2025-08-13 22:46:27.451 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 22:46:27.452 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 22:46:27.453 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 22:46:27.454 +05:30 [DBG] Connection id "0HNEQGUV49JB4", Request id "0HNEQGUV49JB4:00000001": started reading request body.
2025-08-13 22:46:27.455 +05:30 [DBG] Connection id "0HNEQGUV49JB4", Request id "0HNEQGUV49JB4:00000001": done reading request body.
2025-08-13 22:46:27.457 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:46:27.457 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:46:27.458 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 22:46:27.459 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 22:46:27.460 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 22:46:27.462 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:46:27.464 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:46:27.466 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:46:27.468 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:46:27.469 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:46:27.470 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:46:27.472 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:46:27.474 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:46:27.474 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 22:46:27.475 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 22:46:27.477 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 22:46:27.480 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 22:46:27.480 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 22:46:27.481 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 22:46:27.483 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 22:46:27.484 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 22:46:27.486 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:46:27.487 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 22:46:27.487 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.503 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.507 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:46:27.509 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:46:27.512 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-13 22:46:27.514 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 22:46:27.521 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 22:46:27.525 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:46:27.527 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.528 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-13 22:46:27.530 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.531 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:46:27.582 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.583 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.584 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:46:27.585 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:46:27.586 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:46:27.587 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:46:27.592 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:46:27.595 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.596 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 22:46:27.598 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.599 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:46:27.601 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:46:27.602 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 22:46:27.603 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 22:46:27.604 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 22:46:27.605 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.606 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.607 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:46:27.608 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:46:27.609 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:46:27.610 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:46:27.620 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:46:27.623 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.624 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 22:46:27.625 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.626 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:46:27.627 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:46:27.630 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 22:46:27.634 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.635 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.636 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:46:27.636 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:46:27.638 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:46:27.639 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:46:27.643 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:46:27.650 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.651 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 22:46:27.655 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.656 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:46:27.657 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:46:27.659 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 22:46:27.660 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 22:46:27.661 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 22:46:27.662 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.663 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.664 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:46:27.665 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:46:27.667 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:46:27.668 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:46:27.675 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:46:27.678 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.678 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 22:46:27.680 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.681 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:46:27.682 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:46:27.683 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 22:46:27.686 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:46:27.689 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:46:27.689 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:46:27.690 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:46:27.691 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:46:27.692 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:46:27.696 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 225.4892ms
2025-08-13 22:46:27.697 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 22:46:27.698 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"lauksiga@gmail.com","password":"Password@123"} Responded with [200] in 243ms
2025-08-13 22:46:27.699 +05:30 [DBG] Connection id "0HNEQGUV49JB4" completed keep alive response.
2025-08-13 22:46:27.701 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:46:27.703 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.704 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 22:46:27.706 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 962 application/json 256.4367ms
2025-08-13 22:46:27.780 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:46:27.786 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:46:27.788 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:46:27.789 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:46:27.790 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:46:27.791 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:46:27.793 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 3ms
2025-08-13 22:46:27.796 +05:30 [DBG] Connection id "0HNEQGUV49JB3" completed keep alive response.
2025-08-13 22:46:27.797 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 17.1456ms
2025-08-13 22:46:27.798 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:46:27.805 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:46:27.808 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:46:27.810 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:46:27.812 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:46:27.815 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:46:27.816 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:46:27.818 +05:30 [DBG] Successfully validated the token.
2025-08-13 22:46:27.820 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 22:46:27.821 +05:30 [DBG] Authorization was successful.
2025-08-13 22:46:27.824 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:46:27.825 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 22:46:27.827 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:46:27.829 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:46:27.831 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:46:27.834 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:46:27.836 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:46:27.838 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:46:27.841 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:46:27.844 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:46:27.845 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:46:27.849 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 22:46:27.851 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 22:46:27.852 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 22:46:27.854 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 22:46:27.855 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 22:46:27.857 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:46:27.858 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:46:27.859 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:46:27.861 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:46:27.865 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:46:27.866 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 22:46:27.866 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.868 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.869 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:46:27.870 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:46:27.871 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:46:27.872 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:46:27.880 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:46:27.883 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.884 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 22:46:27.886 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.887 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:46:27.889 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.891 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.892 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:46:27.893 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:46:27.894 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:46:27.895 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:46:27.910 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:46:27.916 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:46:27.919 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:46:27.921 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:46:27.923 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:46:27.925 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:46:27.930 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:46:27.934 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:46:27.936 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:46:27.938 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:46:27.939 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.940 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 24ms reading results.
2025-08-13 22:46:27.942 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.943 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:46:27.947 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:46:27.950 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:46:27.950 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:46:27.952 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:46:27.952 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:46:27.954 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:46:27.955 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 117.3104ms
2025-08-13 22:46:27.956 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:46:27.958 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 142ms
2025-08-13 22:46:27.959 +05:30 [DBG] Connection id "0HNEQGUV49JB4" completed keep alive response.
2025-08-13 22:46:27.961 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:46:27.963 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:46:27.964 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 22:46:27.966 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 167.7897ms
2025-08-13 22:48:13.911 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:48:13.927 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:48:13.935 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:48:13.940 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:48:13.941 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:48:13.942 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:48:13.946 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 6ms
2025-08-13 22:48:13.984 +05:30 [DBG] Connection id "0HNEQGUV49JB3" completed keep alive response.
2025-08-13 22:48:13.991 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 79.9355ms
2025-08-13 22:48:14.001 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:48:14.009 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:48:14.011 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:48:14.014 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:48:14.019 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:48:14.022 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:48:14.023 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:48:14.024 +05:30 [DBG] Successfully validated the token.
2025-08-13 22:48:14.028 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 22:48:14.030 +05:30 [DBG] Authorization was successful.
2025-08-13 22:48:14.037 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:48:14.039 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 22:48:14.044 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:48:14.047 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:48:14.052 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:48:14.055 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:48:14.058 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:48:14.061 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:48:14.064 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:48:14.072 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 22:48:14.074 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:48:14.077 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 22:48:14.079 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 22:48:14.086 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 22:48:14.089 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 22:48:14.093 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 22:48:14.095 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:48:14.097 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:48:14.104 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 22:48:14.106 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 22:48:14.113 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:48:14.114 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 22:48:14.117 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:48:14.120 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:48:14.126 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:48:14.132 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-08-13 22:48:14.133 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-08-13 22:48:14.136 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:48:14.150 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 22:48:14.169 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:48:14.171 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 22:48:14.175 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:48:14.176 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:48:14.178 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:48:14.180 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:48:14.181 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:48:14.182 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 22:48:14.183 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:48:14.184 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:48:14.198 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 22:48:14.202 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:48:14.205 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:48:14.206 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:48:14.208 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:48:14.209 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:48:14.211 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:48:14.213 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:48:14.214 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:48:14.215 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:48:14.217 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:48:14.218 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 15ms reading results.
2025-08-13 22:48:14.219 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:48:14.220 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:48:14.222 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:48:14.227 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:48:14.230 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:48:14.231 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:48:14.231 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:48:14.233 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:48:14.234 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 173.3302ms
2025-08-13 22:48:14.235 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:48:14.236 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 214ms
2025-08-13 22:48:14.238 +05:30 [DBG] Connection id "0HNEQGUV49JB4" completed keep alive response.
2025-08-13 22:48:14.239 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:48:14.242 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:48:14.244 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 22:48:14.246 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 246.9443ms
2025-08-13 22:50:15.139 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:50:15.157 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:50:15.158 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:50:15.160 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:50:15.162 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:50:15.163 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:50:15.165 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 4ms
2025-08-13 22:50:15.167 +05:30 [DBG] Connection id "0HNEQGUV49JB3" completed keep alive response.
2025-08-13 22:50:15.172 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 33.0362ms
2025-08-13 22:50:15.181 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:50:15.194 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:50:15.195 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:50:15.198 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:50:15.203 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:50:15.204 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:50:15.205 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:50:15.208 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 5:18:27 PM', Current time (UTC): '8/13/2025 5:20:15 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-13 22:50:15.213 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 5:18:27 PM', Current time (UTC): '8/13/2025 5:20:15 PM'.
2025-08-13 22:50:15.217 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 22:50:15.218 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 22:50:15.219 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 22:50:15.220 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 16ms
2025-08-13 22:50:15.221 +05:30 [DBG] Connection id "0HNEQGUV49JB4" completed keep alive response.
2025-08-13 22:50:15.222 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 41.215ms
2025-08-13 22:50:15.228 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - null null
2025-08-13 22:50:15.236 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 22:50:15.238 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 22:50:15.239 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:50:15.240 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:50:15.243 +05:30 [DBG] The request is a preflight request.
2025-08-13 22:50:15.244 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/refresh   Responded with [204] in 5ms
2025-08-13 22:50:15.245 +05:30 [DBG] Connection id "0HNEQGUV49JB3" completed keep alive response.
2025-08-13 22:50:15.246 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - 204 null null 18.1865ms
2025-08-13 22:50:15.247 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 367
2025-08-13 22:50:15.255 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 22:50:15.257 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 22:50:15.259 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 22:50:15.260 +05:30 [DBG] Connection id "0HNEQGUV49JB4", Request id "0HNEQGUV49JB4:00000005": started reading request body.
2025-08-13 22:50:15.261 +05:30 [DBG] Connection id "0HNEQGUV49JB4", Request id "0HNEQGUV49JB4:00000005": done reading request body.
2025-08-13 22:50:15.262 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:50:15.262 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:50:15.263 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 22:50:15.265 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 22:50:15.266 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 22:50:15.268 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 22:50:15.269 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 22:50:15.270 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:50:15.273 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 22:50:15.278 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 22:50:15.280 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:50:15.283 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 22:50:15.285 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 22:50:15.286 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 22:50:15.288 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 22:50:15.289 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 22:50:15.291 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 22:50:15.292 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 22:50:15.293 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 22:50:15.294 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 22:50:15.295 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 22:50:15.298 +05:30 [DBG] Creating DbConnection.
2025-08-13 22:50:15.301 +05:30 [DBG] Created DbConnection. (3ms).
2025-08-13 22:50:15.302 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:50:15.304 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:50:15.306 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:50:15.307 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:50:15.308 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:50:15.309 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 4000), @__refreshToken_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE CONVERT(varchar(11), [u].[Id]) = @__userId_0 AND [u].[RefreshToken] = @__refreshToken_1
2025-08-13 22:50:15.322 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000), @__refreshToken_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE CONVERT(varchar(11), [u].[Id]) = @__userId_0 AND [u].[RefreshToken] = @__refreshToken_1
2025-08-13 22:50:15.326 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:50:15.328 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:50:15.329 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-13 22:50:15.334 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:50:15.334 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:50:15.336 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:50:15.337 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:50:15.338 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:50:15.339 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:50:15.341 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:50:15.342 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:50:15.350 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 22:50:15.353 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:50:15.354 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 22:50:15.356 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:50:15.358 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 22:50:15.360 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:50:15.361 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 22:50:15.362 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 22:50:15.364 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 22:50:15.366 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:50:15.367 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:50:15.389 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 22:50:15.391 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 22:50:15.392 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 22:50:15.393 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:50:15.408 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 22:50:15.413 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:50:15.415 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 22:50:15.416 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:50:15.417 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 22:50:15.419 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 22:50:15.420 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 22:50:15.421 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 22:50:15.423 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 22:50:15.424 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 22:50:15.425 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 22:50:15.425 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 22:50:15.427 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 22:50:15.430 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 150.4758ms
2025-08-13 22:50:15.431 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 22:50:15.433 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxMiIsInVuaXF1ZV9uYW1lIjoiTGF1a3NpZ2EiLCJlbWFpbCI6ImxhdWtzaWdhQGdtYWlsLmNvbSIsInJvbGUiOiJVc2VyIiwibmJmIjoxNzU1MTA1Mzg3LCJleHAiOjE3NTUxMDU1MDcsImlhdCI6MTc1NTEwNTM4NywiaXNzIjoiVHJhdmVsUGxhbm5lckFQSSIsImF1ZCI6IlRyYXZlbFBsYW5uZXJDbGllbnQifQ.u4XgiBPKBCfqvSh6DQvsMmQ85LVuNi-2RIXM7_FqG6o","refreshToken":""} Responded with [200] in 173ms
2025-08-13 22:50:15.434 +05:30 [DBG] Connection id "0HNEQGUV49JB4" completed keep alive response.
2025-08-13 22:50:15.435 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 22:50:15.436 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 22:50:15.437 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 22:50:15.439 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 200 962 application/json 191.4739ms
2025-08-13 22:50:15.443 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 22:50:15.445 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 22:50:15.446 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:50:15.451 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 22:50:15.454 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 22:50:15.455 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 22:50:15.457 +05:30 [INF] CORS policy execution successful.
2025-08-13 22:50:15.459 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 5:18:27 PM', Current time (UTC): '8/13/2025 5:20:15 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-13 22:50:15.466 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 5:18:27 PM', Current time (UTC): '8/13/2025 5:20:15 PM'.
2025-08-13 22:50:15.468 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 22:50:15.469 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 22:50:15.470 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 22:50:15.472 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 16ms
2025-08-13 22:50:15.473 +05:30 [DBG] Connection id "0HNEQGUV49JB4" completed keep alive response.
2025-08-13 22:50:15.474 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 30.6326ms
2025-08-13 22:57:56.929 +05:30 [DBG] Connection id "0HNEQGUV49JB4" received FIN.
2025-08-13 22:57:56.931 +05:30 [DBG] Connection id "0HNEQGUV49JB3" received FIN.
2025-08-13 22:57:56.940 +05:30 [DBG] Connection id "0HNEQGUV49JB4" disconnecting.
2025-08-13 22:57:56.942 +05:30 [DBG] Connection id "0HNEQGUV49JB3" disconnecting.
2025-08-13 22:57:56.948 +05:30 [DBG] Connection id "0HNEQGUV49JB4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 22:57:56.954 +05:30 [DBG] Connection id "0HNEQGUV49JB3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 22:57:56.963 +05:30 [DBG] Connection id "0HNEQGUV49JB4" stopped.
2025-08-13 22:57:56.963 +05:30 [DBG] Connection id "0HNEQGUV49JB3" stopped.
2025-08-13 23:02:20.878 +05:30 [DBG] Connection id "0HNEQGUV49JB5" accepted.
2025-08-13 23:02:20.884 +05:30 [DBG] Connection id "0HNEQGUV49JB5" started.
2025-08-13 23:02:20.885 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 23:02:20.888 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 23:02:20.889 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 23:02:20.890 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:02:20.890 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:02:20.891 +05:30 [DBG] The request is a preflight request.
2025-08-13 23:02:20.892 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 2ms
2025-08-13 23:02:20.893 +05:30 [DBG] Connection id "0HNEQGUV49JB5" completed keep alive response.
2025-08-13 23:02:20.895 +05:30 [DBG] Connection id "0HNEQGUV49JB6" accepted.
2025-08-13 23:02:20.897 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 11.8348ms
2025-08-13 23:02:20.902 +05:30 [DBG] Connection id "0HNEQGUV49JB6" started.
2025-08-13 23:02:20.905 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 56
2025-08-13 23:02:20.906 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 23:02:20.907 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 23:02:20.908 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 23:02:20.909 +05:30 [DBG] Connection id "0HNEQGUV49JB6", Request id "0HNEQGUV49JB6:00000001": started reading request body.
2025-08-13 23:02:20.910 +05:30 [DBG] Connection id "0HNEQGUV49JB6", Request id "0HNEQGUV49JB6:00000001": done reading request body.
2025-08-13 23:02:20.911 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:02:20.912 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:02:20.913 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 23:02:20.914 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 23:02:20.915 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 23:02:20.916 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 23:02:20.918 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 23:02:20.919 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:02:20.921 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 23:02:20.922 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:02:20.923 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 23:02:20.925 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 23:02:20.927 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 23:02:20.928 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 23:02:20.929 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 23:02:20.930 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 23:02:20.931 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 23:02:20.932 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 23:02:20.934 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 23:02:20.935 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 23:02:20.938 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 23:02:20.940 +05:30 [DBG] Creating DbConnection.
2025-08-13 23:02:20.940 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 23:02:20.941 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:20.953 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:20.956 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:02:20.957 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:02:20.958 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:02:20.959 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 23:02:20.969 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 23:02:20.972 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:02:20.973 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:20.974 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 23:02:20.975 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:20.976 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 23:02:21.030 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:21.031 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:21.032 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:02:21.033 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:02:21.034 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:02:21.035 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 23:02:21.040 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 23:02:21.042 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:21.044 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 23:02:21.046 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:21.047 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 23:02:21.048 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:02:21.049 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 23:02:21.050 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 23:02:21.051 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 23:02:21.052 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:21.053 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:21.054 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:02:21.055 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:02:21.056 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:02:21.057 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 23:02:21.068 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 23:02:21.071 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:21.072 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 23:02:21.073 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:21.074 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 23:02:21.077 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:02:21.078 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 23:02:21.080 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:21.081 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:21.082 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:02:21.083 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:02:21.084 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:02:21.085 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 23:02:21.088 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 23:02:21.090 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:21.092 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 23:02:21.093 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:21.095 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 23:02:21.097 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:02:21.099 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 23:02:21.100 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 23:02:21.101 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 23:02:21.102 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:21.105 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:21.106 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:02:21.106 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:02:21.107 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:02:21.108 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 23:02:21.113 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 23:02:21.116 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:21.116 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 23:02:21.118 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:21.120 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 23:02:21.121 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:02:21.123 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 23:02:21.124 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 23:02:21.126 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 23:02:21.126 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 23:02:21.127 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 23:02:21.128 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 23:02:21.129 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 23:02:21.131 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 207.997ms
2025-08-13 23:02:21.132 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 23:02:21.134 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"lauksiga@gmail.com","password":"Password@123"} Responded with [200] in 224ms
2025-08-13 23:02:21.136 +05:30 [DBG] Connection id "0HNEQGUV49JB6" completed keep alive response.
2025-08-13 23:02:21.137 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 23:02:21.138 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:21.140 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 23:02:21.141 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 962 application/json 236.1166ms
2025-08-13 23:02:21.172 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 23:02:21.177 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 23:02:21.178 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 23:02:21.180 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:02:21.181 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:02:21.183 +05:30 [DBG] The request is a preflight request.
2025-08-13 23:02:21.184 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 4ms
2025-08-13 23:02:21.186 +05:30 [DBG] Connection id "0HNEQGUV49JB5" completed keep alive response.
2025-08-13 23:02:21.188 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 16.0053ms
2025-08-13 23:02:21.189 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 23:02:21.199 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 23:02:21.200 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 23:02:21.202 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 23:02:21.203 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 23:02:21.205 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:02:21.206 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:02:21.208 +05:30 [DBG] Successfully validated the token.
2025-08-13 23:02:21.209 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 23:02:21.210 +05:30 [DBG] Authorization was successful.
2025-08-13 23:02:21.211 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 23:02:21.211 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 23:02:21.214 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 23:02:21.216 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 23:02:21.217 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:02:21.222 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 23:02:21.224 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:02:21.225 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 23:02:21.228 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 23:02:21.233 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 23:02:21.235 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 23:02:21.240 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 23:02:21.242 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 23:02:21.246 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 23:02:21.248 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 23:02:21.254 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 23:02:21.256 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 23:02:21.257 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 23:02:21.259 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 23:02:21.261 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 23:02:21.263 +05:30 [DBG] Creating DbConnection.
2025-08-13 23:02:21.263 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 23:02:21.264 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:21.267 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:21.268 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:02:21.270 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:02:21.271 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 23:02:21.273 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 23:02:21.284 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 23:02:21.289 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:21.291 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 23:02:21.292 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:21.295 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (3ms).
2025-08-13 23:02:21.298 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:21.299 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:21.301 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:02:21.302 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:02:21.305 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 23:02:21.306 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 23:02:21.329 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 23:02:21.332 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:02:21.334 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:02:21.336 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:02:21.337 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:02:21.339 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:02:21.340 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:02:21.343 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:02:21.346 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:02:21.347 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:02:21.349 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:21.350 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 18ms reading results.
2025-08-13 23:02:21.352 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:21.353 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 23:02:21.355 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 23:02:21.357 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 23:02:21.358 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 23:02:21.359 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 23:02:21.359 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 23:02:21.361 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 23:02:21.362 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 137.1098ms
2025-08-13 23:02:21.365 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 23:02:21.367 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 162ms
2025-08-13 23:02:21.370 +05:30 [DBG] Connection id "0HNEQGUV49JB6" completed keep alive response.
2025-08-13 23:02:21.373 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 23:02:21.374 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:02:21.375 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 23:02:21.377 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 188.0541ms
2025-08-13 23:03:16.551 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 23:03:16.561 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 23:03:16.563 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 23:03:16.565 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:03:16.567 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:03:16.578 +05:30 [DBG] The request is a preflight request.
2025-08-13 23:03:16.580 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 14ms
2025-08-13 23:03:16.584 +05:30 [DBG] Connection id "0HNEQGUV49JB5" completed keep alive response.
2025-08-13 23:03:16.589 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 38.1879ms
2025-08-13 23:03:16.596 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 23:03:16.614 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 23:03:16.622 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 23:03:16.627 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 23:03:16.632 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 23:03:16.638 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:03:16.646 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:03:16.648 +05:30 [DBG] Successfully validated the token.
2025-08-13 23:03:16.650 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 23:03:16.654 +05:30 [DBG] Authorization was successful.
2025-08-13 23:03:16.655 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 23:03:16.661 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 23:03:16.669 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 23:03:16.672 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 23:03:16.674 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:03:16.676 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 23:03:16.678 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:03:16.682 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 23:03:16.686 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 23:03:16.689 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 23:03:16.691 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 23:03:16.692 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 23:03:16.695 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 23:03:16.700 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 23:03:16.703 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 23:03:16.706 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 23:03:16.708 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 23:03:16.709 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 23:03:16.710 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 23:03:16.712 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 23:03:16.715 +05:30 [DBG] Creating DbConnection.
2025-08-13 23:03:16.716 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 23:03:16.718 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:03:16.720 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:03:16.724 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:03:16.725 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:03:16.728 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 23:03:16.729 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 23:03:16.748 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 23:03:16.752 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:03:16.753 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 23:03:16.757 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:03:16.759 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 23:03:16.763 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:03:16.766 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:03:16.769 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:03:16.774 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-13 23:03:16.781 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-08-13 23:03:16.783 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 23:03:16.803 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 23:03:16.807 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:03:16.809 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:03:16.810 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:03:16.812 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:03:16.813 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:03:16.815 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:03:16.817 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:03:16.820 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:03:16.821 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:03:16.823 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:03:16.825 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 18ms reading results.
2025-08-13 23:03:16.828 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:03:16.829 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 23:03:16.831 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 23:03:16.835 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 23:03:16.837 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 23:03:16.839 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 23:03:16.841 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 23:03:16.846 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 23:03:16.850 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 167.7027ms
2025-08-13 23:03:16.853 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 23:03:16.854 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 216ms
2025-08-13 23:03:16.856 +05:30 [DBG] Connection id "0HNEQGUV49JB6" completed keep alive response.
2025-08-13 23:03:16.858 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 23:03:16.860 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:03:16.863 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 23:03:16.864 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 268.8984ms
2025-08-13 23:04:30.984 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 23:04:30.988 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 23:04:30.989 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 23:04:30.991 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:04:30.994 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:04:30.996 +05:30 [DBG] The request is a preflight request.
2025-08-13 23:04:30.997 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 6ms
2025-08-13 23:04:31.000 +05:30 [DBG] Connection id "0HNEQGUV49JB5" completed keep alive response.
2025-08-13 23:04:31.003 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 23:04:31.003 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 18.3598ms
2025-08-13 23:04:31.024 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 23:04:31.030 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 23:04:31.032 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 23:04:31.035 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 23:04:31.036 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:04:31.037 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:04:31.040 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 5:34:21 PM', Current time (UTC): '8/13/2025 5:34:31 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-13 23:04:31.047 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 5:34:21 PM', Current time (UTC): '8/13/2025 5:34:31 PM'.
2025-08-13 23:04:31.050 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 23:04:31.051 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 23:04:31.052 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 23:04:31.054 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 17ms
2025-08-13 23:04:31.055 +05:30 [DBG] Connection id "0HNEQGUV49JB6" completed keep alive response.
2025-08-13 23:04:31.057 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 53.9265ms
2025-08-13 23:04:31.125 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - null null
2025-08-13 23:04:31.129 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 23:04:31.130 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 23:04:31.132 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:04:31.133 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:04:31.134 +05:30 [DBG] The request is a preflight request.
2025-08-13 23:04:31.135 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/refresh   Responded with [204] in 3ms
2025-08-13 23:04:31.136 +05:30 [DBG] Connection id "0HNEQGUV49JB5" completed keep alive response.
2025-08-13 23:04:31.137 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - 204 null null 12.1894ms
2025-08-13 23:04:31.138 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 36
2025-08-13 23:04:31.146 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 23:04:31.147 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 23:04:31.149 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 23:04:31.150 +05:30 [DBG] Connection id "0HNEQGUV49JB6", Request id "0HNEQGUV49JB6:00000005": started reading request body.
2025-08-13 23:04:31.151 +05:30 [DBG] Connection id "0HNEQGUV49JB6", Request id "0HNEQGUV49JB6:00000005": done reading request body.
2025-08-13 23:04:31.153 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:04:31.154 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:04:31.155 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 23:04:31.156 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 23:04:31.157 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 23:04:31.159 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 23:04:31.161 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 23:04:31.162 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:04:31.168 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 23:04:31.172 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:04:31.176 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 23:04:31.181 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 23:04:31.185 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 23:04:31.186 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 23:04:31.190 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 23:04:31.193 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 23:04:31.196 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 23:04:31.197 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 23:04:31.198 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 23:04:31.199 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 23:04:31.202 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 23:04:31.253 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 23:04:31.256 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 23:04:31.258 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 23:04:31.259 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 23:04:31.260 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 23:04:31.261 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 23:04:31.262 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 86.3474ms
2025-08-13 23:04:31.263 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 23:04:31.265 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"","refreshToken":""} Responded with [401] in 114ms
2025-08-13 23:04:31.266 +05:30 [DBG] Connection id "0HNEQGUV49JB6" completed keep alive response.
2025-08-13 23:04:31.267 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 23:04:31.268 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 401 126 application/json 129.6766ms
2025-08-13 23:06:05.388 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 23:06:05.398 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 23:06:05.399 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 23:06:05.400 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:06:05.401 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:06:05.403 +05:30 [DBG] The request is a preflight request.
2025-08-13 23:06:05.409 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 9ms
2025-08-13 23:06:05.412 +05:30 [DBG] Connection id "0HNEQGUV49JB5" completed keep alive response.
2025-08-13 23:06:05.414 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 26.4155ms
2025-08-13 23:06:05.417 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 23:06:05.445 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 23:06:05.446 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 23:06:05.447 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 23:06:05.449 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 23:06:05.451 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:06:05.452 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:06:05.454 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 5:34:21 PM', Current time (UTC): '8/13/2025 5:36:05 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-13 23:06:05.462 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 5:34:21 PM', Current time (UTC): '8/13/2025 5:36:05 PM'.
2025-08-13 23:06:05.465 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 23:06:05.466 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 23:06:05.467 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 23:06:05.469 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 18ms
2025-08-13 23:06:05.470 +05:30 [DBG] Connection id "0HNEQGUV49JB6" completed keep alive response.
2025-08-13 23:06:05.471 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 53.5329ms
2025-08-13 23:06:05.478 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - null null
2025-08-13 23:06:05.479 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 23:06:05.480 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 23:06:05.481 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:06:05.481 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:06:05.482 +05:30 [DBG] The request is a preflight request.
2025-08-13 23:06:05.483 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/refresh   Responded with [204] in 2ms
2025-08-13 23:06:05.483 +05:30 [DBG] Connection id "0HNEQGUV49JB5" completed keep alive response.
2025-08-13 23:06:05.484 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - 204 null null 6.4592ms
2025-08-13 23:06:05.485 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 367
2025-08-13 23:06:05.488 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 23:06:05.490 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 23:06:05.492 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 23:06:05.494 +05:30 [DBG] Connection id "0HNEQGUV49JB6", Request id "0HNEQGUV49JB6:00000007": started reading request body.
2025-08-13 23:06:05.495 +05:30 [DBG] Connection id "0HNEQGUV49JB6", Request id "0HNEQGUV49JB6:00000007": done reading request body.
2025-08-13 23:06:05.496 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:06:05.497 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:06:05.497 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 23:06:05.498 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 23:06:05.499 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 23:06:05.500 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 23:06:05.501 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 23:06:05.502 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:06:05.503 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 23:06:05.506 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:06:05.508 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 23:06:05.510 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 23:06:05.512 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 23:06:05.513 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 23:06:05.514 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 23:06:05.515 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 23:06:05.517 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 23:06:05.518 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 23:06:05.519 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 23:06:05.520 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 23:06:05.523 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 23:06:05.525 +05:30 [DBG] Creating DbConnection.
2025-08-13 23:06:05.526 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 23:06:05.527 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:06:05.529 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:06:05.529 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:06:05.530 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:06:05.531 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:06:05.532 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 4000), @__refreshToken_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE CONVERT(varchar(11), [u].[Id]) = @__userId_0 AND [u].[RefreshToken] = @__refreshToken_1
2025-08-13 23:06:05.543 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000), @__refreshToken_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE CONVERT(varchar(11), [u].[Id]) = @__userId_0 AND [u].[RefreshToken] = @__refreshToken_1
2025-08-13 23:06:05.546 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:06:05.547 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:06:05.548 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 23:06:05.550 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:06:05.551 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 23:06:05.552 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:06:05.553 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:06:05.557 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:06:05.558 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:06:05.559 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 23:06:05.560 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 23:06:05.566 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 23:06:05.569 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:06:05.571 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 23:06:05.572 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:06:05.573 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 23:06:05.575 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:06:05.576 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 23:06:05.577 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 23:06:05.578 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 23:06:05.579 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:06:05.580 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:06:05.581 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:06:05.582 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:06:05.583 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:06:05.584 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 23:06:05.597 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 23:06:05.602 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:06:05.603 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 23:06:05.605 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:06:05.605 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 23:06:05.607 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:06:05.608 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 23:06:05.609 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 23:06:05.612 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 23:06:05.613 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 23:06:05.614 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 23:06:05.614 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 23:06:05.615 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 23:06:05.619 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 111.1393ms
2025-08-13 23:06:05.620 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 23:06:05.621 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxMiIsInVuaXF1ZV9uYW1lIjoiTGF1a3NpZ2EiLCJlbWFpbCI6ImxhdWtzaWdhQGdtYWlsLmNvbSIsInJvbGUiOiJVc2VyIiwibmJmIjoxNzU1MTA2MzQxLCJleHAiOjE3NTUxMDY0NjEsImlhdCI6MTc1NTEwNjM0MSwiaXNzIjoiVHJhdmVsUGxhbm5lckFQSSIsImF1ZCI6IlRyYXZlbFBsYW5uZXJDbGllbnQifQ.t70ngl54lx3gBkHcLHjRbOTXeuefzwjuWiH0Kw1djlQ","refreshToken":""} Responded with [200] in 127ms
2025-08-13 23:06:05.624 +05:30 [DBG] Connection id "0HNEQGUV49JB6" completed keep alive response.
2025-08-13 23:06:05.627 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 23:06:05.628 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:06:05.630 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 23:06:05.631 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 200 961 application/json 146.4079ms
2025-08-13 23:06:05.639 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 23:06:05.642 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 23:06:05.643 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 23:06:05.644 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 23:06:05.645 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 23:06:05.646 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:06:05.648 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:06:05.650 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 5:34:21 PM', Current time (UTC): '8/13/2025 5:36:05 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-13 23:06:05.654 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 5:34:21 PM', Current time (UTC): '8/13/2025 5:36:05 PM'.
2025-08-13 23:06:05.655 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 23:06:05.656 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 23:06:05.657 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 23:06:05.659 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 12ms
2025-08-13 23:06:05.660 +05:30 [DBG] Connection id "0HNEQGUV49JB6" completed keep alive response.
2025-08-13 23:06:05.661 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 22.1826ms
2025-08-13 23:06:47.558 +05:30 [DBG] Connection id "0HNEQGUV49JB6" received FIN.
2025-08-13 23:06:47.559 +05:30 [DBG] Connection id "0HNEQGUV49JB5" received FIN.
2025-08-13 23:06:47.559 +05:30 [DBG] Connection id "0HNEQGUV49JB6" disconnecting.
2025-08-13 23:06:47.566 +05:30 [DBG] Connection id "0HNEQGUV49JB5" disconnecting.
2025-08-13 23:06:47.571 +05:30 [DBG] Connection id "0HNEQGUV49JB6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 23:06:47.574 +05:30 [DBG] Connection id "0HNEQGUV49JB5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 23:06:47.596 +05:30 [DBG] Connection id "0HNEQGUV49JB5" stopped.
2025-08-13 23:06:47.597 +05:30 [DBG] Connection id "0HNEQGUV49JB6" stopped.
2025-08-13 23:18:25.500 +05:30 [DBG] Connection id "0HNEQGUV49JB7" accepted.
2025-08-13 23:18:25.507 +05:30 [DBG] Connection id "0HNEQGUV49JB7" started.
2025-08-13 23:18:25.508 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 23:18:25.510 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 23:18:25.511 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 23:18:25.512 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:18:25.512 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:18:25.513 +05:30 [DBG] The request is a preflight request.
2025-08-13 23:18:25.514 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 2ms
2025-08-13 23:18:25.515 +05:30 [DBG] Connection id "0HNEQGUV49JB7" completed keep alive response.
2025-08-13 23:18:25.516 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 7.58ms
2025-08-13 23:18:25.525 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 56
2025-08-13 23:18:25.528 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 23:18:25.529 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 23:18:25.530 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 23:18:25.531 +05:30 [DBG] Connection id "0HNEQGUV49JB7", Request id "0HNEQGUV49JB7:00000002": started reading request body.
2025-08-13 23:18:25.532 +05:30 [DBG] Connection id "0HNEQGUV49JB7", Request id "0HNEQGUV49JB7:00000002": done reading request body.
2025-08-13 23:18:25.533 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:18:25.534 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:18:25.535 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 23:18:25.536 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 23:18:25.537 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 23:18:25.540 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 23:18:25.541 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 23:18:25.542 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:18:25.543 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 23:18:25.545 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:18:25.546 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 23:18:25.548 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 23:18:25.550 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 23:18:25.551 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 23:18:25.552 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 23:18:25.553 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 23:18:25.555 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 23:18:25.556 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 23:18:25.557 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 23:18:25.558 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 23:18:25.559 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 23:18:25.561 +05:30 [DBG] Creating DbConnection.
2025-08-13 23:18:25.562 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 23:18:25.562 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:18:25.580 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:18:25.583 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:18:25.584 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:18:25.586 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 23:18:25.588 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 23:18:25.596 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 23:18:25.599 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:18:25.600 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:18:25.601 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 23:18:25.603 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:18:25.604 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 23:18:25.655 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:18:25.656 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:18:25.657 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:18:25.658 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:18:25.659 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 23:18:25.660 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 23:18:25.666 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 23:18:25.669 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:18:25.670 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 23:18:25.671 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:18:25.672 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 23:18:25.673 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:18:25.675 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 23:18:25.676 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 23:18:25.676 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 23:18:25.677 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:18:25.678 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:18:25.679 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:18:25.680 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:18:25.681 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 23:18:25.683 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 23:18:25.693 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 23:18:25.695 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:18:25.697 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 23:18:25.700 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:18:25.700 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 23:18:25.701 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:18:25.704 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 23:18:25.706 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:18:25.707 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:18:25.708 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:18:25.709 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:18:25.709 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:18:25.711 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 23:18:25.715 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 23:18:25.719 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:18:25.720 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 23:18:25.722 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:18:25.722 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 23:18:25.724 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:18:25.727 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 23:18:25.729 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 23:18:25.730 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 23:18:25.731 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:18:25.734 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:18:25.737 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:18:25.738 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:18:25.739 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 23:18:25.741 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 23:18:25.750 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 23:18:25.755 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:18:25.757 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 23:18:25.759 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:18:25.761 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 23:18:25.762 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:18:25.765 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 23:18:25.768 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 23:18:25.772 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 23:18:25.775 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 23:18:25.776 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 23:18:25.777 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 23:18:25.779 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 23:18:25.782 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 236.2772ms
2025-08-13 23:18:25.783 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 23:18:25.785 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"lauksiga@gmail.com","password":"Password@123"} Responded with [200] in 253ms
2025-08-13 23:18:25.786 +05:30 [DBG] Connection id "0HNEQGUV49JB7" completed keep alive response.
2025-08-13 23:18:25.787 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 23:18:25.789 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:18:25.792 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 23:18:25.793 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 961 application/json 268.6346ms
2025-08-13 23:18:25.902 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - null null
2025-08-13 23:18:25.906 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 23:18:25.909 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 23:18:25.910 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:18:25.911 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:18:25.912 +05:30 [DBG] The request is a preflight request.
2025-08-13 23:18:25.914 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/refresh   Responded with [204] in 3ms
2025-08-13 23:18:25.915 +05:30 [DBG] Connection id "0HNEQGUV49JB7" completed keep alive response.
2025-08-13 23:18:25.917 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - 204 null null 14.2634ms
2025-08-13 23:18:25.926 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 646
2025-08-13 23:18:25.933 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 23:18:25.935 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 23:18:25.940 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 23:18:25.942 +05:30 [DBG] Connection id "0HNEQGUV49JB7", Request id "0HNEQGUV49JB7:00000004": started reading request body.
2025-08-13 23:18:25.944 +05:30 [DBG] Connection id "0HNEQGUV49JB7", Request id "0HNEQGUV49JB7:00000004": done reading request body.
2025-08-13 23:18:25.945 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:18:25.946 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:18:25.947 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 23:18:25.949 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 23:18:25.951 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 23:18:25.954 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 23:18:25.955 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 23:18:25.957 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:18:25.959 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 23:18:25.961 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:18:25.964 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 23:18:25.966 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 23:18:25.968 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 23:18:25.970 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 23:18:25.973 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 23:18:25.975 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 23:18:25.980 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 23:18:25.981 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 23:18:25.983 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 23:18:25.985 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 23:18:25.986 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 23:18:25.988 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 23:18:25.990 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 23:18:25.991 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 23:18:25.992 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 23:18:25.996 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 23:18:25.997 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 23:18:25.999 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 35.0765ms
2025-08-13 23:18:25.999 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 23:18:26.001 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxMiIsInVuaXF1ZV9uYW1lIjoiTGF1a3NpZ2EiLCJlbWFpbCI6ImxhdWtzaWdhQGdtYWlsLmNvbSIsInJvbGUiOiJVc2VyIiwibmJmIjoxNzU1MTA3MzA1LCJleHAiOjE3NTUxMDc0MjUsImlhdCI6MTc1NTEwNzMwNSwiaXNzIjoiVHJhdmVsUGxhbm5lckFQSSIsImF1ZCI6IlRyYXZlbFBsYW5uZXJDbGllbnQifQ.DSZ_ViIKtKeWoF-GErXqFNLf5f4BFEACnH2YXkGCRXQ","refreshToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxMiIsImVtYWlsIjoibGF1a3NpZ2FAZ21haWwuY29tIiwibmJmIjoxNzU1MTA3MzA1LCJleHAiOjE3NTU3MTIxMDUsImlhdCI6MTc1NTEwNzMwNSwiaXNzIjoiVHJhdmVsUGxhbm5lckFQSSIsImF1ZCI6IlRyYXZlbFBsYW5uZXJDbGllbnQifQ.zsohPYdcUjF0zQisBlG7cODRYykTAfm8G3wdVhg17xk"} Responded with [401] in 58ms
2025-08-13 23:18:26.003 +05:30 [DBG] Connection id "0HNEQGUV49JB7" completed keep alive response.
2025-08-13 23:18:26.004 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 23:18:26.005 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 401 148 application/json 79.5333ms
2025-08-13 23:22:40.376 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-13 23:22:40.507 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-13 23:22:40.564 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-13 23:22:40.872 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 23:22:40.874 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 23:22:40.875 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 23:22:40.876 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 23:22:40.974 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 23:22:40.975 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 23:22:40.976 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 23:22:40.978 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 23:22:41.062 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 23:22:41.120 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-13 23:22:41.245 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 23:22:41.288 +05:30 [DBG] Creating DbConnection.
2025-08-13 23:22:41.309 +05:30 [DBG] Created DbConnection. (20ms).
2025-08-13 23:22:41.312 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:22:41.560 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:22:41.565 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:22:41.571 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-13 23:22:41.578 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-08-13 23:22:41.584 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 23:22:41.631 +05:30 [INF] Executed DbCommand (47ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 23:22:41.662 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:22:41.677 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:22:41.683 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 45ms reading results.
2025-08-13 23:22:41.686 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:22:41.692 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (5ms).
2025-08-13 23:22:41.695 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-13 23:22:41.703 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 23:22:41.707 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:22:41.709 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:22:41.717 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:22:41.719 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:22:41.721 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 23:22:41.724 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 23:22:41.739 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 23:22:41.760 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:22:41.806 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:22:41.808 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 64ms reading results.
2025-08-13 23:22:41.809 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:22:41.810 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 23:22:41.814 +05:30 [INF] Admin user already exists.
2025-08-13 23:22:41.817 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 23:22:41.819 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:22:41.820 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 23:22:41.823 +05:30 [DBG] Hosting starting
2025-08-13 23:22:41.832 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-13 23:22:41.840 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-13 23:22:41.848 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-13 23:22:41.854 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 23:22:41.855 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-13 23:22:41.858 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 23:22:41.860 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-13 23:22:41.861 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-13 23:22:41.865 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-13 23:22:41.866 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-13 23:22:41.946 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-13 23:22:41.947 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-13 23:22:41.948 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-13 23:22:41.949 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-13 23:22:41.951 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-13 23:22:41.972 +05:30 [DBG] Connection id "0HNEQI8PN5I4D" received FIN.
2025-08-13 23:22:41.978 +05:30 [DBG] Connection id "0HNEQI8PN5I4D" accepted.
2025-08-13 23:22:41.979 +05:30 [DBG] Connection id "0HNEQI8PN5I4D" started.
2025-08-13 23:22:41.988 +05:30 [DBG] Connection id "0HNEQI8PN5I4D" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 23:22:41.992 +05:30 [DBG] Connection id "0HNEQI8PN5I4D" disconnecting.
2025-08-13 23:22:41.995 +05:30 [DBG] Connection id "0HNEQI8PN5I4D" stopped.
2025-08-13 23:22:42.040 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-13 23:22:42.041 +05:30 [INF] Hosting environment: Development
2025-08-13 23:22:42.042 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-13 23:22:42.043 +05:30 [DBG] Hosting started
2025-08-13 23:22:42.613 +05:30 [DBG] Connection id "0HNEQI8PN5I4E" accepted.
2025-08-13 23:22:42.615 +05:30 [DBG] Connection id "0HNEQI8PN5I4E" started.
2025-08-13 23:22:42.615 +05:30 [DBG] Connection id "0HNEQI8PN5I4F" accepted.
2025-08-13 23:22:42.618 +05:30 [DBG] Connection id "0HNEQI8PN5I4F" started.
2025-08-13 23:22:42.636 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/index.html - null null
2025-08-13 23:22:42.744 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-13 23:22:42.759 +05:30 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-13 23:22:42.760 +05:30 [DBG] Request did not match any endpoints
2025-08-13 23:22:42.808 +05:30 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-13 23:22:42.811 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-13 23:22:42.822 +05:30 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-13 23:22:42.823 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-13 23:22:42.825 +05:30 [DBG] Connection id "0HNEQI8PN5I4E" completed keep alive response.
2025-08-13 23:22:42.828 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/index.html - 200 null text/html;charset=utf-8 198.7186ms
2025-08-13 23:22:42.842 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - null null
2025-08-13 23:22:42.846 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/_vs/browserLink - null null
2025-08-13 23:22:42.847 +05:30 [DBG] Connection id "0HNEQI8PN5I4E" completed keep alive response.
2025-08-13 23:22:42.851 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_framework/aspnetcore-browser-refresh.js - 200 13768 application/javascript; charset=utf-8 9.0972ms
2025-08-13 23:22:42.878 +05:30 [DBG] Connection id "0HNEQI8PN5I4F" completed keep alive response.
2025-08-13 23:22:42.879 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.5341ms
2025-08-13 23:22:42.980 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - null null
2025-08-13 23:22:42.982 +05:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-13 23:22:42.982 +05:30 [DBG] Request did not match any endpoints
2025-08-13 23:22:43.002 +05:30 [DBG] Connection id "0HNEQI8PN5I4F" completed keep alive response.
2025-08-13 23:22:43.004 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.9704ms
2025-08-13 23:24:46.784 +05:30 [DBG] Connection id "0HNEQI8PN5I4G" accepted.
2025-08-13 23:24:46.794 +05:30 [DBG] Connection id "0HNEQI8PN5I4G" started.
2025-08-13 23:24:46.796 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 23:24:46.810 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 23:24:46.812 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 23:24:46.829 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-13 23:24:46.833 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:24:46.834 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:24:46.836 +05:30 [DBG] The request is a preflight request.
2025-08-13 23:24:46.847 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 19ms
2025-08-13 23:24:46.848 +05:30 [DBG] Connection id "0HNEQI8PN5I4G" completed keep alive response.
2025-08-13 23:24:46.850 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 53.6215ms
2025-08-13 23:24:46.855 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 56
2025-08-13 23:24:46.860 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 23:24:46.864 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 23:24:46.867 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 23:24:46.872 +05:30 [DBG] Connection id "0HNEQI8PN5I4G", Request id "0HNEQI8PN5I4G:00000002": started reading request body.
2025-08-13 23:24:46.873 +05:30 [DBG] Connection id "0HNEQI8PN5I4G", Request id "0HNEQI8PN5I4G:00000002": done reading request body.
2025-08-13 23:24:46.877 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:24:46.878 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:24:46.925 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 23:24:46.930 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 23:24:46.952 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 23:24:46.960 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 23:24:46.962 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 23:24:46.964 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:24:46.966 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 23:24:46.967 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:24:46.970 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 23:24:47.017 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 23:24:47.026 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 23:24:47.033 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 23:24:47.038 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 23:24:47.041 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 23:24:47.071 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 23:24:47.074 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 23:24:47.075 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 23:24:47.076 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 23:24:47.092 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 23:24:47.104 +05:30 [DBG] Creating DbConnection.
2025-08-13 23:24:47.106 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 23:24:47.106 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:47.108 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:47.109 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:24:47.110 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:24:47.111 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:24:47.114 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 23:24:47.122 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 23:24:47.127 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:24:47.130 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:47.131 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-08-13 23:24:47.133 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:47.134 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 23:24:47.207 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-08-13 23:24:47.215 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 23:24:47.219 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:47.220 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:47.221 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:24:47.222 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:24:47.223 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:24:47.225 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 23:24:47.231 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 23:24:47.234 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:47.235 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 23:24:47.236 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:47.237 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 23:24:47.251 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:24:47.256 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 23:24:47.259 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 23:24:47.276 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 23:24:47.340 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:47.342 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:47.346 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:24:47.347 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:24:47.349 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 23:24:47.350 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 23:24:47.364 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 23:24:47.377 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:47.378 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-08-13 23:24:47.381 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:47.382 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 23:24:47.389 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:24:47.392 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 23:24:47.430 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:47.432 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:47.433 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:24:47.433 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:24:47.434 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:24:47.435 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 23:24:47.440 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 23:24:47.442 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:47.444 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 23:24:47.447 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:47.448 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 23:24:47.449 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:24:47.451 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 23:24:47.452 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 23:24:47.453 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 23:24:47.455 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:47.456 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:47.457 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:24:47.458 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:24:47.459 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:24:47.460 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 23:24:47.464 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 23:24:47.468 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:47.468 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 23:24:47.470 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:47.471 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 23:24:47.473 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:24:47.474 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 23:24:47.486 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 23:24:47.491 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 23:24:47.492 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 23:24:47.494 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 23:24:47.495 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 23:24:47.498 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 23:24:47.522 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 550.5011ms
2025-08-13 23:24:47.524 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 23:24:47.687 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"lauksiga@gmail.com","password":"Password@123"} Responded with [200] in 818ms
2025-08-13 23:24:47.692 +05:30 [DBG] Connection id "0HNEQI8PN5I4G" completed keep alive response.
2025-08-13 23:24:47.695 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 23:24:47.701 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:47.703 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 23:24:47.706 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 962 application/json 850.9122ms
2025-08-13 23:24:47.740 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 23:24:47.744 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 23:24:47.745 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 23:24:47.749 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:24:47.758 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:24:47.759 +05:30 [DBG] The request is a preflight request.
2025-08-13 23:24:47.762 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 14ms
2025-08-13 23:24:47.766 +05:30 [DBG] Connection id "0HNEQI8PN5I4G" completed keep alive response.
2025-08-13 23:24:47.770 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 29.154ms
2025-08-13 23:24:47.777 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 23:24:47.784 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 23:24:47.786 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 23:24:47.790 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 23:24:47.792 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 23:24:47.795 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:24:47.797 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:24:47.867 +05:30 [DBG] Successfully validated the token.
2025-08-13 23:24:47.872 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 23:24:47.881 +05:30 [DBG] Authorization was successful.
2025-08-13 23:24:47.883 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 23:24:47.892 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 23:24:47.894 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 23:24:47.897 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 23:24:47.899 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:24:47.903 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 23:24:47.906 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:24:47.909 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 23:24:47.924 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 23:24:48.088 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 23:24:48.094 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 23:24:48.096 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 23:24:48.101 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 23:24:48.104 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 23:24:48.108 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 23:24:48.110 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 23:24:48.114 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 23:24:48.116 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 23:24:48.118 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 23:24:48.123 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 23:24:48.144 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .Count()'
2025-08-13 23:24:48.203 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 23:24:48.218 +05:30 [DBG] Creating DbConnection.
2025-08-13 23:24:48.219 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 23:24:48.221 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:48.223 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:48.223 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:24:48.224 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:24:48.225 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:24:48.226 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 23:24:48.240 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 23:24:48.244 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:48.246 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-13 23:24:48.247 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:48.248 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 23:24:48.254 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .OrderBy(t => t.Title)
    .Skip(__p_1)
    .Take(__p_2)'
2025-08-13 23:24:48.266 +05:30 [DBG] Including navigation: 'TripModel.BudgetDetails'.
2025-08-13 23:24:48.268 +05:30 [DBG] Including navigation: 'TripModel.Reviews'.
2025-08-13 23:24:48.351 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
            1 -> Dictionary<IProperty, int> { [Property: BudgetDetailsModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: BudgetDetailsModel.Food (decimal) Required, 16], [Property: BudgetDetailsModel.Hotel (decimal) Required, 17], [Property: BudgetDetailsModel.TripId (int) Required FK Index, 18] }
            2 -> 0
            3 -> 15
            4 -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: ReviewModel.Rating (int) Required, 20], [Property: ReviewModel.ReviewText (string) Required, 21], [Property: ReviewModel.TripId (int) Required FK Index, 22], [Property: ReviewModel.UserId (int) Required FK Index, 23] }
            5 -> 19
        SELECT t1.Id, t1.BestTime, t1.Budget, t1.Description, t1.Destination, t1.Duration, t1.EndDate, t1.EssentialsJson, t1.Image, t1.Notes, t1.StartDate, t1.Title, t1.TouristSpotsJson, t1.TravelMode, t1.UserId, b.Id, b.Food, b.Hotel, b.TripId, r.Id, r.Rating, r.review, r.TripId, r.UserId
        FROM 
        (
            SELECT t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))
            ORDER BY t.Title ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS t1
        LEFT JOIN budgetdetails AS b ON t1.Id == b.TripId
        LEFT JOIN reviews AS r ON t1.Id == r.TripId
        ORDER BY t1.Title ASC, t1.Id ASC, b.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-13 23:24:48.359 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:48.360 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:48.361 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:24:48.362 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:24:48.363 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:24:48.364 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 23:24:48.381 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 23:24:48.405 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:24:48.449 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:24:48.453 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:24:48.464 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:24:48.466 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:24:48.468 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:24:48.471 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:24:48.473 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:24:48.475 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:24:48.476 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:48.478 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 86ms reading results.
2025-08-13 23:24:48.479 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:48.480 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 23:24:48.492 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 23:24:48.494 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 23:24:48.495 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 23:24:48.496 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 23:24:48.497 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 23:24:48.498 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 23:24:48.513 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 604.8694ms
2025-08-13 23:24:48.515 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 23:24:48.521 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 725ms
2025-08-13 23:24:48.522 +05:30 [DBG] Connection id "0HNEQI8PN5I4G" completed keep alive response.
2025-08-13 23:24:48.523 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 23:24:48.524 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:24:48.525 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 23:24:48.527 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 749.5914ms
2025-08-13 23:27:43.813 +05:30 [DBG] Connection id "0HNEQI8PN5I4E" received FIN.
2025-08-13 23:27:43.813 +05:30 [DBG] Connection id "0HNEQI8PN5I4F" received FIN.
2025-08-13 23:27:43.823 +05:30 [DBG] Connection id "0HNEQI8PN5I4E" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 23:27:43.827 +05:30 [DBG] Connection id "0HNEQI8PN5I4F" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 23:27:43.832 +05:30 [DBG] Connection id "0HNEQI8PN5I4E" disconnecting.
2025-08-13 23:27:43.839 +05:30 [DBG] Connection id "0HNEQI8PN5I4F" disconnecting.
2025-08-13 23:27:43.841 +05:30 [DBG] Connection id "0HNEQI8PN5I4F" stopped.
2025-08-13 23:27:43.841 +05:30 [DBG] Connection id "0HNEQI8PN5I4E" stopped.
2025-08-13 23:27:55.432 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/21 - null null
2025-08-13 23:27:55.436 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/21'
2025-08-13 23:27:55.437 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 23:27:55.439 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:27:55.440 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:27:55.440 +05:30 [DBG] The request is a preflight request.
2025-08-13 23:27:55.442 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/21   Responded with [204] in 2ms
2025-08-13 23:27:55.445 +05:30 [DBG] Connection id "0HNEQI8PN5I4G" completed keep alive response.
2025-08-13 23:27:55.447 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/21 - 204 null null 16.2707ms
2025-08-13 23:27:55.451 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/21 - null null
2025-08-13 23:27:55.453 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/21'
2025-08-13 23:27:55.454 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/21'
2025-08-13 23:27:55.455 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)'
2025-08-13 23:27:55.456 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:27:55.457 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:27:55.469 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 5:56:47 PM', Current time (UTC): '8/13/2025 5:57:55 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-13 23:27:55.489 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 5:56:47 PM', Current time (UTC): '8/13/2025 5:57:55 PM'.
2025-08-13 23:27:55.492 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 23:27:55.494 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 23:27:55.500 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 23:27:55.507 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/21   Responded with [401] in 50ms
2025-08-13 23:27:55.508 +05:30 [DBG] Connection id "0HNEQI8PN5I4G" completed keep alive response.
2025-08-13 23:27:55.510 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/21 - 401 119 application/json 58.8482ms
2025-08-13 23:27:55.513 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - null null
2025-08-13 23:27:55.515 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 23:27:55.516 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 23:27:55.517 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:27:55.518 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:27:55.520 +05:30 [DBG] The request is a preflight request.
2025-08-13 23:27:55.521 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/refresh   Responded with [204] in 3ms
2025-08-13 23:27:55.522 +05:30 [DBG] Connection id "0HNEQI8PN5I4G" completed keep alive response.
2025-08-13 23:27:55.523 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - 204 null null 10.04ms
2025-08-13 23:27:55.525 +05:30 [DBG] Connection id "0HNEQI8PN5I4H" accepted.
2025-08-13 23:27:55.528 +05:30 [DBG] Connection id "0HNEQI8PN5I4H" started.
2025-08-13 23:27:55.530 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 36
2025-08-13 23:27:55.531 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 23:27:55.532 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 23:27:55.533 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 23:27:55.534 +05:30 [DBG] Connection id "0HNEQI8PN5I4H", Request id "0HNEQI8PN5I4H:00000001": started reading request body.
2025-08-13 23:27:55.535 +05:30 [DBG] Connection id "0HNEQI8PN5I4H", Request id "0HNEQI8PN5I4H:00000001": done reading request body.
2025-08-13 23:27:55.536 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:27:55.537 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:27:55.538 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 23:27:55.539 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 23:27:55.544 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 23:27:55.546 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 23:27:55.547 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 23:27:55.548 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:27:55.550 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 23:27:55.552 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:27:55.554 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 23:27:55.562 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 23:27:55.564 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 23:27:55.565 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 23:27:55.566 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 23:27:55.569 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 23:27:55.572 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 23:27:55.574 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 23:27:55.575 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 23:27:55.576 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 23:27:55.578 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 23:27:55.582 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 23:27:55.585 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 23:27:55.586 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 23:27:55.587 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 23:27:55.587 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 23:27:55.590 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 23:27:55.593 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 38.8891ms
2025-08-13 23:27:55.594 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 23:27:55.599 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"","refreshToken":""} Responded with [401] in 64ms
2025-08-13 23:27:55.601 +05:30 [DBG] Connection id "0HNEQI8PN5I4H" completed keep alive response.
2025-08-13 23:27:55.603 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 23:27:55.605 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 401 148 application/json 74.6593ms
2025-08-13 23:32:57.350 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-13 23:32:57.472 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-13 23:32:57.519 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-13 23:32:57.848 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 23:32:57.850 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 23:32:57.851 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 23:32:57.852 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 23:32:57.962 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 23:32:57.963 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 23:32:57.964 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 23:32:57.965 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 23:32:58.071 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 23:32:58.145 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-13 23:32:58.270 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 23:32:58.298 +05:30 [DBG] Creating DbConnection.
2025-08-13 23:32:58.338 +05:30 [DBG] Created DbConnection. (38ms).
2025-08-13 23:32:58.343 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:32:58.615 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:32:58.621 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:32:58.628 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-08-13 23:32:58.636 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-08-13 23:32:58.644 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 23:32:58.716 +05:30 [INF] Executed DbCommand (73ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 23:32:58.750 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:32:58.766 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:32:58.772 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 50ms reading results.
2025-08-13 23:32:58.776 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:32:58.780 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (4ms).
2025-08-13 23:32:58.783 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-13 23:32:58.793 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 23:32:58.798 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:32:58.799 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:32:58.801 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:32:58.802 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:32:58.803 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:32:58.804 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 23:32:58.812 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 23:32:58.833 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:32:58.867 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:32:58.868 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 54ms reading results.
2025-08-13 23:32:58.870 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:32:58.870 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 23:32:58.874 +05:30 [INF] Admin user already exists.
2025-08-13 23:32:58.876 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 23:32:58.878 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:32:58.881 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 23:32:58.883 +05:30 [DBG] Hosting starting
2025-08-13 23:32:58.891 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-13 23:32:58.899 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-13 23:32:58.907 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-13 23:32:58.912 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 23:32:58.914 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-13 23:32:58.916 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 23:32:58.918 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-13 23:32:58.919 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-13 23:32:58.921 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-13 23:32:58.922 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-13 23:32:59.011 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-13 23:32:59.012 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-13 23:32:59.013 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-13 23:32:59.014 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-13 23:32:59.015 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-13 23:32:59.090 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-13 23:32:59.091 +05:30 [INF] Hosting environment: Development
2025-08-13 23:32:59.093 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-13 23:32:59.094 +05:30 [DBG] Hosting started
2025-08-13 23:32:59.331 +05:30 [DBG] Connection id "0HNEQIEHMOHNB" accepted.
2025-08-13 23:32:59.332 +05:30 [DBG] Connection id "0HNEQIEHMOHNB" started.
2025-08-13 23:32:59.338 +05:30 [DBG] Connection id "0HNEQIEHMOHNC" accepted.
2025-08-13 23:32:59.346 +05:30 [DBG] Connection id "0HNEQIEHMOHNC" started.
2025-08-13 23:32:59.347 +05:30 [DBG] Connection id "0HNEQIEHMOHNC" received FIN.
2025-08-13 23:32:59.347 +05:30 [DBG] Connection id "0HNEQIEHMOHNB" received FIN.
2025-08-13 23:32:59.351 +05:30 [DBG] Connection id "0HNEQIEHMOHNB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 23:32:59.351 +05:30 [DBG] Connection id "0HNEQIEHMOHNC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 23:32:59.362 +05:30 [DBG] Connection id "0HNEQIEHMOHNB" disconnecting.
2025-08-13 23:32:59.363 +05:30 [DBG] Connection id "0HNEQIEHMOHNC" disconnecting.
2025-08-13 23:32:59.364 +05:30 [DBG] Connection id "0HNEQIEHMOHNB" stopped.
2025-08-13 23:32:59.364 +05:30 [DBG] Connection id "0HNEQIEHMOHNC" stopped.
2025-08-13 23:33:05.296 +05:30 [DBG] Connection id "0HNEQIEHMOHND" accepted.
2025-08-13 23:33:05.297 +05:30 [DBG] Connection id "0HNEQIEHMOHND" started.
2025-08-13 23:33:05.324 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 23:33:05.331 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-13 23:33:05.353 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 23:33:05.357 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 23:33:05.379 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-13 23:33:05.382 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:33:05.383 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:33:05.385 +05:30 [DBG] The request is a preflight request.
2025-08-13 23:33:05.398 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 19ms
2025-08-13 23:33:05.401 +05:30 [DBG] Connection id "0HNEQIEHMOHND" completed keep alive response.
2025-08-13 23:33:05.406 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 88.1438ms
2025-08-13 23:33:05.411 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 56
2025-08-13 23:33:05.418 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 23:33:05.421 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 23:33:05.427 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 23:33:05.431 +05:30 [DBG] Connection id "0HNEQIEHMOHND", Request id "0HNEQIEHMOHND:00000002": started reading request body.
2025-08-13 23:33:05.433 +05:30 [DBG] Connection id "0HNEQIEHMOHND", Request id "0HNEQIEHMOHND:00000002": done reading request body.
2025-08-13 23:33:05.437 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:33:05.438 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:33:05.486 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 23:33:05.489 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 23:33:05.509 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 23:33:05.513 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 23:33:05.514 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 23:33:05.516 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:33:05.517 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 23:33:05.518 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:33:05.521 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 23:33:05.562 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 23:33:05.566 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 23:33:05.571 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 23:33:05.574 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 23:33:05.578 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 23:33:05.598 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 23:33:05.600 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 23:33:05.601 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 23:33:05.602 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 23:33:05.610 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 23:33:05.618 +05:30 [DBG] Creating DbConnection.
2025-08-13 23:33:05.619 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 23:33:05.620 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:05.621 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:05.622 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:33:05.623 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:33:05.624 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:33:05.625 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 23:33:05.628 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 23:33:05.636 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:33:05.638 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:05.640 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 4ms reading results.
2025-08-13 23:33:05.641 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:05.642 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 23:33:05.717 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-08-13 23:33:05.726 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 23:33:05.732 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:05.733 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:05.734 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:33:05.736 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-13 23:33:05.737 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 23:33:05.738 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 23:33:05.744 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 23:33:05.747 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:05.748 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 23:33:05.749 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:05.751 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 23:33:05.766 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:33:05.770 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 23:33:05.773 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 23:33:05.785 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 23:33:05.857 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:05.858 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:05.862 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:33:05.863 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:33:05.865 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 23:33:05.866 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 23:33:05.880 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 23:33:05.890 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:05.892 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 8ms reading results.
2025-08-13 23:33:05.895 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:05.898 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (2ms).
2025-08-13 23:33:05.904 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:33:05.907 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 23:33:05.940 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:05.941 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:05.942 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:33:05.943 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:33:05.944 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:33:05.945 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 23:33:05.948 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 23:33:05.951 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:05.952 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 23:33:05.953 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:05.954 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 23:33:05.955 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:33:05.956 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 23:33:05.957 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 23:33:05.958 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 23:33:05.960 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:05.961 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:05.961 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:33:05.962 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:33:05.964 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 23:33:05.965 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 23:33:05.970 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 23:33:05.972 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:05.973 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 23:33:05.974 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:05.975 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 23:33:05.976 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:33:05.978 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 23:33:05.987 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 23:33:05.991 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 23:33:05.992 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 23:33:05.993 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 23:33:05.994 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 23:33:05.997 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 23:33:06.020 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 497.529ms
2025-08-13 23:33:06.023 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 23:33:06.178 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"lauksiga@gmail.com","password":"Password@123"} Responded with [200] in 749ms
2025-08-13 23:33:06.182 +05:30 [DBG] Connection id "0HNEQIEHMOHND" completed keep alive response.
2025-08-13 23:33:06.184 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 23:33:06.188 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:06.190 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 23:33:06.194 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 962 application/json 782.5748ms
2025-08-13 23:33:06.222 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 23:33:06.225 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 23:33:06.227 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 23:33:06.230 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:33:06.234 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:33:06.235 +05:30 [DBG] The request is a preflight request.
2025-08-13 23:33:06.238 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 8ms
2025-08-13 23:33:06.240 +05:30 [DBG] Connection id "0HNEQIEHMOHND" completed keep alive response.
2025-08-13 23:33:06.243 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 20.7621ms
2025-08-13 23:33:06.250 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 23:33:06.256 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 23:33:06.258 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 23:33:06.261 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 23:33:06.264 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 23:33:06.266 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:33:06.267 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:33:06.296 +05:30 [DBG] Successfully validated the token.
2025-08-13 23:33:06.299 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 23:33:06.306 +05:30 [DBG] Authorization was successful.
2025-08-13 23:33:06.307 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 23:33:06.317 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 23:33:06.318 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 23:33:06.319 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 23:33:06.320 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:33:06.322 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 23:33:06.324 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:33:06.325 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 23:33:06.337 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 23:33:06.450 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 23:33:06.454 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 23:33:06.457 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 23:33:06.461 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 23:33:06.464 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 23:33:06.466 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 23:33:06.467 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 23:33:06.469 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 23:33:06.471 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 23:33:06.472 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 23:33:06.475 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 23:33:06.488 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .Count()'
2025-08-13 23:33:06.519 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 23:33:06.530 +05:30 [DBG] Creating DbConnection.
2025-08-13 23:33:06.531 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 23:33:06.532 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:06.533 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:06.535 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:33:06.536 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:33:06.537 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 23:33:06.538 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 23:33:06.548 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 23:33:06.552 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:06.553 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 23:33:06.555 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:06.556 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 23:33:06.562 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .OrderBy(t => t.Title)
    .Skip(__p_1)
    .Take(__p_2)'
2025-08-13 23:33:06.572 +05:30 [DBG] Including navigation: 'TripModel.BudgetDetails'.
2025-08-13 23:33:06.575 +05:30 [DBG] Including navigation: 'TripModel.Reviews'.
2025-08-13 23:33:06.621 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
            1 -> Dictionary<IProperty, int> { [Property: BudgetDetailsModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: BudgetDetailsModel.Food (decimal) Required, 16], [Property: BudgetDetailsModel.Hotel (decimal) Required, 17], [Property: BudgetDetailsModel.TripId (int) Required FK Index, 18] }
            2 -> 0
            3 -> 15
            4 -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: ReviewModel.Rating (int) Required, 20], [Property: ReviewModel.ReviewText (string) Required, 21], [Property: ReviewModel.TripId (int) Required FK Index, 22], [Property: ReviewModel.UserId (int) Required FK Index, 23] }
            5 -> 19
        SELECT t1.Id, t1.BestTime, t1.Budget, t1.Description, t1.Destination, t1.Duration, t1.EndDate, t1.EssentialsJson, t1.Image, t1.Notes, t1.StartDate, t1.Title, t1.TouristSpotsJson, t1.TravelMode, t1.UserId, b.Id, b.Food, b.Hotel, b.TripId, r.Id, r.Rating, r.review, r.TripId, r.UserId
        FROM 
        (
            SELECT t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))
            ORDER BY t.Title ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS t1
        LEFT JOIN budgetdetails AS b ON t1.Id == b.TripId
        LEFT JOIN reviews AS r ON t1.Id == r.TripId
        ORDER BY t1.Title ASC, t1.Id ASC, b.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-13 23:33:06.628 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:06.630 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:06.631 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:33:06.632 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:33:06.632 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:33:06.633 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 23:33:06.648 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 23:33:06.662 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:33:06.694 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:33:06.697 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:33:06.706 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:33:06.708 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:33:06.709 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:33:06.710 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:33:06.711 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:33:06.711 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:33:06.714 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:06.714 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 63ms reading results.
2025-08-13 23:33:06.716 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:06.716 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 23:33:06.724 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 23:33:06.726 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 23:33:06.726 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 23:33:06.727 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 23:33:06.728 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 23:33:06.729 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 23:33:06.742 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 416.7139ms
2025-08-13 23:33:06.743 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 23:33:06.750 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 483ms
2025-08-13 23:33:06.751 +05:30 [DBG] Connection id "0HNEQIEHMOHND" completed keep alive response.
2025-08-13 23:33:06.752 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 23:33:06.754 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:33:06.756 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 23:33:06.757 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 506.6475ms
2025-08-13 23:36:47.520 +05:30 [DBG] Connection id "0HNEQIEHMOHND" received FIN.
2025-08-13 23:36:47.532 +05:30 [DBG] Connection id "0HNEQIEHMOHND" disconnecting.
2025-08-13 23:36:47.540 +05:30 [DBG] Connection id "0HNEQIEHMOHND" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 23:36:47.550 +05:30 [DBG] Connection id "0HNEQIEHMOHND" stopped.
2025-08-13 23:36:54.254 +05:30 [DBG] Connection id "0HNEQIEHMOHNE" accepted.
2025-08-13 23:36:54.256 +05:30 [DBG] Connection id "0HNEQIEHMOHNE" started.
2025-08-13 23:36:54.258 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 23:36:54.264 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 23:36:54.267 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 23:36:54.289 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:36:54.301 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:36:54.306 +05:30 [DBG] The request is a preflight request.
2025-08-13 23:36:54.316 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 26ms
2025-08-13 23:36:54.319 +05:30 [DBG] Connection id "0HNEQIEHMOHNE" completed keep alive response.
2025-08-13 23:36:54.327 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 69.3209ms
2025-08-13 23:36:54.331 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 23:36:54.333 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 23:36:54.334 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 23:36:54.336 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 23:36:54.339 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 23:36:54.340 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:36:54.341 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:36:54.350 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 6:05:05 PM', Current time (UTC): '8/13/2025 6:06:54 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-13 23:36:54.367 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/13/2025 6:05:05 PM', Current time (UTC): '8/13/2025 6:06:54 PM'.
2025-08-13 23:36:54.371 +05:30 [DBG] Policy authentication schemes  did not succeed
2025-08-13 23:36:54.374 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-13 23:36:54.384 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-13 23:36:54.423 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [401] in 70ms
2025-08-13 23:36:54.427 +05:30 [DBG] Connection id "0HNEQIEHMOHNE" completed keep alive response.
2025-08-13 23:36:54.430 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 401 119 application/json 98.7803ms
2025-08-13 23:36:54.433 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - null null
2025-08-13 23:36:54.435 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 23:36:54.436 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 23:36:54.437 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:36:54.437 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:36:54.438 +05:30 [DBG] The request is a preflight request.
2025-08-13 23:36:54.439 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/refresh   Responded with [204] in 2ms
2025-08-13 23:36:54.440 +05:30 [DBG] Connection id "0HNEQIEHMOHNE" completed keep alive response.
2025-08-13 23:36:54.443 +05:30 [DBG] Connection id "0HNEQIEHMOHNF" accepted.
2025-08-13 23:36:54.443 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/refresh - 204 null null 9.5917ms
2025-08-13 23:36:54.447 +05:30 [DBG] Connection id "0HNEQIEHMOHNF" started.
2025-08-13 23:36:54.458 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - application/json 36
2025-08-13 23:36:54.460 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/refresh'
2025-08-13 23:36:54.462 +05:30 [DBG] Endpoint 'AuthController.Refresh (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/refresh' is valid for the request path '/api/v1/Auth/refresh'
2025-08-13 23:36:54.463 +05:30 [DBG] Request matched endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 23:36:54.464 +05:30 [DBG] Connection id "0HNEQIEHMOHNF", Request id "0HNEQIEHMOHNF:00000001": started reading request body.
2025-08-13 23:36:54.466 +05:30 [DBG] Connection id "0HNEQIEHMOHNF", Request id "0HNEQIEHMOHNF:00000001": done reading request body.
2025-08-13 23:36:54.468 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:36:54.469 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:36:54.470 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 23:36:54.471 +05:30 [INF] Executing endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 23:36:54.479 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TravelPlannerAPI.Dtos.TokenRefreshRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 23:36:54.482 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 23:36:54.484 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 23:36:54.487 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:36:54.491 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 23:36:54.494 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:36:54.496 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 23:36:54.507 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 23:36:54.509 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 23:36:54.512 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 23:36:54.513 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' using the name '' in request data ...
2025-08-13 23:36:54.514 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 23:36:54.517 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'
2025-08-13 23:36:54.518 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 23:36:54.520 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 23:36:54.521 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto' ...
2025-08-13 23:36:54.523 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.TokenRefreshRequestDto'.
2025-08-13 23:36:54.529 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 23:36:54.532 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 23:36:54.533 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 23:36:54.537 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 23:36:54.538 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 23:36:54.540 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 23:36:54.544 +05:30 [INF] Executed action AuthController.Refresh (TravelPlannerAPI) in 48.4239ms
2025-08-13 23:36:54.546 +05:30 [INF] Executed endpoint 'AuthController.Refresh (TravelPlannerAPI)'
2025-08-13 23:36:54.554 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/refresh  {"accessToken":"","refreshToken":""} Responded with [401] in 89ms
2025-08-13 23:36:54.556 +05:30 [DBG] Connection id "0HNEQIEHMOHNF" completed keep alive response.
2025-08-13 23:36:54.557 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 23:36:54.558 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/refresh - 401 148 application/json 99.6118ms
2025-08-13 23:42:43.715 +05:30 [DBG] Connection id "0HNEQIEHMOHNF" received FIN.
2025-08-13 23:42:43.715 +05:30 [DBG] Connection id "0HNEQIEHMOHNE" received FIN.
2025-08-13 23:42:43.722 +05:30 [DBG] Connection id "0HNEQIEHMOHNF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 23:42:43.726 +05:30 [DBG] Connection id "0HNEQIEHMOHNE" disconnecting.
2025-08-13 23:42:43.732 +05:30 [DBG] Connection id "0HNEQIEHMOHNF" disconnecting.
2025-08-13 23:42:43.734 +05:30 [DBG] Connection id "0HNEQIEHMOHNE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 23:42:43.744 +05:30 [DBG] Connection id "0HNEQIEHMOHNF" stopped.
2025-08-13 23:42:43.750 +05:30 [DBG] Connection id "0HNEQIEHMOHNE" stopped.
2025-08-13 23:44:21.265 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-13 23:44:21.403 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-13 23:44:21.451 +05:30 [INF] User profile is available. Using 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-13 23:44:21.830 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-13 23:44:21.833 +05:30 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-13 23:44:21.835 +05:30 [DBG] The index {'TripId'} was not created on entity type 'ReviewModel' as the properties are already covered by the index {'TripId', 'UserId'}.
2025-08-13 23:44:21.836 +05:30 [DBG] The index {'TripId'} was not created on entity type 'TripShareModel' as the properties are already covered by the index {'TripId', 'SharedWithUserId'}.
2025-08-13 23:44:21.954 +05:30 [WRN] No store type was specified for the decimal property 'Food' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 23:44:21.955 +05:30 [WRN] No store type was specified for the decimal property 'Hotel' on entity type 'BudgetDetailsModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 23:44:21.956 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'ExpenseModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 23:44:21.957 +05:30 [WRN] No store type was specified for the decimal property 'Budget' on entity type 'TripModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-13 23:44:22.050 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 23:44:22.112 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-08-13 23:44:22.236 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.Name, r.NormalizedName
            FROM role AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 23:44:22.273 +05:30 [DBG] Creating DbConnection.
2025-08-13 23:44:22.289 +05:30 [DBG] Created DbConnection. (14ms).
2025-08-13 23:44:22.293 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:44:22.511 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:44:22.515 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:44:22.522 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-13 23:44:22.529 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-08-13 23:44:22.537 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 23:44:22.592 +05:30 [INF] Executed DbCommand (56ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-08-13 23:44:22.621 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:44:22.638 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:44:22.645 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 47ms reading results.
2025-08-13 23:44:22.648 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:44:22.652 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (4ms).
2025-08-13 23:44:22.657 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-08-13 23:44:22.666 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 23:44:22.672 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:44:22.674 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:44:22.675 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:44:22.675 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:44:22.676 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:44:22.677 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 23:44:22.685 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 23:44:22.705 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:44:22.750 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:44:22.751 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 61ms reading results.
2025-08-13 23:44:22.752 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:44:22.753 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 23:44:22.757 +05:30 [INF] Admin user already exists.
2025-08-13 23:44:22.759 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 23:44:22.761 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:44:22.763 +05:30 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-13 23:44:22.767 +05:30 [DBG] Hosting starting
2025-08-13 23:44:22.778 +05:30 [DBG] Reading data from file 'C:\Users\A2832856\AppData\Local\ASP.NET\DataProtection-Keys\key-b8dbd3f7-4314-4233-bf92-12b3421374e1.xml'.
2025-08-13 23:44:22.785 +05:30 [DBG] Found key {b8dbd3f7-4314-4233-bf92-12b3421374e1}.
2025-08-13 23:44:22.793 +05:30 [DBG] Considering key {b8dbd3f7-4314-4233-bf92-12b3421374e1} with expiration date 2025-10-14 14:17:30Z as default key.
2025-08-13 23:44:22.798 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 23:44:22.800 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-13 23:44:22.802 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-13 23:44:22.804 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-13 23:44:22.805 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-13 23:44:22.807 +05:30 [DBG] Using key {b8dbd3f7-4314-4233-bf92-12b3421374e1} as the default key.
2025-08-13 23:44:22.808 +05:30 [DBG] Key ring with default key {b8dbd3f7-4314-4233-bf92-12b3421374e1} was loaded during application startup.
2025-08-13 23:44:22.900 +05:30 [INF] Now listening on: http://localhost:5276
2025-08-13 23:44:22.901 +05:30 [DBG] Loaded hosting startup assembly TravelPlannerAPI
2025-08-13 23:44:22.902 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-13 23:44:22.903 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-13 23:44:22.903 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-13 23:44:23.019 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-13 23:44:23.020 +05:30 [INF] Hosting environment: Development
2025-08-13 23:44:23.027 +05:30 [INF] Content root path: C:\OneDrive - H&R BLOCK LTD\Desktop\TripPlanner\Backend\TravelPlannerAPI\TravelPlannerAPI
2025-08-13 23:44:23.029 +05:30 [DBG] Hosting started
2025-08-13 23:44:23.252 +05:30 [DBG] Connection id "0HNEQIKTH4LN4" accepted.
2025-08-13 23:44:23.253 +05:30 [DBG] Connection id "0HNEQIKTH4LN4" started.
2025-08-13 23:44:23.262 +05:30 [DBG] Connection id "0HNEQIKTH4LN5" accepted.
2025-08-13 23:44:23.263 +05:30 [DBG] Connection id "0HNEQIKTH4LN5" started.
2025-08-13 23:44:23.277 +05:30 [DBG] Connection id "0HNEQIKTH4LN5" received FIN.
2025-08-13 23:44:23.277 +05:30 [DBG] Connection id "0HNEQIKTH4LN4" received FIN.
2025-08-13 23:44:23.281 +05:30 [DBG] Connection id "0HNEQIKTH4LN4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 23:44:23.283 +05:30 [DBG] Connection id "0HNEQIKTH4LN5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-13 23:44:23.289 +05:30 [DBG] Connection id "0HNEQIKTH4LN4" disconnecting.
2025-08-13 23:44:23.291 +05:30 [DBG] Connection id "0HNEQIKTH4LN5" disconnecting.
2025-08-13 23:44:23.304 +05:30 [DBG] Connection id "0HNEQIKTH4LN5" stopped.
2025-08-13 23:44:23.305 +05:30 [DBG] Connection id "0HNEQIKTH4LN4" stopped.
2025-08-13 23:46:26.995 +05:30 [DBG] Connection id "0HNEQIKTH4LN6" accepted.
2025-08-13 23:46:26.997 +05:30 [DBG] Connection id "0HNEQIKTH4LN6" started.
2025-08-13 23:46:27.019 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - null null
2025-08-13 23:46:27.024 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-13 23:46:27.048 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 23:46:27.049 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 23:46:27.070 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-13 23:46:27.073 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:46:27.074 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:46:27.076 +05:30 [DBG] The request is a preflight request.
2025-08-13 23:46:27.088 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Auth/login   Responded with [204] in 17ms
2025-08-13 23:46:27.090 +05:30 [DBG] Connection id "0HNEQIKTH4LN6" completed keep alive response.
2025-08-13 23:46:27.093 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Auth/login - 204 null null 80.7007ms
2025-08-13 23:46:27.098 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - application/json 56
2025-08-13 23:46:27.104 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Auth/login'
2025-08-13 23:46:27.107 +05:30 [DBG] Endpoint 'AuthController.Login (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Auth/login' is valid for the request path '/api/v1/Auth/login'
2025-08-13 23:46:27.111 +05:30 [DBG] Request matched endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 23:46:27.115 +05:30 [DBG] Connection id "0HNEQIKTH4LN6", Request id "0HNEQIKTH4LN6:00000002": started reading request body.
2025-08-13 23:46:27.116 +05:30 [DBG] Connection id "0HNEQIKTH4LN6", Request id "0HNEQIKTH4LN6:00000002": done reading request body.
2025-08-13 23:46:27.119 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:46:27.120 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:46:27.165 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-13 23:46:27.170 +05:30 [INF] Executing endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 23:46:27.195 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TravelPlannerAPI.Dtos.LoginRequestDto) on controller AuthController (TravelPlannerAPI).
2025-08-13 23:46:27.199 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 23:46:27.201 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 23:46:27.204 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:46:27.206 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 23:46:27.207 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:46:27.210 +05:30 [DBG] Executing controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 23:46:27.248 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 23:46:27.251 +05:30 [DBG] Executed controller factory for controller AuthController (TravelPlannerAPI)
2025-08-13 23:46:27.257 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 23:46:27.260 +05:30 [DBG] Attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' using the name '' in request data ...
2025-08-13 23:46:27.262 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-13 23:46:27.282 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'TravelPlannerAPI.Dtos.LoginRequestDto'
2025-08-13 23:46:27.284 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 23:46:27.285 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 23:46:27.286 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto' ...
2025-08-13 23:46:27.295 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'TravelPlannerAPI.Dtos.LoginRequestDto'.
2025-08-13 23:46:27.303 +05:30 [DBG] Creating DbConnection.
2025-08-13 23:46:27.304 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 23:46:27.305 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:27.306 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:27.307 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:46:27.308 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:46:27.309 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 23:46:27.312 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 23:46:27.319 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-08-13 23:46:27.323 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'UserModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:46:27.326 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:27.328 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-08-13 23:46:27.329 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:27.331 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 23:46:27.406 +05:30 [DBG] Compiling query expression: 
'DbSet<UserModel>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-08-13 23:46:27.415 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserModel>(
    asyncEnumerable: new SingleQueryingEnumerable<UserModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserModel.AccessFailedCount (int) Required, 1], [Property: UserModel.Address (string), 2], [Property: UserModel.Bio (string), 3], [Property: UserModel.ConcurrencyStamp (string) Concurrency, 4], [Property: UserModel.Email (string) MaxLength(256), 5], [Property: UserModel.EmailConfirmed (bool) Required, 6], [Property: UserModel.IsActive (bool) Required, 7], [Property: UserModel.IsAdmin (bool) Required, 8], [Property: UserModel.LastLoginDate (DateTime) Required, 9], [Property: UserModel.LockoutEnabled (bool) Required, 10], [Property: UserModel.LockoutEnd (DateTimeOffset?), 11], [Property: UserModel.Name (string) Required, 12], [Property: UserModel.NormalizedEmail (string) Index MaxLength(256), 13], [Property: UserModel.NormalizedUserName (string) Index MaxLength(256), 14], [Property: UserModel.PasswordHash (string), 15], [Property: UserModel.PhoneNumber (string), 16], [Property: UserModel.PhoneNumberConfirmed (bool) Required, 17], [Property: UserModel.ProfileImage (string), 18], [Property: UserModel.RefreshToken (string), 19], [Property: UserModel.RefreshTokenExpiry (DateTime?), 20], [Property: UserModel.Role (string) Required, 21], [Property: UserModel.SecurityStamp (string), 22], [Property: UserModel.TwoFactorEnabled (bool) Required, 23], [Property: UserModel.UserName (string) MaxLength(256), 24] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.Address, u.Bio, u.ConcurrencyStamp, u.Email, u.EmailConfirmed, u.IsActive, u.IsAdmin, u.LastLoginDate, u.LockoutEnabled, u.LockoutEnd, u.Name, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.ProfileImage, u.RefreshToken, u.RefreshTokenExpiry, u.Role, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM Users AS u
            WHERE u.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserModel>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 23:46:27.425 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:27.426 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:27.427 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:46:27.428 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:46:27.431 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-13 23:46:27.433 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 23:46:27.439 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 23:46:27.444 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:27.447 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 3ms reading results.
2025-08-13 23:46:27.449 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:27.450 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 23:46:27.466 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:46:27.470 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 23:46:27.474 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 23:46:27.486 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 23:46:27.551 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:27.553 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:27.556 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:46:27.557 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:46:27.558 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-13 23:46:27.560 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 23:46:27.572 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 23:46:27.580 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:27.581 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 6ms reading results.
2025-08-13 23:46:27.584 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:27.585 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 23:46:27.590 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:46:27.593 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 23:46:27.628 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:27.630 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:27.631 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:46:27.632 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:46:27.634 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-13 23:46:27.635 +05:30 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 23:46:27.638 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsAdmin], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImage], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-08-13 23:46:27.642 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:27.643 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 23:46:27.644 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:27.646 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 23:46:27.647 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:46:27.649 +05:30 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-08-13 23:46:27.651 +05:30 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-08-13 23:46:27.653 +05:30 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-08-13 23:46:27.655 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:27.656 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:27.657 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:46:27.658 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:46:27.659 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:46:27.662 +05:30 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 23:46:27.667 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p24='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [Bio] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [IsAdmin] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [Name] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImage] = @p17, [RefreshToken] = @p18, [RefreshTokenExpiry] = @p19, [Role] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2025-08-13 23:46:27.670 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:27.671 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-13 23:46:27.672 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:27.673 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 23:46:27.674 +05:30 [DBG] An entity of type 'UserModel' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:46:27.675 +05:30 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-08-13 23:46:27.686 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 23:46:27.690 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 23:46:27.690 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 23:46:27.692 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 23:46:27.694 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 23:46:27.695 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 23:46:27.712 +05:30 [INF] Executed action AuthController.Login (TravelPlannerAPI) in 501.8296ms
2025-08-13 23:46:27.714 +05:30 [INF] Executed endpoint 'AuthController.Login (TravelPlannerAPI)'
2025-08-13 23:46:27.886 +05:30 [INF] Source:[::1] Request: POST http localhost:5276/api/v1/Auth/login  {"email":"lauksiga@gmail.com","password":"Password@123"} Responded with [200] in 772ms
2025-08-13 23:46:27.890 +05:30 [DBG] Connection id "0HNEQIKTH4LN6" completed keep alive response.
2025-08-13 23:46:27.893 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 23:46:27.896 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:27.900 +05:30 [DBG] Connection id "0HNEQIKTH4LN7" accepted.
2025-08-13 23:46:27.903 +05:30 [DBG] Disposed connection to database '' on server '' (6ms).
2025-08-13 23:46:27.903 +05:30 [DBG] Connection id "0HNEQIKTH4LN7" started.
2025-08-13 23:46:27.905 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5276/api/v1/Auth/login - 200 961 application/json 807.1123ms
2025-08-13 23:46:27.907 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 23:46:27.911 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 23:46:27.913 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 23:46:27.915 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 23:46:27.917 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 23:46:27.918 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-13 23:46:27.920 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:46:27.920 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:46:27.921 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:46:27.922 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:46:27.923 +05:30 [DBG] The request is a preflight request.
2025-08-13 23:46:27.923 +05:30 [DBG] The request is a preflight request.
2025-08-13 23:46:27.924 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 4ms
2025-08-13 23:46:27.925 +05:30 [INF] Source:[::1] Request: OPTIONS http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [204] in 4ms
2025-08-13 23:46:27.927 +05:30 [DBG] Connection id "0HNEQIKTH4LN7" completed keep alive response.
2025-08-13 23:46:27.928 +05:30 [DBG] Connection id "0HNEQIKTH4LN6" completed keep alive response.
2025-08-13 23:46:27.929 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 22.3024ms
2025-08-13 23:46:27.935 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 204 null null 23.7991ms
2025-08-13 23:46:27.938 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 23:46:27.944 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 23:46:27.945 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 23:46:27.947 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 23:46:27.948 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 23:46:27.951 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:46:27.952 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:46:27.981 +05:30 [DBG] Successfully validated the token.
2025-08-13 23:46:27.984 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 23:46:27.989 +05:30 [DBG] Authorization was successful.
2025-08-13 23:46:27.991 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 23:46:27.998 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 23:46:28.000 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 23:46:28.001 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 23:46:28.002 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:46:28.004 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 23:46:28.005 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:46:28.008 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 23:46:28.019 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 23:46:28.140 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 23:46:28.146 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 23:46:28.147 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 23:46:28.152 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 23:46:28.155 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 23:46:28.156 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 23:46:28.158 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 23:46:28.160 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 23:46:28.161 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 23:46:28.162 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 23:46:28.166 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 23:46:28.181 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .Count()'
2025-08-13 23:46:28.217 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        TravelPlannerAPI.Models.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-13 23:46:28.228 +05:30 [DBG] Creating DbConnection.
2025-08-13 23:46:28.229 +05:30 [DBG] Created DbConnection. (1ms).
2025-08-13 23:46:28.230 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:28.232 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:28.234 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:46:28.237 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-13 23:46:28.239 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-13 23:46:28.242 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 23:46:28.253 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 23:46:28.260 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:28.261 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-13 23:46:28.264 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:28.265 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 23:46:28.271 +05:30 [DBG] Compiling query expression: 
'DbSet<TripModel>()
    .Include(t => t.BudgetDetails)
    .Include(t => t.Reviews)
    .Where(t => t.UserId == __userId_0 || DbSet<TripShareModel>()
        .Any(share => share.TripId == t.Id && share.SharedWithUserId == __userId_0))
    .OrderBy(t => t.Title)
    .Skip(__p_1)
    .Take(__p_2)'
2025-08-13 23:46:28.281 +05:30 [DBG] Including navigation: 'TripModel.BudgetDetails'.
2025-08-13 23:46:28.283 +05:30 [DBG] Including navigation: 'TripModel.Reviews'.
2025-08-13 23:46:28.342 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TripModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: TripModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TripModel.BestTime (string), 1], [Property: TripModel.Budget (decimal) Required, 2], [Property: TripModel.Description (string), 3], [Property: TripModel.Destination (string) Required, 4], [Property: TripModel.Duration (string), 5], [Property: TripModel.EndDate (DateTime) Required, 6], [Property: TripModel.EssentialsJson (string), 7], [Property: TripModel.Image (string), 8], [Property: TripModel.Notes (string) Required, 9], [Property: TripModel.StartDate (DateTime) Required, 10], [Property: TripModel.Title (string) Required, 11], [Property: TripModel.TouristSpotsJson (string), 12], [Property: TripModel.TravelMode (string) Required, 13], [Property: TripModel.UserId (int) Required FK Index, 14] }
            1 -> Dictionary<IProperty, int> { [Property: BudgetDetailsModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: BudgetDetailsModel.Food (decimal) Required, 16], [Property: BudgetDetailsModel.Hotel (decimal) Required, 17], [Property: BudgetDetailsModel.TripId (int) Required FK Index, 18] }
            2 -> 0
            3 -> 15
            4 -> Dictionary<IProperty, int> { [Property: ReviewModel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: ReviewModel.Rating (int) Required, 20], [Property: ReviewModel.ReviewText (string) Required, 21], [Property: ReviewModel.TripId (int) Required FK Index, 22], [Property: ReviewModel.UserId (int) Required FK Index, 23] }
            5 -> 19
        SELECT t1.Id, t1.BestTime, t1.Budget, t1.Description, t1.Destination, t1.Duration, t1.EndDate, t1.EssentialsJson, t1.Image, t1.Notes, t1.StartDate, t1.Title, t1.TouristSpotsJson, t1.TravelMode, t1.UserId, b.Id, b.Food, b.Hotel, b.TripId, r.Id, r.Rating, r.review, r.TripId, r.UserId
        FROM 
        (
            SELECT t.Id, t.BestTime, t.Budget, t.Description, t.Destination, t.Duration, t.EndDate, t.EssentialsJson, t.Image, t.Notes, t.StartDate, t.Title, t.TouristSpotsJson, t.TravelMode, t.UserId
            FROM Trips AS t
            WHERE (t.UserId == @__userId_0) || EXISTS (
                SELECT 1
                FROM TripShares AS t0
                WHERE (t0.TripId == t.Id) && (t0.SharedWithUserId == @__userId_0))
            ORDER BY t.Title ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS t1
        LEFT JOIN budgetdetails AS b ON t1.Id == b.TripId
        LEFT JOIN reviews AS r ON t1.Id == r.TripId
        ORDER BY t1.Title ASC, t1.Id ASC, b.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TripModel>, 
    TravelPlannerAPI.Models.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-08-13 23:46:28.351 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:28.352 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:28.355 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:46:28.356 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:46:28.357 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:46:28.358 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 23:46:28.375 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 23:46:28.392 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:46:28.425 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:46:28.428 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:46:28.437 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:46:28.439 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:46:28.442 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:46:28.443 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:46:28.446 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:46:28.447 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:46:28.449 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:28.450 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 71ms reading results.
2025-08-13 23:46:28.452 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:28.453 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 23:46:28.464 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 23:46:28.468 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 23:46:28.469 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 23:46:28.472 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 23:46:28.474 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 23:46:28.477 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 23:46:28.494 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 486.0652ms
2025-08-13 23:46:28.496 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 23:46:28.502 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 550ms
2025-08-13 23:46:28.503 +05:30 [DBG] Connection id "0HNEQIKTH4LN7" completed keep alive response.
2025-08-13 23:46:28.504 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 23:46:28.505 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:28.506 +05:30 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-13 23:46:28.508 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 569.8196ms
2025-08-13 23:46:28.510 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - null null
2025-08-13 23:46:28.512 +05:30 [DBG] 2 candidate(s) found for the request path '/api/v1/Trip/page'
2025-08-13 23:46:28.513 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/page' is valid for the request path '/api/v1/Trip/page'
2025-08-13 23:46:28.518 +05:30 [DBG] Endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrip (TravelPlannerAPI)' with route pattern 'api/v{version:apiVersion}/Trip/{id}' is valid for the request path '/api/v1/Trip/page'
2025-08-13 23:46:28.522 +05:30 [DBG] Request matched endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 23:46:28.523 +05:30 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-13 23:46:28.524 +05:30 [INF] CORS policy execution successful.
2025-08-13 23:46:28.528 +05:30 [DBG] Successfully validated the token.
2025-08-13 23:46:28.530 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-13 23:46:28.533 +05:30 [DBG] Authorization was successful.
2025-08-13 23:46:28.535 +05:30 [INF] Executing endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 23:46:28.536 +05:30 [INF] Route matched with {action = "GetTrips", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrips(TravelPlannerAPI.Dtos.PaginationParamsDto) on controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI).
2025-08-13 23:46:28.538 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-13 23:46:28.540 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-13 23:46:28.542 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:46:28.544 +05:30 [DBG] Execution plan of exception filters (in the following order): ["TravelPlannerAPI.Filters.ApiExceptionFilter"]
2025-08-13 23:46:28.546 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-08-13 23:46:28.547 +05:30 [DBG] Executing controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 23:46:28.552 +05:30 [DBG] Entity Framework Core 8.0.13 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: None
2025-08-13 23:46:28.555 +05:30 [DBG] Executed controller factory for controller TravelPlannerAPI.Controllers.TripController (TravelPlannerAPI)
2025-08-13 23:46:28.556 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 23:46:28.557 +05:30 [DBG] Attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' using the name '' in request data ...
2025-08-13 23:46:28.559 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-08-13 23:46:28.560 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageNumber' of type 'System.Int32'.
2025-08-13 23:46:28.561 +05:30 [DBG] Attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-13 23:46:28.562 +05:30 [DBG] Done attempting to bind property 'TravelPlannerAPI.Dtos.PaginationParamsDto.PageSize' of type 'System.Int32'.
2025-08-13 23:46:28.563 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 23:46:28.564 +05:30 [DBG] Done attempting to bind parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 23:46:28.566 +05:30 [DBG] Attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto' ...
2025-08-13 23:46:28.567 +05:30 [DBG] Done attempting to validate the bound parameter 'paginationParams' of type 'TravelPlannerAPI.Dtos.PaginationParamsDto'.
2025-08-13 23:46:28.570 +05:30 [DBG] Creating DbConnection.
2025-08-13 23:46:28.570 +05:30 [DBG] Created DbConnection. (0ms).
2025-08-13 23:46:28.571 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:28.572 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:28.572 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:46:28.573 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:46:28.574 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:46:28.575 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 23:46:28.578 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Trips] AS [t]
WHERE [t].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TripShares] AS [t0]
    WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
2025-08-13 23:46:28.580 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:28.581 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 0ms reading results.
2025-08-13 23:46:28.586 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:28.587 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (1ms).
2025-08-13 23:46:28.589 +05:30 [DBG] Opening connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:28.590 +05:30 [DBG] Opened connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:28.593 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-13 23:46:28.593 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-13 23:46:28.594 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-13 23:46:28.595 +05:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 23:46:28.599 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[BestTime], [t1].[Budget], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[EndDate], [t1].[EssentialsJson], [t1].[Image], [t1].[Notes], [t1].[StartDate], [t1].[Title], [t1].[TouristSpotsJson], [t1].[TravelMode], [t1].[UserId], [b].[Id], [b].[Food], [b].[Hotel], [b].[TripId], [r].[Id], [r].[Rating], [r].[review], [r].[TripId], [r].[UserId]
FROM (
    SELECT [t].[Id], [t].[BestTime], [t].[Budget], [t].[Description], [t].[Destination], [t].[Duration], [t].[EndDate], [t].[EssentialsJson], [t].[Image], [t].[Notes], [t].[StartDate], [t].[Title], [t].[TouristSpotsJson], [t].[TravelMode], [t].[UserId]
    FROM [Trips] AS [t]
    WHERE [t].[UserId] = @__userId_0 OR EXISTS (
        SELECT 1
        FROM [TripShares] AS [t0]
        WHERE [t0].[TripId] = [t].[Id] AND [t0].[SharedWithUserId] = @__userId_0)
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [budgetdetails] AS [b] ON [t1].[Id] = [b].[TripId]
LEFT JOIN [reviews] AS [r] ON [t1].[Id] = [r].[TripId]
ORDER BY [t1].[Title], [t1].[Id], [b].[Id]
2025-08-13 23:46:28.602 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:46:28.603 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:46:28.604 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:46:28.607 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:46:28.608 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:46:28.609 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:46:28.610 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'TripModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:46:28.611 +05:30 [DBG] The navigation 'TripModel.BudgetDetails' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:46:28.613 +05:30 [DBG] Context 'ApplicationDbContext' started tracking 'BudgetDetailsModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-13 23:46:28.614 +05:30 [DBG] Closing data reader to 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:28.615 +05:30 [DBG] A data reader for 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' is being disposed after spending 13ms reading results.
2025-08-13 23:46:28.617 +05:30 [DBG] Closing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:28.618 +05:30 [DBG] Closed connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS' (0ms).
2025-08-13 23:46:28.619 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-13 23:46:28.621 +05:30 [DBG] No information found on request to perform content negotiation.
2025-08-13 23:46:28.622 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-13 23:46:28.626 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-13 23:46:28.630 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-13 23:46:28.631 +05:30 [INF] Executing OkObjectResult, writing value of type 'TravelPlannerAPI.Helpers.PaginatedResult`1[[TravelPlannerAPI.Dtos.TripDto, TravelPlannerAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 23:46:28.635 +05:30 [INF] Executed action TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI) in 88.0359ms
2025-08-13 23:46:28.637 +05:30 [INF] Executed endpoint 'TravelPlannerAPI.Controllers.TripController.GetTrips (TravelPlannerAPI)'
2025-08-13 23:46:28.639 +05:30 [INF] Source:[::1] Request: GET http localhost:5276/api/v1/Trip/page ?PageNumber=1&PageSize=6  Responded with [200] in 115ms
2025-08-13 23:46:28.640 +05:30 [DBG] Connection id "0HNEQIKTH4LN7" completed keep alive response.
2025-08-13 23:46:28.643 +05:30 [DBG] 'ApplicationDbContext' disposed.
2025-08-13 23:46:28.644 +05:30 [DBG] Disposing connection to database 'travelplanner' on server 'TRPRDK0PCJ92-L\SQLEXPRESS'.
2025-08-13 23:46:28.644 +05:30 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-13 23:46:28.645 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5276/api/v1/Trip/page?PageNumber=1&PageSize=6 - 200 2480 application/json 135.3308ms
